(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{63:function(e,t,a){e.exports=a(95)},91:function(e){e.exports=JSON.parse('{"home":"principal","about":"informaci\xf3n","nests":"db","dashboard":"panel de control","nests-insert":"a\xf1adir nidos","username":"usuario","password":"contrase\xf1a","register":"registrarse","login":"entrar","logout":"cerrar","street":"calle","house_number_name":"No. / nombre","lat":"latitud","lon":"longitud","type":"construcci\xf3n","window":"ventana","cornice":"cornisa","crack":"grieta","cables":"cable","gable":"tejado","balcony":"balc\xf3n","facing":"orientaci\xf3n","N":"norte","NE":"norteste","E":"este","SE":"sudeste","S":"sur","SW":"sudoeste","W":"oeste","NW":"nortoeste","true":"Si","false":"No","destroyed":"destruida","date":"fecha","species":"especie","swift":"vencejo com\xfan","swallow":"golondrina com\xfan","martin":"avi\xf3n com\xfan","pallid_swift":"vencejo p\xe1lido","red_rumped_swallow":"golondrina d\xe1urica","height":"altura (en metros) ","qty":"cantidad","destroyed_date":"fecha de destrucci\xf3n","submit":"enviar","delete":"borrar ","delete_entry":"borrar entrada","update":"actualizar","logged_as":"session ","update_entry":"actualiza entrada","address":"direcci\xf3n","map_title":"distribuci\xf3n geografica"}')},95:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(19),s=a.n(l),c=a(3),u=a(2),i=a.n(u),o=a(4),p=a(55),d=a.n(p);var m=function(){var e=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/transit",e.abrupt("return",new Promise((function(e){var t;e((t="/transit",function(){var e=Object(o.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d()({method:"GET",url:t,headers:{"Content-Type":"application/json",Accept:"application/json"}});case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()()))})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(n.useState)(10),t=Object(c.a)(e,2),a=t[0],l=t[1],s=Object(n.useState)({swallowNests:0,martinNests:0,swiftNests:0,pallidSwiftNests:0,redrumpedSwallowNests:0}),u=Object(c.a)(s,2),i=u[0],o=u[1];return Object(n.useEffect)((function(){m().then((function(e){if(e){var t=e.data?e.data:"boo";l(t.length),o({swallowNests:t.filter((function(e){return"swallow"===e.species})).length,martinNests:t.filter((function(e){return"martin"===e.species})).length,swiftNests:t.filter((function(e){return"swift"===e.species})).length,pallidSwiftNests:t.filter((function(e){return"pallid_swift"===e.species})).length,redrumpedSwallowNests:t.filter((function(e){return"red_rumped_swallow"===e.species})).length})}}))}),[]),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("span",null,"total nests in db:"),r.a.createElement("span",null,a)),r.a.createElement("div",null,r.a.createElement("span",null,"swallow nests:"),r.a.createElement("span",null,i.swallowNests)),r.a.createElement("div",null,r.a.createElement("span",null,"swift nests:"),r.a.createElement("span",null,i.swiftNests)),r.a.createElement("div",null,r.a.createElement("span",null,"martin nests:"),r.a.createElement("span",null,i.martinNests)),r.a.createElement("div",null,r.a.createElement("span",null,"red rumped swallow nests:"),r.a.createElement("span",null,i.redrumpedSwallowNests)),r.a.createElement("div",null,r.a.createElement("span",null,"pallid swift nests:"),r.a.createElement("span",null,i.pallidSwiftNests)))},E=a(40),w={title:"Nests counted by species",width:800,height:500,mark:{type:"bar",cornerRadiusEnd:4},encoding:{x:{aggregate:"count",field:"*",type:"quantitative"},y:{field:"species",type:"nominal"}}},b=function(){var e=Object(n.useState)({values:[]}),t=Object(c.a)(e,2),a=t[0],l=t[1];return Object(n.useEffect)((function(){m().then((function(e){if(e){var t=e.data?e.data:"boo";l({values:t})}}))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{spec:w,data:a}),";")};var g=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("p",null,"Edit ",r.a.createElement("code",null,"src/App.js")," and save to reload."),r.a.createElement("a",{className:"App-link",href:"https://reactjs.org",target:"_blank",rel:"noopener noreferrer"})),r.a.createElement(f,null),r.a.createElement(b,null))},h=a(39),v=a.n(h),N=a(104),y=a(105),j=a(103),_=a(101),S=a(102),O=a(91);a(92);var x=function(e){var t=/\(([^)]+)\)/;return[parseFloat(t.exec(e)[1].split(",")[0]),parseFloat(t.exec(e)[1].split(",")[1])]},k=function(){var e=Object(n.useState)([{gps:"(36.253, -5.965)"},{gps:"(36.25302, -5.9655)"}]),t=Object(c.a)(e,2),a=t[0],l=t[1];Object(n.useEffect)((function(){m().then((function(e){l(e.data)}))}),[]);x(a[0].gps)[0],x(a[0].gps)[1],x(a[1].gps)[0],x(a[1].gps)[1];var s=function(e){switch(e.species){case"swallow":return"crimson";case"swift":return"steelblue";case"martin":return"orange";case"pallid_swift":return"seagreen";case"red_rumped_swallow":return"brown"}};return r.a.createElement(N.a,{center:[36.253,-5.965],zoom:17},r.a.createElement(y.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.osm.org/{z}/{x}/{y}.png"}),a.map((function(e){return r.a.createElement(j.a,{center:[x(e.gps)[0],x(e.gps)[1]],fillColor:s(e),color:s(e),radius:5},r.a.createElement(_.a,null,function(e){return r.a.createElement("table",null,r.a.createElement("tr",null," ",r.a.createElement("td",null,r.a.createElement("b",null,"".concat(O.address,": "),": ")," ","".concat(e.street," ").concat(e.house_number_name," "))," "),r.a.createElement("tr",null," ",r.a.createElement("td",null,r.a.createElement("b",null,"".concat(O.height,": ")),"".concat(e.height," m "))," "),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("b",null,"".concat(O.facing,": ")),O[e.facing])),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("b",null,"".concat(O.type,": ")," "),O[e.type])),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("b",null,"".concat(O.date,": ")," "),v()(e.date).locale("es").format("ddd. D MMM YYYY"))))}(e)),r.a.createElement(S.a,null,function(e){return r.a.createElement("table",null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("b",null,"lat/lon: ")," ","".concat(x(e.gps)[0]," ").concat(x(e.gps)[1]))),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("b",null,"".concat(O.species,": ")),O[e.species])))}(e)))})))};s.a.render(r.a.createElement(g,null),document.getElementById("new-app")),s.a.render(r.a.createElement(k,null),document.getElementById("map"))}},[[63,1,2]]]);
//# sourceMappingURL=main.ceedd2fb.chunk.js.map