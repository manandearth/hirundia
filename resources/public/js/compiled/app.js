if(typeof Math.imul == "undefined" || (Math.imul(0xffffffff,5) == 0)) {
    Math.imul = function (a, b) {
        var ah  = (a >>> 16) & 0xffff;
        var al = a & 0xffff;
        var bh  = (b >>> 16) & 0xffff;
        var bl = b & 0xffff;
        // the shift by 0 fixes the sign on the high part
        // the final |0 converts the unsigned value into a signed value
        return ((al * bl) + (((ah * bl + al * bh) << 16) >>> 0)|0);
    }
}

/* @preserve
 * Leaflet 1.4.0, a JS library for interactive maps. http://leafletjs.com
 * (c) 2010-2018 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */
!function(t,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i(t.L={})}(this,function(t){"use strict";function i(t){var i,e,n,o;for(e=1,n=arguments.length;e<n;e++){o=arguments[e];for(i in o)t[i]=o[i]}return t}function e(t,i){var e=Array.prototype.slice;if(t.bind)return t.bind.apply(t,e.call(arguments,1));var n=e.call(arguments,2);return function(){return t.apply(i,n.length?n.concat(e.call(arguments)):arguments)}}function n(t){return t._leaflet_id=t._leaflet_id||++ei,t._leaflet_id}function o(t,i,e){var n,o,s,r;return r=function(){n=!1,o&&(s.apply(e,o),o=!1)},s=function(){n?o=arguments:(t.apply(e,arguments),setTimeout(r,i),n=!0)}}function s(t,i,e){var n=i[1],o=i[0],s=n-o;return t===n&&e?t:((t-o)%s+s)%s+o}function r(){return!1}function a(t,i){var e=Math.pow(10,void 0===i?6:i);return Math.round(t*e)/e}function h(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function u(t){return h(t).split(/\s+/)}function l(t,i){t.hasOwnProperty("options")||(t.options=t.options?ii(t.options):{});for(var e in i)t.options[e]=i[e];return t.options}function c(t,i,e){var n=[];for(var o in t)n.push(encodeURIComponent(e?o.toUpperCase():o)+"="+encodeURIComponent(t[o]));return(i&&-1!==i.indexOf("?")?"&":"?")+n.join("&")}function _(t,i){return t.replace(ni,function(t,e){var n=i[e];if(void 0===n)throw new Error("No value provided for variable "+t);return"function"==typeof n&&(n=n(i)),n})}function d(t,i){for(var e=0;e<t.length;e++)if(t[e]===i)return e;return-1}function p(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}function m(t){var i=+new Date,e=Math.max(0,16-(i-ri));return ri=i+e,window.setTimeout(t,e)}function f(t,i,n){if(!n||ai!==m)return ai.call(window,e(t,i));t.call(i)}function g(t){t&&hi.call(window,t)}function v(){}function y(t){if("undefined"!=typeof L&&L&&L.Mixin){t=oi(t)?t:[t];for(var i=0;i<t.length;i++)t[i]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}function x(t,i,e){this.x=e?Math.round(t):t,this.y=e?Math.round(i):i}function w(t,i,e){return t instanceof x?t:oi(t)?new x(t[0],t[1]):void 0===t||null===t?t:"object"==typeof t&&"x"in t&&"y"in t?new x(t.x,t.y):new x(t,i,e)}function P(t,i){if(t)for(var e=i?[t,i]:t,n=0,o=e.length;n<o;n++)this.extend(e[n])}function b(t,i){return!t||t instanceof P?t:new P(t,i)}function T(t,i){if(t)for(var e=i?[t,i]:t,n=0,o=e.length;n<o;n++)this.extend(e[n])}function z(t,i){return t instanceof T?t:new T(t,i)}function M(t,i,e){if(isNaN(t)||isNaN(i))throw new Error("Invalid LatLng object: ("+t+", "+i+")");this.lat=+t,this.lng=+i,void 0!==e&&(this.alt=+e)}function C(t,i,e){return t instanceof M?t:oi(t)&&"object"!=typeof t[0]?3===t.length?new M(t[0],t[1],t[2]):2===t.length?new M(t[0],t[1]):null:void 0===t||null===t?t:"object"==typeof t&&"lat"in t?new M(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===i?null:new M(t,i,e)}function S(t,i,e,n){if(oi(t))return this._a=t[0],this._b=t[1],this._c=t[2],void(this._d=t[3]);this._a=t,this._b=i,this._c=e,this._d=n}function Z(t,i,e,n){return new S(t,i,e,n)}function E(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function k(t,i){var e,n,o,s,r,a,h="";for(e=0,o=t.length;e<o;e++){for(n=0,s=(r=t[e]).length;n<s;n++)a=r[n],h+=(n?"L":"M")+a.x+" "+a.y;h+=i?Ji?"z":"x":""}return h||"M0 0"}function B(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}function A(t,i,e,n){return"touchstart"===i?O(t,e,n):"touchmove"===i?W(t,e,n):"touchend"===i&&H(t,e,n),this}function I(t,i,e){var n=t["_leaflet_"+i+e];return"touchstart"===i?t.removeEventListener(te,n,!1):"touchmove"===i?t.removeEventListener(ie,n,!1):"touchend"===i&&(t.removeEventListener(ee,n,!1),t.removeEventListener(ne,n,!1)),this}function O(t,i,n){var o=e(function(t){if("mouse"!==t.pointerType&&t.MSPOINTER_TYPE_MOUSE&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE){if(!(oe.indexOf(t.target.tagName)<0))return;Pt(t)}j(t,i)});t["_leaflet_touchstart"+n]=o,t.addEventListener(te,o,!1),re||(document.documentElement.addEventListener(te,R,!0),document.documentElement.addEventListener(ie,N,!0),document.documentElement.addEventListener(ee,D,!0),document.documentElement.addEventListener(ne,D,!0),re=!0)}function R(t){se[t.pointerId]=t,ae++}function N(t){se[t.pointerId]&&(se[t.pointerId]=t)}function D(t){delete se[t.pointerId],ae--}function j(t,i){t.touches=[];for(var e in se)t.touches.push(se[e]);t.changedTouches=[t],i(t)}function W(t,i,e){var n=function(t){(t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&"mouse"!==t.pointerType||0!==t.buttons)&&j(t,i)};t["_leaflet_touchmove"+e]=n,t.addEventListener(ie,n,!1)}function H(t,i,e){var n=function(t){j(t,i)};t["_leaflet_touchend"+e]=n,t.addEventListener(ee,n,!1),t.addEventListener(ne,n,!1)}function F(t,i,e){function n(t){var i;if(Vi){if(!bi||"mouse"===t.pointerType)return;i=ae}else i=t.touches.length;if(!(i>1)){var e=Date.now(),n=e-(s||e);r=t.touches?t.touches[0]:t,a=n>0&&n<=h,s=e}}function o(t){if(a&&!r.cancelBubble){if(Vi){if(!bi||"mouse"===t.pointerType)return;var e,n,o={};for(n in r)e=r[n],o[n]=e&&e.bind?e.bind(r):e;r=o}r.type="dblclick",i(r),s=null}}var s,r,a=!1,h=250;return t[le+he+e]=n,t[le+ue+e]=o,t[le+"dblclick"+e]=i,t.addEventListener(he,n,!1),t.addEventListener(ue,o,!1),t.addEventListener("dblclick",i,!1),this}function U(t,i){var e=t[le+he+i],n=t[le+ue+i],o=t[le+"dblclick"+i];return t.removeEventListener(he,e,!1),t.removeEventListener(ue,n,!1),bi||t.removeEventListener("dblclick",o,!1),this}function V(t){return"string"==typeof t?document.getElementById(t):t}function q(t,i){var e=t.style[i]||t.currentStyle&&t.currentStyle[i];if((!e||"auto"===e)&&document.defaultView){var n=document.defaultView.getComputedStyle(t,null);e=n?n[i]:null}return"auto"===e?null:e}function G(t,i,e){var n=document.createElement(t);return n.className=i||"",e&&e.appendChild(n),n}function K(t){var i=t.parentNode;i&&i.removeChild(t)}function Y(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function X(t){var i=t.parentNode;i&&i.lastChild!==t&&i.appendChild(t)}function J(t){var i=t.parentNode;i&&i.firstChild!==t&&i.insertBefore(t,i.firstChild)}function $(t,i){if(void 0!==t.classList)return t.classList.contains(i);var e=et(t);return e.length>0&&new RegExp("(^|\\s)"+i+"(\\s|$)").test(e)}function Q(t,i){if(void 0!==t.classList)for(var e=u(i),n=0,o=e.length;n<o;n++)t.classList.add(e[n]);else if(!$(t,i)){var s=et(t);it(t,(s?s+" ":"")+i)}}function tt(t,i){void 0!==t.classList?t.classList.remove(i):it(t,h((" "+et(t)+" ").replace(" "+i+" "," ")))}function it(t,i){void 0===t.className.baseVal?t.className=i:t.className.baseVal=i}function et(t){return t.correspondingElement&&(t=t.correspondingElement),void 0===t.className.baseVal?t.className:t.className.baseVal}function nt(t,i){"opacity"in t.style?t.style.opacity=i:"filter"in t.style&&ot(t,i)}function ot(t,i){var e=!1,n="DXImageTransform.Microsoft.Alpha";try{e=t.filters.item(n)}catch(t){if(1===i)return}i=Math.round(100*i),e?(e.Enabled=100!==i,e.Opacity=i):t.style.filter+=" progid:"+n+"(opacity="+i+")"}function st(t){for(var i=document.documentElement.style,e=0;e<t.length;e++)if(t[e]in i)return t[e];return!1}function rt(t,i,e){var n=i||new x(0,0);t.style[ce]=(Ri?"translate("+n.x+"px,"+n.y+"px)":"translate3d("+n.x+"px,"+n.y+"px,0)")+(e?" scale("+e+")":"")}function at(t,i){t._leaflet_pos=i,ji?rt(t,i):(t.style.left=i.x+"px",t.style.top=i.y+"px")}function ht(t){return t._leaflet_pos||new x(0,0)}function ut(){mt(window,"dragstart",Pt)}function lt(){ft(window,"dragstart",Pt)}function ct(t){for(;-1===t.tabIndex;)t=t.parentNode;t.style&&(_t(),me=t,fe=t.style.outline,t.style.outline="none",mt(window,"keydown",_t))}function _t(){me&&(me.style.outline=fe,me=void 0,fe=void 0,ft(window,"keydown",_t))}function dt(t){do{t=t.parentNode}while(!(t.offsetWidth&&t.offsetHeight||t===document.body));return t}function pt(t){var i=t.getBoundingClientRect();return{x:i.width/t.offsetWidth||1,y:i.height/t.offsetHeight||1,boundingClientRect:i}}function mt(t,i,e,n){if("object"==typeof i)for(var o in i)gt(t,o,i[o],e);else for(var s=0,r=(i=u(i)).length;s<r;s++)gt(t,i[s],e,n);return this}function ft(t,i,e,n){if("object"==typeof i)for(var o in i)vt(t,o,i[o],e);else if(i)for(var s=0,r=(i=u(i)).length;s<r;s++)vt(t,i[s],e,n);else{for(var a in t[ye])vt(t,a,t[ye][a]);delete t[ye]}return this}function gt(t,i,e,o){var s=i+n(e)+(o?"_"+n(o):"");if(t[ye]&&t[ye][s])return this;var r=function(i){return e.call(o||t,i||window.event)},a=r;Vi&&0===i.indexOf("touch")?A(t,i,r,s):!qi||"dblclick"!==i||!F||Vi&&Ei?"addEventListener"in t?"mousewheel"===i?t.addEventListener("onwheel"in t?"wheel":"mousewheel",r,!1):"mouseenter"===i||"mouseleave"===i?(r=function(i){i=i||window.event,Ct(t,i)&&a(i)},t.addEventListener("mouseenter"===i?"mouseover":"mouseout",r,!1)):("click"===i&&zi&&(r=function(t){St(t,a)}),t.addEventListener(i,r,!1)):"attachEvent"in t&&t.attachEvent("on"+i,r):F(t,r,s),t[ye]=t[ye]||{},t[ye][s]=r}function vt(t,i,e,o){var s=i+n(e)+(o?"_"+n(o):""),r=t[ye]&&t[ye][s];if(!r)return this;Vi&&0===i.indexOf("touch")?I(t,i,s):!qi||"dblclick"!==i||!U||Vi&&Ei?"removeEventListener"in t?"mousewheel"===i?t.removeEventListener("onwheel"in t?"wheel":"mousewheel",r,!1):t.removeEventListener("mouseenter"===i?"mouseover":"mouseleave"===i?"mouseout":i,r,!1):"detachEvent"in t&&t.detachEvent("on"+i,r):U(t,s),t[ye][s]=null}function yt(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,Mt(t),this}function xt(t){return gt(t,"mousewheel",yt),this}function wt(t){return mt(t,"mousedown touchstart dblclick",yt),gt(t,"click",zt),this}function Pt(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Lt(t){return Pt(t),yt(t),this}function bt(t,i){if(!i)return new x(t.clientX,t.clientY);var e=pt(i),n=e.boundingClientRect;return new x((t.clientX-n.left)/e.x-i.clientLeft,(t.clientY-n.top)/e.y-i.clientTop)}function Tt(t){return bi?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/xe:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}function zt(t){we[t.type]=!0}function Mt(t){var i=we[t.type];return we[t.type]=!1,i}function Ct(t,i){var e=i.relatedTarget;if(!e)return!0;try{for(;e&&e!==t;)e=e.parentNode}catch(t){return!1}return e!==t}function St(t,i){var e=t.timeStamp||t.originalEvent&&t.originalEvent.timeStamp,n=ge&&e-ge;n&&n>100&&n<500||t.target._simulatedClick&&!t._simulated?Lt(t):(ge=e,i(t))}function Zt(t,i){if(!i||!t.length)return t.slice();var e=i*i;return t=At(t,e),t=kt(t,e)}function Et(t,i,e){return Math.sqrt(Dt(t,i,e,!0))}function kt(t,i){var e=t.length,n=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(e);n[0]=n[e-1]=1,Bt(t,n,i,0,e-1);var o,s=[];for(o=0;o<e;o++)n[o]&&s.push(t[o]);return s}function Bt(t,i,e,n,o){var s,r,a,h=0;for(r=n+1;r<=o-1;r++)(a=Dt(t[r],t[n],t[o],!0))>h&&(s=r,h=a);h>e&&(i[s]=1,Bt(t,i,e,n,s),Bt(t,i,e,s,o))}function At(t,i){for(var e=[t[0]],n=1,o=0,s=t.length;n<s;n++)Nt(t[n],t[o])>i&&(e.push(t[n]),o=n);return o<s-1&&e.push(t[s-1]),e}function It(t,i,e,n,o){var s,r,a,h=n?ke:Rt(t,e),u=Rt(i,e);for(ke=u;;){if(!(h|u))return[t,i];if(h&u)return!1;a=Rt(r=Ot(t,i,s=h||u,e,o),e),s===h?(t=r,h=a):(i=r,u=a)}}function Ot(t,i,e,n,o){var s,r,a=i.x-t.x,h=i.y-t.y,u=n.min,l=n.max;return 8&e?(s=t.x+a*(l.y-t.y)/h,r=l.y):4&e?(s=t.x+a*(u.y-t.y)/h,r=u.y):2&e?(s=l.x,r=t.y+h*(l.x-t.x)/a):1&e&&(s=u.x,r=t.y+h*(u.x-t.x)/a),new x(s,r,o)}function Rt(t,i){var e=0;return t.x<i.min.x?e|=1:t.x>i.max.x&&(e|=2),t.y<i.min.y?e|=4:t.y>i.max.y&&(e|=8),e}function Nt(t,i){var e=i.x-t.x,n=i.y-t.y;return e*e+n*n}function Dt(t,i,e,n){var o,s=i.x,r=i.y,a=e.x-s,h=e.y-r,u=a*a+h*h;return u>0&&((o=((t.x-s)*a+(t.y-r)*h)/u)>1?(s=e.x,r=e.y):o>0&&(s+=a*o,r+=h*o)),a=t.x-s,h=t.y-r,n?a*a+h*h:new x(s,r)}function jt(t){return!oi(t[0])||"object"!=typeof t[0][0]&&void 0!==t[0][0]}function Wt(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),jt(t)}function Ht(t,i,e){var n,o,s,r,a,h,u,l,c,_=[1,4,2,8];for(o=0,u=t.length;o<u;o++)t[o]._code=Rt(t[o],i);for(r=0;r<4;r++){for(l=_[r],n=[],o=0,s=(u=t.length)-1;o<u;s=o++)a=t[o],h=t[s],a._code&l?h._code&l||((c=Ot(h,a,l,i,e))._code=Rt(c,i),n.push(c)):(h._code&l&&((c=Ot(h,a,l,i,e))._code=Rt(c,i),n.push(c)),n.push(a));t=n}return t}function Ft(t,i){var e,n,o,s,r="Feature"===t.type?t.geometry:t,a=r?r.coordinates:null,h=[],u=i&&i.pointToLayer,l=i&&i.coordsToLatLng||Ut;if(!a&&!r)return null;switch(r.type){case"Point":return e=l(a),u?u(t,e):new $e(e);case"MultiPoint":for(o=0,s=a.length;o<s;o++)e=l(a[o]),h.push(u?u(t,e):new $e(e));return new Ke(h);case"LineString":case"MultiLineString":return n=Vt(a,"LineString"===r.type?0:1,l),new nn(n,i);case"Polygon":case"MultiPolygon":return n=Vt(a,"Polygon"===r.type?1:2,l),new on(n,i);case"GeometryCollection":for(o=0,s=r.geometries.length;o<s;o++){var c=Ft({geometry:r.geometries[o],type:"Feature",properties:t.properties},i);c&&h.push(c)}return new Ke(h);default:throw new Error("Invalid GeoJSON object.")}}function Ut(t){return new M(t[1],t[0],t[2])}function Vt(t,i,e){for(var n,o=[],s=0,r=t.length;s<r;s++)n=i?Vt(t[s],i-1,e):(e||Ut)(t[s]),o.push(n);return o}function qt(t,i){return i="number"==typeof i?i:6,void 0!==t.alt?[a(t.lng,i),a(t.lat,i),a(t.alt,i)]:[a(t.lng,i),a(t.lat,i)]}function Gt(t,i,e,n){for(var o=[],s=0,r=t.length;s<r;s++)o.push(i?Gt(t[s],i-1,e,n):qt(t[s],n));return!i&&e&&o.push(o[0]),o}function Kt(t,e){return t.feature?i({},t.feature,{geometry:e}):Yt(e)}function Yt(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}function Xt(t,i){return new sn(t,i)}function Jt(t,i){return new mn(t,i)}function $t(t){return Xi?new vn(t):null}function Qt(t){return Ji||$i?new Pn(t):null}var ti=Object.freeze;Object.freeze=function(t){return t};var ii=Object.create||function(){function t(){}return function(i){return t.prototype=i,new t}}(),ei=0,ni=/\{ *([\w_-]+) *\}/g,oi=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},si="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",ri=0,ai=window.requestAnimationFrame||p("RequestAnimationFrame")||m,hi=window.cancelAnimationFrame||p("CancelAnimationFrame")||p("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)},ui=(Object.freeze||Object)({freeze:ti,extend:i,create:ii,bind:e,lastId:ei,stamp:n,throttle:o,wrapNum:s,falseFn:r,formatNum:a,trim:h,splitWords:u,setOptions:l,getParamString:c,template:_,isArray:oi,indexOf:d,emptyImageUrl:si,requestFn:ai,cancelFn:hi,requestAnimFrame:f,cancelAnimFrame:g});v.extend=function(t){var e=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},n=e.__super__=this.prototype,o=ii(n);o.constructor=e,e.prototype=o;for(var s in this)this.hasOwnProperty(s)&&"prototype"!==s&&"__super__"!==s&&(e[s]=this[s]);return t.statics&&(i(e,t.statics),delete t.statics),t.includes&&(y(t.includes),i.apply(null,[o].concat(t.includes)),delete t.includes),o.options&&(t.options=i(ii(o.options),t.options)),i(o,t),o._initHooks=[],o.callInitHooks=function(){if(!this._initHooksCalled){n.callInitHooks&&n.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,i=o._initHooks.length;t<i;t++)o._initHooks[t].call(this)}},e},v.include=function(t){return i(this.prototype,t),this},v.mergeOptions=function(t){return i(this.prototype.options,t),this},v.addInitHook=function(t){var i=Array.prototype.slice.call(arguments,1),e="function"==typeof t?t:function(){this[t].apply(this,i)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(e),this};var li={on:function(t,i,e){if("object"==typeof t)for(var n in t)this._on(n,t[n],i);else for(var o=0,s=(t=u(t)).length;o<s;o++)this._on(t[o],i,e);return this},off:function(t,i,e){if(t)if("object"==typeof t)for(var n in t)this._off(n,t[n],i);else for(var o=0,s=(t=u(t)).length;o<s;o++)this._off(t[o],i,e);else delete this._events;return this},_on:function(t,i,e){this._events=this._events||{};var n=this._events[t];n||(n=[],this._events[t]=n),e===this&&(e=void 0);for(var o={fn:i,ctx:e},s=n,r=0,a=s.length;r<a;r++)if(s[r].fn===i&&s[r].ctx===e)return;s.push(o)},_off:function(t,i,e){var n,o,s;if(this._events&&(n=this._events[t]))if(i){if(e===this&&(e=void 0),n)for(o=0,s=n.length;o<s;o++){var a=n[o];if(a.ctx===e&&a.fn===i)return a.fn=r,this._firingCount&&(this._events[t]=n=n.slice()),void n.splice(o,1)}}else{for(o=0,s=n.length;o<s;o++)n[o].fn=r;delete this._events[t]}},fire:function(t,e,n){if(!this.listens(t,n))return this;var o=i({},e,{type:t,target:this,sourceTarget:e&&e.sourceTarget||this});if(this._events){var s=this._events[t];if(s){this._firingCount=this._firingCount+1||1;for(var r=0,a=s.length;r<a;r++){var h=s[r];h.fn.call(h.ctx||this,o)}this._firingCount--}}return n&&this._propagateEvent(o),this},listens:function(t,i){var e=this._events&&this._events[t];if(e&&e.length)return!0;if(i)for(var n in this._eventParents)if(this._eventParents[n].listens(t,i))return!0;return!1},once:function(t,i,n){if("object"==typeof t){for(var o in t)this.once(o,t[o],i);return this}var s=e(function(){this.off(t,i,n).off(t,s,n)},this);return this.on(t,i,n).on(t,s,n)},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[n(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[n(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,i({layer:t.target,propagatedFrom:t.target},t),!0)}};li.addEventListener=li.on,li.removeEventListener=li.clearAllEventListeners=li.off,li.addOneTimeEventListener=li.once,li.fireEvent=li.fire,li.hasEventListeners=li.listens;var ci=v.extend(li),_i=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};x.prototype={clone:function(){return new x(this.x,this.y)},add:function(t){return this.clone()._add(w(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(w(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new x(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new x(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=_i(this.x),this.y=_i(this.y),this},distanceTo:function(t){var i=(t=w(t)).x-this.x,e=t.y-this.y;return Math.sqrt(i*i+e*e)},equals:function(t){return(t=w(t)).x===this.x&&t.y===this.y},contains:function(t){return t=w(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+a(this.x)+", "+a(this.y)+")"}},P.prototype={extend:function(t){return t=w(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new x((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new x(this.min.x,this.max.y)},getTopRight:function(){return new x(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var i,e;return(t="number"==typeof t[0]||t instanceof x?w(t):b(t))instanceof P?(i=t.min,e=t.max):i=e=t,i.x>=this.min.x&&e.x<=this.max.x&&i.y>=this.min.y&&e.y<=this.max.y},intersects:function(t){t=b(t);var i=this.min,e=this.max,n=t.min,o=t.max,s=o.x>=i.x&&n.x<=e.x,r=o.y>=i.y&&n.y<=e.y;return s&&r},overlaps:function(t){t=b(t);var i=this.min,e=this.max,n=t.min,o=t.max,s=o.x>i.x&&n.x<e.x,r=o.y>i.y&&n.y<e.y;return s&&r},isValid:function(){return!(!this.min||!this.max)}},T.prototype={extend:function(t){var i,e,n=this._southWest,o=this._northEast;if(t instanceof M)i=t,e=t;else{if(!(t instanceof T))return t?this.extend(C(t)||z(t)):this;if(i=t._southWest,e=t._northEast,!i||!e)return this}return n||o?(n.lat=Math.min(i.lat,n.lat),n.lng=Math.min(i.lng,n.lng),o.lat=Math.max(e.lat,o.lat),o.lng=Math.max(e.lng,o.lng)):(this._southWest=new M(i.lat,i.lng),this._northEast=new M(e.lat,e.lng)),this},pad:function(t){var i=this._southWest,e=this._northEast,n=Math.abs(i.lat-e.lat)*t,o=Math.abs(i.lng-e.lng)*t;return new T(new M(i.lat-n,i.lng-o),new M(e.lat+n,e.lng+o))},getCenter:function(){return new M((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new M(this.getNorth(),this.getWest())},getSouthEast:function(){return new M(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof M||"lat"in t?C(t):z(t);var i,e,n=this._southWest,o=this._northEast;return t instanceof T?(i=t.getSouthWest(),e=t.getNorthEast()):i=e=t,i.lat>=n.lat&&e.lat<=o.lat&&i.lng>=n.lng&&e.lng<=o.lng},intersects:function(t){t=z(t);var i=this._southWest,e=this._northEast,n=t.getSouthWest(),o=t.getNorthEast(),s=o.lat>=i.lat&&n.lat<=e.lat,r=o.lng>=i.lng&&n.lng<=e.lng;return s&&r},overlaps:function(t){t=z(t);var i=this._southWest,e=this._northEast,n=t.getSouthWest(),o=t.getNorthEast(),s=o.lat>i.lat&&n.lat<e.lat,r=o.lng>i.lng&&n.lng<e.lng;return s&&r},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,i){return!!t&&(t=z(t),this._southWest.equals(t.getSouthWest(),i)&&this._northEast.equals(t.getNorthEast(),i))},isValid:function(){return!(!this._southWest||!this._northEast)}},M.prototype={equals:function(t,i){return!!t&&(t=C(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=(void 0===i?1e-9:i))},toString:function(t){return"LatLng("+a(this.lat,t)+", "+a(this.lng,t)+")"},distanceTo:function(t){return pi.distance(this,C(t))},wrap:function(){return pi.wrapLatLng(this)},toBounds:function(t){var i=180*t/40075017,e=i/Math.cos(Math.PI/180*this.lat);return z([this.lat-i,this.lng-e],[this.lat+i,this.lng+e])},clone:function(){return new M(this.lat,this.lng,this.alt)}};var di={latLngToPoint:function(t,i){var e=this.projection.project(t),n=this.scale(i);return this.transformation._transform(e,n)},pointToLatLng:function(t,i){var e=this.scale(i),n=this.transformation.untransform(t,e);return this.projection.unproject(n)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var i=this.projection.bounds,e=this.scale(t);return new P(this.transformation.transform(i.min,e),this.transformation.transform(i.max,e))},infinite:!1,wrapLatLng:function(t){var i=this.wrapLng?s(t.lng,this.wrapLng,!0):t.lng;return new M(this.wrapLat?s(t.lat,this.wrapLat,!0):t.lat,i,t.alt)},wrapLatLngBounds:function(t){var i=t.getCenter(),e=this.wrapLatLng(i),n=i.lat-e.lat,o=i.lng-e.lng;if(0===n&&0===o)return t;var s=t.getSouthWest(),r=t.getNorthEast();return new T(new M(s.lat-n,s.lng-o),new M(r.lat-n,r.lng-o))}},pi=i({},di,{wrapLng:[-180,180],R:6371e3,distance:function(t,i){var e=Math.PI/180,n=t.lat*e,o=i.lat*e,s=Math.sin((i.lat-t.lat)*e/2),r=Math.sin((i.lng-t.lng)*e/2),a=s*s+Math.cos(n)*Math.cos(o)*r*r,h=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));return this.R*h}}),mi={R:6378137,MAX_LATITUDE:85.0511287798,project:function(t){var i=Math.PI/180,e=this.MAX_LATITUDE,n=Math.max(Math.min(e,t.lat),-e),o=Math.sin(n*i);return new x(this.R*t.lng*i,this.R*Math.log((1+o)/(1-o))/2)},unproject:function(t){var i=180/Math.PI;return new M((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*i,t.x*i/this.R)},bounds:function(){var t=6378137*Math.PI;return new P([-t,-t],[t,t])}()};S.prototype={transform:function(t,i){return this._transform(t.clone(),i)},_transform:function(t,i){return i=i||1,t.x=i*(this._a*t.x+this._b),t.y=i*(this._c*t.y+this._d),t},untransform:function(t,i){return i=i||1,new x((t.x/i-this._b)/this._a,(t.y/i-this._d)/this._c)}};var fi,gi,vi,yi=i({},pi,{code:"EPSG:3857",projection:mi,transformation:function(){var t=.5/(Math.PI*mi.R);return Z(t,.5,-t,.5)}()}),xi=i({},yi,{code:"EPSG:900913"}),wi=document.documentElement.style,Pi="ActiveXObject"in window,Li=Pi&&!document.addEventListener,bi="msLaunchUri"in navigator&&!("documentMode"in document),Ti=B("webkit"),zi=B("android"),Mi=B("android 2")||B("android 3"),Ci=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Si=zi&&B("Google")&&Ci<537&&!("AudioNode"in window),Zi=!!window.opera,Ei=B("chrome"),ki=B("gecko")&&!Ti&&!Zi&&!Pi,Bi=!Ei&&B("safari"),Ai=B("phantom"),Ii="OTransition"in wi,Oi=0===navigator.platform.indexOf("Win"),Ri=Pi&&"transition"in wi,Ni="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Mi,Di="MozPerspective"in wi,ji=!window.L_DISABLE_3D&&(Ri||Ni||Di)&&!Ii&&!Ai,Wi="undefined"!=typeof orientation||B("mobile"),Hi=Wi&&Ti,Fi=Wi&&Ni,Ui=!window.PointerEvent&&window.MSPointerEvent,Vi=!(!window.PointerEvent&&!Ui),qi=!window.L_NO_TOUCH&&(Vi||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),Gi=Wi&&Zi,Ki=Wi&&ki,Yi=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Xi=!!document.createElement("canvas").getContext,Ji=!(!document.createElementNS||!E("svg").createSVGRect),$i=!Ji&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var i=t.firstChild;return i.style.behavior="url(#default#VML)",i&&"object"==typeof i.adj}catch(t){return!1}}(),Qi=(Object.freeze||Object)({ie:Pi,ielt9:Li,edge:bi,webkit:Ti,android:zi,android23:Mi,androidStock:Si,opera:Zi,chrome:Ei,gecko:ki,safari:Bi,phantom:Ai,opera12:Ii,win:Oi,ie3d:Ri,webkit3d:Ni,gecko3d:Di,any3d:ji,mobile:Wi,mobileWebkit:Hi,mobileWebkit3d:Fi,msPointer:Ui,pointer:Vi,touch:qi,mobileOpera:Gi,mobileGecko:Ki,retina:Yi,canvas:Xi,svg:Ji,vml:$i}),te=Ui?"MSPointerDown":"pointerdown",ie=Ui?"MSPointerMove":"pointermove",ee=Ui?"MSPointerUp":"pointerup",ne=Ui?"MSPointerCancel":"pointercancel",oe=["INPUT","SELECT","OPTION"],se={},re=!1,ae=0,he=Ui?"MSPointerDown":Vi?"pointerdown":"touchstart",ue=Ui?"MSPointerUp":Vi?"pointerup":"touchend",le="_leaflet_",ce=st(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),_e=st(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),de="webkitTransition"===_e||"OTransition"===_e?_e+"End":"transitionend";if("onselectstart"in document)fi=function(){mt(window,"selectstart",Pt)},gi=function(){ft(window,"selectstart",Pt)};else{var pe=st(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);fi=function(){if(pe){var t=document.documentElement.style;vi=t[pe],t[pe]="none"}},gi=function(){pe&&(document.documentElement.style[pe]=vi,vi=void 0)}}var me,fe,ge,ve=(Object.freeze||Object)({TRANSFORM:ce,TRANSITION:_e,TRANSITION_END:de,get:V,getStyle:q,create:G,remove:K,empty:Y,toFront:X,toBack:J,hasClass:$,addClass:Q,removeClass:tt,setClass:it,getClass:et,setOpacity:nt,testProp:st,setTransform:rt,setPosition:at,getPosition:ht,disableTextSelection:fi,enableTextSelection:gi,disableImageDrag:ut,enableImageDrag:lt,preventOutline:ct,restoreOutline:_t,getSizedParentNode:dt,getScale:pt}),ye="_leaflet_events",xe=Oi&&Ei?2*window.devicePixelRatio:ki?window.devicePixelRatio:1,we={},Pe=(Object.freeze||Object)({on:mt,off:ft,stopPropagation:yt,disableScrollPropagation:xt,disableClickPropagation:wt,preventDefault:Pt,stop:Lt,getMousePosition:bt,getWheelDelta:Tt,fakeStop:zt,skipped:Mt,isExternalTarget:Ct,addListener:mt,removeListener:ft}),Le=ci.extend({run:function(t,i,e,n){this.stop(),this._el=t,this._inProgress=!0,this._duration=e||.25,this._easeOutPower=1/Math.max(n||.5,.2),this._startPos=ht(t),this._offset=i.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=f(this._animate,this),this._step()},_step:function(t){var i=+new Date-this._startTime,e=1e3*this._duration;i<e?this._runFrame(this._easeOut(i/e),t):(this._runFrame(1),this._complete())},_runFrame:function(t,i){var e=this._startPos.add(this._offset.multiplyBy(t));i&&e._round(),at(this._el,e),this.fire("step")},_complete:function(){g(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),be=ci.extend({options:{crs:yi,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,i){i=l(this,i),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=e(this._onResize,this),this._initEvents(),i.maxBounds&&this.setMaxBounds(i.maxBounds),void 0!==i.zoom&&(this._zoom=this._limitZoom(i.zoom)),i.center&&void 0!==i.zoom&&this.setView(C(i.center),i.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=_e&&ji&&!Gi&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),mt(this._proxy,de,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,n){return e=void 0===e?this._zoom:this._limitZoom(e),t=this._limitCenter(C(t),e,this.options.maxBounds),n=n||{},this._stop(),this._loaded&&!n.reset&&!0!==n&&(void 0!==n.animate&&(n.zoom=i({animate:n.animate},n.zoom),n.pan=i({animate:n.animate,duration:n.duration},n.pan)),this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,n.zoom):this._tryAnimatedPan(t,n.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(t,e),this)},setZoom:function(t,i){return this._loaded?this.setView(this.getCenter(),t,{zoom:i}):(this._zoom=t,this)},zoomIn:function(t,i){return t=t||(ji?this.options.zoomDelta:1),this.setZoom(this._zoom+t,i)},zoomOut:function(t,i){return t=t||(ji?this.options.zoomDelta:1),this.setZoom(this._zoom-t,i)},setZoomAround:function(t,i,e){var n=this.getZoomScale(i),o=this.getSize().divideBy(2),s=(t instanceof x?t:this.latLngToContainerPoint(t)).subtract(o).multiplyBy(1-1/n),r=this.containerPointToLatLng(o.add(s));return this.setView(r,i,{zoom:e})},_getBoundsCenterZoom:function(t,i){i=i||{},t=t.getBounds?t.getBounds():z(t);var e=w(i.paddingTopLeft||i.padding||[0,0]),n=w(i.paddingBottomRight||i.padding||[0,0]),o=this.getBoundsZoom(t,!1,e.add(n));if((o="number"==typeof i.maxZoom?Math.min(i.maxZoom,o):o)===1/0)return{center:t.getCenter(),zoom:o};var s=n.subtract(e).divideBy(2),r=this.project(t.getSouthWest(),o),a=this.project(t.getNorthEast(),o);return{center:this.unproject(r.add(a).divideBy(2).add(s),o),zoom:o}},fitBounds:function(t,i){if(!(t=z(t)).isValid())throw new Error("Bounds are not valid.");var e=this._getBoundsCenterZoom(t,i);return this.setView(e.center,e.zoom,i)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,i){return this.setView(t,this._zoom,{pan:i})},panBy:function(t,i){if(t=w(t).round(),i=i||{},!t.x&&!t.y)return this.fire("moveend");if(!0!==i.animate&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Le,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),i.noMoveStart||this.fire("movestart"),!1!==i.animate){Q(this._mapPane,"leaflet-pan-anim");var e=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,e,i.duration||.25,i.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,i,e){function n(t){var i=(g*g-m*m+(t?-1:1)*x*x*v*v)/(2*(t?g:m)*x*v),e=Math.sqrt(i*i+1)-i;return e<1e-9?-18:Math.log(e)}function o(t){return(Math.exp(t)-Math.exp(-t))/2}function s(t){return(Math.exp(t)+Math.exp(-t))/2}function r(t){return o(t)/s(t)}function a(t){return m*(s(w)/s(w+y*t))}function h(t){return m*(s(w)*r(w+y*t)-o(w))/x}function u(t){return 1-Math.pow(1-t,1.5)}function l(){var e=(Date.now()-P)/b,n=u(e)*L;e<=1?(this._flyToFrame=f(l,this),this._move(this.unproject(c.add(_.subtract(c).multiplyBy(h(n)/v)),p),this.getScaleZoom(m/a(n),p),{flyTo:!0})):this._move(t,i)._moveEnd(!0)}if(!1===(e=e||{}).animate||!ji)return this.setView(t,i,e);this._stop();var c=this.project(this.getCenter()),_=this.project(t),d=this.getSize(),p=this._zoom;t=C(t),i=void 0===i?p:i;var m=Math.max(d.x,d.y),g=m*this.getZoomScale(p,i),v=_.distanceTo(c)||1,y=1.42,x=y*y,w=n(0),P=Date.now(),L=(n(1)-w)/y,b=e.duration?1e3*e.duration:1e3*L*.8;return this._moveStart(!0,e.noMoveStart),l.call(this),this},flyToBounds:function(t,i){var e=this._getBoundsCenterZoom(t,i);return this.flyTo(e.center,e.zoom,i)},setMaxBounds:function(t){return(t=z(t)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(t){var i=this.options.minZoom;return this.options.minZoom=t,this._loaded&&i!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var i=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&i!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,i){this._enforcingBounds=!0;var e=this.getCenter(),n=this._limitCenter(e,this._zoom,z(t));return e.equals(n)||this.panTo(n,i),this._enforcingBounds=!1,this},panInside:function(t,i){var e=w((i=i||{}).paddingTopLeft||i.padding||[0,0]),n=w(i.paddingBottomRight||i.padding||[0,0]),o=this.getCenter(),s=this.project(o),r=this.project(t),a=this.getPixelBounds(),h=a.getSize().divideBy(2),u=b([a.min.add(e),a.max.subtract(n)]);if(!u.contains(r)){this._enforcingBounds=!0;var l=s.subtract(r),c=w(r.x+l.x,r.y+l.y);(r.x<u.min.x||r.x>u.max.x)&&(c.x=s.x-l.x,l.x>0?c.x+=h.x-e.x:c.x-=h.x-n.x),(r.y<u.min.y||r.y>u.max.y)&&(c.y=s.y-l.y,l.y>0?c.y+=h.y-e.y:c.y-=h.y-n.y),this.panTo(this.unproject(c),i),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=i({animate:!1,pan:!0},!0===t?{animate:!0}:t);var n=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var o=this.getSize(),s=n.divideBy(2).round(),r=o.divideBy(2).round(),a=s.subtract(r);return a.x||a.y?(t.animate&&t.pan?this.panBy(a):(t.pan&&this._rawPanBy(a),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(e(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:n,newSize:o})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=i({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var n=e(this._handleGeolocationResponse,this),o=e(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(n,o,t):navigator.geolocation.getCurrentPosition(n,o,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var i=t.code,e=t.message||(1===i?"permission denied":2===i?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:i,message:"Geolocation error: "+e+"."})},_handleGeolocationResponse:function(t){var i=new M(t.coords.latitude,t.coords.longitude),e=i.toBounds(2*t.coords.accuracy),n=this._locateOptions;if(n.setView){var o=this.getBoundsZoom(e);this.setView(i,n.maxZoom?Math.min(o,n.maxZoom):o)}var s={latlng:i,bounds:e,timestamp:t.timestamp};for(var r in t.coords)"number"==typeof t.coords[r]&&(s[r]=t.coords[r]);this.fire("locationfound",s)},addHandler:function(t,i){if(!i)return this;var e=this[t]=new i(this);return this._handlers.push(e),this.options[t]&&e.enable(),this},remove:function(){if(this._initEvents(!0),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),K(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(g(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)K(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,i){var e=G("div","leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),i||this._mapPane);return t&&(this._panes[t]=e),e},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds();return new T(this.unproject(t.getBottomLeft()),this.unproject(t.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,i,e){t=z(t),e=w(e||[0,0]);var n=this.getZoom()||0,o=this.getMinZoom(),s=this.getMaxZoom(),r=t.getNorthWest(),a=t.getSouthEast(),h=this.getSize().subtract(e),u=b(this.project(a,n),this.project(r,n)).getSize(),l=ji?this.options.zoomSnap:1,c=h.x/u.x,_=h.y/u.y,d=i?Math.max(c,_):Math.min(c,_);return n=this.getScaleZoom(d,n),l&&(n=Math.round(n/(l/100))*(l/100),n=i?Math.ceil(n/l)*l:Math.floor(n/l)*l),Math.max(o,Math.min(s,n))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new x(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,i){var e=this._getTopLeftPoint(t,i);return new P(e,e.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"==typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,i){var e=this.options.crs;return i=void 0===i?this._zoom:i,e.scale(t)/e.scale(i)},getScaleZoom:function(t,i){var e=this.options.crs;i=void 0===i?this._zoom:i;var n=e.zoom(t*e.scale(i));return isNaN(n)?1/0:n},project:function(t,i){return i=void 0===i?this._zoom:i,this.options.crs.latLngToPoint(C(t),i)},unproject:function(t,i){return i=void 0===i?this._zoom:i,this.options.crs.pointToLatLng(w(t),i)},layerPointToLatLng:function(t){var i=w(t).add(this.getPixelOrigin());return this.unproject(i)},latLngToLayerPoint:function(t){return this.project(C(t))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(C(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(z(t))},distance:function(t,i){return this.options.crs.distance(C(t),C(i))},containerPointToLayerPoint:function(t){return w(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return w(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var i=this.containerPointToLayerPoint(w(t));return this.layerPointToLatLng(i)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(C(t)))},mouseEventToContainerPoint:function(t){return bt(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var i=this._container=V(t);if(!i)throw new Error("Map container not found.");if(i._leaflet_id)throw new Error("Map container is already initialized.");mt(i,"scroll",this._onScroll,this),this._containerId=n(i)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&ji,Q(t,"leaflet-container"+(qi?" leaflet-touch":"")+(Yi?" leaflet-retina":"")+(Li?" leaflet-oldie":"")+(Bi?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var i=q(t,"position");"absolute"!==i&&"relative"!==i&&"fixed"!==i&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),at(this._mapPane,new x(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Q(t.markerPane,"leaflet-zoom-hide"),Q(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,i){at(this._mapPane,new x(0,0));var e=!this._loaded;this._loaded=!0,i=this._limitZoom(i),this.fire("viewprereset");var n=this._zoom!==i;this._moveStart(n,!1)._move(t,i)._moveEnd(n),this.fire("viewreset"),e&&this.fire("load")},_moveStart:function(t,i){return t&&this.fire("zoomstart"),i||this.fire("movestart"),this},_move:function(t,i,e){void 0===i&&(i=this._zoom);var n=this._zoom!==i;return this._zoom=i,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),(n||e&&e.pinch)&&this.fire("zoom",e),this.fire("move",e)},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return g(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){at(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[n(this._container)]=this;var i=t?ft:mt;i(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress",this._handleDOMEvent,this),this.options.trackResize&&i(window,"resize",this._onResize,this),ji&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){g(this._resizeRequest),this._resizeRequest=f(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,i){for(var e,o=[],s="mouseout"===i||"mouseover"===i,r=t.target||t.srcElement,a=!1;r;){if((e=this._targets[n(r)])&&("click"===i||"preclick"===i)&&!t._simulated&&this._draggableMoved(e)){a=!0;break}if(e&&e.listens(i,!0)){if(s&&!Ct(r,t))break;if(o.push(e),s)break}if(r===this._container)break;r=r.parentNode}return o.length||a||s||!Ct(r,t)||(o=[this]),o},_handleDOMEvent:function(t){if(this._loaded&&!Mt(t)){var i=t.type;"mousedown"!==i&&"keypress"!==i||ct(t.target||t.srcElement),this._fireDOMEvent(t,i)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,e,n){if("click"===t.type){var o=i({},t);o.type="preclick",this._fireDOMEvent(o,o.type,n)}if(!t._stopped&&(n=(n||[]).concat(this._findEventTargets(t,e))).length){var s=n[0];"contextmenu"===e&&s.listens(e,!0)&&Pt(t);var r={originalEvent:t};if("keypress"!==t.type){var a=s.getLatLng&&(!s._radius||s._radius<=10);r.containerPoint=a?this.latLngToContainerPoint(s.getLatLng()):this.mouseEventToContainerPoint(t),r.layerPoint=this.containerPointToLayerPoint(r.containerPoint),r.latlng=a?s.getLatLng():this.layerPointToLatLng(r.layerPoint)}for(var h=0;h<n.length;h++)if(n[h].fire(e,r,!0),r.originalEvent._stopped||!1===n[h].options.bubblingMouseEvents&&-1!==d(this._mouseEvents,e))return}},_draggableMoved:function(t){return(t=t.dragging&&t.dragging.enabled()?t:this).dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,i=this._handlers.length;t<i;t++)this._handlers[t].disable()},whenReady:function(t,i){return this._loaded?t.call(i||this,{target:this}):this.on("load",t,i),this},_getMapPanePos:function(){return ht(this._mapPane)||new x(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,i){return(t&&void 0!==i?this._getNewPixelOrigin(t,i):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,i){var e=this.getSize()._divideBy(2);return this.project(t,i)._subtract(e)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,i,e){var n=this._getNewPixelOrigin(e,i);return this.project(t,i)._subtract(n)},_latLngBoundsToNewLayerBounds:function(t,i,e){var n=this._getNewPixelOrigin(e,i);return b([this.project(t.getSouthWest(),i)._subtract(n),this.project(t.getNorthWest(),i)._subtract(n),this.project(t.getSouthEast(),i)._subtract(n),this.project(t.getNorthEast(),i)._subtract(n)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,i,e){if(!e)return t;var n=this.project(t,i),o=this.getSize().divideBy(2),s=new P(n.subtract(o),n.add(o)),r=this._getBoundsOffset(s,e,i);return r.round().equals([0,0])?t:this.unproject(n.add(r),i)},_limitOffset:function(t,i){if(!i)return t;var e=this.getPixelBounds(),n=new P(e.min.add(t),e.max.add(t));return t.add(this._getBoundsOffset(n,i))},_getBoundsOffset:function(t,i,e){var n=b(this.project(i.getNorthEast(),e),this.project(i.getSouthWest(),e)),o=n.min.subtract(t.min),s=n.max.subtract(t.max);return new x(this._rebound(o.x,-s.x),this._rebound(o.y,-s.y))},_rebound:function(t,i){return t+i>0?Math.round(t-i)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(i))},_limitZoom:function(t){var i=this.getMinZoom(),e=this.getMaxZoom(),n=ji?this.options.zoomSnap:1;return n&&(t=Math.round(t/n)*n),Math.max(i,Math.min(e,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){tt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,i){var e=this._getCenterOffset(t)._trunc();return!(!0!==(i&&i.animate)&&!this.getSize().contains(e))&&(this.panBy(e,i),!0)},_createAnimProxy:function(){var t=this._proxy=G("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(t){var i=ce,e=this._proxy.style[i];rt(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),e===this._proxy.style[i]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",function(){var t=this.getCenter(),i=this.getZoom();rt(this._proxy,this.project(t,i),this.getZoomScale(i,1))},this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){K(this._proxy),delete this._proxy},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,i,e){if(this._animatingZoom)return!0;if(e=e||{},!this._zoomAnimated||!1===e.animate||this._nothingToAnimate()||Math.abs(i-this._zoom)>this.options.zoomAnimationThreshold)return!1;var n=this.getZoomScale(i),o=this._getCenterOffset(t)._divideBy(1-1/n);return!(!0!==e.animate&&!this.getSize().contains(o))&&(f(function(){this._moveStart(!0,!1)._animateZoom(t,i,!0)},this),!0)},_animateZoom:function(t,i,n,o){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=i,Q(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:i,noUpdate:o}),setTimeout(e(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&tt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),f(function(){this._moveEnd(!0)},this))}}),Te=v.extend({options:{position:"topright"},initialize:function(t){l(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var i=this._map;return i&&i.removeControl(this),this.options.position=t,i&&i.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var i=this._container=this.onAdd(t),e=this.getPosition(),n=t._controlCorners[e];return Q(i,"leaflet-control"),-1!==e.indexOf("bottom")?n.insertBefore(i,n.firstChild):n.appendChild(i),this},remove:function(){return this._map?(K(this._container),this.onRemove&&this.onRemove(this._map),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),ze=function(t){return new Te(t)};be.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){function t(t,o){var s=e+t+" "+e+o;i[t+o]=G("div",s,n)}var i=this._controlCorners={},e="leaflet-",n=this._controlContainer=G("div",e+"control-container",this._container);t("top","left"),t("top","right"),t("bottom","left"),t("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)K(this._controlCorners[t]);K(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Me=Te.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,i,e,n){return e<n?-1:n<e?1:0}},initialize:function(t,i,e){l(this,e),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1;for(var n in t)this._addLayer(t[n],n);for(n in i)this._addLayer(i[n],n,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return Te.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,i){return this._addLayer(t,i),this._map?this._update():this},addOverlay:function(t,i){return this._addLayer(t,i,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var i=this._getLayer(n(t));return i&&this._layers.splice(this._layers.indexOf(i),1),this._map?this._update():this},expand:function(){Q(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(Q(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):tt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return tt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",i=this._container=G("div",t),e=this.options.collapsed;i.setAttribute("aria-haspopup",!0),wt(i),xt(i);var n=this._section=G("section",t+"-list");e&&(this._map.on("click",this.collapse,this),zi||mt(i,{mouseenter:this.expand,mouseleave:this.collapse},this));var o=this._layersLink=G("a",t+"-toggle",i);o.href="#",o.title="Layers",qi?(mt(o,"click",Lt),mt(o,"click",this.expand,this)):mt(o,"focus",this.expand,this),e||this.expand(),this._baseLayersList=G("div",t+"-base",n),this._separator=G("div",t+"-separator",n),this._overlaysList=G("div",t+"-overlays",n),i.appendChild(n)},_getLayer:function(t){for(var i=0;i<this._layers.length;i++)if(this._layers[i]&&n(this._layers[i].layer)===t)return this._layers[i]},_addLayer:function(t,i,n){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:i,overlay:n}),this.options.sortLayers&&this._layers.sort(e(function(t,i){return this.options.sortFunction(t.layer,i.layer,t.name,i.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Y(this._baseLayersList),Y(this._overlaysList),this._layerControlInputs=[];var t,i,e,n,o=0;for(e=0;e<this._layers.length;e++)n=this._layers[e],this._addItem(n),i=i||n.overlay,t=t||!n.overlay,o+=n.overlay?0:1;return this.options.hideSingleBase&&(t=t&&o>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=i&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var i=this._getLayer(n(t.target)),e=i.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;e&&this._map.fire(e,i)},_createRadioElement:function(t,i){var e='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(i?' checked="checked"':"")+"/>",n=document.createElement("div");return n.innerHTML=e,n.firstChild},_addItem:function(t){var i,e=document.createElement("label"),o=this._map.hasLayer(t.layer);t.overlay?((i=document.createElement("input")).type="checkbox",i.className="leaflet-control-layers-selector",i.defaultChecked=o):i=this._createRadioElement("leaflet-base-layers",o),this._layerControlInputs.push(i),i.layerId=n(t.layer),mt(i,"click",this._onInputClick,this);var s=document.createElement("span");s.innerHTML=" "+t.name;var r=document.createElement("div");return e.appendChild(r),r.appendChild(i),r.appendChild(s),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(e),this._checkDisabledLayers(),e},_onInputClick:function(){var t,i,e=this._layerControlInputs,n=[],o=[];this._handlingClick=!0;for(var s=e.length-1;s>=0;s--)t=e[s],i=this._getLayer(t.layerId).layer,t.checked?n.push(i):t.checked||o.push(i);for(s=0;s<o.length;s++)this._map.hasLayer(o[s])&&this._map.removeLayer(o[s]);for(s=0;s<n.length;s++)this._map.hasLayer(n[s])||this._map.addLayer(n[s]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,i,e=this._layerControlInputs,n=this._map.getZoom(),o=e.length-1;o>=0;o--)t=e[o],i=this._getLayer(t.layerId).layer,t.disabled=void 0!==i.options.minZoom&&n<i.options.minZoom||void 0!==i.options.maxZoom&&n>i.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),Ce=Te.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(t){var i="leaflet-control-zoom",e=G("div",i+" leaflet-bar"),n=this.options;return this._zoomInButton=this._createButton(n.zoomInText,n.zoomInTitle,i+"-in",e,this._zoomIn),this._zoomOutButton=this._createButton(n.zoomOutText,n.zoomOutTitle,i+"-out",e,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),e},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,i,e,n,o){var s=G("a",e,n);return s.innerHTML=t,s.href="#",s.title=i,s.setAttribute("role","button"),s.setAttribute("aria-label",i),wt(s),mt(s,"click",Lt),mt(s,"click",o,this),mt(s,"click",this._refocusOnMap,this),s},_updateDisabled:function(){var t=this._map,i="leaflet-disabled";tt(this._zoomInButton,i),tt(this._zoomOutButton,i),(this._disabled||t._zoom===t.getMinZoom())&&Q(this._zoomOutButton,i),(this._disabled||t._zoom===t.getMaxZoom())&&Q(this._zoomInButton,i)}});be.mergeOptions({zoomControl:!0}),be.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ce,this.addControl(this.zoomControl))});var Se=Te.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var i=G("div","leaflet-control-scale"),e=this.options;return this._addScales(e,"leaflet-control-scale-line",i),t.on(e.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),i},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,i,e){t.metric&&(this._mScale=G("div",i,e)),t.imperial&&(this._iScale=G("div",i,e))},_update:function(){var t=this._map,i=t.getSize().y/2,e=t.distance(t.containerPointToLatLng([0,i]),t.containerPointToLatLng([this.options.maxWidth,i]));this._updateScales(e)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var i=this._getRoundNum(t),e=i<1e3?i+" m":i/1e3+" km";this._updateScale(this._mScale,e,i/t)},_updateImperial:function(t){var i,e,n,o=3.2808399*t;o>5280?(i=o/5280,e=this._getRoundNum(i),this._updateScale(this._iScale,e+" mi",e/i)):(n=this._getRoundNum(o),this._updateScale(this._iScale,n+" ft",n/o))},_updateScale:function(t,i,e){t.style.width=Math.round(this.options.maxWidth*e)+"px",t.innerHTML=i},_getRoundNum:function(t){var i=Math.pow(10,(Math.floor(t)+"").length-1),e=t/i;return e=e>=10?10:e>=5?5:e>=3?3:e>=2?2:1,i*e}}),Ze=Te.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){l(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=G("div","leaflet-control-attribution"),wt(this._container);for(var i in t._layers)t._layers[i].getAttribution&&this.addAttribution(t._layers[i].getAttribution());return this._update(),this._container},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var i in this._attributions)this._attributions[i]&&t.push(i);var e=[];this.options.prefix&&e.push(this.options.prefix),t.length&&e.push(t.join(", ")),this._container.innerHTML=e.join(" | ")}}});be.mergeOptions({attributionControl:!0}),be.addInitHook(function(){this.options.attributionControl&&(new Ze).addTo(this)});Te.Layers=Me,Te.Zoom=Ce,Te.Scale=Se,Te.Attribution=Ze,ze.layers=function(t,i,e){return new Me(t,i,e)},ze.zoom=function(t){return new Ce(t)},ze.scale=function(t){return new Se(t)},ze.attribution=function(t){return new Ze(t)};var Ee=v.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Ee.addTo=function(t,i){return t.addHandler(i,this),this};var ke,Be={Events:li},Ae=qi?"touchstart mousedown":"mousedown",Ie={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},Oe={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},Re=ci.extend({options:{clickTolerance:3},initialize:function(t,i,e,n){l(this,n),this._element=t,this._dragStartTarget=i||t,this._preventOutline=e},enable:function(){this._enabled||(mt(this._dragStartTarget,Ae,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Re._dragging===this&&this.finishDrag(),ft(this._dragStartTarget,Ae,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(!t._simulated&&this._enabled&&(this._moved=!1,!$(this._element,"leaflet-zoom-anim")&&!(Re._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches||(Re._dragging=this,this._preventOutline&&ct(this._element),ut(),fi(),this._moving)))){this.fire("down");var i=t.touches?t.touches[0]:t,e=dt(this._element);this._startPoint=new x(i.clientX,i.clientY),this._parentScale=pt(e),mt(document,Oe[t.type],this._onMove,this),mt(document,Ie[t.type],this._onUp,this)}},_onMove:function(t){if(!t._simulated&&this._enabled)if(t.touches&&t.touches.length>1)this._moved=!0;else{var i=t.touches&&1===t.touches.length?t.touches[0]:t,e=new x(i.clientX,i.clientY)._subtract(this._startPoint);(e.x||e.y)&&(Math.abs(e.x)+Math.abs(e.y)<this.options.clickTolerance||(e.x/=this._parentScale.x,e.y/=this._parentScale.y,Pt(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=ht(this._element).subtract(e),Q(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Q(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(e),this._moving=!0,g(this._animRequest),this._lastEvent=t,this._animRequest=f(this._updatePosition,this,!0)))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),at(this._element,this._newPos),this.fire("drag",t)},_onUp:function(t){!t._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){tt(document.body,"leaflet-dragging"),this._lastTarget&&(tt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null);for(var t in Oe)ft(document,Oe[t],this._onMove,this),ft(document,Ie[t],this._onUp,this);lt(),gi(),this._moved&&this._moving&&(g(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,Re._dragging=!1}}),Ne=(Object.freeze||Object)({simplify:Zt,pointToSegmentDistance:Et,closestPointOnSegment:function(t,i,e){return Dt(t,i,e)},clipSegment:It,_getEdgeIntersection:Ot,_getBitCode:Rt,_sqClosestPointOnSegment:Dt,isFlat:jt,_flat:Wt}),De=(Object.freeze||Object)({clipPolygon:Ht}),je={project:function(t){return new x(t.lng,t.lat)},unproject:function(t){return new M(t.y,t.x)},bounds:new P([-180,-90],[180,90])},We={R:6378137,R_MINOR:6356752.314245179,bounds:new P([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var i=Math.PI/180,e=this.R,n=t.lat*i,o=this.R_MINOR/e,s=Math.sqrt(1-o*o),r=s*Math.sin(n),a=Math.tan(Math.PI/4-n/2)/Math.pow((1-r)/(1+r),s/2);return n=-e*Math.log(Math.max(a,1e-10)),new x(t.lng*i*e,n)},unproject:function(t){for(var i,e=180/Math.PI,n=this.R,o=this.R_MINOR/n,s=Math.sqrt(1-o*o),r=Math.exp(-t.y/n),a=Math.PI/2-2*Math.atan(r),h=0,u=.1;h<15&&Math.abs(u)>1e-7;h++)i=s*Math.sin(a),i=Math.pow((1-i)/(1+i),s/2),a+=u=Math.PI/2-2*Math.atan(r*i)-a;return new M(a*e,t.x*e/n)}},He=(Object.freeze||Object)({LonLat:je,Mercator:We,SphericalMercator:mi}),Fe=i({},pi,{code:"EPSG:3395",projection:We,transformation:function(){var t=.5/(Math.PI*We.R);return Z(t,.5,-t,.5)}()}),Ue=i({},pi,{code:"EPSG:4326",projection:je,transformation:Z(1/180,1,-1/180,.5)}),Ve=i({},di,{projection:je,transformation:Z(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,i){var e=i.lng-t.lng,n=i.lat-t.lat;return Math.sqrt(e*e+n*n)},infinite:!0});di.Earth=pi,di.EPSG3395=Fe,di.EPSG3857=yi,di.EPSG900913=xi,di.EPSG4326=Ue,di.Simple=Ve;var qe=ci.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[n(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[n(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var i=t.target;if(i.hasLayer(this)){if(this._map=i,this._zoomAnimated=i._zoomAnimated,this.getEvents){var e=this.getEvents();i.on(e,this),this.once("remove",function(){i.off(e,this)},this)}this.onAdd(i),this.getAttribution&&i.attributionControl&&i.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),i.fire("layeradd",{layer:this})}}});be.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var i=n(t);return this._layers[i]?this:(this._layers[i]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var i=n(t);return this._layers[i]?(this._loaded&&t.onRemove(this),t.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(t.getAttribution()),delete this._layers[i],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return!!t&&n(t)in this._layers},eachLayer:function(t,i){for(var e in this._layers)t.call(i,this._layers[e]);return this},_addLayers:function(t){for(var i=0,e=(t=t?oi(t)?t:[t]:[]).length;i<e;i++)this.addLayer(t[i])},_addZoomLimit:function(t){!isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[n(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var i=n(t);this._zoomBoundLayers[i]&&(delete this._zoomBoundLayers[i],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,i=-1/0,e=this._getZoomSpan();for(var n in this._zoomBoundLayers){var o=this._zoomBoundLayers[n].options;t=void 0===o.minZoom?t:Math.min(t,o.minZoom),i=void 0===o.maxZoom?i:Math.max(i,o.maxZoom)}this._layersMaxZoom=i===-1/0?void 0:i,this._layersMinZoom=t===1/0?void 0:t,e!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ge=qe.extend({initialize:function(t,i){l(this,i),this._layers={};var e,n;if(t)for(e=0,n=t.length;e<n;e++)this.addLayer(t[e])},addLayer:function(t){var i=this.getLayerId(t);return this._layers[i]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var i=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[i]&&this._map.removeLayer(this._layers[i]),delete this._layers[i],this},hasLayer:function(t){return!!t&&(t in this._layers||this.getLayerId(t)in this._layers)},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var i,e,n=Array.prototype.slice.call(arguments,1);for(i in this._layers)(e=this._layers[i])[t]&&e[t].apply(e,n);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,i){for(var e in this._layers)t.call(i,this._layers[e]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return n(t)}}),Ke=Ge.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Ge.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Ge.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new T;for(var i in this._layers){var e=this._layers[i];t.extend(e.getBounds?e.getBounds():e.getLatLng())}return t}}),Ye=v.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(t){l(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,i){var e=this._getIconUrl(t);if(!e){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var n=this._createImg(e,i&&"IMG"===i.tagName?i:null);return this._setIconStyles(n,t),n},_setIconStyles:function(t,i){var e=this.options,n=e[i+"Size"];"number"==typeof n&&(n=[n,n]);var o=w(n),s=w("shadow"===i&&e.shadowAnchor||e.iconAnchor||o&&o.divideBy(2,!0));t.className="leaflet-marker-"+i+" "+(e.className||""),s&&(t.style.marginLeft=-s.x+"px",t.style.marginTop=-s.y+"px"),o&&(t.style.width=o.x+"px",t.style.height=o.y+"px")},_createImg:function(t,i){return i=i||document.createElement("img"),i.src=t,i},_getIconUrl:function(t){return Yi&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}}),Xe=Ye.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return Xe.imagePath||(Xe.imagePath=this._detectIconPath()),(this.options.imagePath||Xe.imagePath)+Ye.prototype._getIconUrl.call(this,t)},_detectIconPath:function(){var t=G("div","leaflet-default-icon-path",document.body),i=q(t,"background-image")||q(t,"backgroundImage");return document.body.removeChild(t),i=null===i||0!==i.indexOf("url")?"":i.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}}),Je=Ee.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new Re(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Q(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&tt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var i=this._marker,e=i._map,n=this._marker.options.autoPanSpeed,o=this._marker.options.autoPanPadding,s=ht(i._icon),r=e.getPixelBounds(),a=e.getPixelOrigin(),h=b(r.min._subtract(a).add(o),r.max._subtract(a).subtract(o));if(!h.contains(s)){var u=w((Math.max(h.max.x,s.x)-h.max.x)/(r.max.x-h.max.x)-(Math.min(h.min.x,s.x)-h.min.x)/(r.min.x-h.min.x),(Math.max(h.max.y,s.y)-h.max.y)/(r.max.y-h.max.y)-(Math.min(h.min.y,s.y)-h.min.y)/(r.min.y-h.min.y)).multiplyBy(n);e.panBy(u,{animate:!1}),this._draggable._newPos._add(u),this._draggable._startPos._add(u),at(i._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=f(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup().fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(g(this._panRequest),this._panRequest=f(this._adjustPan.bind(this,t)))},_onDrag:function(t){var i=this._marker,e=i._shadow,n=ht(i._icon),o=i._map.layerPointToLatLng(n);e&&at(e,n),i._latlng=o,t.latlng=o,t.oldLatLng=this._oldLatLng,i.fire("move",t).fire("drag",t)},_onDragEnd:function(t){g(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),$e=qe.extend({options:{icon:new Xe,interactive:!0,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",bubblingMouseEvents:!1,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,i){l(this,i),this._latlng=C(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var i=this._latlng;return this._latlng=C(t),this.update(),this.fire("move",{oldLatLng:i,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,i="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),e=t.icon.createIcon(this._icon),n=!1;e!==this._icon&&(this._icon&&this._removeIcon(),n=!0,t.title&&(e.title=t.title),"IMG"===e.tagName&&(e.alt=t.alt||"")),Q(e,i),t.keyboard&&(e.tabIndex="0"),this._icon=e,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var o=t.icon.createShadow(this._shadow),s=!1;o!==this._shadow&&(this._removeShadow(),s=!0),o&&(Q(o,i),o.alt=""),this._shadow=o,t.opacity<1&&this._updateOpacity(),n&&this.getPane().appendChild(this._icon),this._initInteraction(),o&&s&&this.getPane("shadowPane").appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),K(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&K(this._shadow),this._shadow=null},_setPos:function(t){at(this._icon,t),this._shadow&&at(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon.style.zIndex=this._zIndex+t},_animateZoom:function(t){var i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(i)},_initInteraction:function(){if(this.options.interactive&&(Q(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Je)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Je(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;nt(this._icon,t),this._shadow&&nt(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}}),Qe=qe.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return l(this,t),this._renderer&&this._renderer._updateStyle(this),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),tn=Qe.extend({options:{fill:!0,radius:10},initialize:function(t,i){l(this,i),this._latlng=C(t),this._radius=this.options.radius},setLatLng:function(t){return this._latlng=C(t),this.redraw(),this.fire("move",{latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var i=t&&t.radius||this._radius;return Qe.prototype.setStyle.call(this,t),this.setRadius(i),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,i=this._radiusY||t,e=this._clickTolerance(),n=[t+e,i+e];this._pxBounds=new P(this._point.subtract(n),this._point.add(n))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),en=tn.extend({initialize:function(t,e,n){if("number"==typeof e&&(e=i({},n,{radius:e})),l(this,e),this._latlng=C(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new T(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:Qe.prototype.setStyle,_project:function(){var t=this._latlng.lng,i=this._latlng.lat,e=this._map,n=e.options.crs;if(n.distance===pi.distance){var o=Math.PI/180,s=this._mRadius/pi.R/o,r=e.project([i+s,t]),a=e.project([i-s,t]),h=r.add(a).divideBy(2),u=e.unproject(h).lat,l=Math.acos((Math.cos(s*o)-Math.sin(i*o)*Math.sin(u*o))/(Math.cos(i*o)*Math.cos(u*o)))/o;(isNaN(l)||0===l)&&(l=s/Math.cos(Math.PI/180*i)),this._point=h.subtract(e.getPixelOrigin()),this._radius=isNaN(l)?0:h.x-e.project([u,t-l]).x,this._radiusY=h.y-r.y}else{var c=n.unproject(n.project(this._latlng).subtract([this._mRadius,0]));this._point=e.latLngToLayerPoint(this._latlng),this._radius=this._point.x-e.latLngToLayerPoint(c).x}this._updateBounds()}}),nn=Qe.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,i){l(this,i),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var i,e,n=1/0,o=null,s=Dt,r=0,a=this._parts.length;r<a;r++)for(var h=this._parts[r],u=1,l=h.length;u<l;u++){var c=s(t,i=h[u-1],e=h[u],!0);c<n&&(n=c,o=s(t,i,e))}return o&&(o.distance=Math.sqrt(n)),o},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,i,e,n,o,s,r,a=this._rings[0],h=a.length;if(!h)return null;for(t=0,i=0;t<h-1;t++)i+=a[t].distanceTo(a[t+1])/2;if(0===i)return this._map.layerPointToLatLng(a[0]);for(t=0,n=0;t<h-1;t++)if(o=a[t],s=a[t+1],e=o.distanceTo(s),(n+=e)>i)return r=(n-i)/e,this._map.layerPointToLatLng([s.x-r*(s.x-o.x),s.y-r*(s.y-o.y)])},getBounds:function(){return this._bounds},addLatLng:function(t,i){return i=i||this._defaultShape(),t=C(t),i.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new T,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return jt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var i=[],e=jt(t),n=0,o=t.length;n<o;n++)e?(i[n]=C(t[n]),this._bounds.extend(i[n])):i[n]=this._convertLatLngs(t[n]);return i},_project:function(){var t=new P;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t);var i=this._clickTolerance(),e=new x(i,i);this._bounds.isValid()&&t.isValid()&&(t.min._subtract(e),t.max._add(e),this._pxBounds=t)},_projectLatlngs:function(t,i,e){var n,o,s=t[0]instanceof M,r=t.length;if(s){for(o=[],n=0;n<r;n++)o[n]=this._map.latLngToLayerPoint(t[n]),e.extend(o[n]);i.push(o)}else for(n=0;n<r;n++)this._projectLatlngs(t[n],i,e)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else{var i,e,n,o,s,r,a,h=this._parts;for(i=0,n=0,o=this._rings.length;i<o;i++)for(e=0,s=(a=this._rings[i]).length;e<s-1;e++)(r=It(a[e],a[e+1],t,e,!0))&&(h[n]=h[n]||[],h[n].push(r[0]),r[1]===a[e+1]&&e!==s-2||(h[n].push(r[1]),n++))}},_simplifyPoints:function(){for(var t=this._parts,i=this.options.smoothFactor,e=0,n=t.length;e<n;e++)t[e]=Zt(t[e],i)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,i){var e,n,o,s,r,a,h=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(e=0,s=this._parts.length;e<s;e++)for(n=0,o=(r=(a=this._parts[e]).length)-1;n<r;o=n++)if((i||0!==n)&&Et(t,a[o],a[n])<=h)return!0;return!1}});nn._flat=Wt;var on=nn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,i,e,n,o,s,r,a,h,u=this._rings[0],l=u.length;if(!l)return null;for(s=r=a=0,t=0,i=l-1;t<l;i=t++)e=u[t],n=u[i],o=e.y*n.x-n.y*e.x,r+=(e.x+n.x)*o,a+=(e.y+n.y)*o,s+=3*o;return h=0===s?u[0]:[r/s,a/s],this._map.layerPointToLatLng(h)},_convertLatLngs:function(t){var i=nn.prototype._convertLatLngs.call(this,t),e=i.length;return e>=2&&i[0]instanceof M&&i[0].equals(i[e-1])&&i.pop(),i},_setLatLngs:function(t){nn.prototype._setLatLngs.call(this,t),jt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return jt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,i=this.options.weight,e=new x(i,i);if(t=new P(t.min.subtract(e),t.max.add(e)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var n,o=0,s=this._rings.length;o<s;o++)(n=Ht(this._rings[o],t,!0)).length&&this._parts.push(n)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var i,e,n,o,s,r,a,h,u=!1;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(o=0,a=this._parts.length;o<a;o++)for(s=0,r=(h=(i=this._parts[o]).length)-1;s<h;r=s++)e=i[s],n=i[r],e.y>t.y!=n.y>t.y&&t.x<(n.x-e.x)*(t.y-e.y)/(n.y-e.y)+e.x&&(u=!u);return u||nn.prototype._containsPoint.call(this,t,!0)}}),sn=Ke.extend({initialize:function(t,i){l(this,i),this._layers={},t&&this.addData(t)},addData:function(t){var i,e,n,o=oi(t)?t:t.features;if(o){for(i=0,e=o.length;i<e;i++)((n=o[i]).geometries||n.geometry||n.features||n.coordinates)&&this.addData(n);return this}var s=this.options;if(s.filter&&!s.filter(t))return this;var r=Ft(t,s);return r?(r.feature=Yt(t),r.defaultOptions=r.options,this.resetStyle(r),s.onEachFeature&&s.onEachFeature(t,r),this.addLayer(r)):this},resetStyle:function(t){return t.options=i({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this},setStyle:function(t){return this.eachLayer(function(i){this._setLayerStyle(i,t)},this)},_setLayerStyle:function(t,i){"function"==typeof i&&(i=i(t.feature)),t.setStyle&&t.setStyle(i)}}),rn={toGeoJSON:function(t){return Kt(this,{type:"Point",coordinates:qt(this.getLatLng(),t)})}};$e.include(rn),en.include(rn),tn.include(rn),nn.include({toGeoJSON:function(t){var i=!jt(this._latlngs),e=Gt(this._latlngs,i?1:0,!1,t);return Kt(this,{type:(i?"Multi":"")+"LineString",coordinates:e})}}),on.include({toGeoJSON:function(t){var i=!jt(this._latlngs),e=i&&!jt(this._latlngs[0]),n=Gt(this._latlngs,e?2:i?1:0,!0,t);return i||(n=[n]),Kt(this,{type:(e?"Multi":"")+"Polygon",coordinates:n})}}),Ge.include({toMultiPoint:function(t){var i=[];return this.eachLayer(function(e){i.push(e.toGeoJSON(t).geometry.coordinates)}),Kt(this,{type:"MultiPoint",coordinates:i})},toGeoJSON:function(t){var i=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===i)return this.toMultiPoint(t);var e="GeometryCollection"===i,n=[];return this.eachLayer(function(i){if(i.toGeoJSON){var o=i.toGeoJSON(t);if(e)n.push(o.geometry);else{var s=Yt(o);"FeatureCollection"===s.type?n.push.apply(n,s.features):n.push(s)}}}),e?Kt(this,{geometries:n,type:"GeometryCollection"}):{type:"FeatureCollection",features:n}}});var an=Xt,hn=qe.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,i,e){this._url=t,this._bounds=z(i),l(this,e)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Q(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){K(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&X(this._image),this},bringToBack:function(){return this._map&&J(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=z(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t="IMG"===this._url.tagName,i=this._image=t?this._url:G("img");Q(i,"leaflet-image-layer"),this._zoomAnimated&&Q(i,"leaflet-zoom-animated"),this.options.className&&Q(i,this.options.className),i.onselectstart=r,i.onmousemove=r,i.onload=e(this.fire,this,"load"),i.onerror=e(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(i.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t?this._url=i.src:(i.src=this._url,i.alt=this.options.alt)},_animateZoom:function(t){var i=this._map.getZoomScale(t.zoom),e=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;rt(this._image,e,i)},_reset:function(){var t=this._image,i=new P(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),e=i.getSize();at(t,i.min),t.style.width=e.x+"px",t.style.height=e.y+"px"},_updateOpacity:function(){nt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)}}),un=hn.extend({options:{autoplay:!0,loop:!0},_initImage:function(){var t="VIDEO"===this._url.tagName,i=this._image=t?this._url:G("video");if(Q(i,"leaflet-image-layer"),this._zoomAnimated&&Q(i,"leaflet-zoom-animated"),i.onselectstart=r,i.onmousemove=r,i.onloadeddata=e(this.fire,this,"load"),t){for(var n=i.getElementsByTagName("source"),o=[],s=0;s<n.length;s++)o.push(n[s].src);this._url=n.length>0?o:[i.src]}else{oi(this._url)||(this._url=[this._url]),i.autoplay=!!this.options.autoplay,i.loop=!!this.options.loop;for(var a=0;a<this._url.length;a++){var h=G("source");h.src=this._url[a],i.appendChild(h)}}}}),ln=qe.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(t,i){l(this,t),this._source=i},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&nt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&nt(this._container,1),this.bringToFront()},onRemove:function(t){t._fadeAnimated?(nt(this._container,0),this._removeTimeout=setTimeout(e(K,void 0,this._container),200)):K(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=C(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&X(this._container),this},bringToBack:function(){return this._map&&J(this._container),this},_updateContent:function(){if(this._content){var t=this._contentNode,i="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof i)t.innerHTML=i;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(i)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),i=w(this.options.offset),e=this._getAnchor();this._zoomAnimated?at(this._container,t.add(e)):i=i.add(t).add(e);var n=this._containerBottom=-i.y,o=this._containerLeft=-Math.round(this._containerWidth/2)+i.x;this._container.style.bottom=n+"px",this._container.style.left=o+"px"}},_getAnchor:function(){return[0,0]}}),cn=ln.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t.openPopup(this),this},onAdd:function(t){ln.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Qe||this._source.on("preclick",yt))},onRemove:function(t){ln.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Qe||this._source.off("preclick",yt))},getEvents:function(){var t=ln.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t="leaflet-popup",i=this._container=G("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),e=this._wrapper=G("div",t+"-content-wrapper",i);if(this._contentNode=G("div",t+"-content",e),wt(e),xt(this._contentNode),mt(e,"contextmenu",yt),this._tipContainer=G("div",t+"-tip-container",i),this._tip=G("div",t+"-tip",this._tipContainer),this.options.closeButton){var n=this._closeButton=G("a",t+"-close-button",i);n.href="#close",n.innerHTML="&#215;",mt(n,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var t=this._contentNode,i=t.style;i.width="",i.whiteSpace="nowrap";var e=t.offsetWidth;e=Math.min(e,this.options.maxWidth),e=Math.max(e,this.options.minWidth),i.width=e+1+"px",i.whiteSpace="",i.height="";var n=t.offsetHeight,o=this.options.maxHeight;o&&n>o?(i.height=o+"px",Q(t,"leaflet-popup-scrolled")):tt(t,"leaflet-popup-scrolled"),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),e=this._getAnchor();at(this._container,i.add(e))},_adjustPan:function(){if(this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var t=this._map,i=parseInt(q(this._container,"marginBottom"),10)||0,e=this._container.offsetHeight+i,n=this._containerWidth,o=new x(this._containerLeft,-e-this._containerBottom);o._add(ht(this._container));var s=t.layerPointToContainerPoint(o),r=w(this.options.autoPanPadding),a=w(this.options.autoPanPaddingTopLeft||r),h=w(this.options.autoPanPaddingBottomRight||r),u=t.getSize(),l=0,c=0;s.x+n+h.x>u.x&&(l=s.x+n-u.x+h.x),s.x-l-a.x<0&&(l=s.x-a.x),s.y+e+h.y>u.y&&(c=s.y+e-u.y+h.y),s.y-c-a.y<0&&(c=s.y-a.y),(l||c)&&t.fire("autopanstart").panBy([l,c])}},_onCloseButtonClick:function(t){this._close(),Lt(t)},_getAnchor:function(){return w(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});be.mergeOptions({closePopupOnClick:!0}),be.include({openPopup:function(t,i,e){return t instanceof cn||(t=new cn(e).setContent(t)),i&&t.setLatLng(i),this.hasLayer(t)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=t,this.addLayer(t))},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&this.removeLayer(t),this}}),qe.include({bindPopup:function(t,i){return t instanceof cn?(l(t,i),this._popup=t,t._source=this):(this._popup&&!i||(this._popup=new cn(i,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t,i){if(t instanceof qe||(i=t,t=this),t instanceof Ke)for(var e in this._layers){t=this._layers[e];break}return i||(i=t.getCenter?t.getCenter():t.getLatLng()),this._popup&&this._map&&(this._popup._source=t,this._popup.update(),this._map.openPopup(this._popup,i)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(t){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(t)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){var i=t.layer||t.target;this._popup&&this._map&&(Lt(t),i instanceof Qe?this.openPopup(t.layer||t.target,t.latlng):this._map.hasLayer(this._popup)&&this._popup._source===i?this.closePopup():this.openPopup(i,t.latlng))},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}});var _n=ln.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(t){ln.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(t){ln.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var t=ln.prototype.getEvents.call(this);return qi&&!this.options.permanent&&(t.preclick=this._close),t},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var t="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=G("div",t)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var i=this._map,e=this._container,n=i.latLngToContainerPoint(i.getCenter()),o=i.layerPointToContainerPoint(t),s=this.options.direction,r=e.offsetWidth,a=e.offsetHeight,h=w(this.options.offset),u=this._getAnchor();"top"===s?t=t.add(w(-r/2+h.x,-a+h.y+u.y,!0)):"bottom"===s?t=t.subtract(w(r/2-h.x,-h.y,!0)):"center"===s?t=t.subtract(w(r/2+h.x,a/2-u.y+h.y,!0)):"right"===s||"auto"===s&&o.x<n.x?(s="right",t=t.add(w(h.x+u.x,u.y-a/2+h.y,!0))):(s="left",t=t.subtract(w(r+u.x-h.x,a/2-u.y-h.y,!0))),tt(e,"leaflet-tooltip-right"),tt(e,"leaflet-tooltip-left"),tt(e,"leaflet-tooltip-top"),tt(e,"leaflet-tooltip-bottom"),Q(e,"leaflet-tooltip-"+s),at(e,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&nt(this._container,t)},_animateZoom:function(t){var i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(i)},_getAnchor:function(){return w(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});be.include({openTooltip:function(t,i,e){return t instanceof _n||(t=new _n(e).setContent(t)),i&&t.setLatLng(i),this.hasLayer(t)?this:this.addLayer(t)},closeTooltip:function(t){return t&&this.removeLayer(t),this}}),qe.include({bindTooltip:function(t,i){return t instanceof _n?(l(t,i),this._tooltip=t,t._source=this):(this._tooltip&&!i||(this._tooltip=new _n(i,this)),this._tooltip.setContent(t)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var i=t?"off":"on",e={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?e.add=this._openTooltip:(e.mouseover=this._openTooltip,e.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(e.mousemove=this._moveTooltip),qi&&(e.click=this._openTooltip)),this[i](e),this._tooltipHandlersAdded=!t}},openTooltip:function(t,i){if(t instanceof qe||(i=t,t=this),t instanceof Ke)for(var e in this._layers){t=this._layers[e];break}return i||(i=t.getCenter?t.getCenter():t.getLatLng()),this._tooltip&&this._map&&(this._tooltip._source=t,this._tooltip.update(),this._map.openTooltip(this._tooltip,i),this._tooltip.options.interactive&&this._tooltip._container&&(Q(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(tt(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(t){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(t)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){var i=t.layer||t.target;this._tooltip&&this._map&&this.openTooltip(i,this._tooltip.options.sticky?t.latlng:void 0)},_moveTooltip:function(t){var i,e,n=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(i=this._map.mouseEventToContainerPoint(t.originalEvent),e=this._map.containerPointToLayerPoint(i),n=this._map.layerPointToLatLng(e)),this._tooltip.setLatLng(n)}});var dn=Ye.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var i=t&&"DIV"===t.tagName?t:document.createElement("div"),e=this.options;if(i.innerHTML=!1!==e.html?e.html:"",e.bgPos){var n=w(e.bgPos);i.style.backgroundPosition=-n.x+"px "+-n.y+"px"}return this._setIconStyles(i,"icon"),i},createShadow:function(){return null}});Ye.Default=Xe;var pn=qe.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Wi,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){l(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),K(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(X(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(J(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=o(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof x?t:new x(t,t)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var i,e=this.getPane().children,n=-t(-1/0,1/0),o=0,s=e.length;o<s;o++)i=e[o].style.zIndex,e[o]!==this._container&&i&&(n=t(n,+i));isFinite(n)&&(this.options.zIndex=n+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Li){nt(this._container,this.options.opacity);var t=+new Date,i=!1,e=!1;for(var n in this._tiles){var o=this._tiles[n];if(o.current&&o.loaded){var s=Math.min(1,(t-o.loaded)/200);nt(o.el,s),s<1?i=!0:(o.active?e=!0:this._onOpaqueTile(o),o.active=!0)}}e&&!this._noPrune&&this._pruneTiles(),i&&(g(this._fadeFrame),this._fadeFrame=f(this._updateOpacity,this))}},_onOpaqueTile:r,_initContainer:function(){this._container||(this._container=G("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,i=this.options.maxZoom;if(void 0!==t){for(var e in this._levels)this._levels[e].el.children.length||e===t?(this._levels[e].el.style.zIndex=i-Math.abs(t-e),this._onUpdateLevel(e)):(K(this._levels[e].el),this._removeTilesAtZoom(e),this._onRemoveLevel(e),delete this._levels[e]);var n=this._levels[t],o=this._map;return n||((n=this._levels[t]={}).el=G("div","leaflet-tile-container leaflet-zoom-animated",this._container),n.el.style.zIndex=i,n.origin=o.project(o.unproject(o.getPixelOrigin()),t).round(),n.zoom=t,this._setZoomTransform(n,o.getCenter(),o.getZoom()),n.el.offsetWidth,this._onCreateLevel(n)),this._level=n,n}},_onUpdateLevel:r,_onRemoveLevel:r,_onCreateLevel:r,_pruneTiles:function(){if(this._map){var t,i,e=this._map.getZoom();if(e>this.options.maxZoom||e<this.options.minZoom)this._removeAllTiles();else{for(t in this._tiles)(i=this._tiles[t]).retain=i.current;for(t in this._tiles)if((i=this._tiles[t]).current&&!i.active){var n=i.coords;this._retainParent(n.x,n.y,n.z,n.z-5)||this._retainChildren(n.x,n.y,n.z,n.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}}},_removeTilesAtZoom:function(t){for(var i in this._tiles)this._tiles[i].coords.z===t&&this._removeTile(i)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)K(this._levels[t].el),this._onRemoveLevel(t),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,i,e,n){var o=Math.floor(t/2),s=Math.floor(i/2),r=e-1,a=new x(+o,+s);a.z=+r;var h=this._tileCoordsToKey(a),u=this._tiles[h];return u&&u.active?(u.retain=!0,!0):(u&&u.loaded&&(u.retain=!0),r>n&&this._retainParent(o,s,r,n))},_retainChildren:function(t,i,e,n){for(var o=2*t;o<2*t+2;o++)for(var s=2*i;s<2*i+2;s++){var r=new x(o,s);r.z=e+1;var a=this._tileCoordsToKey(r),h=this._tiles[a];h&&h.active?h.retain=!0:(h&&h.loaded&&(h.retain=!0),e+1<n&&this._retainChildren(o,s,e+1,n))}},_resetView:function(t){var i=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),i,i)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var i=this.options;return void 0!==i.minNativeZoom&&t<i.minNativeZoom?i.minNativeZoom:void 0!==i.maxNativeZoom&&i.maxNativeZoom<t?i.maxNativeZoom:t},_setView:function(t,i,e,n){var o=this._clampZoom(Math.round(i));(void 0!==this.options.maxZoom&&o>this.options.maxZoom||void 0!==this.options.minZoom&&o<this.options.minZoom)&&(o=void 0);var s=this.options.updateWhenZooming&&o!==this._tileZoom;n&&!s||(this._tileZoom=o,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==o&&this._update(t),e||this._pruneTiles(),this._noPrune=!!e),this._setZoomTransforms(t,i)},_setZoomTransforms:function(t,i){for(var e in this._levels)this._setZoomTransform(this._levels[e],t,i)},_setZoomTransform:function(t,i,e){var n=this._map.getZoomScale(e,t.zoom),o=t.origin.multiplyBy(n).subtract(this._map._getNewPixelOrigin(i,e)).round();ji?rt(t.el,o,n):at(t.el,o)},_resetGrid:function(){var t=this._map,i=t.options.crs,e=this._tileSize=this.getTileSize(),n=this._tileZoom,o=this._map.getPixelWorldBounds(this._tileZoom);o&&(this._globalTileRange=this._pxBoundsToTileRange(o)),this._wrapX=i.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,i.wrapLng[0]],n).x/e.x),Math.ceil(t.project([0,i.wrapLng[1]],n).x/e.y)],this._wrapY=i.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([i.wrapLat[0],0],n).y/e.x),Math.ceil(t.project([i.wrapLat[1],0],n).y/e.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var i=this._map,e=i._animatingZoom?Math.max(i._animateToZoom,i.getZoom()):i.getZoom(),n=i.getZoomScale(e,this._tileZoom),o=i.project(t,this._tileZoom).floor(),s=i.getSize().divideBy(2*n);return new P(o.subtract(s),o.add(s))},_update:function(t){var i=this._map;if(i){var e=this._clampZoom(i.getZoom());if(void 0===t&&(t=i.getCenter()),void 0!==this._tileZoom){var n=this._getTiledPixelBounds(t),o=this._pxBoundsToTileRange(n),s=o.getCenter(),r=[],a=this.options.keepBuffer,h=new P(o.getBottomLeft().subtract([a,-a]),o.getTopRight().add([a,-a]));if(!(isFinite(o.min.x)&&isFinite(o.min.y)&&isFinite(o.max.x)&&isFinite(o.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var u in this._tiles){var l=this._tiles[u].coords;l.z===this._tileZoom&&h.contains(new x(l.x,l.y))||(this._tiles[u].current=!1)}if(Math.abs(e-this._tileZoom)>1)this._setView(t,e);else{for(var c=o.min.y;c<=o.max.y;c++)for(var _=o.min.x;_<=o.max.x;_++){var d=new x(_,c);if(d.z=this._tileZoom,this._isValidTile(d)){var p=this._tiles[this._tileCoordsToKey(d)];p?p.current=!0:r.push(d)}}if(r.sort(function(t,i){return t.distanceTo(s)-i.distanceTo(s)}),0!==r.length){this._loading||(this._loading=!0,this.fire("loading"));var m=document.createDocumentFragment();for(_=0;_<r.length;_++)this._addTile(r[_],m);this._level.el.appendChild(m)}}}}},_isValidTile:function(t){var i=this._map.options.crs;if(!i.infinite){var e=this._globalTileRange;if(!i.wrapLng&&(t.x<e.min.x||t.x>e.max.x)||!i.wrapLat&&(t.y<e.min.y||t.y>e.max.y))return!1}if(!this.options.bounds)return!0;var n=this._tileCoordsToBounds(t);return z(this.options.bounds).overlaps(n)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var i=this._map,e=this.getTileSize(),n=t.scaleBy(e),o=n.add(e);return[i.unproject(n,t.z),i.unproject(o,t.z)]},_tileCoordsToBounds:function(t){var i=this._tileCoordsToNwSe(t),e=new T(i[0],i[1]);return this.options.noWrap||(e=this._map.wrapLatLngBounds(e)),e},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var i=t.split(":"),e=new x(+i[0],+i[1]);return e.z=+i[2],e},_removeTile:function(t){var i=this._tiles[t];i&&(K(i.el),delete this._tiles[t],this.fire("tileunload",{tile:i.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){Q(t,"leaflet-tile");var i=this.getTileSize();t.style.width=i.x+"px",t.style.height=i.y+"px",t.onselectstart=r,t.onmousemove=r,Li&&this.options.opacity<1&&nt(t,this.options.opacity),zi&&!Mi&&(t.style.WebkitBackfaceVisibility="hidden")},_addTile:function(t,i){var n=this._getTilePos(t),o=this._tileCoordsToKey(t),s=this.createTile(this._wrapCoords(t),e(this._tileReady,this,t));this._initTile(s),this.createTile.length<2&&f(e(this._tileReady,this,t,null,s)),at(s,n),this._tiles[o]={el:s,coords:t,current:!0},i.appendChild(s),this.fire("tileloadstart",{tile:s,coords:t})},_tileReady:function(t,i,n){i&&this.fire("tileerror",{error:i,tile:n,coords:t});var o=this._tileCoordsToKey(t);(n=this._tiles[o])&&(n.loaded=+new Date,this._map._fadeAnimated?(nt(n.el,0),g(this._fadeFrame),this._fadeFrame=f(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),i||(Q(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Li||!this._map._fadeAnimated?f(this._pruneTiles,this):setTimeout(e(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var i=new x(this._wrapX?s(t.x,this._wrapX):t.x,this._wrapY?s(t.y,this._wrapY):t.y);return i.z=t.z,i},_pxBoundsToTileRange:function(t){var i=this.getTileSize();return new P(t.min.unscaleBy(i).floor(),t.max.unscaleBy(i).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}}),mn=pn.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(t,i){this._url=t,(i=l(this,i)).detectRetina&&Yi&&i.maxZoom>0&&(i.tileSize=Math.floor(i.tileSize/2),i.zoomReverse?(i.zoomOffset--,i.minZoom++):(i.zoomOffset++,i.maxZoom--),i.minZoom=Math.max(0,i.minZoom)),"string"==typeof i.subdomains&&(i.subdomains=i.subdomains.split("")),zi||this.on("tileunload",this._onTileRemove)},setUrl:function(t,i){return this._url===t&&void 0===i&&(i=!0),this._url=t,i||this.redraw(),this},createTile:function(t,i){var n=document.createElement("img");return mt(n,"load",e(this._tileOnLoad,this,i,n)),mt(n,"error",e(this._tileOnError,this,i,n)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),n.alt="",n.setAttribute("role","presentation"),n.src=this.getTileUrl(t),n},getTileUrl:function(t){var e={r:Yi?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var n=this._globalTileRange.max.y-t.y;this.options.tms&&(e.y=n),e["-y"]=n}return _(this._url,i(e,this.options))},_tileOnLoad:function(t,i){Li?setTimeout(e(t,this,null,i),0):t(null,i)},_tileOnError:function(t,i,e){var n=this.options.errorTileUrl;n&&i.getAttribute("src")!==n&&(i.src=n),t(e,i)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,i=this.options.maxZoom,e=this.options.zoomReverse,n=this.options.zoomOffset;return e&&(t=i-t),t+n},_getSubdomain:function(t){var i=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[i]},_abortLoading:function(){var t,i;for(t in this._tiles)this._tiles[t].coords.z!==this._tileZoom&&((i=this._tiles[t].el).onload=r,i.onerror=r,i.complete||(i.src=si,K(i),delete this._tiles[t]))},_removeTile:function(t){var i=this._tiles[t];if(i)return Si||i.el.setAttribute("src",si),pn.prototype._removeTile.call(this,t)},_tileReady:function(t,i,e){if(this._map&&(!e||e.getAttribute("src")!==si))return pn.prototype._tileReady.call(this,t,i,e)}}),fn=mn.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var n=i({},this.defaultWmsParams);for(var o in e)o in this.options||(n[o]=e[o]);var s=(e=l(this,e)).detectRetina&&Yi?2:1,r=this.getTileSize();n.width=r.x*s,n.height=r.y*s,this.wmsParams=n},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var i=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[i]=this._crs.code,mn.prototype.onAdd.call(this,t)},getTileUrl:function(t){var i=this._tileCoordsToNwSe(t),e=this._crs,n=b(e.project(i[0]),e.project(i[1])),o=n.min,s=n.max,r=(this._wmsVersion>=1.3&&this._crs===Ue?[o.y,o.x,s.y,s.x]:[o.x,o.y,s.x,s.y]).join(","),a=mn.prototype.getTileUrl.call(this,t);return a+c(this.wmsParams,a,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+r},setParams:function(t,e){return i(this.wmsParams,t),e||this.redraw(),this}});mn.WMS=fn,Jt.wms=function(t,i){return new fn(t,i)};var gn=qe.extend({options:{padding:.1,tolerance:0},initialize:function(t){l(this,t),n(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&Q(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,i){var e=this._map.getZoomScale(i,this._zoom),n=ht(this._container),o=this._map.getSize().multiplyBy(.5+this.options.padding),s=this._map.project(this._center,i),r=this._map.project(t,i).subtract(s),a=o.multiplyBy(-e).add(n).add(o).subtract(r);ji?rt(this._container,a,e):at(this._container,a)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,i=this._map.getSize(),e=this._map.containerPointToLayerPoint(i.multiplyBy(-t)).round();this._bounds=new P(e,e.add(i.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),vn=gn.extend({getEvents:function(){var t=gn.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){gn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");mt(t,"mousemove",o(this._onMouseMove,32,this),this),mt(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),mt(t,"mouseout",this._handleMouseOut,this),this._ctx=t.getContext("2d")},_destroyContainer:function(){g(this._redrawRequest),delete this._ctx,K(this._container),ft(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){this._redrawBounds=null;for(var t in this._layers)this._layers[t]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){gn.prototype._update.call(this);var t=this._bounds,i=this._container,e=t.getSize(),n=Yi?2:1;at(i,t.min),i.width=n*e.x,i.height=n*e.y,i.style.width=e.x+"px",i.style.height=e.y+"px",Yi&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){gn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[n(t)]=t;var i=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=i),this._drawLast=i,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var i=t._order,e=i.next,o=i.prev;e?e.prev=o:this._drawLast=o,o?o.next=e:this._drawFirst=e,delete t._order,delete this._layers[n(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if("string"==typeof t.options.dashArray){var i,e,n=t.options.dashArray.split(/[, ]+/),o=[];for(e=0;e<n.length;e++){if(i=Number(n[e]),isNaN(i))return;o.push(i)}t.options._dashArray=o}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||f(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var i=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new P,this._redrawBounds.extend(t._pxBounds.min.subtract([i,i])),this._redrawBounds.extend(t._pxBounds.max.add([i,i]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var i=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,i.x,i.y)}else this._ctx.clearRect(0,0,this._container.width,this._container.height)},_draw:function(){var t,i=this._redrawBounds;if(this._ctx.save(),i){var e=i.getSize();this._ctx.beginPath(),this._ctx.rect(i.min.x,i.min.y,e.x,e.y),this._ctx.clip()}this._drawing=!0;for(var n=this._drawFirst;n;n=n.next)t=n.layer,(!i||t._pxBounds&&t._pxBounds.intersects(i))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,i){if(this._drawing){var e,n,o,s,r=t._parts,a=r.length,h=this._ctx;if(a){for(h.beginPath(),e=0;e<a;e++){for(n=0,o=r[e].length;n<o;n++)s=r[e][n],h[n?"lineTo":"moveTo"](s.x,s.y);i&&h.closePath()}this._fillStroke(h,t)}}},_updateCircle:function(t){if(this._drawing&&!t._empty()){var i=t._point,e=this._ctx,n=Math.max(Math.round(t._radius),1),o=(Math.max(Math.round(t._radiusY),1)||n)/n;1!==o&&(e.save(),e.scale(1,o)),e.beginPath(),e.arc(i.x,i.y/o,n,0,2*Math.PI,!1),1!==o&&e.restore(),this._fillStroke(e,t)}},_fillStroke:function(t,i){var e=i.options;e.fill&&(t.globalAlpha=e.fillOpacity,t.fillStyle=e.fillColor||e.color,t.fill(e.fillRule||"evenodd")),e.stroke&&0!==e.weight&&(t.setLineDash&&t.setLineDash(i.options&&i.options._dashArray||[]),t.globalAlpha=e.opacity,t.lineWidth=e.weight,t.strokeStyle=e.color,t.lineCap=e.lineCap,t.lineJoin=e.lineJoin,t.stroke())},_onClick:function(t){for(var i,e,n=this._map.mouseEventToLayerPoint(t),o=this._drawFirst;o;o=o.next)(i=o.layer).options.interactive&&i._containsPoint(n)&&!this._map._draggableMoved(i)&&(e=i);e&&(zt(t),this._fireEvent([e],t))},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var i=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,i)}},_handleMouseOut:function(t){var i=this._hoveredLayer;i&&(tt(this._container,"leaflet-interactive"),this._fireEvent([i],t,"mouseout"),this._hoveredLayer=null)},_handleMouseHover:function(t,i){for(var e,n,o=this._drawFirst;o;o=o.next)(e=o.layer).options.interactive&&e._containsPoint(i)&&(n=e);n!==this._hoveredLayer&&(this._handleMouseOut(t),n&&(Q(this._container,"leaflet-interactive"),this._fireEvent([n],t,"mouseover"),this._hoveredLayer=n)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],t)},_fireEvent:function(t,i,e){this._map._fireDOMEvent(i,e||i.type,t)},_bringToFront:function(t){var i=t._order;if(i){var e=i.next,n=i.prev;e&&(e.prev=n,n?n.next=e:e&&(this._drawFirst=e),i.prev=this._drawLast,this._drawLast.next=i,i.next=null,this._drawLast=i,this._requestRedraw(t))}},_bringToBack:function(t){var i=t._order;if(i){var e=i.next,n=i.prev;n&&(n.next=e,e?e.prev=n:n&&(this._drawLast=n),i.prev=null,i.next=this._drawFirst,this._drawFirst.prev=i,this._drawFirst=i,this._requestRedraw(t))}}}),yn=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),xn={_initContainer:function(){this._container=G("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(gn.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var i=t._container=yn("shape");Q(i,"leaflet-vml-shape "+(this.options.className||"")),i.coordsize="1 1",t._path=yn("path"),i.appendChild(t._path),this._updateStyle(t),this._layers[n(t)]=t},_addPath:function(t){var i=t._container;this._container.appendChild(i),t.options.interactive&&t.addInteractiveTarget(i)},_removePath:function(t){var i=t._container;K(i),t.removeInteractiveTarget(i),delete this._layers[n(t)]},_updateStyle:function(t){var i=t._stroke,e=t._fill,n=t.options,o=t._container;o.stroked=!!n.stroke,o.filled=!!n.fill,n.stroke?(i||(i=t._stroke=yn("stroke")),o.appendChild(i),i.weight=n.weight+"px",i.color=n.color,i.opacity=n.opacity,n.dashArray?i.dashStyle=oi(n.dashArray)?n.dashArray.join(" "):n.dashArray.replace(/( *, *)/g," "):i.dashStyle="",i.endcap=n.lineCap.replace("butt","flat"),i.joinstyle=n.lineJoin):i&&(o.removeChild(i),t._stroke=null),n.fill?(e||(e=t._fill=yn("fill")),o.appendChild(e),e.color=n.fillColor||n.color,e.opacity=n.fillOpacity):e&&(o.removeChild(e),t._fill=null)},_updateCircle:function(t){var i=t._point.round(),e=Math.round(t._radius),n=Math.round(t._radiusY||e);this._setPath(t,t._empty()?"M0 0":"AL "+i.x+","+i.y+" "+e+","+n+" 0,23592600")},_setPath:function(t,i){t._path.v=i},_bringToFront:function(t){X(t._container)},_bringToBack:function(t){J(t._container)}},wn=$i?yn:E,Pn=gn.extend({getEvents:function(){var t=gn.prototype.getEvents.call(this);return t.zoomstart=this._onZoomStart,t},_initContainer:function(){this._container=wn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=wn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){K(this._container),ft(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){gn.prototype._update.call(this);var t=this._bounds,i=t.getSize(),e=this._container;this._svgSize&&this._svgSize.equals(i)||(this._svgSize=i,e.setAttribute("width",i.x),e.setAttribute("height",i.y)),at(e,t.min),e.setAttribute("viewBox",[t.min.x,t.min.y,i.x,i.y].join(" ")),this.fire("update")}},_initPath:function(t){var i=t._path=wn("path");t.options.className&&Q(i,t.options.className),t.options.interactive&&Q(i,"leaflet-interactive"),this._updateStyle(t),this._layers[n(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){K(t._path),t.removeInteractiveTarget(t._path),delete this._layers[n(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var i=t._path,e=t.options;i&&(e.stroke?(i.setAttribute("stroke",e.color),i.setAttribute("stroke-opacity",e.opacity),i.setAttribute("stroke-width",e.weight),i.setAttribute("stroke-linecap",e.lineCap),i.setAttribute("stroke-linejoin",e.lineJoin),e.dashArray?i.setAttribute("stroke-dasharray",e.dashArray):i.removeAttribute("stroke-dasharray"),e.dashOffset?i.setAttribute("stroke-dashoffset",e.dashOffset):i.removeAttribute("stroke-dashoffset")):i.setAttribute("stroke","none"),e.fill?(i.setAttribute("fill",e.fillColor||e.color),i.setAttribute("fill-opacity",e.fillOpacity),i.setAttribute("fill-rule",e.fillRule||"evenodd")):i.setAttribute("fill","none"))},_updatePoly:function(t,i){this._setPath(t,k(t._parts,i))},_updateCircle:function(t){var i=t._point,e=Math.max(Math.round(t._radius),1),n="a"+e+","+(Math.max(Math.round(t._radiusY),1)||e)+" 0 1,0 ",o=t._empty()?"M0 0":"M"+(i.x-e)+","+i.y+n+2*e+",0 "+n+2*-e+",0 ";this._setPath(t,o)},_setPath:function(t,i){t._path.setAttribute("d",i)},_bringToFront:function(t){X(t._path)},_bringToBack:function(t){J(t._path)}});$i&&Pn.include(xn),be.include({getRenderer:function(t){var i=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return i||(i=this._renderer=this._createRenderer()),this.hasLayer(i)||this.addLayer(i),i},_getPaneRenderer:function(t){if("overlayPane"===t||void 0===t)return!1;var i=this._paneRenderers[t];return void 0===i&&(i=this._createRenderer({pane:t}),this._paneRenderers[t]=i),i},_createRenderer:function(t){return this.options.preferCanvas&&$t(t)||Qt(t)}});var Ln=on.extend({initialize:function(t,i){on.prototype.initialize.call(this,this._boundsToLatLngs(t),i)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=z(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});Pn.create=wn,Pn.pointsToPath=k,sn.geometryToLayer=Ft,sn.coordsToLatLng=Ut,sn.coordsToLatLngs=Vt,sn.latLngToCoords=qt,sn.latLngsToCoords=Gt,sn.getFeature=Kt,sn.asFeature=Yt,be.mergeOptions({boxZoom:!0});var bn=Ee.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){mt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ft(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){K(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),fi(),ut(),this._startPoint=this._map.mouseEventToContainerPoint(t),mt(document,{contextmenu:Lt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=G("div","leaflet-zoom-box",this._container),Q(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var i=new P(this._point,this._startPoint),e=i.getSize();at(this._box,i.min),this._box.style.width=e.x+"px",this._box.style.height=e.y+"px"},_finish:function(){this._moved&&(K(this._box),tt(this._container,"leaflet-crosshair")),gi(),lt(),ft(document,{contextmenu:Lt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(e(this._resetState,this),0);var i=new T(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(i).fire("boxzoomend",{boxZoomBounds:i})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}});be.addInitHook("addHandler","boxZoom",bn),be.mergeOptions({doubleClickZoom:!0});var Tn=Ee.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var i=this._map,e=i.getZoom(),n=i.options.zoomDelta,o=t.originalEvent.shiftKey?e-n:e+n;"center"===i.options.doubleClickZoom?i.setZoom(o):i.setZoomAround(t.containerPoint,o)}});be.addInitHook("addHandler","doubleClickZoom",Tn),be.mergeOptions({dragging:!0,inertia:!Mi,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var zn=Ee.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new Re(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}Q(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){tt(this._map._container,"leaflet-grab"),tt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var i=z(this._map.options.maxBounds);this._offsetLimit=b(this._map.latLngToContainerPoint(i.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(i.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var i=this._lastTime=+new Date,e=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(e),this._times.push(i),this._prunePositions(i)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),i=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=i.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,i){return t-(t-i)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),i=this._offsetLimit;t.x<i.min.x&&(t.x=this._viscousLimit(t.x,i.min.x)),t.y<i.min.y&&(t.y=this._viscousLimit(t.y,i.min.y)),t.x>i.max.x&&(t.x=this._viscousLimit(t.x,i.max.x)),t.y>i.max.y&&(t.y=this._viscousLimit(t.y,i.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,i=Math.round(t/2),e=this._initialWorldOffset,n=this._draggable._newPos.x,o=(n-i+e)%t+i-e,s=(n+i+e)%t-i-e,r=Math.abs(o+e)<Math.abs(s+e)?o:s;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=r},_onDragEnd:function(t){var i=this._map,e=i.options,n=!e.inertia||this._times.length<2;if(i.fire("dragend",t),n)i.fire("moveend");else{this._prunePositions(+new Date);var o=this._lastPos.subtract(this._positions[0]),s=(this._lastTime-this._times[0])/1e3,r=e.easeLinearity,a=o.multiplyBy(r/s),h=a.distanceTo([0,0]),u=Math.min(e.inertiaMaxSpeed,h),l=a.multiplyBy(u/h),c=u/(e.inertiaDeceleration*r),_=l.multiplyBy(-c/2).round();_.x||_.y?(_=i._limitOffset(_,i.options.maxBounds),f(function(){i.panBy(_,{duration:c,easeLinearity:r,noMoveStart:!0,animate:!0})})):i.fire("moveend")}}});be.addInitHook("addHandler","dragging",zn),be.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Mn=Ee.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),mt(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ft(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,i=document.documentElement,e=t.scrollTop||i.scrollTop,n=t.scrollLeft||i.scrollLeft;this._map._container.focus(),window.scrollTo(n,e)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var i,e,n=this._panKeys={},o=this.keyCodes;for(i=0,e=o.left.length;i<e;i++)n[o.left[i]]=[-1*t,0];for(i=0,e=o.right.length;i<e;i++)n[o.right[i]]=[t,0];for(i=0,e=o.down.length;i<e;i++)n[o.down[i]]=[0,t];for(i=0,e=o.up.length;i<e;i++)n[o.up[i]]=[0,-1*t]},_setZoomDelta:function(t){var i,e,n=this._zoomKeys={},o=this.keyCodes;for(i=0,e=o.zoomIn.length;i<e;i++)n[o.zoomIn[i]]=t;for(i=0,e=o.zoomOut.length;i<e;i++)n[o.zoomOut[i]]=-t},_addHooks:function(){mt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ft(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var i,e=t.keyCode,n=this._map;if(e in this._panKeys)n._panAnim&&n._panAnim._inProgress||(i=this._panKeys[e],t.shiftKey&&(i=w(i).multiplyBy(3)),n.panBy(i),n.options.maxBounds&&n.panInsideBounds(n.options.maxBounds));else if(e in this._zoomKeys)n.setZoom(n.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[e]);else{if(27!==e||!n._popup||!n._popup.options.closeOnEscapeKey)return;n.closePopup()}Lt(t)}}});be.addInitHook("addHandler","keyboard",Mn),be.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Cn=Ee.extend({addHooks:function(){mt(this._map._container,"mousewheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ft(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var i=Tt(t),n=this._map.options.wheelDebounceTime;this._delta+=i,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var o=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(e(this._performZoom,this),o),Lt(t)},_performZoom:function(){var t=this._map,i=t.getZoom(),e=this._map.options.zoomSnap||0;t._stop();var n=this._delta/(4*this._map.options.wheelPxPerZoomLevel),o=4*Math.log(2/(1+Math.exp(-Math.abs(n))))/Math.LN2,s=e?Math.ceil(o/e)*e:o,r=t._limitZoom(i+(this._delta>0?s:-s))-i;this._delta=0,this._startTime=null,r&&("center"===t.options.scrollWheelZoom?t.setZoom(i+r):t.setZoomAround(this._lastMousePos,i+r))}});be.addInitHook("addHandler","scrollWheelZoom",Cn),be.mergeOptions({tap:!0,tapTolerance:15});var Sn=Ee.extend({addHooks:function(){mt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ft(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(Pt(t),this._fireClick=!0,t.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var i=t.touches[0],n=i.target;this._startPos=this._newPos=new x(i.clientX,i.clientY),n.tagName&&"a"===n.tagName.toLowerCase()&&Q(n,"leaflet-active"),this._holdTimeout=setTimeout(e(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",i))},this),1e3),this._simulateEvent("mousedown",i),mt(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),ft(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&t&&t.changedTouches){var i=t.changedTouches[0],e=i.target;e&&e.tagName&&"a"===e.tagName.toLowerCase()&&tt(e,"leaflet-active"),this._simulateEvent("mouseup",i),this._isTapValid()&&this._simulateEvent("click",i)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var i=t.touches[0];this._newPos=new x(i.clientX,i.clientY),this._simulateEvent("mousemove",i)},_simulateEvent:function(t,i){var e=document.createEvent("MouseEvents");e._simulated=!0,i.target._simulatedClick=!0,e.initMouseEvent(t,!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),i.target.dispatchEvent(e)}});qi&&!Vi&&be.addInitHook("addHandler","tap",Sn),be.mergeOptions({touchZoom:qi&&!Mi,bounceAtZoomLimits:!0});var Zn=Ee.extend({addHooks:function(){Q(this._map._container,"leaflet-touch-zoom"),mt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){tt(this._map._container,"leaflet-touch-zoom"),ft(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var i=this._map;if(t.touches&&2===t.touches.length&&!i._animatingZoom&&!this._zooming){var e=i.mouseEventToContainerPoint(t.touches[0]),n=i.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=i.getSize()._divideBy(2),this._startLatLng=i.containerPointToLatLng(this._centerPoint),"center"!==i.options.touchZoom&&(this._pinchStartLatLng=i.containerPointToLatLng(e.add(n)._divideBy(2))),this._startDist=e.distanceTo(n),this._startZoom=i.getZoom(),this._moved=!1,this._zooming=!0,i._stop(),mt(document,"touchmove",this._onTouchMove,this),mt(document,"touchend",this._onTouchEnd,this),Pt(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var i=this._map,n=i.mouseEventToContainerPoint(t.touches[0]),o=i.mouseEventToContainerPoint(t.touches[1]),s=n.distanceTo(o)/this._startDist;if(this._zoom=i.getScaleZoom(s,this._startZoom),!i.options.bounceAtZoomLimits&&(this._zoom<i.getMinZoom()&&s<1||this._zoom>i.getMaxZoom()&&s>1)&&(this._zoom=i._limitZoom(this._zoom)),"center"===i.options.touchZoom){if(this._center=this._startLatLng,1===s)return}else{var r=n._add(o)._divideBy(2)._subtract(this._centerPoint);if(1===s&&0===r.x&&0===r.y)return;this._center=i.unproject(i.project(this._pinchStartLatLng,this._zoom).subtract(r),this._zoom)}this._moved||(i._moveStart(!0,!1),this._moved=!0),g(this._animRequest);var a=e(i._move,i,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=f(a,this,!0),Pt(t)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,g(this._animRequest),ft(document,"touchmove",this._onTouchMove),ft(document,"touchend",this._onTouchEnd),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});be.addInitHook("addHandler","touchZoom",Zn),be.BoxZoom=bn,be.DoubleClickZoom=Tn,be.Drag=zn,be.Keyboard=Mn,be.ScrollWheelZoom=Cn,be.Tap=Sn,be.TouchZoom=Zn,Object.freeze=ti,t.version="1.4.0",t.Control=Te,t.control=ze,t.Browser=Qi,t.Evented=ci,t.Mixin=Be,t.Util=ui,t.Class=v,t.Handler=Ee,t.extend=i,t.bind=e,t.stamp=n,t.setOptions=l,t.DomEvent=Pe,t.DomUtil=ve,t.PosAnimation=Le,t.Draggable=Re,t.LineUtil=Ne,t.PolyUtil=De,t.Point=x,t.point=w,t.Bounds=P,t.bounds=b,t.Transformation=S,t.transformation=Z,t.Projection=He,t.LatLng=M,t.latLng=C,t.LatLngBounds=T,t.latLngBounds=z,t.CRS=di,t.GeoJSON=sn,t.geoJSON=Xt,t.geoJson=an,t.Layer=qe,t.LayerGroup=Ge,t.layerGroup=function(t,i){return new Ge(t,i)},t.FeatureGroup=Ke,t.featureGroup=function(t){return new Ke(t)},t.ImageOverlay=hn,t.imageOverlay=function(t,i,e){return new hn(t,i,e)},t.VideoOverlay=un,t.videoOverlay=function(t,i,e){return new un(t,i,e)},t.DivOverlay=ln,t.Popup=cn,t.popup=function(t,i){return new cn(t,i)},t.Tooltip=_n,t.tooltip=function(t,i){return new _n(t,i)},t.Icon=Ye,t.icon=function(t){return new Ye(t)},t.DivIcon=dn,t.divIcon=function(t){return new dn(t)},t.Marker=$e,t.marker=function(t,i){return new $e(t,i)},t.TileLayer=mn,t.tileLayer=Jt,t.GridLayer=pn,t.gridLayer=function(t){return new pn(t)},t.SVG=Pn,t.svg=Qt,t.Renderer=gn,t.Canvas=vn,t.canvas=$t,t.Path=Qe,t.CircleMarker=tn,t.circleMarker=function(t,i){return new tn(t,i)},t.Circle=en,t.circle=function(t,i,e){return new en(t,i,e)},t.Polyline=nn,t.polyline=function(t,i){return new nn(t,i)},t.Polygon=on,t.polygon=function(t,i){return new on(t,i)},t.Rectangle=Ln,t.rectangle=function(t,i){return new Ln(t,i)},t.Map=be,t.map=function(t,i){return new be(t,i)};var En=window.L;t.noConflict=function(){return window.L=En,this},window.L=t});
!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((t=t||self).vega={})}(this,function(t){"use strict";function n(t,n,e){return t.fields=n||[],t.fname=e,t}function e(t){return null==t?null:t.fname}function r(t){return null==t?null:t.fields}function i(t){throw Error(t)}function a(t){var n,e,r,a=[],u=null,o=0,s=t.length,l="";function c(){a.push(l+t.substring(n,e)),l="",n=e+1}for(t+="",n=e=0;e<s;++e)if("\\"===(r=t[e]))l+=t.substring(n,e),n=++e;else if(r===u)c(),u=null,o=-1;else{if(u)continue;n===o&&'"'===r?(n=e+1,u=r):n===o&&"'"===r?(n=e+1,u=r):"."!==r||o?"["===r?(e>n&&c(),o=n=e+1):"]"===r&&(o||i("Access path missing open bracket: "+t),o>0&&c(),o=0,n=e+1):e>n?c():n=e+1}return o&&i("Access path missing closing bracket: "+t),u&&i("Access path missing closing quote: "+t),e>n&&(e++,c()),a}var u=Array.isArray;function o(t){return t===Object(t)}function s(t){return"string"==typeof t}function l(t){return u(t)?"["+t.map(l)+"]":o(t)||s(t)?JSON.stringify(t).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):t}function c(t,e){var r=a(t),i="return _["+r.map(l).join("][")+"];";return n(Function("_",i),[t=1===r.length?r[0]:t],e||t)}var f=[],h=c("id"),d=n(function(t){return t},f,"identity"),p=n(function(){return 0},f,"zero"),g=n(function(){return 1},f,"one"),v=n(function(){return!0},f,"true"),m=n(function(){return!1},f,"false");function y(t,n,e){var r=[n].concat([].slice.call(e));console[t](...r)}var _=0,x=1,b=2,w=3,A=4;function k(t,n){var e=t||_;return{level:function(t){return arguments.length?(e=+t,this):e},error:function(){return e>=x&&y(n||"error","ERROR",arguments),this},warn:function(){return e>=b&&y(n||"warn","WARN",arguments),this},info:function(){return e>=w&&y(n||"log","INFO",arguments),this},debug:function(){return e>=A&&y(n||"log","DEBUG",arguments),this}}}function M(t){return t[t.length-1]}function E(t){return null==t||""===t?null:+t}function C(t){return function(n){return t*Math.exp(n)}}function D(t){return function(n){return Math.log(t*n)}}function F(t){return function(n){return Math.sign(n)*Math.log1p(Math.abs(n/t))}}function S(t){return function(n){return Math.sign(n)*Math.expm1(Math.abs(n))*t}}function B(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function O(t,n,e,r){var i=e(t[0]),a=e(M(t)),u=(a-i)*n;return[r(i-u),r(a-u)]}function z(t,n){return O(t,n,E,d)}function N(t,n){var e=Math.sign(t[0]);return O(t,n,D(e),C(e))}function T(t,n,e){return O(t,n,B(e),B(1/e))}function R(t,n,e){return O(t,n,F(e),S(e))}function P(t,n,e,r,i){var a=r(t[0]),u=r(M(t)),o=null!=n?r(n):(a+u)/2;return[i(o+(a-o)*e),i(o+(u-o)*e)]}function L(t,n,e){return P(t,n,e,E,d)}function q(t,n,e){var r=Math.sign(t[0]);return P(t,n,e,D(r),C(r))}function U(t,n,e,r){return P(t,n,e,B(r),B(1/r))}function j(t,n,e,r){return P(t,n,e,F(r),S(r))}function $(t){return 1+~~(new Date(t).getMonth()/3)}function I(t){return 1+~~(new Date(t).getUTCMonth()/3)}function W(t){return null!=t?u(t)?t:[t]:[]}function H(t,n,e){var r,i=t[0],a=t[1];return a<i&&(r=a,a=i,i=r),(r=a-i)>=e-n?[n,e]:[i=Math.min(Math.max(i,n),e-r),i+r]}function Y(t){return"function"==typeof t}function V(t,e){var i,u,o,s,c,f,h,d,p,g=[],v=(t=W(t)).map(function(t,n){return null==t?null:(g.push(n),Y(t)?t:a(t).map(l).join("]["))}),m=g.length-1,y=W(e),_="var u,v;return ";if(m<0)return null;for(u=0;u<=m;++u)Y(o=v[i=g[u]])?(s="(u=this."+(f="f"+i)+"(a))",c="(v=this."+f+"(b))",(h=h||{})[f]=o):(s="(u=a["+o+"])",c="(v=b["+o+"])"),f="((v=v instanceof Date?+v:v),(u=u instanceof Date?+u:u))","descending"!==y[i]?(p=1,d=-1):(p=-1,d=1),_+="("+s+"<"+c+"||u==null)&&v!=null?"+d+":(u>v||v==null)&&u!=null?"+p+":"+f+"!==u&&v===v?"+d+":v!==v&&u===u?"+p+(i<m?":":":0");return o=Function("a","b",_+";"),h&&(o=o.bind(h)),t=t.reduce(function(t,n){return Y(n)?(r(n)||[]).forEach(function(n){t[n]=1}):null!=n&&(t[n+""]=1),t},{}),n(o,Object.keys(t))}function G(t){return Y(t)?t:function(){return t}}function X(t,n){var e,r;function i(){n(r),e=r=null}return function(n){r=n,e&&clearTimeout(e),e=setTimeout(i,t)}}function Z(t){for(var n,e,r=1,i=arguments.length;r<i;++r)for(e in n=arguments[r])t[e]=n[e];return t}function J(t,n){var e,r,i,a,u=0;if(t&&(e=t.length))if(null==n){for(r=t[u];null==r||r!=r;r=t[++u]);for(i=a=r;u<e;++u)null!=(r=t[u])&&(r<i&&(i=r),r>a&&(a=r))}else{for(r=n(t[u]);null==r||r!=r;r=n(t[++u]));for(i=a=r;u<e;++u)null!=(r=n(t[u]))&&(r<i&&(i=r),r>a&&(a=r))}return[i,a]}function Q(t,n){var e,r,i,a,u,o=-1,s=t.length;if(null==n){for(;++o<s;)if(null!=(r=t[o])&&r>=r){e=i=r;break}for(a=u=o;++o<s;)null!=(r=t[o])&&(e>r&&(e=r,a=o),i<r&&(i=r,u=o))}else{for(;++o<s;)if(null!=(r=n(t[o],o,t))&&r>=r){e=i=r;break}for(a=u=o;++o<s;)null!=(r=n(t[o],o,t))&&(e>r&&(e=r,a=o),i<r&&(i=r,u=o))}return[a,u]}var K={};function tt(t){var n,e,r={};function i(t){return r.hasOwnProperty(t)&&r[t]!==K}return n={size:0,empty:0,object:r,has:i,get:function(t){return i(t)?r[t]:void 0},set:function(t,e){return i(t)||(++n.size,r[t]===K&&--n.empty),r[t]=e,this},delete:function(t){return i(t)&&(--n.size,++n.empty,r[t]=K),this},clear:function(){n.size=n.empty=0,n.object=r={}},test:function(t){return arguments.length?(e=t,n):e},clean:function(){var t,i,a={},u=0;for(t in r)(i=r[t])===K||e&&e(i)||(a[t]=i,++u);n.size=u,n.empty=0,n.object=r=a}},t&&Object.keys(t).forEach(function(e){n.set(e,t[e])}),n}function nt(t,n,e,r,i,a){if(!e&&0!==e)return a;var u,o,s=t[0],l=M(t),c=+e;return l<s&&(u=s,s=l,l=u),(u=Math.abs(n-s))<(o=Math.abs(l-n))&&u<=c?r:o<=c?i:a}function et(t,n){var e=t.prototype=Object.create(n.prototype);return e.constructor=t,e}function rt(t,n,e,r){var i,a=n[0],u=n[n.length-1];return a>u&&(i=a,a=u,u=i),r=void 0===r||r,((e=void 0===e||e)?a<=t:a<t)&&(r?t<=u:t<u)}function it(t){return"boolean"==typeof t}function at(t){return"[object Date]"===Object.prototype.toString.call(t)}function ut(t){return"number"==typeof t}function ot(t){return"[object RegExp]"===Object.prototype.toString.call(t)}function st(t,e){return t&&(t=e?W(t).map(function(t){return t.replace(/\\(.)/g,"$1")}):W(t)),n(t&&t.length?Function("_","return ''+"+t.map(function(t){return"_["+(e?l(t):a(t).map(l).join("]["))+"]"}).join("+'|'+")+";"):function(){return""},t,"key")}function lt(t,n){const e=t[0],r=M(t),i=+n;return i?1===i?r:e+i*(r-e):e}function ct(t,n,e,r){var i=n.length,a=e.length;if(!a)return n;if(!i)return e;for(var u=r||new n.constructor(i+a),o=0,s=0,l=0;o<i&&s<a;++l)u[l]=t(n[o],e[s])>0?e[s++]:n[o++];for(;o<i;++o,++l)u[l]=n[o];for(;s<a;++s,++l)u[l]=e[s];return u}function ft(t,n){for(var e="";--n>=0;)e+=t;return e}function ht(t,n,e,r){var i=e||" ",a=t+"",u=n-a.length;return u<=0?a:"left"===r?ft(i,u)+a:"center"===r?ft(i,~~(u/2))+a+ft(i,Math.ceil(u/2)):a+ft(i,u)}function dt(t){return M(t)-t[0]||0}function pt(t){return null==t||""===t?null:!(!t||"false"===t||"0"===t)&&!!t}function gt(t){return ut(t)?t:at(t)?t:Date.parse(t)}function vt(t,n){return n=n||gt,null==t||""===t?null:n(t)}function mt(t){return null==t||""===t?null:t+""}function yt(t){for(var n={},e=0,r=t.length;e<r;++e)n[t[e]]=!0;return n}function _t(t,n,e,r){var i=null!=r?r:"",a=t+"",u=a.length,o=Math.max(0,n-i.length);return u<=n?a:"left"===e?i+a.slice(u-o):"center"===e?a.slice(0,Math.ceil(o/2))+i+a.slice(u-~~(o/2)):a.slice(0,o)+i}function xt(t,n,e){if(t){var r,i=0,a=t.length;if(n)for(;i<a;++i)(r=n(t[i]))&&e(r,i,t);else t.forEach(e)}}function bt(t){var n=t||d,e=[],r={};return e.add=function(t){var i=n(t);return r[i]||(r[i]=1,e.push(t)),e},e.remove=function(t){var i,a=n(t);return r[a]&&(r[a]=0,(i=e.indexOf(t))>=0&&e.splice(i,1)),e},e}async function wt(t,n){try{await n(t)}catch(n){t.error(n)}}var At=Symbol("vega_id"),kt=1;function Mt(t){return!(!t||!Et(t))}function Et(t){return t[At]}function Ct(t,n){return t[At]=n,t}function Dt(t){var n=t===Object(t)?t:{data:t};return Et(n)?n:Ct(n,kt++)}function Ft(t){return St(t,Dt({}))}function St(t,n){for(var e in t)n[e]=t[e];return n}function Bt(t,n){return Ct(n,Et(t))}function Ot(t){return t&&t.constructor===zt}function zt(){var t=[],n=[],e=[],r=[],i=[],a=!1;return{constructor:zt,insert:function(n){for(var e=W(n),r=0,i=e.length;r<i;++r)t.push(e[r]);return this},remove:function(t){for(var e=Y(t)?r:n,i=W(t),a=0,u=i.length;a<u;++a)e.push(i[a]);return this},modify:function(t,n,r){var a={field:n,value:G(r)};return Y(t)?(a.filter=t,i.push(a)):(a.tuple=t,e.push(a)),this},encode:function(t,n){return Y(t)?i.push({filter:t,field:n}):e.push({tuple:t,field:n}),this},reflow:function(){return a=!0,this},pulse:function(u,o){var s,l,c,f,h,d,p={},g={};for(s=0,l=o.length;s<l;++s)p[Et(o[s])]=1;for(s=0,l=n.length;s<l;++s)p[Et(h=n[s])]=-1;for(s=0,l=r.length;s<l;++s)f=r[s],o.forEach(function(t){f(t)&&(p[Et(t)]=-1)});for(s=0,l=t.length;s<l;++s)d=Et(h=t[s]),p[d]?p[d]=1:u.add.push(Dt(t[s]));for(s=0,l=o.length;s<l;++s)h=o[s],p[Et(h)]<0&&u.rem.push(h);function v(t,n,e){e?t[n]=e(t):u.encode=n,a||(g[Et(t)]=t)}for(s=0,l=e.length;s<l;++s)h=(c=e[s]).tuple,f=c.field,(d=p[Et(h)])>0&&(v(h,f,c.value),u.modifies(f));for(s=0,l=i.length;s<l;++s)c=i[s],f=c.filter,o.forEach(function(t){f(t)&&p[Et(t)]>0&&v(t,c.field,c.value)}),u.modifies(c.field);if(a)u.mod=n.length||r.length?o.filter(function(t){return p[Et(t)]>0}):o.slice();else for(d in g)u.mod.push(g[d]);return u}}}var Nt="_:mod:_";function Tt(){Object.defineProperty(this,Nt,{writable:!0,value:{}})}var Rt=Tt.prototype;Rt.set=function(t,n,e,r){var i=this,a=i[t],o=i[Nt];return null!=n&&n>=0?(a[n]!==e||r)&&(a[n]=e,o[n+":"+t]=-1,o[t]=-1):(a!==e||r)&&(i[t]=e,o[t]=u(e)?1+e.length:-1),i},Rt.modified=function(t,n){var e,r=this[Nt];if(!arguments.length){for(e in r)if(r[e])return!0;return!1}if(u(t)){for(e=0;e<t.length;++e)if(r[t[e]])return!0;return!1}return null!=n&&n>=0?n+1<r[t]||!!r[n+":"+t]:!!r[t]},Rt.clear=function(){return this[Nt]={},this};var Pt=0,Lt=new Tt;function qt(t,n,e,r){this.id=++Pt,this.value=t,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,n&&(this._update=n),e&&this.parameters(e,r)}var Ut=qt.prototype;function jt(t){return function(n){var e=this.flags;return 0===arguments.length?!!(e&t):(this.flags=n?e|t:e&~t,this)}}Ut.targets=function(){return this._targets||(this._targets=bt(h))},Ut.set=function(t){return this.value!==t?(this.value=t,1):0},Ut.skip=jt(1),Ut.modified=jt(2),Ut.parameters=function(t,n,e){n=!1!==n;var r,a,o,s,l=this,c=l._argval=l._argval||new Tt,f=l._argops=l._argops||[],h=[];function d(t,e,r){r instanceof qt?(r!==l&&(n&&r.targets().add(l),h.push(r)),f.push({op:r,name:t,index:e})):c.set(t,e,r)}for(r in t)if(a=t[r],"pulse"===r)W(a).forEach(function(t){t instanceof qt?t!==l&&(t.targets().add(l),h.push(t)):i("Pulse parameters must be operator instances.")}),l.source=a;else if(u(a))for(c.set(r,-1,Array(o=a.length)),s=0;s<o;++s)d(r,s,a[s]);else d(r,-1,a);return this.marshall().clear(),e&&(f.initonly=!0),h},Ut.marshall=function(t){var n,e,r,i,a,u=this._argval||Lt,o=this._argops;if(o){for(e=0,r=o.length;e<r;++e)a=(i=(n=o[e]).op).modified()&&i.stamp===t,u.set(n.name,n.index,i.value,a);if(o.initonly){for(e=0;e<r;++e)(n=o[e]).op.targets().remove(this);this._argops=null,this._update=null}}return u},Ut.evaluate=function(t){var n=this._update;if(n){var e=this.marshall(t.stamp),r=n.call(this,e,t);if(e.clear(),r!==this.value)this.value=r;else if(!this.modified())return t.StopPropagation}},Ut.run=function(t){return t.stamp<=this.stamp?t.StopPropagation:(this.skip()?(this.skip(!1),n=0):n=this.evaluate(t),this.stamp=t.stamp,this.pulse=n||t);var n};var $t=0;function It(t,n,e){this.id=++$t,this.value=null,e&&(this.receive=e),t&&(this._filter=t),n&&(this._apply=n)}function Wt(t,n,e){return new It(t,n,e)}var Ht=It.prototype;Ht._filter=v,Ht._apply=d,Ht.targets=function(){return this._targets||(this._targets=bt(h))},Ht.consume=function(t){return arguments.length?(this._consume=!!t,this):!!this._consume},Ht.receive=function(t){if(this._filter(t)){for(var n=this.value=this._apply(t),e=this._targets,r=e?e.length:0,i=0;i<r;++i)e[i].receive(n);this._consume&&(t.preventDefault(),t.stopPropagation())}},Ht.filter=function(t){var n=Wt(t);return this.targets().add(n),n},Ht.apply=function(t){var n=Wt(null,t);return this.targets().add(n),n},Ht.merge=function(){var t=Wt();this.targets().add(t);for(var n=0,e=arguments.length;n<e;++n)arguments[n].targets().add(t);return t},Ht.throttle=function(t){var n=-1;return this.filter(function(){var e=Date.now();return e-n>t?(n=e,1):0})},Ht.debounce=function(t){var n=Wt();return this.targets().add(Wt(null,null,X(t,function(t){var e=t.dataflow;n.receive(t),e&&e.run&&e.run()}))),n},Ht.between=function(t,n){var e=!1;return t.targets().add(Wt(null,null,function(){e=!0})),n.targets().add(Wt(null,null,function(){e=!1})),this.filter(function(){return e})};var Yt=/^([A-Za-z]+:)?\/\//,Vt="file://";async function Gt(t,n){const e=await this.sanitize(t,n),r=e.href;return e.localFile?this.file(r):this.http(r,n)}async function Xt(t,n){n=Z({},this.options,n);const e=this.fileAccess,r={href:null};let a,u,o,s;return null!=t&&"string"==typeof t||i("Sanitize failure, invalid URI: "+l(t)),u=Yt.test(t),(s=n.baseURL)&&!u&&(t.startsWith("/")||"/"===s[s.length-1]||(t="/"+t),t=s+t),o=(a=t.startsWith(Vt))||"file"===n.mode||"http"!==n.mode&&!u&&e,a?t=t.slice(Vt.length):t.startsWith("//")&&("file"===n.defaultProtocol?(t=t.slice(2),o=!0):t=(n.defaultProtocol||"http")+":"+t),Object.defineProperty(r,"localFile",{value:!!o}),r.href=t,n.target&&(r.target=n.target+""),n.rel&&(r.rel=n.rel+""),r}function Zt(t){return t?function(n){return new Promise(function(e,r){t.readFile(n,function(t,n){t?r(t):e(n)})})}:Jt}async function Jt(){i("No file system access.")}function Qt(t){return t?async function(n,e){const r=Z({},this.options.http,e),a=e&&e.response,u=await t(n,r);return u.ok?Y(u[a])?u[a]():u.text():i(u.status+""+u.statusText)}:Kt}async function Kt(){i("No HTTP fetch method available.")}var tn={boolean:pt,integer:E,number:E,date:vt,string:mt,unknown:d},nn=[function(t){return"true"===t||"false"===t||!0===t||!1===t},function(t){return un(t)&&(t=+t)==~~t},un,function(t){return!isNaN(Date.parse(t))}],en=["boolean","integer","number","date"];function rn(t,n){if(!t||!t.length)return"unknown";var e,r,i,a,u=0,o=t.length,s=nn.length,l=nn.map(function(t,n){return n+1});for(r=0,o=t.length;r<o;++r)for(e=n?t[r][n]:t[r],i=0;i<s;++i)if(l[i]&&(null!=(a=e)&&a==a)&&!nn[i](e)&&(l[i]=0,++u===nn.length))return"string";return u=l.reduce(function(t,n){return 0===t?n:t},0)-1,en[u]}function an(t,n){return n.reduce(function(n,e){return n[e]=rn(t,e),n},{})}function un(t){return!(isNaN(+t)||t instanceof Date)}var on={},sn={},ln=34,cn=10,fn=13;function hn(t){return new Function("d","return {"+t.map(function(t,n){return JSON.stringify(t)+": d["+n+"]"}).join(",")+"}")}function dn(t){var n=Object.create(null),e=[];return t.forEach(function(t){for(var r in t)r in n||e.push(n[r]=r)}),e}function pn(t,n){var e=t+"",r=e.length;return r<n?new Array(n-r+1).join(0)+e:e}function gn(t){var n,e=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),a=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((n=t.getUTCFullYear())<0?"-"+pn(-n,6):n>9999?"+"+pn(n,6):pn(n,4))+"-"+pn(t.getUTCMonth()+1,2)+"-"+pn(t.getUTCDate(),2)+(a?"T"+pn(e,2)+":"+pn(r,2)+":"+pn(i,2)+"."+pn(a,3)+"Z":i?"T"+pn(e,2)+":"+pn(r,2)+":"+pn(i,2)+"Z":r||e?"T"+pn(e,2)+":"+pn(r,2)+"Z":"")}function vn(t){var n=new RegExp('["'+t+"\n\r]"),e=t.charCodeAt(0);function r(t,n){var r,i=[],a=t.length,u=0,o=0,s=a<=0,l=!1;function c(){if(s)return sn;if(l)return l=!1,on;var n,r,i=u;if(t.charCodeAt(i)===ln){for(;u++<a&&t.charCodeAt(u)!==ln||t.charCodeAt(++u)===ln;);return(n=u)>=a?s=!0:(r=t.charCodeAt(u++))===cn?l=!0:r===fn&&(l=!0,t.charCodeAt(u)===cn&&++u),t.slice(i+1,n-1).replace(/""/g,'"')}for(;u<a;){if((r=t.charCodeAt(n=u++))===cn)l=!0;else if(r===fn)l=!0,t.charCodeAt(u)===cn&&++u;else if(r!==e)continue;return t.slice(i,n)}return s=!0,t.slice(i,a)}for(t.charCodeAt(a-1)===cn&&--a,t.charCodeAt(a-1)===fn&&--a;(r=c())!==sn;){for(var f=[];r!==on&&r!==sn;)f.push(r),r=c();n&&null==(f=n(f,o++))||i.push(f)}return i}function i(n,e){return n.map(function(n){return e.map(function(t){return u(n[t])}).join(t)})}function a(n){return n.map(u).join(t)}function u(t){return null==t?"":t instanceof Date?gn(t):n.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,n){var e,i,a=r(t,function(t,r){if(e)return e(t,r-1);i=t,e=n?function(t,n){var e=hn(t);return function(r,i){return n(e(r),i,t)}}(t,n):hn(t)});return a.columns=i||[],a},parseRows:r,format:function(n,e){return null==e&&(e=dn(n)),[e.map(u).join(t)].concat(i(n,e)).join("\n")},formatBody:function(t,n){return null==n&&(n=dn(t)),i(t,n).join("\n")},formatRows:function(t){return t.map(a).join("\n")}}}vn(","),vn("\t");function mn(t){const n=function(n,e){const r={delimiter:t};return yn(n,e?Z(e,r):r)};return n.responseType="text",n}function yn(t,n){return n.header&&(t=n.header.map(l).join(n.delimiter)+"\n"+t),vn(n.delimiter).parse(t+"")}function _n(t,n){const e=n&&n.property?c(n.property):d;return!o(t)||(r=t,"function"==typeof Buffer&&Y(Buffer.isBuffer)&&Buffer.isBuffer(r))?e(JSON.parse(t)):function(t,n){return n&&n.copy?JSON.parse(JSON.stringify(t)):t}(e(t));var r}function xn(t){return t}function bn(t,n){return"GeometryCollection"===n.type?{type:"FeatureCollection",features:n.geometries.map(function(n){return wn(t,n)})}:wn(t,n)}function wn(t,n){var e=n.id,r=n.bbox,i=null==n.properties?{}:n.properties,a=An(t,n);return null==e&&null==r?{type:"Feature",properties:i,geometry:a}:null==r?{type:"Feature",id:e,properties:i,geometry:a}:{type:"Feature",id:e,bbox:r,properties:i,geometry:a}}function An(t,n){var e=function(t){if(null==t)return xn;var n,e,r=t.scale[0],i=t.scale[1],a=t.translate[0],u=t.translate[1];return function(t,o){o||(n=e=0);var s=2,l=t.length,c=new Array(l);for(c[0]=(n+=t[0])*r+a,c[1]=(e+=t[1])*i+u;s<l;)c[s]=t[s],++s;return c}}(t.transform),r=t.arcs;function i(t,n){n.length&&n.pop();for(var i=r[t<0?~t:t],a=0,u=i.length;a<u;++a)n.push(e(i[a],a));t<0&&function(t,n){for(var e,r=t.length,i=r-n;i<--r;)e=t[i],t[i++]=t[r],t[r]=e}(n,u)}function a(t){return e(t)}function u(t){for(var n=[],e=0,r=t.length;e<r;++e)i(t[e],n);return n.length<2&&n.push(n[0]),n}function o(t){for(var n=u(t);n.length<4;)n.push(n[0]);return n}function s(t){return t.map(o)}return function t(n){var e,r=n.type;switch(r){case"GeometryCollection":return{type:r,geometries:n.geometries.map(t)};case"Point":e=a(n.coordinates);break;case"MultiPoint":e=n.coordinates.map(a);break;case"LineString":e=u(n.arcs);break;case"MultiLineString":e=n.arcs.map(u);break;case"Polygon":e=s(n.arcs);break;case"MultiPolygon":e=n.arcs.map(s);break;default:return null}return{type:r,coordinates:e}}(n)}function kn(t,n){var e={},r={},i={},a=[],u=-1;function o(t,n){for(var r in t){var i=t[r];delete n[i.start],delete i.start,delete i.end,i.forEach(function(t){e[t<0?~t:t]=1}),a.push(i)}}return n.forEach(function(e,r){var i,a=t.arcs[e<0?~e:e];a.length<3&&!a[1][0]&&!a[1][1]&&(i=n[++u],n[u]=e,n[r]=i)}),n.forEach(function(n){var e,a,u=function(n){var e,r=t.arcs[n<0?~n:n],i=r[0];t.transform?(e=[0,0],r.forEach(function(t){e[0]+=t[0],e[1]+=t[1]})):e=r[r.length-1];return n<0?[e,i]:[i,e]}(n),o=u[0],s=u[1];if(e=i[o])if(delete i[e.end],e.push(n),e.end=s,a=r[s]){delete r[a.start];var l=a===e?e:e.concat(a);r[l.start=e.start]=i[l.end=a.end]=l}else r[e.start]=i[e.end]=e;else if(e=r[s])if(delete r[e.start],e.unshift(n),e.start=o,a=i[o]){delete i[a.end];var c=a===e?e:a.concat(e);r[c.start=a.start]=i[c.end=e.end]=c}else r[e.start]=i[e.end]=e;else r[(e=[n]).start=o]=i[e.end=s]=e}),o(i,r),o(r,i),n.forEach(function(t){e[t<0?~t:t]||a.push([t])}),a}function Mn(t){return An(t,function(t,n,e){var r,i,a;if(arguments.length>1)r=function(t,n,e){var r,i=[],a=[];function u(t){var n=t<0?~t:t;(a[n]||(a[n]=[])).push({i:t,g:r})}function o(t){t.forEach(u)}function s(t){t.forEach(o)}return function t(n){switch(r=n,n.type){case"GeometryCollection":n.geometries.forEach(t);break;case"LineString":o(n.arcs);break;case"MultiLineString":case"Polygon":s(n.arcs);break;case"MultiPolygon":n.arcs.forEach(s)}}(n),a.forEach(null==e?function(t){i.push(t[0].i)}:function(t){e(t[0].g,t[t.length-1].g)&&i.push(t[0].i)}),i}(0,n,e);else for(i=0,r=new Array(a=t.arcs.length);i<a;++i)r[i]=i;return{type:"MultiLineString",arcs:kn(t,r)}}.apply(this,arguments))}function En(t,n){var e,r,a;return t=_n(t,n),e=n&&(a=n.feature)?bn:n&&(a=n.mesh)?Mn:i("Missing TopoJSON feature or mesh parameter."),(r=(r=t.objects[a])?e(t,r):i("Invalid TopoJSON object: "+a))&&r.features||[r]}yn.responseType="text",_n.responseType="json",En.responseType="json";const Cn={dsv:yn,csv:mn(","),tsv:mn("\t"),json:_n,topojson:En};function Dn(t,n){return arguments.length>1?(Cn[t]=n,this):Cn.hasOwnProperty(t)?Cn[t]:null}function Fn(t){const n=Dn(t);return n&&n.responseType||"text"}var Sn=new Date,Bn=new Date;function On(t,n,e,r){function i(n){return t(n=new Date(+n)),n}return i.floor=i,i.ceil=function(e){return t(e=new Date(e-1)),n(e,1),t(e),e},i.round=function(t){var n=i(t),e=i.ceil(t);return t-n<e-t?n:e},i.offset=function(t,e){return n(t=new Date(+t),null==e?1:Math.floor(e)),t},i.range=function(e,r,a){var u,o=[];if(e=i.ceil(e),a=null==a?1:Math.floor(a),!(e<r&&a>0))return o;do{o.push(u=new Date(+e)),n(e,a),t(e)}while(u<e&&e<r);return o},i.filter=function(e){return On(function(n){if(n>=n)for(;t(n),!e(n);)n.setTime(n-1)},function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;n(t,-1),!e(t););else for(;--r>=0;)for(;n(t,1),!e(t););})},e&&(i.count=function(n,r){return Sn.setTime(+n),Bn.setTime(+r),t(Sn),t(Bn),Math.floor(e(Sn,Bn))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(n){return r(n)%t==0}:function(n){return i.count(0,n)%t==0}):i:null}),i}var zn=On(function(){},function(t,n){t.setTime(+t+n)},function(t,n){return n-t});zn.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?On(function(n){n.setTime(Math.floor(n/t)*t)},function(n,e){n.setTime(+n+e*t)},function(n,e){return(e-n)/t}):zn:null};var Nn=6e4,Tn=6048e5,Rn=On(function(t){t.setTime(t-t.getMilliseconds())},function(t,n){t.setTime(+t+1e3*n)},function(t,n){return(n-t)/1e3},function(t){return t.getUTCSeconds()}),Pn=On(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())},function(t,n){t.setTime(+t+n*Nn)},function(t,n){return(n-t)/Nn},function(t){return t.getMinutes()}),Ln=On(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-t.getMinutes()*Nn)},function(t,n){t.setTime(+t+36e5*n)},function(t,n){return(n-t)/36e5},function(t){return t.getHours()}),qn=On(function(t){t.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+n)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Nn)/864e5},function(t){return t.getDate()-1});function Un(t){return On(function(n){n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+7*n)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Nn)/Tn})}var jn=Un(0),$n=Un(1),In=(Un(2),Un(3),Un(4)),Wn=(Un(5),Un(6),On(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,n){t.setMonth(t.getMonth()+n)},function(t,n){return n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear())},function(t){return t.getMonth()})),Hn=On(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n)},function(t,n){return n.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});Hn.every=function(t){return isFinite(t=Math.floor(t))&&t>0?On(function(n){n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)},function(n,e){n.setFullYear(n.getFullYear()+e*t)}):null};var Yn=On(function(t){t.setUTCSeconds(0,0)},function(t,n){t.setTime(+t+n*Nn)},function(t,n){return(n-t)/Nn},function(t){return t.getUTCMinutes()}),Vn=On(function(t){t.setUTCMinutes(0,0,0)},function(t,n){t.setTime(+t+36e5*n)},function(t,n){return(n-t)/36e5},function(t){return t.getUTCHours()}),Gn=On(function(t){t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+n)},function(t,n){return(n-t)/864e5},function(t){return t.getUTCDate()-1});function Xn(t){return On(function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+7*n)},function(t,n){return(n-t)/Tn})}var Zn=Xn(0),Jn=Xn(1),Qn=(Xn(2),Xn(3),Xn(4)),Kn=(Xn(5),Xn(6),On(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCMonth(t.getUTCMonth()+n)},function(t,n){return n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()})),te=On(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)},function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});function ne(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ee(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function re(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}te.every=function(t){return isFinite(t=Math.floor(t))&&t>0?On(function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},function(n,e){n.setUTCFullYear(n.getUTCFullYear()+e*t)}):null};var ie,ae,ue,oe,se,le={"-":"",_:" ",0:"0"},ce=/^\s*\d+/,fe=/^%/,he=/[\\^$*+?|[\]().{}]/g;function de(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<e?new Array(e-a+1).join(n)+i:i)}function pe(t){return t.replace(he,"\\$&")}function ge(t){return new RegExp("^(?:"+t.map(pe).join("|")+")","i")}function ve(t){for(var n={},e=-1,r=t.length;++e<r;)n[t[e].toLowerCase()]=e;return n}function me(t,n,e){var r=ce.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function ye(t,n,e){var r=ce.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function _e(t,n,e){var r=ce.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function xe(t,n,e){var r=ce.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function be(t,n,e){var r=ce.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function we(t,n,e){var r=ce.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function Ae(t,n,e){var r=ce.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function ke(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function Me(t,n,e){var r=ce.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function Ee(t,n,e){var r=ce.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function Ce(t,n,e){var r=ce.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function De(t,n,e){var r=ce.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function Fe(t,n,e){var r=ce.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function Se(t,n,e){var r=ce.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function Be(t,n,e){var r=ce.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function Oe(t,n,e){var r=ce.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function ze(t,n,e){var r=fe.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function Ne(t,n,e){var r=ce.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function Te(t,n,e){var r=ce.exec(n.slice(e));return r?(t.Q=1e3*+r[0],e+r[0].length):-1}function Re(t,n){return de(t.getDate(),n,2)}function Pe(t,n){return de(t.getHours(),n,2)}function Le(t,n){return de(t.getHours()%12||12,n,2)}function qe(t,n){return de(1+qn.count(Hn(t),t),n,3)}function Ue(t,n){return de(t.getMilliseconds(),n,3)}function je(t,n){return Ue(t,n)+"000"}function $e(t,n){return de(t.getMonth()+1,n,2)}function Ie(t,n){return de(t.getMinutes(),n,2)}function We(t,n){return de(t.getSeconds(),n,2)}function He(t){var n=t.getDay();return 0===n?7:n}function Ye(t,n){return de(jn.count(Hn(t),t),n,2)}function Ve(t,n){var e=t.getDay();return t=e>=4||0===e?In(t):In.ceil(t),de(In.count(Hn(t),t)+(4===Hn(t).getDay()),n,2)}function Ge(t){return t.getDay()}function Xe(t,n){return de($n.count(Hn(t),t),n,2)}function Ze(t,n){return de(t.getFullYear()%100,n,2)}function Je(t,n){return de(t.getFullYear()%1e4,n,4)}function Qe(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+de(n/60|0,"0",2)+de(n%60,"0",2)}function Ke(t,n){return de(t.getUTCDate(),n,2)}function tr(t,n){return de(t.getUTCHours(),n,2)}function nr(t,n){return de(t.getUTCHours()%12||12,n,2)}function er(t,n){return de(1+Gn.count(te(t),t),n,3)}function rr(t,n){return de(t.getUTCMilliseconds(),n,3)}function ir(t,n){return rr(t,n)+"000"}function ar(t,n){return de(t.getUTCMonth()+1,n,2)}function ur(t,n){return de(t.getUTCMinutes(),n,2)}function or(t,n){return de(t.getUTCSeconds(),n,2)}function sr(t){var n=t.getUTCDay();return 0===n?7:n}function lr(t,n){return de(Zn.count(te(t),t),n,2)}function cr(t,n){var e=t.getUTCDay();return t=e>=4||0===e?Qn(t):Qn.ceil(t),de(Qn.count(te(t),t)+(4===te(t).getUTCDay()),n,2)}function fr(t){return t.getUTCDay()}function hr(t,n){return de(Jn.count(te(t),t),n,2)}function dr(t,n){return de(t.getUTCFullYear()%100,n,2)}function pr(t,n){return de(t.getUTCFullYear()%1e4,n,4)}function gr(){return"+0000"}function vr(){return"%"}function mr(t){return+t}function yr(t){return Math.floor(+t/1e3)}function _r(t){return ie=function(t){var n=t.dateTime,e=t.date,r=t.time,i=t.periods,a=t.days,u=t.shortDays,o=t.months,s=t.shortMonths,l=ge(i),c=ve(i),f=ge(a),h=ve(a),d=ge(u),p=ve(u),g=ge(o),v=ve(o),m=ge(s),y=ve(s),_={a:function(t){return u[t.getDay()]},A:function(t){return a[t.getDay()]},b:function(t){return s[t.getMonth()]},B:function(t){return o[t.getMonth()]},c:null,d:Re,e:Re,f:je,H:Pe,I:Le,j:qe,L:Ue,m:$e,M:Ie,p:function(t){return i[+(t.getHours()>=12)]},Q:mr,s:yr,S:We,u:He,U:Ye,V:Ve,w:Ge,W:Xe,x:null,X:null,y:Ze,Y:Je,Z:Qe,"%":vr},x={a:function(t){return u[t.getUTCDay()]},A:function(t){return a[t.getUTCDay()]},b:function(t){return s[t.getUTCMonth()]},B:function(t){return o[t.getUTCMonth()]},c:null,d:Ke,e:Ke,f:ir,H:tr,I:nr,j:er,L:rr,m:ar,M:ur,p:function(t){return i[+(t.getUTCHours()>=12)]},Q:mr,s:yr,S:or,u:sr,U:lr,V:cr,w:fr,W:hr,x:null,X:null,y:dr,Y:pr,Z:gr,"%":vr},b={a:function(t,n,e){var r=d.exec(n.slice(e));return r?(t.w=p[r[0].toLowerCase()],e+r[0].length):-1},A:function(t,n,e){var r=f.exec(n.slice(e));return r?(t.w=h[r[0].toLowerCase()],e+r[0].length):-1},b:function(t,n,e){var r=m.exec(n.slice(e));return r?(t.m=y[r[0].toLowerCase()],e+r[0].length):-1},B:function(t,n,e){var r=g.exec(n.slice(e));return r?(t.m=v[r[0].toLowerCase()],e+r[0].length):-1},c:function(t,e,r){return k(t,n,e,r)},d:Ee,e:Ee,f:Oe,H:De,I:De,j:Ce,L:Be,m:Me,M:Fe,p:function(t,n,e){var r=l.exec(n.slice(e));return r?(t.p=c[r[0].toLowerCase()],e+r[0].length):-1},Q:Ne,s:Te,S:Se,u:ye,U:_e,V:xe,w:me,W:be,x:function(t,n,r){return k(t,e,n,r)},X:function(t,n,e){return k(t,r,n,e)},y:Ae,Y:we,Z:ke,"%":ze};function w(t,n){return function(e){var r,i,a,u=[],o=-1,s=0,l=t.length;for(e instanceof Date||(e=new Date(+e));++o<l;)37===t.charCodeAt(o)&&(u.push(t.slice(s,o)),null!=(i=le[r=t.charAt(++o)])?r=t.charAt(++o):i="e"===r?" ":"0",(a=n[r])&&(r=a(e,i)),u.push(r),s=o+1);return u.push(t.slice(s,o)),u.join("")}}function A(t,n){return function(e){var r,i,a=re(1900);if(k(a,t,e+="",0)!=e.length)return null;if("Q"in a)return new Date(a.Q);if("p"in a&&(a.H=a.H%12+12*a.p),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(i=(r=ee(re(a.y))).getUTCDay(),r=i>4||0===i?Jn.ceil(r):Jn(r),r=Gn.offset(r,7*(a.V-1)),a.y=r.getUTCFullYear(),a.m=r.getUTCMonth(),a.d=r.getUTCDate()+(a.w+6)%7):(i=(r=n(re(a.y))).getDay(),r=i>4||0===i?$n.ceil(r):$n(r),r=qn.offset(r,7*(a.V-1)),a.y=r.getFullYear(),a.m=r.getMonth(),a.d=r.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),i="Z"in a?ee(re(a.y)).getUTCDay():n(re(a.y)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,ee(a)):n(a)}}function k(t,n,e,r){for(var i,a,u=0,o=n.length,s=e.length;u<o;){if(r>=s)return-1;if(37===(i=n.charCodeAt(u++))){if(i=n.charAt(u++),!(a=b[i in le?n.charAt(u++):i])||(r=a(t,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}return _.x=w(e,_),_.X=w(r,_),_.c=w(n,_),x.x=w(e,x),x.X=w(r,x),x.c=w(n,x),{format:function(t){var n=w(t+="",_);return n.toString=function(){return t},n},parse:function(t){var n=A(t+="",ne);return n.toString=function(){return t},n},utcFormat:function(t){var n=w(t+="",x);return n.toString=function(){return t},n},utcParse:function(t){var n=A(t,ee);return n.toString=function(){return t},n}}}(t),ae=ie.format,ue=ie.parse,oe=ie.utcFormat,se=ie.utcParse,ie}_r({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Date.prototype.toISOString||oe("%Y-%m-%dT%H:%M:%S.%LZ");+new Date("2000-01-01T00:00:00.000Z")||se("%Y-%m-%dT%H:%M:%S.%LZ");function xr(t,n,e){const r=Dn((n=n||{}).type||"json");return r||i("Unknown data format type: "+n.type),t=r(t,n),n.parse&&function(t,n,e){if(!t.length)return;e=e||ue;var r,i,a,u,o,s,l,c=t.columns||Object.keys(t[0]);"auto"===n&&(n=an(t,c));for(c=Object.keys(n),r=c.map(function(t){var r,i,a=n[t];if(a&&(0===a.indexOf("date:")||0===a.indexOf("utc:")))return("'"===(i=(r=a.split(/:(.+)?/,2))[1])[0]&&"'"===i[i.length-1]||'"'===i[0]&&'"'===i[i.length-1])&&(i=i.slice(1,-1)),"utc"===r[0]?se(i):e(i);if(!tn[a])throw Error("Illegal format pattern: "+t+":"+a);return tn[a]}),u=0,s=t.length,l=c.length;u<s;++u)for(i=t[u],o=0;o<l;++o)a=c[o],i[a]=r[o](i[a])}(t,n.parse,e),t.hasOwnProperty("columns")&&delete t.columns,t}var br=function(t,n){return function(e){return{options:e||{},sanitize:Xt,load:Gt,fileAccess:!!n,file:Zt(n),http:Qt(t)}}}("undefined"!=typeof fetch&&fetch,null);const wr=xr;var Ar={skip:!0};function kr(t,n,e,r,i,a){var u,o,s=Z({},a,Ar);Y(e)||(e=G(e)),void 0===r?u=(n=>t.touch(e(n))):Y(r)?(o=new qt(null,r,i,!1),u=(n=>{o.evaluate(n);const r=e(n),i=o.value;Ot(i)?t.pulse(r,i,a):t.update(r,i,s)})):u=(n=>t.update(e(n),r,s)),n.apply(u)}function Mr(t,n,e,r,i,a){if(void 0===r)n.targets().add(e);else{const u=a||{},o=new qt(null,function(t,n){return n=Y(n)?n:G(n),t?function(e,r){const i=n(e,r);return t.skip()||(t.skip(i!==this.value).value=i),i}:n}(e,r),i,!1);o.modified(u.force),o.rank=n.rank,n.targets().add(o),e&&(o.skip(!0),o.value=e.value,o.targets().add(e),t.connect(e,[o]))}}var Er={};function Cr(t,n,e){this.dataflow=t,this.stamp=null==n?-1:n,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=e||null}var Dr=Cr.prototype;function Fr(t,n){return t?function(e,r){return t(e,r)&&n(e,r)}:n}function Sr(t,n){var e=[];return xt(t,n,function(t){e.push(t)}),e}function Br(t,n){var e={};return t.visit(n,function(t){e[Et(t)]=1}),function(t){return e[Et(t)]?null:t}}function Or(t,n,e,r){var i,a,u,o,s,l=this,c=0;for(this.dataflow=t,this.stamp=n,this.fields=null,this.encode=r||null,this.pulses=e,u=0,o=e.length;u<o;++u)if((i=e[u]).stamp===n){if(i.fields)for(s in a=l.fields||(l.fields={}),i.fields)a[s]=1;i.changed(l.ADD)&&(c|=l.ADD),i.changed(l.REM)&&(c|=l.REM),i.changed(l.MOD)&&(c|=l.MOD)}this.changes=c}Dr.StopPropagation=Er,Dr.ADD=1,Dr.REM=2,Dr.MOD=4,Dr.ADD_REM=3,Dr.ADD_MOD=5,Dr.ALL=7,Dr.REFLOW=8,Dr.SOURCE=16,Dr.NO_SOURCE=32,Dr.NO_FIELDS=64,Dr.fork=function(t){return new Cr(this.dataflow).init(this,t)},Dr.clone=function(){var t=this.fork(7);return t.add=t.add.slice(),t.rem=t.rem.slice(),t.mod=t.mod.slice(),t.source&&(t.source=t.source.slice()),t.materialize(23)},Dr.addAll=function(){var t=this;return this.source&&this.source.length!==this.add.length?((t=new Cr(this.dataflow).init(this)).add=t.source,t):t},Dr.init=function(t,n){var e=this;return e.stamp=t.stamp,e.encode=t.encode,!t.fields||64&n||(e.fields=t.fields),1&n?(e.addF=t.addF,e.add=t.add):(e.addF=null,e.add=[]),2&n?(e.remF=t.remF,e.rem=t.rem):(e.remF=null,e.rem=[]),4&n?(e.modF=t.modF,e.mod=t.mod):(e.modF=null,e.mod=[]),32&n?(e.srcF=null,e.source=null):(e.srcF=t.srcF,e.source=t.source),e},Dr.runAfter=function(t){this.dataflow.runAfter(t)},Dr.changed=function(t){var n=t||7;return 1&n&&this.add.length||2&n&&this.rem.length||4&n&&this.mod.length},Dr.reflow=function(t){if(t)return this.fork(7).reflow();var n=this.add.length,e=this.source&&this.source.length;return e&&e!==n&&(this.mod=this.source,n&&this.filter(4,Br(this,1))),this},Dr.modifies=function(t){var n=W(t),e=this.fields||(this.fields={});return n.forEach(function(t){e[t]=!0}),this},Dr.modified=function(t){var n=this.fields;return!(!this.mod.length||!n)&&(arguments.length?u(t)?t.some(function(t){return n[t]}):n[t]:!!n)},Dr.filter=function(t,n){var e=this;return 1&t&&(e.addF=Fr(e.addF,n)),2&t&&(e.remF=Fr(e.remF,n)),4&t&&(e.modF=Fr(e.modF,n)),16&t&&(e.srcF=Fr(e.srcF,n)),e},Dr.materialize=function(t){var n=this;return 1&(t=t||7)&&n.addF&&(n.add=Sr(n.add,n.addF),n.addF=null),2&t&&n.remF&&(n.rem=Sr(n.rem,n.remF),n.remF=null),4&t&&n.modF&&(n.mod=Sr(n.mod,n.modF),n.modF=null),16&t&&n.srcF&&(n.source=n.source.filter(n.srcF),n.srcF=null),n},Dr.visit=function(t,n){var e,r,i=this,a=n;return 16&t?(xt(i.source,i.srcF,a),i):(1&t&&xt(i.add,i.addF,a),2&t&&xt(i.rem,i.remF,a),4&t&&xt(i.mod,i.modF,a),8&t&&(e=i.source)&&((r=i.add.length+i.mod.length)===e.length||xt(e,r?Br(i,5):i.srcF,a)),i)};var zr=et(Or,Cr);function Nr(t){return t.error("Dataflow already running. Use runAsync() to chain invocations."),t}zr.fork=function(t){var n=new Cr(this.dataflow).init(this,t&this.NO_FIELDS);return void 0!==t&&(t&n.ADD&&this.visit(n.ADD,function(t){return n.add.push(t)}),t&n.REM&&this.visit(n.REM,function(t){return n.rem.push(t)}),t&n.MOD&&this.visit(n.MOD,function(t){return n.mod.push(t)})),n},zr.changed=function(t){return this.changes&t},zr.modified=function(t){var n=this,e=n.fields;return e&&n.changes&n.MOD?u(t)?t.some(function(t){return e[t]}):e[t]:0},zr.filter=function(){i("MultiPulse does not support filtering.")},zr.materialize=function(){i("MultiPulse does not support materialization.")},zr.visit=function(t,n){var e=this,r=e.pulses,i=r.length,a=0;if(t&e.SOURCE)for(;a<i;++a)r[a].visit(t,n);else for(;a<i;++a)r[a].stamp===e.stamp&&r[a].visit(t,n);return e};var Tr={skip:!1,force:!1};function Rr(t){var n=[];return{size:()=>n.length,peek:()=>n[0],push:e=>(n.push(e),Pr(n,0,n.length-1,t)),pop:()=>{var e,r=n.pop();return n.length?(e=n[0],n[0]=r,function(t,n,e){var r,i=n,a=t.length,u=t[n],o=1+(n<<1);for(;o<a;)(r=o+1)<a&&e(t[o],t[r])>=0&&(o=r),t[n]=t[o],o=1+((n=o)<<1);t[n]=u,Pr(t,i,n,e)}(n,0,t)):e=r,e}}}function Pr(t,n,e,r){var i,a,u;for(i=t[e];e>n&&r(i,a=t[u=e-1>>1])<0;)t[e]=a,e=u;return t[e]=i}function Lr(){this.logger(k()),this.logLevel(x),this._clock=0,this._rank=0;try{this._loader=br()}catch(t){}this._touched=bt(h),this._pulses={},this._pulse=null,this._heap=Rr((t,n)=>t.qrank-n.qrank),this._postrun=[]}var qr=Lr.prototype;function Ur(t){return function(){return this._log[t].apply(this,arguments)}}function jr(t,n){qt.call(this,t,null,n)}qr.stamp=function(){return this._clock},qr.loader=function(t){return arguments.length?(this._loader=t,this):this._loader},qr.cleanThreshold=1e4,qr.add=function(t,n,e,r){var i,a=1;return t instanceof qt?i=t:t&&t.prototype instanceof qt?i=new t:Y(t)?i=new qt(null,t):(a=0,i=new qt(t,n)),this.rank(i),a&&(r=e,e=n),e&&this.connect(i,i.parameters(e,r)),this.touch(i),i},qr.connect=function(t,n){var e,r,i=t.rank;for(e=0,r=n.length;e<r;++e)if(i<n[e].rank)return void this.rerank(t)},qr.rank=function(t){t.rank=++this._rank},qr.rerank=function(t){for(var n,e,r,a=[t];a.length;)if(this.rank(n=a.pop()),e=n._targets)for(r=e.length;--r>=0;)a.push(n=e[r]),n===t&&i("Cycle detected in dataflow graph.")},qr.pulse=function(t,n,e){this.touch(t,e||Tr);var r=new Cr(this,this._clock+(this._pulse?0:1)),i=t.pulse&&t.pulse.source||[];return r.target=t,this._pulses[t.id]=n.pulse(r,i),this},qr.touch=function(t,n){var e=n||Tr;return this._pulse?this._enqueue(t):this._touched.add(t),e.skip&&t.skip(!0),this},qr.update=function(t,n,e){var r=e||Tr;return(t.set(n)||r.force)&&this.touch(t,r),this},qr.changeset=zt,qr.ingest=function(t,n,e){return this.pulse(t,this.changeset().insert(wr(n,e)))},qr.parse=wr,qr.preload=async function(t,n,e){const r=this,i=r._pending||function(t){var n,e=new Promise(function(t){n=t});return e.requests=0,e.done=function(){0==--e.requests&&(t._pending=null,n(t))},t._pending=e}(r);i.requests+=1;const a=await r.request(n,e);return r.pulse(t,r.changeset().remove(v).insert(a.data||[])),i.done(),a},qr.request=async function(t,n){const e=this;let r,i=0;try{r=await e.loader().load(t,{context:"dataflow",response:Fn(n&&n.type)});try{r=wr(r,n)}catch(n){i=-2,e.warn("Data ingestion failed",t,n)}}catch(n){i=-1,e.warn("Loading failed",t,n)}return{data:r,status:i}},qr.events=function(t,n,e,r){for(var i,a=this,u=Wt(e,r),o=function(t){t.dataflow=a;try{u.receive(t)}catch(t){a.error(t)}finally{a.run()}},s=0,l=(i="string"==typeof t&&"undefined"!=typeof document?document.querySelectorAll(t):W(t)).length;s<l;++s)i[s].addEventListener(n,o);return u},qr.on=function(t,n,e,r,i){return(t instanceof qt?Mr:kr)(this,t,n,e,r,i),this},qr.evaluate=async function(t,n,e){const r=this,i=r.logLevel();if(r._pulse)return Nr(r);if(r._pending&&await r._pending,n&&await wt(r,n),!r._touched.length)return r.info("Dataflow invoked, but nothing to do."),r;let a,u,o,s,l=++r._clock,c=0;r._pulse=new Cr(r,l,t),i>=w&&(o=Date.now(),r.debug("-- START PROPAGATION ("+l+") -----")),r._touched.forEach(function(t){r._enqueue(t,!0)}),r._touched=bt(h);try{for(;r._heap.size()>0;)(a=r._heap.pop()).rank===a.qrank?((u=a.run(r._getPulse(a,t))).then&&(u=await u),i>=A&&r.debug(a.id,u===Er?"STOP":u,a),u!==Er&&(r._pulse=u,a._targets&&a._targets.forEach(t=>r._enqueue(t))),++c):r._enqueue(a,!0)}catch(t){s=t}if(r._pulses={},r._pulse=null,i>=w&&(o=Date.now()-o,r.info("> Pulse "+l+": "+c+" operators; "+o+"ms")),s&&(r._postrun=[],r.error(s)),r._postrun.length){const t=r._postrun.sort((t,n)=>n.priority-t.priority);r._postrun=[];for(let n=0;n<t.length;++n)await wt(r,t[n].callback)}return e&&await wt(r,e),r},qr.run=function(t,n,e){return this._pulse?Nr(this):(this.evaluate(t,n,e),this)},qr.runAsync=async function(t,n,e){for(;this._running;)await this._running;const r=()=>this._running=null;return(this._running=this.evaluate(t,n,e)).then(r,r),this._running},qr.runAfter=function(t,n,e){if(this._pulse||n)this._postrun.push({priority:e||0,callback:t});else try{t(this)}catch(t){this.error(t)}},qr._enqueue=function(t,n){var e=!this._pulses[t.id];e&&(this._pulses[t.id]=this._pulse),(e||n)&&(t.qrank=t.rank,this._heap.push(t))},qr._getPulse=function(t,n){var e,r=t.source,i=this._clock;return r&&u(r)?new Or(this,i,e=r.map(function(t){return t.pulse}),n):(e=this._pulses[t.id],r&&((r=r.pulse)&&r!==Er?r.stamp===i&&e.target!==t?e=r:e.source=r.source:e.source=[]),e)},qr.logger=function(t){return arguments.length?(this._log=t,this):this._log},qr.error=Ur("error"),qr.warn=Ur("warn"),qr.info=Ur("info"),qr.debug=Ur("debug"),qr.logLevel=Ur("level");var $r=et(jr,qt);$r.run=function(t){return t.stamp<=this.stamp?t.StopPropagation:(this.skip()?this.skip(!1):n=this.evaluate(t),n=n||t,this.stamp=t.stamp,n.then?n=n.then(t=>this.pulse=t):n!==t.StopPropagation&&(this.pulse=n),n);var n},$r.evaluate=function(t){var n=this.marshall(t.stamp),e=this.transform(n,t);return n.clear(),e},$r.transform=function(){};var Ir={};function Wr(t){var n=Hr(t);return n&&n.Definition||null}function Hr(t){return t=t&&t.toLowerCase(),Ir.hasOwnProperty(t)?Ir[t]:null}function Yr(t){return t&&t.length?1===t.length?t[0]:(n=t,function(t){for(var e=n.length,r=1,i=String(n[0](t));r<e;++r)i+="|"+n[r](t);return i}):function(){return""};var n}function Vr(t,n,e){return e||t+(n?"_"+n:"")}var Gr={values:Jr({name:"values",init:"cell.store = true;",set:"cell.data.values()",idx:-1}),count:Jr({name:"count",set:"cell.num"}),__count__:Jr({name:"count",set:"this.missing + this.valid"}),missing:Jr({name:"missing",set:"this.missing"}),valid:Jr({name:"valid",set:"this.valid"}),sum:Jr({name:"sum",init:"this.sum = 0;",add:"this.sum += +v;",rem:"this.sum -= v;",set:"this.sum"}),mean:Jr({name:"mean",init:"this.mean = 0;",add:"var d = v - this.mean; this.mean += d / this.valid;",rem:"var d = v - this.mean; this.mean -= this.valid ? d / this.valid : this.mean;",set:"this.valid ? this.mean : undefined"}),average:Jr({name:"average",set:"this.valid ? this.mean : undefined",req:["mean"],idx:1}),variance:Jr({name:"variance",init:"this.dev = 0;",add:"this.dev += d * (v - this.mean);",rem:"this.dev -= d * (v - this.mean);",set:"this.valid > 1 ? this.dev / (this.valid-1) : undefined",req:["mean"],idx:1}),variancep:Jr({name:"variancep",set:"this.valid > 1 ? this.dev / this.valid : undefined",req:["variance"],idx:2}),stdev:Jr({name:"stdev",set:"this.valid > 1 ? Math.sqrt(this.dev / (this.valid-1)) : undefined",req:["variance"],idx:2}),stdevp:Jr({name:"stdevp",set:"this.valid > 1 ? Math.sqrt(this.dev / this.valid) : undefined",req:["variance"],idx:2}),stderr:Jr({name:"stderr",set:"this.valid > 1 ? Math.sqrt(this.dev / (this.valid * (this.valid-1))) : undefined",req:["variance"],idx:2}),distinct:Jr({name:"distinct",set:"cell.data.distinct(this.get)",req:["values"],idx:3}),ci0:Jr({name:"ci0",set:"cell.data.ci0(this.get)",req:["values"],idx:3}),ci1:Jr({name:"ci1",set:"cell.data.ci1(this.get)",req:["values"],idx:3}),median:Jr({name:"median",set:"cell.data.q2(this.get)",req:["values"],idx:3}),q1:Jr({name:"q1",set:"cell.data.q1(this.get)",req:["values"],idx:3}),q3:Jr({name:"q3",set:"cell.data.q3(this.get)",req:["values"],idx:3}),argmin:Jr({name:"argmin",init:"this.argmin = undefined;",add:"if (v < this.min) this.argmin = t;",rem:"if (v <= this.min) this.argmin = undefined;",set:"this.argmin || cell.data.argmin(this.get)",req:["min"],str:["values"],idx:3}),argmax:Jr({name:"argmax",init:"this.argmax = undefined;",add:"if (v > this.max) this.argmax = t;",rem:"if (v >= this.max) this.argmax = undefined;",set:"this.argmax || cell.data.argmax(this.get)",req:["max"],str:["values"],idx:3}),min:Jr({name:"min",init:"this.min = undefined;",add:"if (v < this.min || this.min === undefined) this.min = v;",rem:"if (v <= this.min) this.min = NaN;",set:"this.min = (isNaN(this.min) ? cell.data.min(this.get) : this.min)",str:["values"],idx:4}),max:Jr({name:"max",init:"this.max = undefined;",add:"if (v > this.max || this.max === undefined) this.max = v;",rem:"if (v >= this.max) this.max = NaN;",set:"this.max = (isNaN(this.max) ? cell.data.max(this.get) : this.max)",str:["values"],idx:4})},Xr=Object.keys(Gr);function Zr(t,n){return Gr[t](n)}function Jr(t){return function(n){var e=Z({init:"",add:"",rem:"",idx:0},t);return e.out=n||t.name,e}}function Qr(t,n){return t.idx-n.idx}function Kr(t,n){var e=n||d,r=function(t,n){var e,r=t.reduce(function t(e,r){function i(n){e[n]||t(e,e[n]=Gr[n]())}return r.req&&r.req.forEach(i),n&&r.str&&r.str.forEach(i),e},t.reduce(function(t,n){return t[n.name]=n,t},{})),i=[];for(e in r)i.push(r[e]);return i.sort(Qr)}(t,!0),i="var cell = this.cell; this.valid = 0; this.missing = 0;",a="this.cell = cell; this.init();",u="if(v==null){++this.missing; return;} if(v!==v) return; ++this.valid;",o="if(v==null){--this.missing; return;} if(v!==v) return; --this.valid;",s="var cell = this.cell;";return r.forEach(function(t){i+=t.init,u+=t.add,o+=t.rem}),t.slice().sort(Qr).forEach(function(t){s+="t['"+t.out+"']="+t.set+";"}),s+="return t;",(a=Function("cell",a)).prototype.init=Function(i),a.prototype.add=Function("v","t",u),a.prototype.rem=Function("v","t",o),a.prototype.set=Function("t",s),a.prototype.get=e,a.fields=t.map(function(t){return t.out}),a}function ti(t){var n,e,r,i,a,u,o,s,l=t.maxbins||20,c=t.base||10,f=Math.log(c),h=t.divide||[5,2],d=t.extent[0],p=t.extent[1],g=p-d||Math.abs(d)||1;if(t.step)n=t.step;else if(t.steps){for(a=g/l,u=0,o=t.steps.length;u<o&&t.steps[u]<a;++u);n=t.steps[Math.max(0,u-1)]}else{for(e=Math.ceil(Math.log(l)/f),r=t.minstep||0,n=Math.max(r,Math.pow(c,Math.round(Math.log(g)/f)-e));Math.ceil(g/n)>l;)n*=c;for(u=0,o=h.length;u<o;++u)(a=n/h[u])>=r&&g/a<=l&&(n=a)}return i=(a=Math.log(n))>=0?0:1+~~(-a/f),s=Math.pow(c,-i-1),(t.nice||void 0===t.nice)&&(d=d<(a=Math.floor(d/n+s)*n)?a-n:a,p=Math.ceil(p/n)*n),{start:d,stop:p===d?d+n:p,step:n}}function ni(t,n){var e,r=[],i=t.length,a=-1;if(null==n)for(;++a<i;)isNaN(e=ei(t[a]))||r.push(e);else for(;++a<i;)isNaN(e=ei(n(t[a],a,t)))||r.push(e);return r}function ei(t){return null===t?NaN:+t}function ri(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function ii(t){var n;return 1===t.length&&(n=t,t=function(t,e){return ri(n(t),e)}),{left:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var a=r+i>>>1;t(n[a],e)<0?r=a+1:i=a}return r},right:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var a=r+i>>>1;t(n[a],e)>0?i=a:r=a+1}return r}}}t.random=Math.random;var ai=ii(ri),ui=ai.right,oi=ai.left;function si(t,n){let e,r;if(void 0===n)for(let n of t)null!=n&&n>=n&&(void 0===e?e=r=n:(e>n&&(e=n),r<n&&(r=n)));else{let i=-1;for(let a of t)null!=(a=n(a,++i,t))&&a>=a&&(void 0===e?e=r=a:(e>a&&(e=a),r<a&&(r=a)))}return[e,r]}function li(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=0|Math.max(0,Math.ceil((n-t)/e)),a=new Array(i);++r<i;)a[r]=t+r*e;return a}var ci=Math.sqrt(50),fi=Math.sqrt(10),hi=Math.sqrt(2);function di(t,n,e){var r,i,a,u,o=-1;if(e=+e,(t=+t)===(n=+n)&&e>0)return[t];if((r=n<t)&&(i=t,t=n,n=i),0===(u=pi(t,n,e))||!isFinite(u))return[];if(u>0)for(t=Math.ceil(t/u),n=Math.floor(n/u),a=new Array(i=Math.ceil(n-t+1));++o<i;)a[o]=(t+o)*u;else for(t=Math.floor(t*u),n=Math.ceil(n*u),a=new Array(i=Math.ceil(t-n+1));++o<i;)a[o]=(t-o)/u;return r&&a.reverse(),a}function pi(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=ci?10:a>=fi?5:a>=hi?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=ci?10:a>=fi?5:a>=hi?2:1)}function gi(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=ci?i*=10:a>=fi?i*=5:a>=hi&&(i*=2),n<t?-i:i}function vi(t,n,e=function(t){return null===t?NaN:+t}){if(r=t.length){if((n=+n)<=0||r<2)return+e(t[0],0,t);if(n>=1)return+e(t[r-1],r-1,t);var r,i=(r-1)*n,a=Math.floor(i),u=+e(t[a],a,t);return u+(+e(t[a+1],a+1,t)-u)*(i-a)}}function mi(t,n,e=0,r=t.length-1,i=ri){for(;r>e;){if(r-e>600){const a=r-e+1,u=n-e+1,o=Math.log(a),s=.5*Math.exp(2*o/3),l=.5*Math.sqrt(o*s*(a-s)/a)*(u-a/2<0?-1:1);mi(t,n,Math.max(e,Math.floor(n-u*s/a+l)),Math.min(r,Math.floor(n+(a-u)*s/a+l)),i)}const a=t[n];let u=e,o=r;for(yi(t,e,n),i(t[r],a)>0&&yi(t,e,r);u<o;){for(yi(t,u,o),++u,--o;i(t[u],a)<0;)++u;for(;i(t[o],a)>0;)--o}0===i(t[e],a)?yi(t,e,o):yi(t,++o,r),o<=n&&(e=o+1),n<=o&&(r=o-1)}return t}function yi(t,n,e){const r=t[n];t[n]=t[e],t[e]=r}function _i(n,e,r,i){if(!n.length)return[void 0,void 0];var a,u,o,s,l=ni(n,i),c=l.length,f=e;for(o=0,s=Array(f);o<f;++o){for(a=0,u=0;u<c;++u)a+=l[~~(t.random()*c)];s[o]=a/c}return[vi(s.sort(ri),r/2),vi(s,1-r/2)]}function xi(t,n){var e=ni(t,n);return[vi(e.sort(ri),.25),vi(e,.5),vi(e,.75)]}function bi(n,e){var r,i,a=NaN,u={mean:function(t){return arguments.length?(r=t||0,a=NaN,u):r},stdev:function(t){return arguments.length?(i=null==t?1:t,a=NaN,u):i},sample:function(){var n,e,u=0,o=0;if(a==a)return u=a,a=NaN,u;do{n=(u=2*t.random()-1)*u+(o=2*t.random()-1)*o}while(0===n||n>1);return e=Math.sqrt(-2*Math.log(n)/n),a=r+o*e*i,r+u*e*i},pdf:function(t){var n=Math.exp(Math.pow(t-r,2)/(-2*Math.pow(i,2)));return 1/(i*Math.sqrt(2*Math.PI))*n},cdf:function(t){var n,e=(t-r)/i,a=Math.abs(e);if(a>37)n=0;else{var u=Math.exp(-a*a/2);a<7.07106781186547?(n=u*((((((.0352624965998911*a+.700383064443688)*a+6.37396220353165)*a+33.912866078383)*a+112.079291497871)*a+221.213596169931)*a+220.206867912376),n/=((((((.0883883476483184*a+1.75566716318264)*a+16.064177579207)*a+86.7807322029461)*a+296.564248779674)*a+637.333633378831)*a+793.826512519948)*a+440.413735824752):n=u/(a+1/(a+2/(a+3/(a+4/(a+.65)))))/2.506628274631}return e>0?1-n:n},icdf:function(t){if(t<=0||t>=1)return NaN;var n=2*t-1,e=8*(Math.PI-3)/(3*Math.PI*(4-Math.PI)),a=2/(Math.PI*e)+Math.log(1-Math.pow(n,2))/2,u=Math.log(1-n*n)/e,o=(n>0?1:-1)*Math.sqrt(Math.sqrt(a*a-u)-a);return r+i*Math.SQRT2*o}};return u.mean(n).stdev(e)}function wi(n,e){var r=bi(),i={},a=0;return i.data=function(t){return arguments.length?(n=t,a=t?t.length:0,i.bandwidth(e)):n},i.bandwidth=function(t){return arguments.length?(!(e=t)&&n&&(a=(r=n).length,u=xi(r),o=(u[2]-u[0])/1.34,e=1.06*Math.min(Math.sqrt(function(t,n){let e,r=0,i=0,a=0;if(void 0===n)for(let n of t)null!=n&&(n=+n)>=n&&(a+=(e=n-i)*(n-(i+=e/++r)));else{let u=-1;for(let o of t)null!=(o=n(o,++u,t))&&(o=+o)>=o&&(a+=(e=o-i)*(o-(i+=e/++r)))}if(r>1)return a/(r-1)}(r)),o)*Math.pow(a,-.2)),i):e;var r,a,u,o},i.sample=function(){return n[~~(t.random()*a)]+e*r.sample()},i.pdf=function(t){for(var i=0,u=0;u<a;++u)i+=r.pdf((t-n[u])/e);return i/e/a},i.cdf=function(t){for(var i=0,u=0;u<a;++u)i+=r.cdf((t-n[u])/e);return i/a},i.icdf=function(){throw Error("KDE icdf not supported.")},i.data(n)}function Ai(n,e){var r,i={},a=0;return i.weights=function(t){return arguments.length?(r=function(t){var n,e=[],r=0;for(n=0;n<a;++n)r+=e[n]=null==t[n]?1:+t[n];for(n=0;n<a;++n)e[n]/=r;return e}(e=t||[]),i):e},i.distributions=function(t){return arguments.length?(t?(a=t.length,n=t):(a=0,n=[]),i.weights(e)):n},i.sample=function(){for(var e=t.random(),i=n[a-1],u=r[0],o=0;o<a-1;u+=r[++o])if(e<u){i=n[o];break}return i.sample()},i.pdf=function(t){for(var e=0,i=0;i<a;++i)e+=r[i]*n[i].pdf(t);return e},i.cdf=function(t){for(var e=0,i=0;i<a;++i)e+=r[i]*n[i].cdf(t);return e},i.icdf=function(){throw Error("Mixture icdf not supported.")},i.distributions(n).weights(e)}function ki(n,e){null==e&&(e=null==n?1:n,n=0);var r,i,a,u={};return u.min=function(t){return arguments.length?(a=i-(r=t||0),u):r},u.max=function(t){return arguments.length?(a=(i=t||0)-r,u):i},u.sample=function(){return r+a*t.random()},u.pdf=function(t){return t>=r&&t<=i?1/a:0},u.cdf=function(t){return t<r?0:t>i?1:(t-r)/a},u.icdf=function(t){return t>=0&&t<=1?r+t*a:NaN},u.min(n).max(e)}function Mi(t){this._key=t?c(t):Et,this.reset()}var Ei=Mi.prototype;function Ci(t){jr.call(this,null,t),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}Ei.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null},Ei.add=function(t){this._add.push(t)},Ei.rem=function(t){this._rem.push(t)},Ei.values=function(){if(this._get=null,0===this._rem.length)return this._add;var t,n,e,r=this._add,i=this._rem,a=this._key,u=r.length,o=i.length,s=Array(u-o),l={};for(t=0;t<o;++t)l[a(i[t])]=1;for(t=0,n=0;t<u;++t)l[a(e=r[t])]?l[a(e)]=0:s[n++]=e;return this._rem=[],this._add=s},Ei.distinct=function(t){for(var n,e=this.values(),r=e.length,i={},a=0;--r>=0;)n=t(e[r])+"",i.hasOwnProperty(n)||(i[n]=1,++a);return a},Ei.extent=function(t){if(this._get!==t||!this._ext){var n=this.values(),e=Q(n,t);this._ext=[n[e[0]],n[e[1]]],this._get=t}return this._ext},Ei.argmin=function(t){return this.extent(t)[0]||{}},Ei.argmax=function(t){return this.extent(t)[1]||{}},Ei.min=function(t){var n=this.extent(t)[0];return null!=n?t(n):void 0},Ei.max=function(t){var n=this.extent(t)[1];return null!=n?t(n):void 0},Ei.quartile=function(t){return this._get===t&&this._q||(this._q=xi(this.values(),t),this._get=t),this._q},Ei.q1=function(t){return this.quartile(t)[0]},Ei.q2=function(t){return this.quartile(t)[1]},Ei.q3=function(t){return this.quartile(t)[2]},Ei.ci=function(t){return this._get===t&&this._ci||(this._ci=_i(this.values(),1e3,.05,t),this._get=t),this._ci},Ei.ci0=function(t){return this.ci(t)[0]},Ei.ci1=function(t){return this.ci(t)[1]},Ci.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:Xr},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]};var Di=et(Ci,jr);function Fi(t){jr.call(this,null,t)}Di.transform=function(t,n){var e,r=this,i=n.fork(n.NO_SOURCE|n.NO_FIELDS);return this.stamp=i.stamp,this.value&&((e=t.modified())||n.modified(this._inputs))?(this._prev=this.value,this.value=e?this.init(t):{},n.visit(n.SOURCE,function(t){r.add(t)})):(this.value=this.value||this.init(t),n.visit(n.REM,function(t){r.rem(t)}),n.visit(n.ADD,function(t){r.add(t)})),i.modifies(this._outputs),r._drop=!1!==t.drop,t.cross&&r._dims.length>1&&(r._drop=!1,this.cross()),r.changes(i)},Di.cross=function(){var t=this,n=t.value,e=t._dnames,r=e.map(function(){return{}}),i=e.length;function a(t){var n,a,u,o;for(n in t)for(u=t[n].tuple,a=0;a<i;++a)r[a][o=u[e[a]]]=o}a(t._prev),a(n),function a(u,o,s){var l,c,f=e[s],h=r[s++];for(l in h)o[f]=h[l],c=u?u+"|"+l:l,s<i?a(c,o,s):n[c]||t.cell(c,o)}("",{},0)},Di.init=function(t){var n=this._inputs=[],a=this._outputs=[],u={};function o(t){for(var e,i=W(r(t)),a=0,o=i.length;a<o;++a)u[e=i[a]]||(u[e]=1,n.push(e))}this._dims=W(t.groupby),this._dnames=this._dims.map(function(t){var n=e(t);return o(t),a.push(n),n}),this.cellkey=t.key?t.key:Yr(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];var s,l,c,f,h,d,p=t.fields||[null],g=t.ops||["count"],v=t.as||[],m=p.length,y={};for(m!==g.length&&i("Unmatched number of fields and aggregate ops."),d=0;d<m;++d)s=p[d],l=g[d],null==s&&"count"!==l&&i("Null aggregate field specified."),h=Vr(l,f=e(s),v[d]),a.push(h),"count"!==l?((c=y[f])||(o(s),(c=y[f]=[]).field=s,this._measures.push(c)),"count"!==l&&(this._countOnly=!1),c.push(Zr(l,h))):this._counts.push(h);return this._measures=this._measures.map(function(t){return Kr(t,t.field)}),{}},Di.cellkey=Yr(),Di.cell=function(t,n){var e=this.value[t];return e?0===e.num&&this._drop&&e.stamp<this.stamp?(e.stamp=this.stamp,this._adds[this._alen++]=e):e.stamp<this.stamp&&(e.stamp=this.stamp,this._mods[this._mlen++]=e):(e=this.value[t]=this.newcell(t,n),this._adds[this._alen++]=e),e},Di.newcell=function(t,n){var e={key:t,num:0,agg:null,tuple:this.newtuple(n,this._prev&&this._prev[t]),stamp:this.stamp,store:!1};if(!this._countOnly){var r,i=this._measures,a=i.length;for(e.agg=Array(a),r=0;r<a;++r)e.agg[r]=new i[r](e)}return e.store&&(e.data=new Mi),e},Di.newtuple=function(t,n){var e,r,i=this._dnames,a=this._dims,u={};for(e=0,r=a.length;e<r;++e)u[i[e]]=a[e](t);return n?Bt(n.tuple,u):Dt(u)},Di.add=function(t){var n,e,r,i=this.cellkey(t),a=this.cell(i,t);if(a.num+=1,!this._countOnly)for(a.store&&a.data.add(t),e=0,r=(n=a.agg).length;e<r;++e)n[e].add(n[e].get(t),t)},Di.rem=function(t){var n,e,r,i=this.cellkey(t),a=this.cell(i,t);if(a.num-=1,!this._countOnly)for(a.store&&a.data.rem(t),e=0,r=(n=a.agg).length;e<r;++e)n[e].rem(n[e].get(t),t)},Di.celltuple=function(t){var n,e,r,i=t.tuple,a=this._counts;for(t.store&&t.data.values(),e=0,r=a.length;e<r;++e)i[a[e]]=t.num;if(!this._countOnly)for(e=0,r=(n=t.agg).length;e<r;++e)n[e].set(i);return i},Di.changes=function(t){var n,e,r,i,a=this._adds,u=this._mods,o=this._prev,s=this._drop,l=t.add,c=t.rem,f=t.mod;if(o)for(e in o)n=o[e],s&&!n.num||c.push(n.tuple);for(r=0,i=this._alen;r<i;++r)l.push(this.celltuple(a[r])),a[r]=null;for(r=0,i=this._mlen;r<i;++r)(0===(n=u[r]).num&&s?c:f).push(this.celltuple(n)),u[r]=null;return this._alen=this._mlen=0,this._prev=null,t},Fi.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]};var Si=et(Fi,jr);function Bi(t,n,e){var r=t,i=n||[],a=e||[],u={},o=0;return{add:function(t){a.push(t)},remove:function(t){u[r(t)]=++o},size:function(){return i.length},data:function(t,n){return o&&(i=i.filter(function(t){return!u[r(t)]}),u={},o=0),n&&t&&i.sort(t),a.length&&(i=t?ct(t,i,a.sort(t)):i.concat(a),a=[]),i}}}function Oi(t){jr.call(this,[],t)}function zi(t){qt.call(this,null,Ni,t)}function Ni(t){return this.value&&!t.modified()?this.value:V(t.fields,t.orders)}function Ti(t){jr.call(this,null,t)}Si.transform=function(t,n){var e,i=this._bins(t),a=i.start,u=i.step,o=t.as||["bin0","bin1"],s=o[0],l=o[1];return e=t.modified()?(n=n.reflow(!0)).SOURCE:n.modified(r(t.field))?n.ADD_MOD:n.ADD,n.visit(e,function(t){var n=i(t);t[s]=n,t[l]=null==n?null:a+u*(1+(n-a)/u)}),n.modifies(o)},Si._bins=function(t){if(this.value&&!t.modified())return this.value;var i,a,u=t.field,o=ti(t),s=o.start,l=o.stop,c=o.step;null!=(i=t.anchor)&&(a=i-(s+c*Math.floor((i-s)/c)),s+=a,l+=a);var f=function(t){var n=u(t);return null==n?null:(n=Math.max(s,Math.min(+n,l-c)),s+c*Math.floor((n-s)/c))};return f.start=s,f.stop=l,f.step=c,this.value=n(f,r(u),t.name||"bin_"+e(u))},Oi.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]},et(Oi,jr).transform=function(t,n){var e=n.fork(n.ALL),r=Bi(Et,this.value,e.materialize(e.ADD).add),i=t.sort,a=n.changed()||i&&(t.modified("sort")||n.modified(i.fields));return e.visit(e.REM,r.remove),this.modified(a),this.value=e.source=r.data(i,a),n.source&&n.source.root&&(this.value.root=n.source.root),e},et(zi,qt),Ti.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]};var Ri=et(Ti,jr);function Pi(t){jr.call(this,null,t)}Ri.transform=function(t,n){function e(n){return function(e){for(var r,i=function(t,n,e){switch(n){case"upper":t=t.toUpperCase();break;case"lower":t=t.toLowerCase()}return t.match(e)}(o(e),t.case,a)||[],s=0,l=i.length;s<l;++s)u.test(r=i[s])||n(r)}}var r=this._parameterCheck(t,n),i=this._counts,a=this._match,u=this._stop,o=t.field,s=t.as||["text","count"],l=e(function(t){i[t]=1+(i[t]||0)}),c=e(function(t){i[t]-=1});return r?n.visit(n.SOURCE,l):(n.visit(n.ADD,l),n.visit(n.REM,c)),this._finish(n,s)},Ri._parameterCheck=function(t,n){var e=!1;return!t.modified("stopwords")&&this._stop||(this._stop=new RegExp("^"+(t.stopwords||"")+"$","i"),e=!0),!t.modified("pattern")&&this._match||(this._match=new RegExp(t.pattern||"[\\w']+","g"),e=!0),(t.modified("field")||n.modified(t.field.fields))&&(e=!0),e&&(this._counts={}),e},Ri._finish=function(t,n){var e,r,i,a=this._counts,u=this._tuples||(this._tuples={}),o=n[0],s=n[1],l=t.fork(t.NO_SOURCE|t.NO_FIELDS);for(e in a)r=u[e],i=a[e]||0,!r&&i?(u[e]=r=Dt({}),r[o]=e,r[s]=i,l.add.push(r)):0===i?(r&&l.rem.push(r),a[e]=null,u[e]=null):r[s]!==i&&(r[s]=i,l.mod.push(r));return l.modifies(n)},Pi.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]},et(Pi,jr).transform=function(t,n){var e=n.fork(n.NO_SOURCE),r=this.value,i=t.as||["a","b"],a=i[0],u=i[1];return!r||n.changed(n.ADD_REM)||t.modified("as")||t.modified("filter")?(r&&(e.rem=r),r=n.materialize(n.SOURCE).source,e.add=this.value=function(t,n,e,r){for(var i,a,u=[],o={},s=t.length,l=0;l<s;++l)for(o[n]=a=t[l],i=0;i<s;++i)o[e]=t[i],r(o)&&(u.push(Dt(o)),(o={})[n]=a);return u}(r,a,u,t.filter||v)):e.mod=r,e.source=this.value,e.modifies(i)};var Li={kde:wi,mixture:Ai,normal:bi,uniform:ki},qi="distributions",Ui="function",ji="field";function $i(t){jr.call(this,null,t)}var Ii=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],Wi={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:Ii},{name:"weights",type:"number",array:!0}]};function Hi(t){qt.call(this,null,Yi,t),this.modified(!0)}function Yi(t){var i=t.expr;return this.value&&!t.modified("expr")?this.value:n(function(n){return i(n,t)},r(i),e(i))}function Vi(t){jr.call(this,[void 0,void 0],t)}function Gi(t,n){qt.call(this,t),this.parent=n}$i.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number",default:100},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:Ii.concat(Wi)},{name:"as",type:"string",array:!0,default:["value","density"]}]},et($i,jr).transform=function(t,n){var e=n.fork(n.NO_SOURCE|n.NO_FIELDS);if(!this.value||n.changed()||t.modified()){var r=function t(n,e){var r=n[Ui];Li.hasOwnProperty(r)||i("Unknown distribution function: "+r);var a=Li[r]();for(var u in n)u===ji?a.data((n.from||e()).map(n[u])):u===qi?a[u](n[u].map(function(n){return t(n,e)})):typeof a[u]===Ui&&a[u](n[u]);return a}(t.distribution,function(t){return function(){return t.materialize(t.SOURCE).source}}(n)),a=t.method||"pdf";"pdf"!==a&&"cdf"!==a&&i("Invalid density method: "+a),t.extent||r.data||i("Missing density extent parameter."),a=r[a];var u=t.as||["value","density"],o=t.extent||si(r.data()),s=(o[1]-o[0])/(t.steps||100),l=li(o[0],o[1]+s/2,s).map(function(t){var n={};return n[u[0]]=t,n[u[1]]=a(t),Dt(n)});this.value&&(e.rem=this.value),this.value=e.add=e.source=l}return e},et(Hi,qt),Vi.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]},et(Vi,jr).transform=function(t,n){var e,r=this.value,i=t.field,a=r[0],u=r[1];((e=n.changed()||n.modified(i.fields)||t.modified("field"))||null==a)&&(a=1/0,u=-1/0),n.visit(e?n.SOURCE:n.ADD,function(t){var n=i(t);null!=n&&((n=+n)<a&&(a=n),n>u&&(u=n))}),isFinite(a)&&isFinite(u)||(a=u=void 0),this.value=[a,u]};var Xi=et(Gi,qt);function Zi(t){jr.call(this,{},t),this._keys=tt();var n=this._targets=[];n.active=0,n.forEach=function(t){for(var e=0,r=n.active;e<r;++e)t(n[e],e,n)}}Xi.connect=function(t){return this.targets().add(t),t.source=this},Xi.add=function(t){this.value.add.push(t)},Xi.rem=function(t){this.value.rem.push(t)},Xi.mod=function(t){this.value.mod.push(t)},Xi.init=function(t){this.value.init(t,t.NO_SOURCE)},Xi.evaluate=function(){return this.value};var Ji=et(Zi,jr);function Qi(t){qt.call(this,null,Ki,t)}function Ki(t){return this.value&&!t.modified()?this.value:u(t.name)?W(t.name).map(function(t){return c(t)}):c(t.name,t.as)}function ta(t){jr.call(this,tt(),t)}function na(t,n){return t?t.map(function(t,r){return n[r]||e(t)}):null}function ea(t){jr.call(this,[],t)}function ra(t){jr.call(this,[],t)}function ia(t){jr.call(this,null,t)}function aa(t){jr.call(this,[],t)}Ji.activate=function(t){this._targets[this._targets.active++]=t},Ji.subflow=function(t,n,e,r){var i,a,u=this.value,o=u.hasOwnProperty(t)&&u[t];return o?o.value.stamp<e.stamp&&(o.init(e),this.activate(o)):(a=r||(a=this._group[t])&&a.tuple,o=(i=e.dataflow).add(new Gi(e.fork(e.NO_SOURCE),this)).connect(n(i,t,a)),u[t]=o,this.activate(o)),o},Ji.transform=function(t,n){var e=n.dataflow,r=this,i=t.key,a=t.subflow,u=this._keys,o=t.modified("key");function s(t){return r.subflow(t,a,n)}return this._group=t.group||{},this._targets.active=0,n.visit(n.REM,function(t){var n=Et(t),e=u.get(n);void 0!==e&&(u.delete(n),s(e).rem(t))}),n.visit(n.ADD,function(t){var n=i(t);u.set(Et(t),n),s(n).add(t)}),o||n.modified(i.fields)?n.visit(n.MOD,function(t){var n=Et(t),e=u.get(n),r=i(t);e===r?s(r).mod(t):(u.set(n,r),s(e).rem(t),s(r).add(t))}):n.changed(n.MOD)&&n.visit(n.MOD,function(t){s(u.get(Et(t))).mod(t)}),o&&n.visit(n.REFLOW,function(t){var n=Et(t),e=u.get(n),r=i(t);e!==r&&(u.set(n,r),s(e).rem(t),s(r).add(t))}),u.empty>e.cleanThreshold&&e.runAfter(u.clean),n},et(Qi,qt),ta.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]},et(ta,jr).transform=function(t,n){var e=n.dataflow,r=this.value,i=n.fork(),a=i.add,u=i.rem,o=i.mod,s=t.expr,l=!0;function c(n){var e=Et(n),i=s(n,t),c=r.get(e);i&&c?(r.delete(e),a.push(n)):i||c?l&&i&&!c&&o.push(n):(r.set(e,1),u.push(n))}return n.visit(n.REM,function(t){var n=Et(t);r.has(n)?r.delete(n):u.push(t)}),n.visit(n.ADD,function(n){s(n,t)?a.push(n):r.set(Et(n),1)}),n.visit(n.MOD,c),t.modified()&&(l=!1,n.visit(n.REFLOW,c)),r.empty>e.cleanThreshold&&e.runAfter(r.clean),i},ea.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0}]},et(ea,jr).transform=function(t,n){var e=n.fork(n.NO_SOURCE),r=t.fields,i=na(r,t.as||[]),a=i.length;return e.rem=this.value,n.visit(n.SOURCE,function(t){for(var n,u,o,s=r.map(function(n){return n(t)}),l=s.reduce(function(t,n){return Math.max(t,n.length)},0),c=0;c<l;++c){for(u=Ft(t),n=0;n<a;++n)u[i[n]]=null==(o=s[n][c])?null:o;e.add.push(u)}}),this.value=e.source=e.add,e.modifies(i)},ra.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]},et(ra,jr).transform=function(t,n){var r=n.fork(n.NO_SOURCE),i=t.fields,a=i.map(e),u=t.as||["key","value"],o=u[0],s=u[1],l=i.length;return r.rem=this.value,n.visit(n.SOURCE,function(t){for(var n,e=0;e<l;++e)(n=Ft(t))[o]=a[e],n[s]=i[e](t),r.add.push(n)}),this.value=r.source=r.add,r.modifies(u)},ia.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]},et(ia,jr).transform=function(t,n){var e=t.expr,r=t.as,i=t.modified(),a=t.initonly?n.ADD:i?n.SOURCE:n.modified(e.fields)?n.ADD_MOD:n.ADD;return i&&(n=n.materialize().reflow(!0)),t.initonly||n.modifies(r),n.visit(a,function(n){n[r]=e(n,t)})},et(aa,jr).transform=function(t,n){var e,r,i,a=this.value,u=n.fork(n.ALL),o=t.size-a.length,s=t.generator;if(o>0){for(e=[];--o>=0;)e.push(i=Dt(s(t))),a.push(i);u.add=u.add.length?u.materialize(u.ADD).add.concat(e):e}else r=a.slice(0,-o),u.rem=u.rem.length?u.materialize(u.REM).rem.concat(r):r,a=a.slice(-o);return u.source=this.value=a,u};var ua={value:"value",median:function(t,n){if(!(t=Float64Array.from(function*(t,n){if(void 0===n)for(let n of t)null!=n&&(n=+n)>=n&&(yield n);else{let e=-1;for(let r of t)null!=(r=n(r,++e,t))&&(r=+r)>=r&&(yield r)}}(t,n))).length)return;const e=t.length,r=e>>1;return mi(t,r-1,0),0==(1&e)&&mi(t,r,r),vi(t,.5)},mean:function(t,n){let e=0,r=0;if(void 0===n)for(let n of t)null!=n&&(n=+n)>=n&&(++e,r+=n);else{let i=-1;for(let a of t)null!=(a=n(a,++i,t))&&(a=+a)>=a&&(++e,r+=a)}if(e)return r/e},min:function(t,n){let e;if(void 0===n)for(let n of t)null!=n&&n>=n&&(void 0===e||e>n)&&(e=n);else{let r=-1;for(let i of t)null!=(i=n(i,++r,t))&&i>=i&&(void 0===e||e>i)&&(e=i)}return e},max:function(t,n){let e;if(void 0===n)for(let n of t)null!=n&&n>=n&&(void 0===e||e<n)&&(e=n);else{let r=-1;for(let i of t)null!=(i=n(i,++r,t))&&i>=i&&(void 0===e||e<i)&&(e=i)}return e}},oa=[];function sa(t){jr.call(this,[],t)}function la(t){Ci.call(this,t)}sa.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]},et(sa,jr).transform=function(t,n){var r,a,u,o,s,l,c,f,h,d,p=n.fork(n.ALL),g=function(t){var n,e=t.method||ua.value;if(null!=ua[e])return e===ua.value?(n=void 0!==t.value?t.value:0,function(){return n}):ua[e];i("Unrecognized imputation method: "+e)}(t),v=function(t){var n=t.field;return function(t){return t?n(t):NaN}}(t),m=e(t.field),y=e(t.key),_=(t.groupby||[]).map(e),x=function(t,n,e,r){var i,a,u,o,s,l,c,f,h=function(t){return t(f)},d=[],p=r?r.slice():[],g={},v={};for(p.forEach(function(t,n){g[t]=n+1}),o=0,c=t.length;o<c;++o)f=t[o],l=e(f),s=g[l]||(g[l]=p.push(l)),a=(i=n?n.map(h):oa)+"",(u=v[a])||(u=v[a]=[],d.push(u),u.values=i),u[s-1]=f;return d.domain=p,d}(n.source,t.groupby,t.key,t.keyvals),b=[],w=this.value,A=x.domain.length;for(s=0,f=x.length;s<f;++s)for(u=(r=x[s]).values,a=NaN,c=0;c<A;++c)if(null==r[c]){for(o=x.domain[c],d={_impute:!0},l=0,h=u.length;l<h;++l)d[_[l]]=u[l];d[y]=o,d[m]=isNaN(a)?a=g(r,v):a,b.push(Dt(d))}return b.length&&(p.add=p.materialize(p.ADD).add.concat(b)),w.length&&(p.rem=p.materialize(p.REM).rem.concat(w)),this.value=b,p},la.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:Xr},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]};var ca=et(la,Ci);function fa(t){qt.call(this,null,ha,t)}function ha(t){return this.value&&!t.modified()?this.value:st(t.fields,t.flat)}function da(t){jr.call(this,[],t)}function pa(t,n,e){e.forEach(Dt);const r=n.fork(n.NO_FIELDS&n.NO_SOURCE);return r.rem=t.value,t.value=r.add=r.source=e,r}function ga(t){jr.call(this,{},t)}function va(t){qt.call(this,null,ma,t)}function ma(t){if(this.value&&!t.modified())return this.value;var n,e,r,i=1/0,a=-1/0,u=t.extents;for(n=0,e=u.length;n<e;++n)(r=u[n])[0]<i&&(i=r[0]),r[1]>a&&(a=r[1]);return[i,a]}function ya(t){qt.call(this,null,_a,t)}function _a(t){return this.value&&!t.modified()?this.value:t.values.reduce(function(t,n){return t.concat(n)},[])}function xa(t){jr.call(this,null,t)}function ba(t){Ci.call(this,t)}ca.transform=function(t,n){var e,r=this,i=t.modified();return r.value&&(i||n.modified(r._inputs))?(e=r.value=i?r.init(t):{},n.visit(n.SOURCE,function(t){r.add(t)})):(e=r.value=r.value||this.init(t),n.visit(n.REM,function(t){r.rem(t)}),n.visit(n.ADD,function(t){r.add(t)})),r.changes(),n.visit(n.SOURCE,function(t){Z(t,e[r.cellkey(t)].tuple)}),n.reflow(i).modifies(this._outputs)},ca.changes=function(){var t,n,e=this._adds,r=this._mods;for(t=0,n=this._alen;t<n;++t)this.celltuple(e[t]),e[t]=null;for(t=0,n=this._mlen;t<n;++t)this.celltuple(r[t]),r[t]=null;this._alen=this._mlen=0},et(fa,qt),et(da,jr).transform=function(t,n){const e=n.dataflow;return t.values?pa(this,n,e.parse(t.values,t.format)):e.request(t.url,t.format).then(t=>pa(this,n,t.data||[]))},ga.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]},et(ga,jr).transform=function(t,n){var r,a,u=n,o=t.as,s=t.fields,l=t.index,c=t.values,f=null==t.default?null:t.default,h=t.modified(),d=h?n.SOURCE:n.ADD,p=s.length;return c?(a=c.length,p>1&&!o&&i('Multi-field lookup requires explicit "as" parameter.'),o&&o.length!==p*a&&i('The "as" parameter has too few output field names.'),o=o||c.map(e),r=function(t){for(var n,e,r=0,i=0;r<p;++r)if(null==(e=l.get(s[r](t))))for(n=0;n<a;++n,++i)t[o[i]]=f;else for(n=0;n<a;++n,++i)t[o[i]]=c[n](e)}):(o||i("Missing output field names."),r=function(t){for(var n,e=0;e<p;++e)n=l.get(s[e](t)),t[o[e]]=null==n?f:n}),h?u=n.reflow(!0):d|=s.some(function(t){return n.modified(t.fields)})?n.MOD:0,n.visit(d,r),u.modifies(o)},et(va,qt),et(ya,qt),et(xa,jr),xa.prototype.transform=function(t,n){return this.modified(t.modified()),this.value=t,n.fork(n.NO_SOURCE|n.NO_FIELDS)},ba.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:Xr,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]};var wa=et(ba,Ci);function Aa(t){Zi.call(this,t)}function ka(t){jr.call(this,null,t)}function Ma(t){jr.call(this,null,t)}function Ea(t){jr.call(this,null,t)}function Ca(t){jr.call(this,[],t),this.count=0}function Da(t){jr.call(this,null,t)}function Fa(t){jr.call(this,null,t),this.modified(!0)}function Sa(t){jr.call(this,tt(),t)}function Ba(t){jr.call(this,null,t)}wa._transform=wa.transform,wa.transform=function(t,e){return this._transform(function(t,e){var i=t.field,a=t.value,u=("count"===t.op?"__count__":t.op)||"sum",o=r(i).concat(r(a)),s=function(t,n,e){var r={},i=[];return e.visit(e.SOURCE,function(n){var e=t(n);r[e]||(r[e]=1,i.push(e))}),i.sort(function(t,n){return(t<n||null==t)&&null!=n?-1:(t>n||null==n)&&null!=t?1:(n=n instanceof Date?+n:n,(t=t instanceof Date?+t:t)!==t&&n==n?-1:n!=n&&t==t?1:0)}),n?i.slice(0,n):i}(i,t.limit||0,e);return{key:t.key,groupby:t.groupby,ops:s.map(function(){return u}),fields:s.map(function(t){return function(t,e,r,i){return n(function(n){return e(n)===t?r(n):NaN},i,t+"")}(t,i,a,o)}),as:s.map(function(t){return t+""}),modified:t.modified.bind(t)}}(t,e),e)},et(Aa,Zi).transform=function(t,n){var e=this,a=t.subflow,u=t.field;return(t.modified("field")||u&&n.modified(r(u)))&&i("PreFacet does not support field modification."),this._targets.active=0,n.visit(n.MOD,function(t){var r=e.subflow(Et(t),a,n,t);u?u(t).forEach(function(t){r.mod(t)}):r.mod(t)}),n.visit(n.ADD,function(t){var r=e.subflow(Et(t),a,n,t);u?u(t).forEach(function(t){r.add(Dt(t))}):r.add(t)}),n.visit(n.REM,function(t){var r=e.subflow(Et(t),a,n,t);u?u(t).forEach(function(t){r.rem(t)}):r.rem(t)}),n},ka.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]},et(ka,jr).transform=function(t,n){var e,r,i=t.fields,a=na(t.fields,t.as||[]),u=i?function(t,n){return function(t,n,e,r){for(var i=0,a=e.length;i<a;++i)n[r[i]]=e[i](t);return n}(t,n,i,a)}:St;return this.value?r=this.value:(n=n.addAll(),r=this.value={}),e=n.fork(n.NO_SOURCE),n.visit(n.REM,function(t){var n=Et(t);e.rem.push(r[n]),r[n]=null}),n.visit(n.ADD,function(t){var n=u(t,Dt({}));r[Et(t)]=n,e.add.push(n)}),n.visit(n.MOD,function(t){e.mod.push(u(t,r[Et(t)]))}),e},et(Ma,jr).transform=function(t,n){return this.value=t.value,t.modified("value")?n.fork(n.NO_SOURCE|n.NO_FIELDS):n.StopPropagation},et(Ea,jr).transform=function(t,n){var e,r;return this.value?r=this.value:(e=n=n.addAll(),r=this.value={}),t.derive&&(e=n.fork(n.NO_SOURCE),n.visit(n.REM,function(t){var n=Et(t);e.rem.push(r[n]),r[n]=null}),n.visit(n.ADD,function(t){var n=Ft(t);r[Et(t)]=n,e.add.push(n)}),n.visit(n.MOD,function(t){e.mod.push(St(t,r[Et(t)]))})),e},Ca.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]},et(Ca,jr).transform=function(n,e){var r=e.fork(e.NO_SOURCE),i=n.modified("size"),a=n.size,u=this.value,o=this.count,s=0,l=u.reduce(function(t,n){return t[Et(n)]=1,t},{});function c(n){var e,i;u.length<a?u.push(n):(i=~~((o+1)*t.random()))<u.length&&i>=s&&(e=u[i],l[Et(e)]&&r.rem.push(e),u[i]=n),++o}if(e.rem.length&&(e.visit(e.REM,function(t){var n=Et(t);l[n]&&(l[n]=-1,r.rem.push(t)),--o}),u=u.filter(function(t){return-1!==l[Et(t)]})),(e.rem.length||i)&&u.length<a&&e.source&&(s=o=u.length,e.visit(e.SOURCE,function(t){l[Et(t)]||c(t)}),s=-1),i&&u.length>a){for(var f=0,h=u.length-a;f<h;++f)l[Et(u[f])]=-1,r.rem.push(u[f]);u=u.slice(h)}return e.mod.length&&e.visit(e.MOD,function(t){l[Et(t)]&&r.mod.push(t)}),e.add.length&&e.visit(e.ADD,c),(e.add.length||s<0)&&(r.add=u.filter(function(t){return!l[Et(t)]})),this.count=o,this.value=r.source=u,r},Da.Definition={type:"Sequence",metadata:{changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]},et(Da,jr).transform=function(t,n){if(!this.value||t.modified()){var e=n.materialize().fork(n.MOD),r=t.as||"data";return e.rem=this.value?n.rem.concat(this.value):n.rem,this.value=li(t.start,t.stop,t.step||1).map(function(t){var n={};return n[r]=t,Dt(n)}),e.add=n.add.concat(this.value),e}},et(Fa,jr).transform=function(t,n){return this.value=n.source,n.changed()?n.fork(n.NO_SOURCE|n.NO_FIELDS):n.StopPropagation},et(Sa,jr).transform=function(t,n){var e=n.dataflow,r=t.field,i=this.value,a=!0;function u(t){i.set(r(t),t)}return t.modified("field")||n.modified(r.fields)?(i.clear(),n.visit(n.SOURCE,u)):n.changed()?(n.visit(n.REM,function(t){i.delete(r(t))}),n.visit(n.ADD,u)):a=!1,this.modified(a),i.empty>e.cleanThreshold&&e.runAfter(i.clean),n.fork()},et(Ba,jr).transform=function(t,n){(!this.value||t.modified("field")||t.modified("sort")||n.changed()||t.sort&&n.modified(t.sort.fields))&&(this.value=(t.sort?n.source.slice().sort(t.sort):n.source).map(t.field))};var Oa={row_number:function(){return{next:function(t){return t.index+1}}},rank:function(){var t;return{init:function(){t=1},next:function(n){var e=n.index,r=n.data;return e&&n.compare(r[e-1],r[e])?t=e+1:t}}},dense_rank:function(){var t;return{init:function(){t=1},next:function(n){var e=n.index,r=n.data;return e&&n.compare(r[e-1],r[e])?++t:t}}},percent_rank:function(){var t=Oa.rank(),n=t.next;return{init:t.init,next:function(t){return(n(t)-1)/(t.data.length-1)}}},cume_dist:function(){var t;return{init:function(){t=0},next:function(n){var e=n.index,r=n.data,i=n.compare;if(t<e){for(;e+1<r.length&&!i(r[e],r[e+1]);)++e;t=e}return(1+t)/r.length}}},ntile:function(t,n){(n=+n)>0||i("ntile num must be greater than zero.");var e=Oa.cume_dist(),r=e.next;return{init:e.init,next:function(t){return Math.ceil(n*r(t))}}},lag:function(t,n){return n=+n||1,{next:function(e){var r=e.index-n;return r>=0?t(e.data[r]):null}}},lead:function(t,n){return n=+n||1,{next:function(e){var r=e.index+n,i=e.data;return r<i.length?t(i[r]):null}}},first_value:function(t){return{next:function(n){return t(n.data[n.i0])}}},last_value:function(t){return{next:function(n){return t(n.data[n.i1-1])}}},nth_value:function(t,n){return(n=+n)>0||i("nth_value nth must be greater than zero."),{next:function(e){var r=e.i0+(n-1);return r<e.i1?t(e.data[r]):null}}}},za=Object.keys(Oa);function Na(t){var n=W(t.ops),a=W(t.fields),u=W(t.params),o=W(t.as),s=this.outputs=[],l=this.windows=[],c={},f={},h=!0,d=[],g=[];function v(t){W(r(t)).forEach(function(t){c[t]=1})}v(t.sort),n.forEach(function(t,n){var r=a[n],c=e(r),m=Vr(t,c,o[n]);if(v(r),s.push(m),Oa.hasOwnProperty(t))l.push(function(t,n,e,r){var i=Oa[t](n,e);return{init:i.init||p,update:function(t,n){n[r]=i.next(t)}}}(t,a[n],u[n],m));else{if(null==r&&"count"!==t&&i("Null aggregate field specified."),"count"===t)return void d.push(m);h=!1;var y=f[c];y||((y=f[c]=[]).field=r,g.push(y)),y.push(Zr(t,m))}}),(d.length||g.length)&&(this.cell=function(t,n,e){t=t.map(function(t){return Kr(t,t.field)});var r={num:0,agg:null,store:!1,count:n};if(!e)for(var i=t.length,a=r.agg=Array(i),u=0;u<i;++u)a[u]=new t[u](r);if(r.store)var o=r.data=new Mi;return r.add=function(t){if(r.num+=1,!e){o&&o.add(t);for(var n=0;n<i;++n)a[n].add(a[n].get(t),t)}},r.rem=function(t){if(r.num-=1,!e){o&&o.rem(t);for(var n=0;n<i;++n)a[n].rem(a[n].get(t),t)}},r.set=function(t){var i,u;for(o&&o.values(),i=0,u=n.length;i<u;++i)t[n[i]]=r.num;if(!e)for(i=0,u=a.length;i<u;++i)a[i].set(t)},r.init=function(){r.num=0,o&&o.reset();for(var t=0;t<i;++t)a[t].init()},r}(g,d,h)),this.inputs=Object.keys(c)}var Ta=Na.prototype;function Ra(t){jr.call(this,{},t),this._mlen=0,this._mods=[]}Ta.init=function(){this.windows.forEach(function(t){t.init()}),this.cell&&this.cell.init()},Ta.update=function(t,n){var e,r=this.cell,i=this.windows,a=t.data,u=i&&i.length;if(r){for(e=t.p0;e<t.i0;++e)r.rem(a[e]);for(e=t.p1;e<t.i1;++e)r.add(a[e]);r.set(n)}for(e=0;e<u;++e)i[e].update(t,n)},Ra.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:za.concat(Xr)},{name:"params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]};var Pa=et(Ra,jr);function La(t,n,e){var r=e.sort,i=r&&!e.ignorePeers,a=e.frame||[null,0],u=t.data(r),o=u.length,s=0,l=i?ii(r):null,c={i0:0,i1:0,p0:0,p1:0,index:0,data:u,compare:r||G(-1)};for(n.init();s<o;++s)qa(c,a,s,o),i&&Ua(c,l),n.update(c,u[s])}function qa(t,n,e,r){t.p0=t.i0,t.p1=t.i1,t.i0=null==n[0]?0:Math.max(0,e-Math.abs(n[0])),t.i1=null==n[1]?r:Math.min(r,e+Math.abs(n[1])+1),t.index=e}function Ua(t,n){var e=t.i0,r=t.i1-1,i=t.compare,a=t.data,u=a.length-1;e>0&&!i(a[e],a[e-1])&&(t.i0=n.left(a,a[e])),r<u&&!i(a[r],a[r+1])&&(t.i1=n.right(a,a[r]))}Pa.transform=function(t,n){var e,r,i=this,a=i.state,u=t.modified();this.stamp=n.stamp,a&&!u||(a=i.state=new Na(t));var o=Yr(t.groupby);function s(t){return i.group(o(t))}for(u||n.modified(a.inputs)?(i.value={},n.visit(n.SOURCE,function(t){s(t).add(t)})):(n.visit(n.REM,function(t){s(t).remove(t)}),n.visit(n.ADD,function(t){s(t).add(t)})),e=0,r=i._mlen;e<r;++e)La(i._mods[e],a,t);return i._mlen=0,i._mods=[],n.reflow(u).modifies(a.outputs)},Pa.group=function(t){var n=this.value[t];return n||((n=this.value[t]=Bi(Et)).stamp=-1),n.stamp<this.stamp&&(n.stamp=this.stamp,this._mods[this._mlen++]=n),n};var ja=Object.freeze({aggregate:Ci,bin:Fi,collect:Oi,compare:zi,countpattern:Ti,cross:Pi,density:$i,expression:Hi,extent:Vi,facet:Zi,field:Qi,filter:ta,flatten:ea,fold:ra,formula:ia,generate:aa,impute:sa,joinaggregate:la,key:fa,load:da,lookup:ga,multiextent:va,multivalues:ya,params:xa,pivot:ba,prefacet:Aa,project:ka,proxy:Ma,relay:Ea,sample:Ca,sequence:Da,sieve:Fa,subflow:Gi,tupleindex:Sa,values:Ba,window:Ra});const $a="top",Ia="left",Wa="right",Ha="bottom",Ya="top-left",Va="top-right",Ga="bottom-left",Xa="bottom-right",Za="start",Ja="middle",Qa="end",Ka="x",tu="y",nu="group",eu="axis",ru="title",iu="frame",au="scope",uu="legend",ou="row-header",su="row-footer",lu="row-title",cu="column-header",fu="column-footer",hu="column-title",du="padding",pu="symbol",gu="fit",vu="fit-x",mu="fit-y",yu="pad",_u="none",xu="all",bu="each",wu="flush",Au="column",ku="row";function Mu(t){this.clear(),t&&this.union(t)}var Eu=Mu.prototype;Eu.clone=function(){return new Mu(this)},Eu.clear=function(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},Eu.empty=function(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},Eu.equals=function(t){return this.x1===t.x1&&this.y1===t.y1&&this.x2===t.x2&&this.y2===t.y2},Eu.set=function(t,n,e,r){return e<t?(this.x2=t,this.x1=e):(this.x1=t,this.x2=e),r<n?(this.y2=n,this.y1=r):(this.y1=n,this.y2=r),this},Eu.add=function(t,n){return t<this.x1&&(this.x1=t),n<this.y1&&(this.y1=n),t>this.x2&&(this.x2=t),n>this.y2&&(this.y2=n),this},Eu.expand=function(t){return this.x1-=t,this.y1-=t,this.x2+=t,this.y2+=t,this},Eu.round=function(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},Eu.translate=function(t,n){return this.x1+=t,this.x2+=t,this.y1+=n,this.y2+=n,this},Eu.rotate=function(t,n,e){const r=this.rotatedPoints(t,n,e);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],r[5]).add(r[6],r[7])},Eu.rotatedPoints=function(t,n,e){var{x1:r,y1:i,x2:a,y2:u}=this,o=Math.cos(t),s=Math.sin(t),l=n-n*o+e*s,c=e-n*s-e*o;return[o*r-s*i+l,s*r+o*i+c,o*r-s*u+l,s*r+o*u+c,o*a-s*i+l,s*a+o*i+c,o*a-s*u+l,s*a+o*u+c]},Eu.union=function(t){return t.x1<this.x1&&(this.x1=t.x1),t.y1<this.y1&&(this.y1=t.y1),t.x2>this.x2&&(this.x2=t.x2),t.y2>this.y2&&(this.y2=t.y2),this},Eu.intersect=function(t){return t.x1>this.x1&&(this.x1=t.x1),t.y1>this.y1&&(this.y1=t.y1),t.x2<this.x2&&(this.x2=t.x2),t.y2<this.y2&&(this.y2=t.y2),this},Eu.encloses=function(t){return t&&this.x1<=t.x1&&this.x2>=t.x2&&this.y1<=t.y1&&this.y2>=t.y2},Eu.alignsWith=function(t){return t&&(this.x1==t.x1||this.x2==t.x2||this.y1==t.y1||this.y2==t.y2)},Eu.intersects=function(t){return t&&!(this.x2<t.x1||this.x1>t.x2||this.y2<t.y1||this.y1>t.y2)},Eu.contains=function(t,n){return!(t<this.x1||t>this.x2||n<this.y1||n>this.y2)},Eu.width=function(){return this.x2-this.x1},Eu.height=function(){return this.y2-this.y1};var Cu=0;function Du(t,n){var e,r=[];return e={id:"gradient_"+Cu++,x1:t?t[0]:0,y1:t?t[1]:0,x2:n?n[0]:1,y2:n?n[1]:0,stops:r,stop:function(t,n){return r.push({offset:t,color:n}),e}}}function Fu(t){this.mark=t,this.bounds=this.bounds||new Mu}function Su(t){Fu.call(this,t),this.items=this.items||[]}function Bu(t,n){if("undefined"!=typeof document&&document.createElement){var e=document.createElement("canvas");if(e&&e.getContext)return e.width=t,e.height=n,e}return null}function Ou(){return"undefined"!=typeof Image?Image:null}function zu(t){this._pending=0,this._loader=t||br()}et(Su,Fu);var Nu=zu.prototype;function Tu(t){t._pending+=1}function Ru(t){t._pending-=1}Nu.pending=function(){return this._pending},Nu.sanitizeURL=function(t){var n=this;return Tu(n),n._loader.sanitize(t,{context:"href"}).then(function(t){return Ru(n),t}).catch(function(){return Ru(n),null})},Nu.loadImage=function(t){var n=this,e=Ou();return Tu(n),n._loader.sanitize(t,{context:"image"}).then(function(t){var r=t.href;if(!r||!e)throw{url:r};var i=new e;return i.onload=function(){Ru(n),i.loaded=!0},i.onerror=function(){Ru(n),i.loaded=!1},i.src=r,i}).catch(function(t){return Ru(n),{loaded:!1,width:0,height:0,src:t&&t.url||""}})},Nu.ready=function(){var t=this;return new Promise(function(n){!function e(r){t.pending()?setTimeout(function(){e(!0)},10):n(r)}(!1)})};var Pu=Math.PI,Lu=2*Pu,qu=Lu-1e-6;function Uu(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function ju(){return new Uu}function $u(t){return function(){return t}}Uu.prototype=ju.prototype={constructor:Uu,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,r){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(t,n,e,r,i,a){this._+="C"+ +t+","+ +n+","+ +e+","+ +r+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(t,n,e,r,i){t=+t,n=+n,e=+e,r=+r,i=+i;var a=this._x1,u=this._y1,o=e-t,s=r-n,l=a-t,c=u-n,f=l*l+c*c;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(f>1e-6)if(Math.abs(c*o-s*l)>1e-6&&i){var h=e-a,d=r-u,p=o*o+s*s,g=h*h+d*d,v=Math.sqrt(p),m=Math.sqrt(f),y=i*Math.tan((Pu-Math.acos((p+f-g)/(2*v*m)))/2),_=y/m,x=y/v;Math.abs(_-1)>1e-6&&(this._+="L"+(t+_*l)+","+(n+_*c)),this._+="A"+i+","+i+",0,0,"+ +(c*h>l*d)+","+(this._x1=t+x*o)+","+(this._y1=n+x*s)}else this._+="L"+(this._x1=t)+","+(this._y1=n);else;},arc:function(t,n,e,r,i,a){t=+t,n=+n;var u=(e=+e)*Math.cos(r),o=e*Math.sin(r),s=t+u,l=n+o,c=1^a,f=a?r-i:i-r;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+s+","+l:(Math.abs(this._x1-s)>1e-6||Math.abs(this._y1-l)>1e-6)&&(this._+="L"+s+","+l),e&&(f<0&&(f=f%Lu+Lu),f>qu?this._+="A"+e+","+e+",0,1,"+c+","+(t-u)+","+(n-o)+"A"+e+","+e+",0,1,"+c+","+(this._x1=s)+","+(this._y1=l):f>1e-6&&(this._+="A"+e+","+e+",0,"+ +(f>=Pu)+","+c+","+(this._x1=t+e*Math.cos(i))+","+(this._y1=n+e*Math.sin(i))))},rect:function(t,n,e,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};var Iu=Math.abs,Wu=Math.atan2,Hu=Math.cos,Yu=Math.max,Vu=Math.min,Gu=Math.sin,Xu=Math.sqrt,Zu=1e-12,Ju=Math.PI,Qu=Ju/2,Ku=2*Ju;function to(t){return t>=1?Qu:t<=-1?-Qu:Math.asin(t)}function no(t){return t.innerRadius}function eo(t){return t.outerRadius}function ro(t){return t.startAngle}function io(t){return t.endAngle}function ao(t){return t&&t.padAngle}function uo(t,n,e,r,i,a,u){var o=t-e,s=n-r,l=(u?a:-a)/Xu(o*o+s*s),c=l*s,f=-l*o,h=t+c,d=n+f,p=e+c,g=r+f,v=(h+p)/2,m=(d+g)/2,y=p-h,_=g-d,x=y*y+_*_,b=i-a,w=h*g-p*d,A=(_<0?-1:1)*Xu(Yu(0,b*b*x-w*w)),k=(w*_-y*A)/x,M=(-w*y-_*A)/x,E=(w*_+y*A)/x,C=(-w*y+_*A)/x,D=k-v,F=M-m,S=E-v,B=C-m;return D*D+F*F>S*S+B*B&&(k=E,M=C),{cx:k,cy:M,x01:-c,y01:-f,x11:k*(i/b-1),y11:M*(i/b-1)}}function oo(t){this._context=t}function so(t){return new oo(t)}function lo(t){return t[0]}function co(t){return t[1]}function fo(){var t=lo,n=co,e=$u(!0),r=null,i=so,a=null;function u(u){var o,s,l,c=u.length,f=!1;for(null==r&&(a=i(l=ju())),o=0;o<=c;++o)!(o<c&&e(s=u[o],o,u))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+t(s,o,u),+n(s,o,u));if(l)return a=null,l+""||null}return u.x=function(n){return arguments.length?(t="function"==typeof n?n:$u(+n),u):t},u.y=function(t){return arguments.length?(n="function"==typeof t?t:$u(+t),u):n},u.defined=function(t){return arguments.length?(e="function"==typeof t?t:$u(!!t),u):e},u.curve=function(t){return arguments.length?(i=t,null!=r&&(a=i(r)),u):i},u.context=function(t){return arguments.length?(null==t?r=a=null:a=i(r=t),u):r},u}function ho(){var t=lo,n=null,e=$u(0),r=co,i=$u(!0),a=null,u=so,o=null;function s(s){var l,c,f,h,d,p=s.length,g=!1,v=new Array(p),m=new Array(p);for(null==a&&(o=u(d=ju())),l=0;l<=p;++l){if(!(l<p&&i(h=s[l],l,s))===g)if(g=!g)c=l,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),f=l-1;f>=c;--f)o.point(v[f],m[f]);o.lineEnd(),o.areaEnd()}g&&(v[l]=+t(h,l,s),m[l]=+e(h,l,s),o.point(n?+n(h,l,s):v[l],r?+r(h,l,s):m[l]))}if(d)return o=null,d+""||null}function l(){return fo().defined(i).curve(u).context(a)}return s.x=function(e){return arguments.length?(t="function"==typeof e?e:$u(+e),n=null,s):t},s.x0=function(n){return arguments.length?(t="function"==typeof n?n:$u(+n),s):t},s.x1=function(t){return arguments.length?(n=null==t?null:"function"==typeof t?t:$u(+t),s):n},s.y=function(t){return arguments.length?(e="function"==typeof t?t:$u(+t),r=null,s):e},s.y0=function(t){return arguments.length?(e="function"==typeof t?t:$u(+t),s):e},s.y1=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:$u(+t),s):r},s.lineX0=s.lineY0=function(){return l().x(t).y(e)},s.lineY1=function(){return l().x(t).y(r)},s.lineX1=function(){return l().x(n).y(e)},s.defined=function(t){return arguments.length?(i="function"==typeof t?t:$u(!!t),s):i},s.curve=function(t){return arguments.length?(u=t,null!=a&&(o=u(a)),s):u},s.context=function(t){return arguments.length?(null==t?a=o=null:o=u(a=t),s):a},s}oo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n)}}};var po={draw:function(t,n){var e=Math.sqrt(n/Ju);t.moveTo(e,0),t.arc(0,0,e,0,Ku)}};function go(){}function vo(t,n,e){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+e)/6)}function mo(t){this._context=t}function yo(t){this._context=t}function _o(t){this._context=t}function xo(t,n){this._basis=new mo(t),this._beta=n}mo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:vo(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:vo(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},yo.prototype={areaStart:go,areaEnd:go,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x2=t,this._y2=n;break;case 1:this._point=2,this._x3=t,this._y3=n;break;case 2:this._point=3,this._x4=t,this._y4=n,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+n)/6);break;default:vo(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},_o.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+n)/6;this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 3:this._point=4;default:vo(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},xo.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,n=this._y,e=t.length-1;if(e>0)for(var r,i=t[0],a=n[0],u=t[e]-i,o=n[e]-a,s=-1;++s<=e;)r=s/e,this._basis.point(this._beta*t[s]+(1-this._beta)*(i+r*u),this._beta*n[s]+(1-this._beta)*(a+r*o));this._x=this._y=null,this._basis.lineEnd()},point:function(t,n){this._x.push(+t),this._y.push(+n)}};var bo=function t(n){function e(t){return 1===n?new mo(t):new xo(t,n)}return e.beta=function(n){return t(+n)},e}(.85);function wo(t,n,e){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-e),t._x2,t._y2)}function Ao(t,n){this._context=t,this._k=(1-n)/6}Ao.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:wo(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:wo(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var ko=function t(n){function e(t){return new Ao(t,n)}return e.tension=function(n){return t(+n)},e}(0);function Mo(t,n){this._context=t,this._k=(1-n)/6}Mo.prototype={areaStart:go,areaEnd:go,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:wo(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Eo=function t(n){function e(t){return new Mo(t,n)}return e.tension=function(n){return t(+n)},e}(0);function Co(t,n){this._context=t,this._k=(1-n)/6}Co.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:wo(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Do=function t(n){function e(t){return new Co(t,n)}return e.tension=function(n){return t(+n)},e}(0);function Fo(t,n,e){var r=t._x1,i=t._y1,a=t._x2,u=t._y2;if(t._l01_a>Zu){var o=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,s=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*o-t._x0*t._l12_2a+t._x2*t._l01_2a)/s,i=(i*o-t._y0*t._l12_2a+t._y2*t._l01_2a)/s}if(t._l23_a>Zu){var l=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,c=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*l+t._x1*t._l23_2a-n*t._l12_2a)/c,u=(u*l+t._y1*t._l23_2a-e*t._l12_2a)/c}t._context.bezierCurveTo(r,i,a,u,t._x2,t._y2)}function So(t,n){this._context=t,this._alpha=n}So.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:Fo(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Bo=function t(n){function e(t){return n?new So(t,n):new Ao(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);function Oo(t,n){this._context=t,this._alpha=n}Oo.prototype={areaStart:go,areaEnd:go,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:Fo(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var zo=function t(n){function e(t){return n?new Oo(t,n):new Mo(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);function No(t,n){this._context=t,this._alpha=n}No.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Fo(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var To=function t(n){function e(t){return n?new No(t,n):new Co(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);function Ro(t){this._context=t}function Po(t){return t<0?-1:1}function Lo(t,n,e){var r=t._x1-t._x0,i=n-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),u=(e-t._y1)/(i||r<0&&-0),o=(a*i+u*r)/(r+i);return(Po(a)+Po(u))*Math.min(Math.abs(a),Math.abs(u),.5*Math.abs(o))||0}function qo(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function Uo(t,n,e){var r=t._x0,i=t._y0,a=t._x1,u=t._y1,o=(a-r)/3;t._context.bezierCurveTo(r+o,i+o*n,a-o,u-o*e,a,u)}function jo(t){this._context=t}function $o(t){this._context=new Io(t)}function Io(t){this._context=t}function Wo(t){this._context=t}function Ho(t){var n,e,r=t.length-1,i=new Array(r),a=new Array(r),u=new Array(r);for(i[0]=0,a[0]=2,u[0]=t[0]+2*t[1],n=1;n<r-1;++n)i[n]=1,a[n]=4,u[n]=4*t[n]+2*t[n+1];for(i[r-1]=2,a[r-1]=7,u[r-1]=8*t[r-1]+t[r],n=1;n<r;++n)e=i[n]/a[n-1],a[n]-=e,u[n]-=e*u[n-1];for(i[r-1]=u[r-1]/a[r-1],n=r-2;n>=0;--n)i[n]=(u[n]-i[n+1])/a[n];for(a[r-1]=(t[r]+i[r-1])/2,n=0;n<r-1;++n)a[n]=2*t[n+1]-i[n+1];return[i,a]}function Yo(t,n){this._context=t,this._t=n}Ro.prototype={areaStart:go,areaEnd:go,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,n){t=+t,n=+n,this._point?this._context.lineTo(t,n):(this._point=1,this._context.moveTo(t,n))}},jo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Uo(this,this._t0,qo(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(n=+n,(t=+t)!==this._x1||n!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,Uo(this,qo(this,e=Lo(this,t,n)),e);break;default:Uo(this,this._t0,e=Lo(this,t,n))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}},($o.prototype=Object.create(jo.prototype)).point=function(t,n){jo.prototype.point.call(this,n,t)},Io.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,e,r,i,a){this._context.bezierCurveTo(n,t,r,e,a,i)}},Wo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,n=this._y,e=t.length;if(e)if(this._line?this._context.lineTo(t[0],n[0]):this._context.moveTo(t[0],n[0]),2===e)this._context.lineTo(t[1],n[1]);else for(var r=Ho(t),i=Ho(n),a=0,u=1;u<e;++a,++u)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[u],n[u]);(this._line||0!==this._line&&1===e)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,n){this._x.push(+t),this._y.push(+n)}},Yo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var e=this._x*(1-this._t)+t*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,n)}}this._x=t,this._y=n}};var Vo={basis:{curve:function(t){return new mo(t)}},"basis-closed":{curve:function(t){return new yo(t)}},"basis-open":{curve:function(t){return new _o(t)}},bundle:{curve:bo,tension:"beta",value:.85},cardinal:{curve:ko,tension:"tension",value:0},"cardinal-open":{curve:Do,tension:"tension",value:0},"cardinal-closed":{curve:Eo,tension:"tension",value:0},"catmull-rom":{curve:Bo,tension:"alpha",value:.5},"catmull-rom-closed":{curve:zo,tension:"alpha",value:.5},"catmull-rom-open":{curve:To,tension:"alpha",value:.5},linear:{curve:so},"linear-closed":{curve:function(t){return new Ro(t)}},monotone:{horizontal:function(t){return new $o(t)},vertical:function(t){return new jo(t)}},natural:{curve:function(t){return new Wo(t)}},step:{curve:function(t){return new Yo(t,.5)}},"step-after":{curve:function(t){return new Yo(t,1)}},"step-before":{curve:function(t){return new Yo(t,0)}}};function Go(t,n,e){var r=Vo.hasOwnProperty(t)&&Vo[t],i=null;return r&&(i=r.curve||r[n||"vertical"],r.tension&&null!=e&&(i=i[r.tension](e))),i}var Xo={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},Zo=[/([MLHVCSQTAZmlhvcsqtaz])/g,/###/,/(\d)([-+])/g,/\s|,|###/];function Jo(t){var n,e,r,i,a,u,o,s,l,c,f,h=[];for(s=0,c=(n=t.slice().replace(Zo[0],"###$1").split(Zo[1]).slice(1)).length;s<c;++s){for(r=(e=n[s]).slice(1).trim().replace(Zo[2],"$1###$2").split(Zo[3]),i=[u=e.charAt(0)],l=0,f=r.length;l<f;++l)(a=+r[l])===a&&i.push(a);if(o=Xo[u.toLowerCase()],i.length-1>o)for(l=1,f=i.length;l<f;l+=o)h.push([u].concat(i.slice(l,l+o)));else h.push(i)}return h}var Qo=Math.PI/180,Ko=Math.PI/2,ts=2*Math.PI,ns=Math.sqrt(3)/2,es={},rs={},is=[].join;function as(t){var n=is.call(t);if(rs[n])return rs[n];var e=t[0],r=t[1],i=t[2],a=t[3],u=t[4],o=t[5],s=t[6],l=t[7],c=l*u,f=-s*o,h=s*u,d=l*o,p=Math.cos(i),g=Math.sin(i),v=Math.cos(a),m=Math.sin(a),y=.5*(a-i),_=Math.sin(.5*y),x=8/3*_*_/Math.sin(y),b=e+p-x*g,w=r+g+x*p,A=e+v,k=r+m,M=A+x*m,E=k-x*v;return rs[n]=[c*b+f*w,h*b+d*w,c*M+f*E,h*M+d*E,c*A+f*k,h*A+d*k]}var us=["l",0,0,0,0,0,0,0];function os(t,n){var e=us[0]=t[0];if("a"===e||"A"===e)us[1]=n*t[1],us[2]=n*t[2],us[3]=t[3],us[4]=t[4],us[5]=t[5],us[6]=n*t[6],us[7]=n*t[7];else for(var r=1,i=t.length;r<i;++r)us[r]=n*t[r];return us}function ss(t,n,e,r,i){var a,u,o,s,l,c=null,f=0,h=0,d=0,p=0;null==e&&(e=0),null==r&&(r=0),null==i&&(i=1),t.beginPath&&t.beginPath();for(var g=0,v=n.length;g<v;++g){switch(a=n[g],1!==i&&(a=os(a,i)),a[0]){case"l":f+=a[1],h+=a[2],t.lineTo(f+e,h+r);break;case"L":f=a[1],h=a[2],t.lineTo(f+e,h+r);break;case"h":f+=a[1],t.lineTo(f+e,h+r);break;case"H":f=a[1],t.lineTo(f+e,h+r);break;case"v":h+=a[1],t.lineTo(f+e,h+r);break;case"V":h=a[1],t.lineTo(f+e,h+r);break;case"m":f+=a[1],h+=a[2],t.moveTo(f+e,h+r);break;case"M":f=a[1],h=a[2],t.moveTo(f+e,h+r);break;case"c":u=f+a[5],o=h+a[6],d=f+a[3],p=h+a[4],t.bezierCurveTo(f+a[1]+e,h+a[2]+r,d+e,p+r,u+e,o+r),f=u,h=o;break;case"C":f=a[5],h=a[6],d=a[3],p=a[4],t.bezierCurveTo(a[1]+e,a[2]+r,d+e,p+r,f+e,h+r);break;case"s":u=f+a[3],o=h+a[4],d=2*f-d,p=2*h-p,t.bezierCurveTo(d+e,p+r,f+a[1]+e,h+a[2]+r,u+e,o+r),d=f+a[1],p=h+a[2],f=u,h=o;break;case"S":u=a[3],o=a[4],d=2*f-d,p=2*h-p,t.bezierCurveTo(d+e,p+r,a[1]+e,a[2]+r,u+e,o+r),f=u,h=o,d=a[1],p=a[2];break;case"q":u=f+a[3],o=h+a[4],d=f+a[1],p=h+a[2],t.quadraticCurveTo(d+e,p+r,u+e,o+r),f=u,h=o;break;case"Q":u=a[3],o=a[4],t.quadraticCurveTo(a[1]+e,a[2]+r,u+e,o+r),f=u,h=o,d=a[1],p=a[2];break;case"t":u=f+a[1],o=h+a[2],null===c[0].match(/[QqTt]/)?(d=f,p=h):"t"===c[0]?(d=2*f-s,p=2*h-l):"q"===c[0]&&(d=2*f-d,p=2*h-p),s=d,l=p,t.quadraticCurveTo(d+e,p+r,u+e,o+r),h=o,d=(f=u)+a[1],p=h+a[2];break;case"T":u=a[1],o=a[2],d=2*f-d,p=2*h-p,t.quadraticCurveTo(d+e,p+r,u+e,o+r),f=u,h=o;break;case"a":ls(t,f+e,h+r,[a[1],a[2],a[3],a[4],a[5],a[6]+f+e,a[7]+h+r]),f+=a[6],h+=a[7];break;case"A":ls(t,f+e,h+r,[a[1],a[2],a[3],a[4],a[5],a[6]+e,a[7]+r]),f=a[6],h=a[7];break;case"z":case"Z":t.closePath()}c=a}}function ls(t,n,e,r){for(var i=function(t,n,e,r,i,a,u,o,s){var l=is.call(arguments);if(es[l])return es[l];var c=u*Qo,f=Math.sin(c),h=Math.cos(c),d=h*(o-t)*.5+f*(s-n)*.5,p=h*(s-n)*.5-f*(o-t)*.5,g=d*d/((e=Math.abs(e))*e)+p*p/((r=Math.abs(r))*r);g>1&&(e*=g=Math.sqrt(g),r*=g);var v=h/e,m=f/e,y=-f/r,_=h/r,x=v*o+m*s,b=y*o+_*s,w=v*t+m*n,A=y*t+_*n,k=1/((w-x)*(w-x)+(A-b)*(A-b))-.25;k<0&&(k=0);var M=Math.sqrt(k);a==i&&(M=-M);var E=.5*(x+w)-M*(A-b),C=.5*(b+A)+M*(w-x),D=Math.atan2(b-C,x-E),F=Math.atan2(A-C,w-E)-D;F<0&&1===a?F+=ts:F>0&&0===a&&(F-=ts);for(var S=Math.ceil(Math.abs(F/(Ko+.001))),B=[],O=0;O<S;++O){var z=D+O*F/S,N=D+(O+1)*F/S;B[O]=[E,C,z,N,e,r,f,h]}return es[l]=B}(r[5],r[6],r[0],r[1],r[3],r[4],r[2],n,e),a=0;a<i.length;++a){var u=as(i[a]);t.bezierCurveTo(u[0],u[1],u[2],u[3],u[4],u[5])}}var cs={circle:{draw:function(t,n){var e=Math.sqrt(n)/2;t.moveTo(e,0),t.arc(0,0,e,0,ts)}},cross:{draw:function(t,n){var e=Math.sqrt(n)/2,r=e/2.5;t.moveTo(-e,-r),t.lineTo(-e,r),t.lineTo(-r,r),t.lineTo(-r,e),t.lineTo(r,e),t.lineTo(r,r),t.lineTo(e,r),t.lineTo(e,-r),t.lineTo(r,-r),t.lineTo(r,-e),t.lineTo(-r,-e),t.lineTo(-r,-r),t.closePath()}},diamond:{draw:function(t,n){var e=Math.sqrt(n)/2;t.moveTo(-e,0),t.lineTo(0,-e),t.lineTo(e,0),t.lineTo(0,e),t.closePath()}},square:{draw:function(t,n){var e=Math.sqrt(n),r=-e/2;t.rect(r,r,e,e)}},arrow:{draw:function(t,n){var e=Math.sqrt(n)/2,r=e/7,i=e/2.5,a=e/8;t.moveTo(-r,e),t.lineTo(r,e),t.lineTo(r,-a),t.lineTo(i,-a),t.lineTo(0,-e),t.lineTo(-i,-a),t.lineTo(-r,-a),t.closePath()}},wedge:{draw:function(t,n){var e=Math.sqrt(n)/2,r=ns*e,i=r-.5773502691896257*e,a=e/4;t.moveTo(0,-r-i),t.lineTo(-a,r-i),t.lineTo(a,r-i),t.closePath()}},triangle:{draw:function(t,n){var e=Math.sqrt(n)/2,r=ns*e,i=r-.5773502691896257*e;t.moveTo(0,-r-i),t.lineTo(-e,r-i),t.lineTo(e,r-i),t.closePath()}},"triangle-up":{draw:function(t,n){var e=Math.sqrt(n)/2,r=ns*e;t.moveTo(0,-r),t.lineTo(-e,r),t.lineTo(e,r),t.closePath()}},"triangle-down":{draw:function(t,n){var e=Math.sqrt(n)/2,r=ns*e;t.moveTo(0,r),t.lineTo(-e,-r),t.lineTo(e,-r),t.closePath()}},"triangle-right":{draw:function(t,n){var e=Math.sqrt(n)/2,r=ns*e;t.moveTo(r,0),t.lineTo(-r,-e),t.lineTo(-r,e),t.closePath()}},"triangle-left":{draw:function(t,n){var e=Math.sqrt(n)/2,r=ns*e;t.moveTo(-r,0),t.lineTo(r,-e),t.lineTo(r,e),t.closePath()}},stroke:{draw:function(t,n){var e=Math.sqrt(n)/2;t.moveTo(-e,0),t.lineTo(e,0)}}};function fs(t){return cs.hasOwnProperty(t)?cs[t]:function(t){if(!hs.hasOwnProperty(t)){var n=Jo(t);hs[t]={draw:function(t,e){ss(t,n,0,0,Math.sqrt(e)/2)}}}return hs[t]}(t)}var hs={};function ds(t){return t.x}function ps(t){return t.y}function gs(t){return t.width}function vs(t){return t.height}function ms(t){return function(){return t}}function ys(){var t=ds,n=ps,e=gs,r=vs,i=ms(0),a=null;function u(u,o,s){var l,c=null!=o?o:+t.call(this,u),f=null!=s?s:+n.call(this,u),h=+e.call(this,u),d=+r.call(this,u),p=+i.call(this,u);if(a||(a=l=ju()),p<=0)a.rect(c,f,h,d);else{var g=c+h,v=f+d;a.moveTo(c+p,f),a.lineTo(g-p,f),a.quadraticCurveTo(g,f,g,f+p),a.lineTo(g,v-p),a.quadraticCurveTo(g,v,g-p,v),a.lineTo(c+p,v),a.quadraticCurveTo(c,v,c,v-p),a.lineTo(c,f+p),a.quadraticCurveTo(c,f,c+p,f),a.closePath()}if(l)return a=null,l+""||null}return u.x=function(n){return arguments.length?(t="function"==typeof n?n:ms(+n),u):t},u.y=function(t){return arguments.length?(n="function"==typeof t?t:ms(+t),u):n},u.width=function(t){return arguments.length?(e="function"==typeof t?t:ms(+t),u):e},u.height=function(t){return arguments.length?(r="function"==typeof t?t:ms(+t),u):r},u.cornerRadius=function(t){return arguments.length?(i="function"==typeof t?t:ms(+t),u):i},u.context=function(t){return arguments.length?(a=null==t?null:t,u):a},u}function _s(){var t,n,e,r,i,a,u,o,s=null;function l(t,n,e){var r=e/2;if(i){var l=u-n,c=t-a;if(l||c){var f=Math.sqrt(l*l+c*c),h=(l/=f)*o,d=(c/=f)*o,p=Math.atan2(c,l);s.moveTo(a-h,u-d),s.lineTo(t-l*r,n-c*r),s.arc(t,n,r,p-Math.PI,p),s.lineTo(a+h,u+d),s.arc(a,u,o,p,p+Math.PI)}else s.arc(t,n,r,0,ts);s.closePath()}else i=1;a=t,u=n,o=r}function c(a){var u,o,c,f=a.length,h=!1;for(null==s&&(s=c=ju()),u=0;u<=f;++u)!(u<f&&r(o=a[u],u,a))===h&&(h=!h)&&(i=0),h&&l(+t(o,u,a),+n(o,u,a),+e(o,u,a));if(c)return s=null,c+""||null}return c.x=function(n){return arguments.length?(t=n,c):t},c.y=function(t){return arguments.length?(n=t,c):n},c.size=function(t){return arguments.length?(e=t,c):e},c.defined=function(t){return arguments.length?(r=t,c):r},c.context=function(t){return arguments.length?(s=null==t?null:t,c):s},c}function xs(t){return t.x||0}function bs(t){return t.y||0}function ws(t){return t.cornerRadius||0}function As(t){return!(!1===t.defined)}var ks=function(){var t=no,n=eo,e=$u(0),r=null,i=ro,a=io,u=ao,o=null;function s(){var s,l,c,f=+t.apply(this,arguments),h=+n.apply(this,arguments),d=i.apply(this,arguments)-Qu,p=a.apply(this,arguments)-Qu,g=Iu(p-d),v=p>d;if(o||(o=s=ju()),h<f&&(l=h,h=f,f=l),h>Zu)if(g>Ku-Zu)o.moveTo(h*Hu(d),h*Gu(d)),o.arc(0,0,h,d,p,!v),f>Zu&&(o.moveTo(f*Hu(p),f*Gu(p)),o.arc(0,0,f,p,d,v));else{var m,y,_=d,x=p,b=d,w=p,A=g,k=g,M=u.apply(this,arguments)/2,E=M>Zu&&(r?+r.apply(this,arguments):Xu(f*f+h*h)),C=Vu(Iu(h-f)/2,+e.apply(this,arguments)),D=C,F=C;if(E>Zu){var S=to(E/f*Gu(M)),B=to(E/h*Gu(M));(A-=2*S)>Zu?(b+=S*=v?1:-1,w-=S):(A=0,b=w=(d+p)/2),(k-=2*B)>Zu?(_+=B*=v?1:-1,x-=B):(k=0,_=x=(d+p)/2)}var O=h*Hu(_),z=h*Gu(_),N=f*Hu(w),T=f*Gu(w);if(C>Zu){var R,P=h*Hu(x),L=h*Gu(x),q=f*Hu(b),U=f*Gu(b);if(g<Ju&&(R=function(t,n,e,r,i,a,u,o){var s=e-t,l=r-n,c=u-i,f=o-a,h=f*s-c*l;if(!(h*h<Zu))return[t+(h=(c*(n-a)-f*(t-i))/h)*s,n+h*l]}(O,z,q,U,P,L,N,T))){var j=O-R[0],$=z-R[1],I=P-R[0],W=L-R[1],H=1/Gu(((c=(j*I+$*W)/(Xu(j*j+$*$)*Xu(I*I+W*W)))>1?0:c<-1?Ju:Math.acos(c))/2),Y=Xu(R[0]*R[0]+R[1]*R[1]);D=Vu(C,(f-Y)/(H-1)),F=Vu(C,(h-Y)/(H+1))}}k>Zu?F>Zu?(m=uo(q,U,O,z,h,F,v),y=uo(P,L,N,T,h,F,v),o.moveTo(m.cx+m.x01,m.cy+m.y01),F<C?o.arc(m.cx,m.cy,F,Wu(m.y01,m.x01),Wu(y.y01,y.x01),!v):(o.arc(m.cx,m.cy,F,Wu(m.y01,m.x01),Wu(m.y11,m.x11),!v),o.arc(0,0,h,Wu(m.cy+m.y11,m.cx+m.x11),Wu(y.cy+y.y11,y.cx+y.x11),!v),o.arc(y.cx,y.cy,F,Wu(y.y11,y.x11),Wu(y.y01,y.x01),!v))):(o.moveTo(O,z),o.arc(0,0,h,_,x,!v)):o.moveTo(O,z),f>Zu&&A>Zu?D>Zu?(m=uo(N,T,P,L,f,-D,v),y=uo(O,z,q,U,f,-D,v),o.lineTo(m.cx+m.x01,m.cy+m.y01),D<C?o.arc(m.cx,m.cy,D,Wu(m.y01,m.x01),Wu(y.y01,y.x01),!v):(o.arc(m.cx,m.cy,D,Wu(m.y01,m.x01),Wu(m.y11,m.x11),!v),o.arc(0,0,f,Wu(m.cy+m.y11,m.cx+m.x11),Wu(y.cy+y.y11,y.cx+y.x11),v),o.arc(y.cx,y.cy,D,Wu(y.y11,y.x11),Wu(y.y01,y.x01),!v))):o.arc(0,0,f,w,b,v):o.lineTo(N,T)}else o.moveTo(0,0);if(o.closePath(),s)return o=null,s+""||null}return s.centroid=function(){var e=(+t.apply(this,arguments)+ +n.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-Ju/2;return[Hu(r)*e,Gu(r)*e]},s.innerRadius=function(n){return arguments.length?(t="function"==typeof n?n:$u(+n),s):t},s.outerRadius=function(t){return arguments.length?(n="function"==typeof t?t:$u(+t),s):n},s.cornerRadius=function(t){return arguments.length?(e="function"==typeof t?t:$u(+t),s):e},s.padRadius=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:$u(+t),s):r},s.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:$u(+t),s):i},s.endAngle=function(t){return arguments.length?(a="function"==typeof t?t:$u(+t),s):a},s.padAngle=function(t){return arguments.length?(u="function"==typeof t?t:$u(+t),s):u},s.context=function(t){return arguments.length?(o=null==t?null:t,s):o},s}().startAngle(function(t){return t.startAngle||0}).endAngle(function(t){return t.endAngle||0}).padAngle(function(t){return t.padAngle||0}).innerRadius(function(t){return t.innerRadius||0}).outerRadius(function(t){return t.outerRadius||0}).cornerRadius(ws),Ms=ho().x(xs).y1(bs).y0(function(t){return(t.y||0)+(t.height||0)}).defined(As),Es=ho().y(bs).x1(xs).x0(function(t){return(t.x||0)+(t.width||0)}).defined(As),Cs=fo().x(xs).y(bs).defined(As),Ds=ys().x(xs).y(bs).width(function(t){return t.width||0}).height(function(t){return t.height||0}).cornerRadius(ws),Fs=function(){var t=$u(po),n=$u(64),e=null;function r(){var r;if(e||(e=r=ju()),t.apply(this,arguments).draw(e,+n.apply(this,arguments)),r)return e=null,r+""||null}return r.type=function(n){return arguments.length?(t="function"==typeof n?n:$u(n),r):t},r.size=function(t){return arguments.length?(n="function"==typeof t?t:$u(+t),r):n},r.context=function(t){return arguments.length?(e=null==t?null:t,r):e},r}().type(function(t){return fs(t.shape||"circle")}).size(function(t){return null==t.size?64:t.size}),Ss=_s().x(xs).y(bs).defined(As).size(function(t){return t.size||1});function Bs(t,n,e,r){return Ds.context(t)(n,e,r)}function Os(t,n){return n.stroke&&0!==n.opacity&&0!==n.strokeOpacity&&t.expand(null!=n.strokeWidth?+n.strokeWidth:1),t}var zs,Ns=ts-1e-8;function Ts(t){return zs=t,Ts}function Rs(){}function Ps(t,n){zs.add(t,n)}Ts.beginPath=Rs,Ts.closePath=Rs,Ts.moveTo=Ps,Ts.lineTo=Ps,Ts.rect=function(t,n,e,r){Ps(t,n),Ps(t+e,n+r)},Ts.quadraticCurveTo=function(t,n,e,r){Ps(t,n),Ps(e,r)},Ts.bezierCurveTo=function(t,n,e,r,i,a){Ps(t,n),Ps(e,r),Ps(i,a)},Ts.arc=function(t,n,e,r,i,a){if(Math.abs(i-r)>Ns)return Ps(t-e,n-e),void Ps(t+e,n+e);var u,o,s,l,c=1/0,f=-1/0,h=1/0,d=-1/0;function p(t){s=e*Math.cos(t),l=e*Math.sin(t),s<c&&(c=s),s>f&&(f=s),l<h&&(h=l),l>d&&(d=l)}if(p(r),p(i),i!==r)if((r%=ts)<0&&(r+=ts),(i%=ts)<0&&(i+=ts),i<r&&(a=!a,u=r,r=i,i=u),a)for(i-=ts,u=r-r%Ko,o=0;o<4&&u>i;++o,u-=Ko)p(u);else for(u=r-r%Ko+Ko,o=0;o<4&&u<i;++o,u+=Ko)p(u);Ps(t+c,n+h),Ps(t+f,n+d)};var Ls=(Ls=Bu(1,1))?Ls.getContext("2d"):null;const qs=new Mu;function Us(t){return function(n,e){if(!Ls)return!0;t(Ls,n),qs.clear().union(n.bounds).intersect(e).round();const{x1:r,y1:i,x2:a,y2:u}=qs;for(let t=i;t<=u;++t)for(let n=r;n<=a;++n)if(Ls.isPointInPath(n,t))return!0;return!1}}function js(t,n){return n.contains(t.x||0,t.y||0)}function $s(t,n){const e=t.x||0,r=t.y||0,i=t.width||0,a=t.height||0;return n.intersects(qs.set(e,r,e+i,r+a))}function Is(t,n){const e=t.x||0,r=t.y||0;return Ws(n,e,r,null!=t.x2?t.x2:e,null!=t.y2?t.y2:r)}function Ws(t,n,e,r,i){const{x1:a,y1:u,x2:o,y2:s}=t,l=r-n,c=i-e;let f,h,d,p,g=0,v=1;for(p=0;p<4;++p){if(0===p&&(f=-l,h=-(a-n)),1===p&&(f=l,h=o-n),2===p&&(f=-c,h=-(u-e)),3===p&&(f=c,h=s-e),Math.abs(f)<1e-10&&h<0)return!1;if(d=h/f,f<0){if(d>v)return!1;d>g&&(g=d)}else if(f>0){if(d<g)return!1;d<v&&(v=d)}}return!0}function Hs(t,n,e){return e.id?function(t,n,e){for(var r=e.width(),i=e.height(),a=e.x1+n.x1*r,u=e.y1+n.y1*i,o=e.x1+n.x2*r,s=e.y1+n.y2*i,l=n.stops,c=0,f=l.length,h=t.createLinearGradient(a,u,o,s);c<f;++c)h.addColorStop(l[c].offset,l[c].color);return h}(t,e,n.bounds):e}function Ys(t,n,e){return(e*=null==n.fillOpacity?1:n.fillOpacity)>0&&(t.globalAlpha=e,t.fillStyle=Hs(t,n,n.fill),!0)}var Vs=[];function Gs(t,n,e){var r=null!=(r=n.strokeWidth)?r:1;return!(r<=0)&&((e*=null==n.strokeOpacity?1:n.strokeOpacity)>0&&(t.globalAlpha=e,t.strokeStyle=Hs(t,n,n.stroke),t.lineWidth=r,t.lineCap=n.strokeCap||"butt",t.lineJoin=n.strokeJoin||"miter",t.miterLimit=n.strokeMiterLimit||10,t.setLineDash&&(t.setLineDash(n.strokeDash||Vs),t.lineDashOffset=n.strokeDashOffset||0),!0))}function Xs(t,n){return t.zindex-n.zindex||t.index-n.index}function Zs(t){if(!t.zdirty)return t.zitems;var n,e,r,i=t.items,a=[];for(e=0,r=i.length;e<r;++e)(n=i[e]).index=e,n.zindex&&a.push(n);return t.zdirty=!1,t.zitems=a.sort(Xs)}function Js(t,n){var e,r,i=t.items;if(i&&i.length){var a=Zs(t);if(a&&a.length){for(e=0,r=i.length;e<r;++e)i[e].zindex||n(i[e]);i=a}for(e=0,r=i.length;e<r;++e)n(i[e])}}function Qs(t,n){var e,r,i=t.items;if(!i||!i.length)return null;var a=Zs(t);for(a&&a.length&&(i=a),r=i.length;--r>=0;)if(e=n(i[r]))return e;if(i===a)for(r=(i=t.items).length;--r>=0;)if(!i[r].zindex&&(e=n(i[r])))return e;return null}function Ks(t){return function(n,e,r){Js(e,function(e){r&&!r.intersects(e.bounds)||tl(t,n,e,e)})}}function tl(t,n,e,r){var i=null==e.opacity?1:e.opacity;0!==i&&(t(n,r)||(e.fill&&Ys(n,e,i)&&n.fill(),e.stroke&&Gs(n,e,i)&&n.stroke()))}function nl(t){return t=t||v,function(n,e,r,i,a,u){return r*=n.pixelRatio,i*=n.pixelRatio,Qs(e,function(e){var o=e.bounds;if((!o||o.contains(a,u))&&o)return t(n,e,r,i,a,u)?e:void 0})}}function el(t,n){return function(e,r,i,a){var u,o,s=Array.isArray(r)?r[0]:r,l=null==n?s.fill:n,c=s.stroke&&e.isPointInStroke;return c&&(u=s.strokeWidth,o=s.strokeCap,e.lineWidth=null!=u?u:1,e.lineCap=null!=o?o:"butt"),!t(e,r)&&(l&&e.isPointInPath(i,a)||c&&e.isPointInStroke(i,a))}}function rl(t){return nl(el(t))}function il(t,n){return"translate("+t+","+n+")"}function al(t){return"rotate("+t+")"}function ul(t){return il(t.x||0,t.y||0)}function ol(t,n,e){function r(t,e){var r=e.x||0,i=e.y||0,a=e.angle||0;t.translate(r,i),a&&t.rotate(a*=Qo),t.beginPath(),n(t,e),a&&t.rotate(-a),t.translate(-r,-i)}return{type:t,tag:"path",nested:!1,attr:function(t,e){t("transform",function(t){return il(t.x||0,t.y||0)+(t.angle?" "+al(t.angle):"")}(e)),t("d",n(null,e))},bound:function(t,e){var r=e.x||0,i=e.y||0;return n(Ts(t),e),Os(t,e).translate(r,i),e.angle&&t.rotate(e.angle*Qo,r,i),t},draw:Ks(r),pick:rl(r),isect:e||Us(r)}}var sl=ol("arc",function(t,n){return ks.context(t)(n)});function ll(t,n,e){function r(t,e){t.beginPath(),n(t,e)}var i,a=el(r);return{type:t,tag:"path",nested:!0,attr:function(t,e){var r=e.mark.items;r.length&&t("d",n(null,r))},bound:function(t,e){var r=e.items;return 0===r.length?t:(n(Ts(t),r),Os(t,r[0]))},draw:(i=r,function(t,n,e){!n.items.length||e&&!e.intersects(n.bounds)||tl(i,t,n.items[0],n.items)}),pick:function(t,n,e,r,i,u){var o=n.items,s=n.bounds;return!o||!o.length||s&&!s.contains(i,u)?null:(e*=t.pixelRatio,r*=t.pixelRatio,a(t,o,e,r)?o[0]:null)},isect:js,tip:e}}var cl=ll("area",function(t,n){var e=n[0],r=e.interpolate||"linear";return("horizontal"===e.orient?Es:Ms).curve(Go(r,e.orient,e.tension)).context(t)(n)},function(t,n){for(var e,r,i="horizontal"===t[0].orient?n[1]:n[0],a="horizontal"===t[0].orient?"y":"x",u=t.length,o=1/0;--u>=0;)!1!==t[u].defined&&(r=Math.abs(t[u][a]-i))<o&&(o=r,e=t[u]);return e}),fl=1;function hl(t,n,e){var r=n.clip,i=t._defs,a=n.clip_id||(n.clip_id="clip"+fl++),u=i.clipping[a]||(i.clipping[a]={id:a});return Y(r)?u.path=r(null):(u.width=e.width||0,u.height=e.height||0),"url(#"+a+")"}var dl=.5;function pl(t,n){var e=n.stroke?dl:0;t.beginPath(),Bs(t,n,e,e)}var gl=el(pl);var vl={type:"group",tag:"g",nested:!1,attr:function(t,n){t("transform",ul(n))},bound:function(t,n){if(!n.clip&&n.items)for(var e=n.items,r=0,i=e.length;r<i;++r)t.union(e[r].bounds);return(n.clip||n.width||n.height)&&!n.noBound&&t.add(0,0).add(n.width||0,n.height||0),Os(t,n),t.translate(n.x||0,n.y||0)},draw:function(t,n,e){var r=this;Js(n,function(n){var i,a=n.x||0,u=n.y||0,o=n.width||0,s=n.height||0;t.save(),t.translate(a,u),(n.stroke||n.fill)&&(i=null==n.opacity?1:n.opacity)>0&&(pl(t,n),n.fill&&Ys(t,n,i)&&t.fill(),n.stroke&&Gs(t,n,i)&&t.stroke()),n.clip&&(t.beginPath(),t.rect(0,0,o,s),t.clip()),e&&e.translate(-a,-u),Js(n,function(n){r.draw(t,n,e)}),e&&e.translate(a,u),t.restore()})},pick:function(t,n,e,r,i,a){if(n.bounds&&!n.bounds.contains(i,a)||!n.items)return null;var u=this,o=e*t.pixelRatio,s=r*t.pixelRatio;return Qs(n,function(l){var c,f,h,d;if(!(d=l.bounds)||d.contains(i,a))return f=l.x||0,h=l.y||0,t.save(),t.translate(f,h),f=i-f,h=a-h,!(c=Qs(l,function(t){return function(t,n,e){return(!1!==t.interactive||"group"===t.marktype)&&t.bounds&&t.bounds.contains(n,e)}(t,f,h)?u.pick(t,e,r,f,h):null}))&&!1!==n.interactive&&(l.fill||l.stroke)&&gl(t,l,o,s)&&(c=l),t.restore(),c||null})},isect:$s,background:function(t,n){var e=n.stroke?dl:0;t("class","background"),t("d",Bs(null,n,e,e))},foreground:function(t,n,e){t("clip-path",n.clip?hl(e,n,n):null)}};function ml(t,n){var e=t.image;return e&&e.url===t.url||(e={loaded:!1,width:0,height:0},n.loadImage(t.url).then(function(n){t.image=n,t.image.url=t.url})),e}function yl(t,n){return"center"===t?n/2:"right"===t?n:0}function _l(t,n){return"middle"===t?n/2:"bottom"===t?n:0}var xl={type:"image",tag:"image",nested:!1,attr:function(t,n,e){var r=ml(n,e),i=n.x||0,a=n.y||0,u=(null!=n.width?n.width:r.width)||0,o=(null!=n.height?n.height:r.height)||0,s=!1===n.aspect?"none":"xMidYMid";i-=yl(n.align,u),a-=_l(n.baseline,o),t("href",r.src||"","http://www.w3.org/1999/xlink","xlink:href"),t("transform",il(i,a)),t("width",u),t("height",o),t("preserveAspectRatio",s)},bound:function(t,n){var e=n.image,r=n.x||0,i=n.y||0,a=(null!=n.width?n.width:e&&e.width)||0,u=(null!=n.height?n.height:e&&e.height)||0;return r-=yl(n.align,a),i-=_l(n.baseline,u),t.set(r,i,r+a,i+u)},draw:function(t,n,e){var r=this;Js(n,function(n){if(!e||e.intersects(n.bounds)){var i,a,u,o,s=ml(n,r),l=n.x||0,c=n.y||0,f=(null!=n.width?n.width:s.width)||0,h=(null!=n.height?n.height:s.height)||0;l-=yl(n.align,f),c-=_l(n.baseline,h),!1!==n.aspect&&(a=s.width/s.height,u=n.width/n.height,a==a&&u==u&&a!==u&&(u<a?(c+=(h-(o=f/a))/2,h=o):(l+=(f-(o=h*a))/2,f=o))),s.loaded&&(t.globalAlpha=null!=(i=n.opacity)?i:1,t.drawImage(s,l,c,f,h))}})},pick:nl(),isect:v,get:ml,xOffset:yl,yOffset:_l},bl=ll("line",function(t,n){var e=n[0],r=e.interpolate||"linear";return Cs.curve(Go(r,e.orient,e.tension)).context(t)(n)},function(t,n){for(var e,r,i=Math.pow(t[0].strokeWidth||1,2),a=t.length;--a>=0;)if(!1!==t[a].defined&&(e=t[a].x-n[0])*e+(r=t[a].y-n[1])*r<i)return t[a];return null});function wl(t,n){var e=n.path;if(null==e)return!0;var r=n.pathCache;r&&r.path===e||((n.pathCache=r=Jo(e)).path=e),ss(t,r,n.x,n.y)}var Al={type:"path",tag:"path",nested:!1,attr:function(t,n){t("transform",ul(n)),t("d",n.path)},bound:function(t,n){return wl(Ts(t),n)?t.set(0,0,0,0):Os(t,n)},draw:Ks(wl),pick:rl(wl),isect:Us(wl)};function kl(t,n){t.beginPath(),Bs(t,n)}var Ml={type:"rect",tag:"path",nested:!1,attr:function(t,n){t("d",Bs(null,n))},bound:function(t,n){var e,r;return Os(t.set(e=n.x||0,r=n.y||0,e+n.width||0,r+n.height||0),n)},draw:Ks(kl),pick:rl(kl),isect:$s};function El(t,n,e){var r,i,a,u;return!(!n.stroke||!Gs(t,n,e))&&(r=n.x||0,i=n.y||0,a=null!=n.x2?n.x2:r,u=null!=n.y2?n.y2:i,t.beginPath(),t.moveTo(r,i),t.lineTo(a,u),!0)}var Cl,Dl={type:"rule",tag:"line",nested:!1,attr:function(t,n){t("transform",ul(n)),t("x2",null!=n.x2?n.x2-(n.x||0):0),t("y2",null!=n.y2?n.y2-(n.y||0):0)},bound:function(t,n){var e,r;return Os(t.set(e=n.x||0,r=n.y||0,null!=n.x2?n.x2:e,null!=n.y2?n.y2:r),n)},draw:function(t,n,e){Js(n,function(n){if(!e||e.intersects(n.bounds)){var r=null==n.opacity?1:n.opacity;r&&El(t,n,r)&&t.stroke()}})},pick:nl(function(t,n,e,r){return!!t.isPointInStroke&&El(t,n,1)&&t.isPointInStroke(e,r)}),isect:Is},Fl=ol("shape",function(t,n){return(n.mark.shape||n.shape).context(t)(n)}),Sl=ol("symbol",function(t,n){return Fs.context(t)(n)},js),Bl={height:Rl,measureWidth:Nl,estimateWidth:Ol,width:Ol,canvas:Pl};function Ol(t){return Cl=Rl(t),zl(Ll(t))}function zl(t){return~~(.8*t.length*Cl)}function Nl(t){return Rl(t)<=0?0:(Ls.font=Ul(t),Tl(Ll(t)))}function Tl(t){return Ls.measureText(t).width}function Rl(t){return null!=t.fontSize?t.fontSize:11}function Pl(t){Bl.width=t&&Ls?Nl:Ol}function Ll(t){var n=t.text;return null==n?"":t.limit>0?function(t){var n,e=+t.limit,r=t.text+"";Bl.width===Nl?(Ls.font=Ul(t),n=Tl):(Cl=Rl(t),n=zl);if(n(r)<e)return r;var i,a=t.ellipsis||"",u="rtl"===t.dir,o=0,s=r.length;if(e-=n(a),u){for(;o<s;)i=o+s>>>1,n(r.slice(i))>e?o=i+1:s=i;return a+r.slice(o)}for(;o<s;)i=1+(o+s>>>1),n(r.slice(0,i))<e?o=i:s=i-1;return r.slice(0,o)+a}(t):n+""}function ql(t,n){var e=t.font;return(n&&e?String(e).replace(/"/g,"'"):e)||"sans-serif"}function Ul(t,n){return(t.fontStyle?t.fontStyle+" ":"")+(t.fontVariant?t.fontVariant+" ":"")+(t.fontWeight?t.fontWeight+" ":"")+Rl(t)+"px "+ql(t,n)}function jl(t){var n=t.baseline,e=Rl(t);return Math.round("top"===n?.79*e:"middle"===n?.3*e:"bottom"===n?-.21*e:0)}Pl(!0);var $l={left:"start",center:"middle",right:"end"},Il=new Mu;function Wl(t){var n,e=t.x||0,r=t.y||0,i=t.radius||0;return i&&(n=(t.theta||0)-Ko,e+=i*Math.cos(n),r+=i*Math.sin(n)),Il.x1=e,Il.y1=r,Il}function Hl(t,n,e){var r,i=Bl.height(n),a=n.align,u=Wl(n),o=u.x1,s=u.y1,l=n.dx||0,c=(n.dy||0)+jl(n)-Math.round(.8*i);if(r=Bl.width(n),"center"===a?l-=r/2:"right"===a&&(l-=r),t.set(l+=o,c+=s,l+r,c+i),n.angle&&!e)t.rotate(n.angle*Qo,o,s);else if(2===e)return t.rotatedPoints(n.angle*Qo,o,s);return t}var Yl={arc:sl,area:cl,group:vl,image:xl,line:bl,path:Al,rect:Ml,rule:Dl,shape:Fl,symbol:Sl,text:{type:"text",tag:"text",nested:!1,attr:function(t,n){var e,r=n.dx||0,i=(n.dy||0)+jl(n),a=Wl(n),u=a.x1,o=a.y1,s=n.angle||0;t("text-anchor",$l[n.align]||"start"),s?(e=il(u,o)+" "+al(s),(r||i)&&(e+=" "+il(r,i))):e=il(u+r,o+i),t("transform",e)},bound:Hl,draw:function(t,n,e){Js(n,function(n){var r,i,a,u,o;e&&!e.intersects(n.bounds)||(o=Ll(n))&&(0===(r=null==n.opacity?1:n.opacity)||n.fontSize<=0||(t.font=Ul(n),t.textAlign=n.align||"left",a=(i=Wl(n)).x1,u=i.y1,n.angle&&(t.save(),t.translate(a,u),t.rotate(n.angle*Qo),a=u=0),a+=n.dx||0,u+=(n.dy||0)+jl(n),n.fill&&Ys(t,n,r)&&t.fillText(o,a,u),n.stroke&&Gs(t,n,r)&&t.strokeText(o,a,u),n.angle&&t.restore()))})},pick:nl(function(t,n,e,r,i,a){if(n.fontSize<=0)return!1;if(!n.angle)return!0;var u=Wl(n),o=u.x1,s=u.y1,l=Hl(Il,n,1),c=-n.angle*Qo,f=Math.cos(c),h=Math.sin(c),d=f*i-h*a+(o-f*o+h*s),p=h*i+f*a+(s-h*o-f*s);return l.contains(d,p)}),isect:function(t,n){var e=Hl(Il,t,2);return Ws(n,e[0],e[1],e[2],e[3])||Ws(n,e[0],e[1],e[4],e[5])||Ws(n,e[4],e[5],e[6],e[7])||Ws(n,e[2],e[3],e[6],e[7])}},trail:ll("trail",function(t,n){return Ss.context(t)(n)},function(t,n){for(var e,r,i=t.length;--i>=0;)if(!1!==t[i].defined&&(e=t[i].x-n[0])*e+(r=t[i].y-n[1])*r<(e=t[i].size||1)*e)return t[i];return null})};function Vl(t,n,e){var r=Yl[t.mark.marktype],i=n||r.bound;return r.nested&&(t=t.mark),i(t.bounds||(t.bounds=new Mu),t,e)}var Gl={mark:null};function Xl(t,n,e){var r,i,a,u,o=Yl[t.marktype],s=o.bound,l=t.items,c=l&&l.length;if(o.nested)return c?a=l[0]:(Gl.mark=t,a=Gl),u=Vl(a,s,e),n=n&&n.union(u)||u;if(n=n||t.bounds&&t.bounds.clear()||new Mu,c)for(r=0,i=l.length;r<i;++r)n.union(Vl(l[r],s,e));return t.bounds=n}var Zl=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","interpolate","tension","orient","defined","url","path","x2","y2","size","shape","text","angle","theta","radius","dx","dy","font","fontSize","fontWeight","fontStyle","fontVariant"];function Jl(t,n){return JSON.stringify(t,Zl,n)}function Ql(t){return function t(n){var e,r,i,a=n.marktype,u=n.items;if(u)for(r=0,i=u.length;r<i;++r)e=a?"mark":"group",u[r][e]=n,u[r].zindex&&(u[r][e].zdirty=!0),"group"===(a||e)&&t(u[r]);a&&Xl(n);return n}("string"==typeof t?JSON.parse(t):t)}function Kl(t){arguments.length?this.root=Ql(t):(this.root=nc({marktype:"group",name:"root",role:"frame"}),this.root.items=[new Su(this.root)])}var tc=Kl.prototype;function nc(t,n){return{bounds:new Mu,clip:!!t.clip,group:n,interactive:!1!==t.interactive,items:[],marktype:t.marktype,name:t.name||void 0,role:t.role||void 0,zindex:t.zindex||0}}function ec(t,n,e){return!t&&"undefined"!=typeof document&&document.createElement&&(t=document),t?e?t.createElementNS(e,n):t.createElement(n):null}function rc(t,n){n=n.toLowerCase();for(var e=t.childNodes,r=0,i=e.length;r<i;++r)if(e[r].tagName.toLowerCase()===n)return e[r]}function ic(t,n,e,r){var i,a=t.childNodes[n];return a&&a.tagName.toLowerCase()===e.toLowerCase()||(i=a||null,a=ec(t.ownerDocument,e,r),t.insertBefore(a,i)),a}function ac(t,n){for(var e=t.childNodes,r=e.length;r>n;)t.removeChild(e[--r]);return t}function uc(t){return"mark-"+t.marktype+(t.role?" role-"+t.role:"")+(t.name?" "+t.name:"")}function oc(t,n){var e=n.getBoundingClientRect();return[t.clientX-e.left-(n.clientLeft||0),t.clientY-e.top-(n.clientTop||0)]}function sc(t,n){this._active=null,this._handlers={},this._loader=t||br(),this._tooltip=n||lc}function lc(t,n,e,r){t.element().setAttribute("title",r||"")}tc.toJSON=function(t){return Jl(this.root,t||0)},tc.mark=function(t,n,e){var r=nc(t,n=n||this.root.items[0]);return n.items[e]=r,r.zindex&&(r.group.zdirty=!0),r};var cc=sc.prototype;function fc(t){this._el=null,this._bgcolor=null,this._loader=new zu(t)}cc.initialize=function(t,n,e){return this._el=t,this._obj=e||null,this.origin(n)},cc.element=function(){return this._el},cc.canvas=function(){return this._el&&this._el.firstChild},cc.origin=function(t){return arguments.length?(this._origin=t||[0,0],this):this._origin.slice()},cc.scene=function(t){return arguments.length?(this._scene=t,this):this._scene},cc.on=function(){},cc.off=function(){},cc._handlerIndex=function(t,n,e){for(var r=t?t.length:0;--r>=0;)if(t[r].type===n&&(!e||t[r].handler===e))return r;return-1},cc.handlers=function(t){var n,e=this._handlers,r=[];if(t)r.push.apply(r,e[this.eventName(t)]);else for(n in e)r.push.apply(r,e[n]);return r},cc.eventName=function(t){var n=t.indexOf(".");return n<0?t:t.slice(0,n)},cc.handleHref=function(t,n,e){this._loader.sanitize(e,{context:"href"}).then(function(n){var e=new MouseEvent(t.type,t),r=ec(null,"a");for(var i in n)r.setAttribute(i,n[i]);r.dispatchEvent(e)}).catch(function(){})},cc.handleTooltip=function(t,n,e){if(n&&null!=n.tooltip){n=function(t,n,e,r){var i,a,u=t&&t.mark;if(u&&(i=Yl[u.marktype]).tip){for((a=oc(n,e))[0]-=r[0],a[1]-=r[1];t=t.mark.group;)a[0]-=t.x||0,a[1]-=t.y||0;t=i.tip(u.items,a)}return t}(n,t,this.canvas(),this._origin);var r=e&&n&&n.tooltip||null;this._tooltip.call(this._obj,this,t,n,r)}},cc.getItemBoundingClientRect=function(t){if(n=this.canvas()){for(var n,e=n.getBoundingClientRect(),r=this._origin,i=t.bounds,a=i.x1+r[0]+e.left,u=i.y1+r[1]+e.top,o=i.width(),s=i.height();t.mark&&(t=t.mark.group);)a+=t.x||0,u+=t.y||0;return{x:a,y:u,width:o,height:s,left:a,top:u,right:a+o,bottom:u+s}}};var hc=fc.prototype;hc.initialize=function(t,n,e,r,i){return this._el=t,this.resize(n,e,r,i)},hc.element=function(){return this._el},hc.canvas=function(){return this._el&&this._el.firstChild},hc.background=function(t){return 0===arguments.length?this._bgcolor:(this._bgcolor=t,this)},hc.resize=function(t,n,e,r){return this._width=t,this._height=n,this._origin=e||[0,0],this._scale=r||1,this},hc.dirty=function(){},hc.render=function(t){var n=this;return n._call=function(){n._render(t)},n._call(),n._call=null,n},hc._render=function(){},hc.renderAsync=function(t){var n=this.render(t);return this._ready?this._ready.then(function(){return n}):Promise.resolve(n)},hc._load=function(t,n){var e=this,r=e._loader[t](n);if(!e._ready){var i=e._call;e._ready=e._loader.ready().then(function(t){t&&i(),e._ready=null})}return r},hc.sanitizeURL=function(t){return this._load("sanitizeURL",t)},hc.loadImage=function(t){return this._load("loadImage",t)};var dc="mouseout";function pc(t,n){sc.call(this,t,n),this._down=null,this._touch=null,this._first=!0}var gc=et(pc,sc);function vc(t,n,e){return function(r){var i=this._active,a=this.pickEvent(r);a===i?this.fire(t,r):(i&&i.exit||this.fire(e,r),this._active=a,this.fire(n,r),this.fire(t,r))}}function mc(t){return function(n){this.fire(t,n),this._active=null}}gc.initialize=function(t,n,e){var r=this._canvas=t&&rc(t,"canvas");if(r){var i=this;this.events.forEach(function(t){r.addEventListener(t,function(n){gc[t]?gc[t].call(i,n):i.fire(t,n)})})}return sc.prototype.initialize.call(this,t,n,e)},gc.canvas=function(){return this._canvas},gc.context=function(){return this._canvas.getContext("2d")},gc.events=["keydown","keypress","keyup","dragenter","dragleave","dragover","mousedown","mouseup","mousemove","mouseout","mouseover","click","dblclick","wheel","mousewheel","touchstart","touchmove","touchend"],gc.DOMMouseScroll=function(t){this.fire("mousewheel",t)},gc.mousemove=vc("mousemove","mouseover","mouseout"),gc.dragover=vc("dragover","dragenter","dragleave"),gc.mouseout=mc("mouseout"),gc.dragleave=mc("dragleave"),gc.mousedown=function(t){this._down=this._active,this.fire("mousedown",t)},gc.click=function(t){this._down===this._active&&(this.fire("click",t),this._down=null)},gc.touchstart=function(t){this._touch=this.pickEvent(t.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire("touchstart",t,!0)},gc.touchmove=function(t){this.fire("touchmove",t,!0)},gc.touchend=function(t){this.fire("touchend",t,!0),this._touch=null},gc.fire=function(t,n,e){var r,i,a=e?this._touch:this._active,u=this._handlers[t];if(n.vegaType=t,"click"===t&&a&&a.href?this.handleHref(n,a,a.href):"mousemove"!==t&&t!==dc||this.handleTooltip(n,a,t!==dc),u)for(r=0,i=u.length;r<i;++r)u[r].handler.call(this._obj,n,a)},gc.on=function(t,n){var e=this.eventName(t),r=this._handlers;return this._handlerIndex(r[e],t,n)<0&&(r[e]||(r[e]=[])).push({type:t,handler:n}),this},gc.off=function(t,n){var e=this.eventName(t),r=this._handlers[e],i=this._handlerIndex(r,t,n);return i>=0&&r.splice(i,1),this},gc.pickEvent=function(t){var n=oc(t,this._canvas),e=this._origin;return this.pick(this._scene,n[0],n[1],n[0]-e[0],n[1]-e[1])},gc.pick=function(t,n,e,r,i){var a=this.context();return Yl[t.marktype].pick.call(this,a,t,n,e,r,i)};var yc="undefined"!=typeof window&&window.devicePixelRatio||1;function _c(t){fc.call(this,t),this._redraw=!1,this._dirty=new Mu}var xc=et(_c,fc),bc=fc.prototype,wc=new Mu;function Ac(t,n){sc.call(this,t,n);var e=this;e._hrefHandler=Mc(e,function(t,n){n&&n.href&&e.handleHref(t,n,n.href)}),e._tooltipHandler=Mc(e,function(t,n){e.handleTooltip(t,n,t.type!==dc)})}xc.initialize=function(t,n,e,r,i,a){return this._options=a,this._canvas=Bu(1,1,a&&a.type),t&&(ac(t,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),bc.initialize.call(this,t,n,e,r,i)},xc.resize=function(t,n,e,r){return bc.resize.call(this,t,n,e,r),function(t,n,e,r,i,a){var u,o="undefined"!=typeof HTMLElement&&t instanceof HTMLElement&&null!=t.parentNode,s=t.getContext("2d"),l=o?yc:i;for(u in t.width=n*l,t.height=e*l,a)s[u]=a[u];o&&1!==l&&(t.style.width=n+"px",t.style.height=e+"px"),s.pixelRatio=l,s.setTransform(l,0,0,l,l*r[0],l*r[1])}(this._canvas,this._width,this._height,this._origin,this._scale,this._options&&this._options.context),this._redraw=!0,this},xc.canvas=function(){return this._canvas},xc.context=function(){return this._canvas?this._canvas.getContext("2d"):null},xc.dirty=function(t){var n=function(t,n){if(null==n)return t;for(var e=wc.clear().union(t);null!=n;n=n.mark.group)e.translate(n.x||0,n.y||0);return e}(t.bounds,t.mark.group);this._dirty.union(n)},xc._render=function(t){var n=this.context(),e=this._origin,r=this._width,i=this._height,a=this._dirty;return n.save(),this._redraw||a.empty()?(this._redraw=!1,a=null):a=function(t,n,e){return n.expand(1).round(),n.translate(-e[0]%1,-e[1]%1),t.beginPath(),t.rect(n.x1,n.y1,n.width(),n.height()),t.clip(),n}(n,a,e),this.clear(-e[0],-e[1],r,i),this.draw(n,t,a),n.restore(),this._dirty.clear(),this},xc.draw=function(t,n,e){var r=Yl[n.marktype];n.clip&&function(t,n){var e=n.clip;if(t.save(),t.beginPath(),Y(e))e(t);else{var r=n.group;t.rect(0,0,r.width||0,r.height||0)}t.clip()}(t,n),r.draw.call(this,t,n,e),n.clip&&t.restore()},xc.clear=function(t,n,e,r){var i=this.context();i.clearRect(t,n,e,r),null!=this._bgcolor&&(i.fillStyle=this._bgcolor,i.fillRect(t,n,e,r))};var kc=et(Ac,sc);function Mc(t,n){return function(e){var r=e.target.__data__;e.vegaType=e.type,r=Array.isArray(r)?r[0]:r,n.call(t._obj,e,r)}}function Ec(t,n,e){var r,i,a="<"+t;if(n)for(r in n)null!=(i=n[r])&&(a+=" "+r+'="'+i+'"');return e&&(a+=" "+e),a+">"}function Cc(t){return"</"+t+">"}kc.initialize=function(t,n,e){var r=this._svg;return r&&(r.removeEventListener("click",this._hrefHandler),r.removeEventListener("mousemove",this._tooltipHandler),r.removeEventListener(dc,this._tooltipHandler)),this._svg=r=t&&rc(t,"svg"),r&&(r.addEventListener("click",this._hrefHandler),r.addEventListener("mousemove",this._tooltipHandler),r.addEventListener(dc,this._tooltipHandler)),sc.prototype.initialize.call(this,t,n,e)},kc.canvas=function(){return this._svg},kc.on=function(t,n){var e=this.eventName(t),r=this._handlers;if(this._handlerIndex(r[e],t,n)<0){var i={type:t,handler:n,listener:Mc(this,n)};(r[e]||(r[e]=[])).push(i),this._svg&&this._svg.addEventListener(e,i.listener)}return this},kc.off=function(t,n){var e=this.eventName(t),r=this._handlers[e],i=this._handlerIndex(r,t,n);return i>=0&&(this._svg&&this._svg.removeEventListener(e,r[i].listener),r.splice(i,1)),this};var Dc={version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},Fc={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},Sc=Object.keys(Fc),Bc=Dc.xmlns;function Oc(t){fc.call(this,t),this._dirtyID=1,this._dirty=[],this._svg=null,this._root=null,this._defs=null}var zc=et(Oc,fc),Nc=fc.prototype;function Tc(t,n,e){var r,i,a;for((t=ic(t,e,"linearGradient",Bc)).setAttribute("id",n.id),t.setAttribute("x1",n.x1),t.setAttribute("x2",n.x2),t.setAttribute("y1",n.y1),t.setAttribute("y2",n.y2),r=0,i=n.stops.length;r<i;++r)(a=ic(t,r,"stop",Bc)).setAttribute("offset",n.stops[r].offset),a.setAttribute("stop-color",n.stops[r].color);ac(t,r)}function Rc(t,n,e){var r;(t=ic(t,e,"clipPath",Bc)).setAttribute("id",n.id),n.path?(r=ic(t,0,"path",Bc)).setAttribute("d",n.path):((r=ic(t,0,"rect",Bc)).setAttribute("x",0),r.setAttribute("y",0),r.setAttribute("width",n.width),r.setAttribute("height",n.height))}function Pc(t,n){for(;t&&t.dirty!==n;t=t.mark.group){if(t.dirty=n,!t.mark||t.mark.dirty===n)return;t.mark.dirty=n}}function Lc(t,n,e,r,i){var a,u=t._svg;if(!u&&(u=ec(a=n.ownerDocument,r,Bc),t._svg=u,t.mark&&(u.__data__=t,u.__values__={fill:"default"},"g"===r))){var o=ec(a,"path",Bc);o.setAttribute("class","background"),u.appendChild(o),o.__data__=t;var s=ec(a,"g",Bc);u.appendChild(s),s.__data__=t}return(u.ownerSVGElement!==i||function(t){var n=t.mark||t.group;return n&&n.items.length>1}(t)&&u.previousSibling!==e)&&n.insertBefore(u,e?e.nextSibling:n.firstChild),u}zc.initialize=function(t,n,e,r){return t&&(this._svg=ic(t,0,"svg",Bc),this._svg.setAttribute("class","marks"),ac(t,1),this._root=ic(this._svg,0,"g",Bc),ac(this._svg,1)),this._defs={gradient:{},clipping:{}},this.background(this._bgcolor),Nc.initialize.call(this,t,n,e,r)},zc.background=function(t){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",t),Nc.background.apply(this,arguments)},zc.resize=function(t,n,e,r){return Nc.resize.call(this,t,n,e,r),this._svg&&(this._svg.setAttribute("width",this._width*this._scale),this._svg.setAttribute("height",this._height*this._scale),this._svg.setAttribute("viewBox","0 0 "+this._width+" "+this._height),this._root.setAttribute("transform","translate("+this._origin+")")),this._dirty=[],this},zc.canvas=function(){return this._svg},zc.svg=function(){if(!this._svg)return null;var t={class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 "+this._width+" "+this._height};for(var n in Dc)t[n]=Dc[n];var e=this._bgcolor?Ec("rect",{width:this._width,height:this._height,style:"fill: "+this._bgcolor+";"})+Cc("rect"):"";return Ec("svg",t)+e+this._svg.innerHTML+Cc("svg")},zc._render=function(t){return this._dirtyCheck()&&(this._dirtyAll&&this._resetDefs(),this.draw(this._root,t),ac(this._root,1)),this.updateDefs(),this._dirty=[],++this._dirtyID,this},zc.updateDefs=function(){var t,n=this._svg,e=this._defs,r=e.el,i=0;for(t in e.gradient)r||(e.el=r=ic(n,0,"defs",Bc)),Tc(r,e.gradient[t],i++);for(t in e.clipping)r||(e.el=r=ic(n,0,"defs",Bc)),Rc(r,e.clipping[t],i++);r&&(0===i?(n.removeChild(r),e.el=null):ac(r,i))},zc._resetDefs=function(){var t=this._defs;t.gradient={},t.clipping={}},zc.dirty=function(t){t.dirty!==this._dirtyID&&(t.dirty=this._dirtyID,this._dirty.push(t))},zc.isDirty=function(t){return this._dirtyAll||!t._svg||t.dirty===this._dirtyID},zc._dirtyCheck=function(){this._dirtyAll=!0;var t=this._dirty;if(!t.length)return!0;var n,e,r,i,a,u,o,s=++this._dirtyID;for(a=0,u=t.length;a<u;++a)(e=(n=t[a]).mark).marktype!==r&&(r=e.marktype,i=Yl[r]),e.zdirty&&e.dirty!==s&&(this._dirtyAll=!1,Pc(n,s),e.items.forEach(function(t){t.dirty=s})),e.zdirty||(n.exit?(i.nested&&e.items.length?(o=e.items[0])._svg&&this._update(i,o._svg,o):n._svg&&(o=n._svg.parentNode)&&o.removeChild(n._svg),n._svg=null):(n=i.nested?e.items[0]:n)._update!==s&&(n._svg&&n._svg.ownerSVGElement?this._update(i,n._svg,n):(this._dirtyAll=!1,Pc(n,s)),n._update=s));return!this._dirtyAll},zc.draw=function(t,n,e){if(!this.isDirty(n))return n._svg;var r,i=this,a=this._svg,u=Yl[n.marktype],o=!1===n.interactive?"none":null,s="g"===u.tag,l=null,c=0;function f(t){var n=i.isDirty(t),e=Lc(t,r,l,u.tag,a);n&&(i._update(u,e,t),s&&function(t,n,e){n=n.lastChild;var r,i=0;Js(e,function(e){r=t.draw(n,e,r),++i}),ac(n,1+i)}(i,e,t)),l=e,++c}return(r=Lc(n,t,e,"g",a)).setAttribute("class",uc(n)),s||r.style.setProperty("pointer-events",o),n.clip?r.setAttribute("clip-path",hl(i,n,n.group)):r.removeAttribute("clip-path"),u.nested?n.items.length&&f(n.items[0]):Js(n,f),ac(r,c),r};var qc=null,Uc=null,jc={group:function(t,n,e){Uc=n.__values__,qc=n.childNodes[1],t.foreground(Ic,e,this),qc=n.childNodes[0],t.background(Ic,e,this);var r=!1===e.mark.interactive?"none":null;r!==Uc.events&&(qc.style.setProperty("pointer-events",r),Uc.events=r)},text:function(t,n,e){var r;(r=Ll(e))!==Uc.text&&(n.textContent=r,Uc.text=r),$c(n,"font-family",ql(e)),$c(n,"font-size",Rl(e)+"px"),$c(n,"font-style",e.fontStyle),$c(n,"font-variant",e.fontVariant),$c(n,"font-weight",e.fontWeight)}};function $c(t,n,e){e!==Uc[n]&&(null==e?t.style.removeProperty(n):t.style.setProperty(n,e+""),Uc[n]=e)}function Ic(t,n,e){n!==Uc[t]&&(null!=n?e?qc.setAttributeNS(e,t,n):qc.setAttribute(t,n):e?qc.removeAttributeNS(e,t):qc.removeAttribute(t),Uc[t]=n)}function Wc(t){fc.call(this,t),this._text={head:"",bg:"",root:"",foot:"",defs:"",body:""},this._defs={gradient:{},clipping:{}}}zc._update=function(t,n,e){qc=n,Uc=n.__values__,t.attr(Ic,e,this);var r=jc[t.type];r&&r.call(this,t,n,e),this.style(qc,e)},zc.style=function(t,n){var e,r,i,a,u,o;if(null!=n)for(e=0,r=Sc.length;e<r;++e)u=n[i=Sc[e]],"font"===i&&(u=ql(n)),u!==Uc[i]&&(a=Fc[i],null==u?"fill"===a?t.style.setProperty(a,"none"):t.style.removeProperty(a):(u.id&&(this._defs.gradient[u.id]=u,u="url("+(o=void 0,"undefined"==typeof window?"":(o=window.location).hash?o.href.slice(0,-o.hash.length):o.href)+"#"+u.id+")"),t.style.setProperty(a,u+"")),Uc[i]=u)};var Hc,Yc=et(Wc,fc),Vc=fc.prototype;function Gc(t,n,e,r){Hc[r||t]=n}function Xc(t,n,e,r){if(null==t)return"";var i,a,u,o,s,l="";for("bgrect"===e&&!1===n.interactive&&(l+="pointer-events: none; "),"text"===e&&(l+="font-family: "+ql(t)+"; ",l+="font-size: "+Rl(t)+"px; ",t.fontStyle&&(l+="font-style: "+t.fontStyle+"; "),t.fontVariant&&(l+="font-variant: "+t.fontVariant+"; "),t.fontWeight&&(l+="font-weight: "+t.fontWeight+"; ")),i=0,a=Sc.length;i<a;++i)u=Sc[i],o=Fc[u],null==(s=t[u])?"fill"===o&&(l+="fill: none; "):"transparent"!==s||"fill"!==o&&"stroke"!==o?(s.id&&(r.gradient[s.id]=s,s="url(#"+s.id+")"),l+=o+": "+s+"; "):l+=o+": none; ";return l?'style="'+l.trim()+'"':null}Yc.resize=function(t,n,e,r){Vc.resize.call(this,t,n,e,r);var i=this._origin,a=this._text,u={class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 "+this._width+" "+this._height};for(var o in Dc)u[o]=Dc[o];a.head=Ec("svg",u);var s=this._bgcolor;return"transparent"!==s&&"none"!==s||(s=null),a.bg=s?Ec("rect",{width:this._width,height:this._height,style:"fill: "+s+";"})+Cc("rect"):"",a.root=Ec("g",{transform:"translate("+i+")"}),a.foot=Cc("g")+Cc("svg"),this},Yc.background=function(){var t=Vc.background.apply(this,arguments);return arguments.length&&this._text.head&&this.resize(this._width,this._height,this._origin,this._scale),t},Yc.svg=function(){var t=this._text;return t.head+t.bg+t.defs+t.root+t.body+t.foot},Yc._render=function(t){return this._text.body=this.mark(t),this._text.defs=this.buildDefs(),this},Yc.buildDefs=function(){var t,n,e,r,i=this._defs,a="";for(n in i.gradient){for(r=(e=i.gradient[n]).stops,a+=Ec("linearGradient",{id:n,x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2}),t=0;t<r.length;++t)a+=Ec("stop",{offset:r[t].offset,"stop-color":r[t].color})+Cc("stop");a+=Cc("linearGradient")}for(n in i.clipping)e=i.clipping[n],a+=Ec("clipPath",{id:n}),e.path?a+=Ec("path",{d:e.path})+Cc("path"):a+=Ec("rect",{x:0,y:0,width:e.width,height:e.height})+Cc("rect"),a+=Cc("clipPath");return a.length>0?Ec("defs")+a+Cc("defs"):""},Yc.attributes=function(t,n){return Hc={},t(Gc,n,this),Hc},Yc.href=function(t){var n,e=this,r=t.href;if(r){if(n=e._hrefs&&e._hrefs[r])return n;e.sanitizeURL(r).then(function(t){t["xlink:href"]=t.href,t.href=null,(e._hrefs||(e._hrefs={}))[r]=t})}return null},Yc.mark=function(t){var n,e=this,r=Yl[t.marktype],i=r.tag,a=this._defs,u="";function o(o){var s=e.href(o);s&&(u+=Ec("a",s)),n="g"!==i?Xc(o,t,i,a):null,u+=Ec(i,e.attributes(r.attr,o),n),"text"===i?u+=Ll(o).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):"g"===i&&(u+=Ec("path",e.attributes(r.background,o),Xc(o,t,"bgrect",a))+Cc("path"),u+=Ec("g",e.attributes(r.foreground,o))+e.markGroup(o)+Cc("g")),u+=Cc(i),s&&(u+=Cc("a"))}return"g"!==i&&!1===t.interactive&&(n='style="pointer-events: none;"'),u+=Ec("g",{class:uc(t),"clip-path":t.clip?hl(e,t,t.group):null},n),r.nested?t.items&&t.items.length&&o(t.items[0]):Js(t,o),u+Cc("g")},Yc.markGroup=function(t){var n=this,e="";return Js(t,function(t){e+=n.mark(t)}),e};var Zc={Canvas:"canvas",PNG:"png",SVG:"svg",None:"none"},Jc={};function Qc(t,n){return t=String(t||"").toLowerCase(),arguments.length>1?(Jc[t]=n,this):Jc[t]}function Kc(t,n,e){const r=[],a=(new Mu).union(n),u=t.marktype;return u?tf(t,a,e,r):"group"===u?nf(t,a,e,r):i("Intersect scene must be mark node or group item.")}function tf(t,n,e,r){if(function(t,n,e){return t.bounds&&n.intersects(t.bounds)&&("group"===t.marktype||!1!==t.interactive&&(!e||e(t)))}(t,n,e)){const i=t.items,a=t.marktype,u=i.length;let o=0;if("group"===a)for(;o<u;++o)nf(i[o],n,e,r);else for(const t=Yl[a].isect;o<u;++o){let e=i[o];ef(e,n,t)&&r.push(e)}}return r}function nf(t,n,e,r){e&&e(t.mark)&&ef(t,n,Yl.group.isect)&&r.push(t);const i=t.items,a=i&&i.length;if(a){const u=t.x||0,o=t.y||0;n.translate(-u,-o);for(let t=0;t<a;++t)tf(i[t],n,e,r);n.translate(u,o)}return r}function ef(t,n,e){const r=t.bounds;return n.encloses(r)||n.intersects(r)&&e(t,n)}Jc.canvas=Jc.png={renderer:_c,headless:_c,handler:pc},Jc.svg={renderer:Oc,headless:Wc,handler:Ac},Jc.none={};var rf=new Mu;function af(t){var n=t.clip;if(Y(n))n(Ts(rf.clear()));else{if(!n)return;rf.set(0,0,t.group.width,t.group.height)}t.bounds.intersect(rf)}var uf=1e-9;function of(t,n,e){return t===n||("path"===e?sf(t,n):t instanceof Date&&n instanceof Date?+t==+n:ut(t)&&ut(n)?Math.abs(t-n)<=uf:t&&n&&(o(t)||o(n))?null!=t&&null!=n&&function(t,n){var e,r,i=Object.keys(t),a=Object.keys(n);if(i.length!==a.length)return!1;for(i.sort(),a.sort(),r=i.length-1;r>=0;r--)if(i[r]!=a[r])return!1;for(r=i.length-1;r>=0;r--)if(e=i[r],!of(t[e],n[e],e))return!1;return typeof t==typeof n}(t,n):t==n)}function sf(t,n){return of(Jo(t),Jo(n))}function lf(t){jr.call(this,null,t)}function cf(t,n,e){return n(t.bounds.clear(),t,e)}et(lf,jr).transform=function(t,n){var e,r=n.dataflow,i=t.mark,a=i.marktype,u=Yl[a],o=u.bound,s=i.bounds;return u.nested?(i.items.length&&r.dirty(i.items[0]),s=cf(i,o),i.items.forEach(function(t){t.bounds.clear().union(s)})):a===nu||t.modified()?(n.visit(n.MOD,function(t){r.dirty(t)}),s.clear(),i.items.forEach(function(t){s.union(cf(t,o))}),i.role===uu&&n.reflow()):(e=n.changed(n.REM),n.visit(n.ADD,function(t){s.union(cf(t,o))}),n.visit(n.MOD,function(t){e=e||s.alignsWith(t.bounds),r.dirty(t),s.union(cf(t,o))}),e&&(s.clear(),i.items.forEach(function(t){s.union(t.bounds)}))),af(i),n.modifies("bounds")};var ff=":vega_identifier:";function hf(t){jr.call(this,0,t)}function df(t){jr.call(this,null,t)}function pf(t){jr.call(this,null,t)}hf.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]},et(hf,jr).transform=function(t,n){var e=function(t){var n=t._signals[ff];n||(t._signals[ff]=n=t.add(0));return n}(n.dataflow),r=e.value,i=t.as;return n.visit(n.ADD,function(t){t[i]||(t[i]=++r)}),e.set(this.value=r),n},et(df,jr).transform=function(t,n){var e=this.value;e||((e=n.dataflow.scenegraph().mark(t.markdef,function(t){var n=t.groups,e=t.parent;return n&&1===n.size?n.get(Object.keys(n.object)[0]):n&&e?n.lookup(e):null}(t),t.index)).group.context=t.context,t.context.group||(t.context.group=e.group),e.source=this,e.clip=t.clip,e.interactive=t.interactive,this.value=e);var r=e.marktype===nu?Su:Fu;return n.visit(n.ADD,function(t){r.call(t,e)}),(t.modified("clip")||t.modified("interactive"))&&(e.clip=t.clip,e.interactive=!!t.interactive,e.zdirty=!0,n.reflow()),e.items=n.source,n};var gf=et(pf,jr),vf={parity:function(t){return t.filter(function(t,n){return n%2?t.opacity=0:1})},greedy:function(t,n){var e;return t.filter(function(t,r){return r&&mf(e.bounds,t.bounds,n)?t.opacity=0:(e=t,1)})}};function mf(t,n,e){return e>Math.max(n.x1-t.x2,t.x1-n.x2,n.y1-t.y2,t.y1-n.y2)}function yf(t,n){for(var e,r=1,i=t.length,a=t[0].bounds;r<i;a=e,++r)if(mf(a,e=t[r].bounds,n))return!0}function _f(t){var n=t.bounds;return n.width()>1&&n.height()>1}function xf(t){return t.forEach(function(t){t.opacity=1}),t}function bf(t,n){return t.reflow(n.modified()).modifies("opacity")}function wf(t){jr.call(this,null,t)}gf.transform=function(t,n){var e,r,i=vf[t.method]||vf.parity,a=n.materialize(n.SOURCE).source,u=t.separation||0;if(a){if(!t.method)return t.modified("method")&&(xf(a),n=bf(n,t)),n;if(t.sort&&(a=a.slice().sort(t.sort)),e=xf(a=a.filter(_f)),n=bf(n,t),e.length>=3&&yf(e,u)){do{e=i(e,u)}while(e.length>=3&&yf(e,u));e.length<3&&!M(a).opacity&&(e.length>1&&(M(e).opacity=0),M(a).opacity=1)}var o,s,l,c,f;return t.boundScale&&t.boundTolerance>=0&&(o=t.boundScale,s=t.boundOrient,l=+t.boundTolerance,c=o.range(),f=new Mu,s===$a||s===Ha?f.set(c[0],-1/0,c[1],1/0):f.set(-1/0,c[0],1/0,c[1]),f.expand(l||1),r=function(t){return f.encloses(t.bounds)},a.forEach(function(t){r(t)||(t.opacity=0)})),n}},et(wf,jr).transform=function(t,n){var e=n.dataflow;if(n.visit(n.ALL,function(t){e.dirty(t)}),n.fields&&n.fields.zindex){var r=n.source&&n.source[0];r&&(r.mark.zdirty=!0)}};const Af=new Mu;function kf(t,n,e){return t[n]===e?0:(t[n]=e,1)}const Mf=.5;function Ef(t){var n=t.items[0].datum.orient;return n===Ia||n===Wa}function Cf(t,n,e,r){var i,a,u=n.items[0],o=u.datum,s=o.orient,l=function(t){var n=+t.grid;return[t.ticks?n++:-1,t.labels?n++:-1,n+ +t.domain]}(o),c=u.range,f=u.offset,h=u.position,d=u.minExtent,p=u.maxExtent,g=o.title&&u.items[l[2]].items[0],v=u.titlePadding,m=u.bounds,y=0,_=0;switch(Af.clear().union(m),m.clear(),(i=l[0])>-1&&m.union(u.items[i].bounds),(i=l[1])>-1&&m.union(u.items[i].bounds),s){case $a:y=h||0,_=-f,a=Math.max(d,Math.min(p,-m.y1)),g&&(a=Df(g,a,v,0,-1,m)),m.add(0,-a).add(c,0);break;case Ia:y=-f,_=h||0,a=Math.max(d,Math.min(p,-m.x1)),g&&(a=Df(g,a,v,1,-1,m)),m.add(-a,0).add(0,c);break;case Wa:y=e+f,_=h||0,a=Math.max(d,Math.min(p,m.x2)),g&&(a=Df(g,a,v,1,1,m)),m.add(0,0).add(a,c);break;case Ha:y=h||0,_=r+f,a=Math.max(d,Math.min(p,m.y2)),g&&(a=Df(g,a,v,0,1,m)),m.add(0,0).add(c,a);break;default:y=u.x,_=u.y}return Os(m.translate(y,_),u),kf(u,"x",y+Mf)|kf(u,"y",_+Mf)&&(u.bounds=Af,t.dirty(u),u.bounds=m,t.dirty(u)),u.mark.bounds.clear().union(m)}function Df(t,n,e,r,i,a){var u=t.bounds,o=0,s=0;return t.auto?(n+=e,r?o=(t.x||0)-(t.x=i*n):s=(t.y||0)-(t.y=i*n),u.translate(-o,-s),t.mark.bounds.set(u.x1,u.y1,u.x2,u.y2),r?(a.add(0,u.y1).add(0,u.y2),n+=u.width()):(a.add(u.x1,0).add(u.x2,0),n+=u.height())):a.union(u),n}function Ff(t){return(new Mu).set(0,0,t.width||0,t.height||0)}function Sf(t){var n=t.bounds.clone();return n.empty()?n.set(0,0,0,0):n.translate(-(t.x||0),-(t.y||0))}function Bf(t,n,e){var r=o(t)?t[n]:t;return null!=r?r:void 0!==e?e:0}function Of(t){return t<0?Math.ceil(-t):0}function zf(t,n,e){var r,i,a,u,o,s,l,c,f,h,d,p=!e.nodirty,g=e.bounds===wu?Ff:Sf,v=Af.set(0,0,0,0),m=Bf(e.align,Au),y=Bf(e.align,ku),_=Bf(e.padding,Au),x=Bf(e.padding,ku),b=e.columns||n.length,w=b<0?1:Math.ceil(n.length/b),A=n.length,k=Array(A),M=Array(b),E=0,C=Array(A),D=Array(w),F=0,S=Array(A),B=Array(A),O=Array(A);for(i=0;i<b;++i)M[i]=0;for(i=0;i<w;++i)D[i]=0;for(i=0;i<A;++i)s=n[i],o=O[i]=g(s),s.x=s.x||0,S[i]=0,s.y=s.y||0,B[i]=0,a=i%b,u=~~(i/b),E=Math.max(E,l=Math.ceil(o.x2)),F=Math.max(F,c=Math.ceil(o.y2)),M[a]=Math.max(M[a],l),D[u]=Math.max(D[u],c),k[i]=_+Of(o.x1),C[i]=x+Of(o.y1),p&&t.dirty(n[i]);for(i=0;i<A;++i)i%b==0&&(k[i]=0),i<b&&(C[i]=0);if(m===bu)for(a=1;a<b;++a){for(d=0,i=a;i<A;i+=b)d<k[i]&&(d=k[i]);for(i=a;i<A;i+=b)k[i]=d+M[a-1]}else if(m===xu){for(d=0,i=0;i<A;++i)i%b&&d<k[i]&&(d=k[i]);for(i=0;i<A;++i)i%b&&(k[i]=d+E)}else for(m=!1,a=1;a<b;++a)for(i=a;i<A;i+=b)k[i]+=M[a-1];if(y===bu)for(u=1;u<w;++u){for(d=0,r=(i=u*b)+b;i<r;++i)d<C[i]&&(d=C[i]);for(i=u*b;i<r;++i)C[i]=d+D[u-1]}else if(y===xu){for(d=0,i=b;i<A;++i)d<C[i]&&(d=C[i]);for(i=b;i<A;++i)C[i]=d+F}else for(y=!1,u=1;u<w;++u)for(r=(i=u*b)+b;i<r;++i)C[i]+=D[u-1];for(f=0,i=0;i<A;++i)f=k[i]+(i%b?f:0),S[i]+=f-n[i].x;for(a=0;a<b;++a)for(h=0,i=a;i<A;i+=b)h+=C[i],B[i]+=h-n[i].y;if(m&&Bf(e.center,Au)&&w>1)for(i=0;i<A;++i)(f=(o=m===xu?E:M[i%b])-O[i].x2-n[i].x-S[i])>0&&(S[i]+=f/2);if(y&&Bf(e.center,ku)&&1!==b)for(i=0;i<A;++i)(h=(o=y===xu?F:D[~~(i/b)])-O[i].y2-n[i].y-B[i])>0&&(B[i]+=h/2);for(i=0;i<A;++i)v.union(O[i].translate(S[i],B[i]));switch(f=Bf(e.anchor,Ka),h=Bf(e.anchor,tu),Bf(e.anchor,Au)){case Qa:f-=v.width();break;case Ja:f-=v.width()/2}switch(Bf(e.anchor,ku)){case Qa:h-=v.height();break;case Ja:h-=v.height()/2}for(f=Math.round(f),h=Math.round(h),v.clear(),i=0;i<A;++i)n[i].mark.bounds.clear();for(i=0;i<A;++i)(s=n[i]).x+=S[i]+=f,s.y+=B[i]+=h,v.union(s.mark.bounds.union(s.bounds.translate(S[i],B[i]))),p&&t.dirty(s);return v}function Nf(t,n,e){var r,i,a,u,o,s,l,c=function(t){for(var n,e,r=t.items,i=r.length,a=0,u={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};a<i;++a)if(e=(n=r[a]).items,n.marktype===nu)switch(n.role){case eu:case uu:break;case ou:u.rowheaders.push(...e);break;case su:u.rowfooters.push(...e);break;case cu:u.colheaders.push(...e);break;case fu:u.colfooters.push(...e);break;case lu:u.rowtitle=e[0];break;case hu:u.coltitle=e[0];break;default:u.marks.push(...e)}return u}(n),f=c.marks,h=e.bounds===wu?Tf:Rf,d=e.offset,p=e.columns||f.length,g=p<0?1:Math.ceil(f.length/p),v=g*p;const m=zf(t,f,e);c.rowheaders&&(s=Bf(e.headerBand,ku,null),r=qf(t,c.rowheaders,f,p,g,-Bf(d,"rowHeader"),Pf,0,h,"x1",0,p,1,s)),c.colheaders&&(s=Bf(e.headerBand,Au,null),i=qf(t,c.colheaders,f,p,p,-Bf(d,"columnHeader"),Pf,1,h,"y1",0,1,p,s)),c.rowfooters&&(s=Bf(e.footerBand,ku,null),a=qf(t,c.rowfooters,f,p,g,Bf(d,"rowFooter"),Lf,0,h,"x2",p-1,p,1,s)),c.colfooters&&(s=Bf(e.footerBand,Au,null),u=qf(t,c.colfooters,f,p,p,Bf(d,"columnFooter"),Lf,1,h,"y2",v-p,1,p,s)),c.rowtitle&&(o=Bf(e.titleAnchor,ku),l=Bf(d,"rowTitle"),l=o===Qa?a+l:r-l,s=Bf(e.titleBand,ku,.5),Uf(t,c.rowtitle,l,0,m,s)),c.coltitle&&(o=Bf(e.titleAnchor,Au),l=Bf(d,"columnTitle"),l=o===Qa?u+l:i-l,s=Bf(e.titleBand,Au,.5),Uf(t,c.coltitle,l,1,m,s))}function Tf(t,n){return"x1"===n?t.x||0:"y1"===n?t.y||0:"x2"===n?(t.x||0)+(t.width||0):"y2"===n?(t.y||0)+(t.height||0):void 0}function Rf(t,n){return t.bounds[n]}function Pf(t,n){return Math.floor(Math.min(t,n))}function Lf(t,n){return Math.ceil(Math.max(t,n))}function qf(t,n,e,r,i,a,u,o,s,l,c,f,h,d){var p,g,v,m,y,_,x,b,w,A=e.length,k=0,M=0;if(!A)return k;for(p=c;p<A;p+=f)e[p]&&(k=u(k,s(e[p],l)));if(!n.length)return k;for(n.length>i&&(t.warn("Grid headers exceed limit: "+i),n=n.slice(0,i)),k+=a,g=0,m=n.length;g<m;++g)t.dirty(n[g]),n[g].mark.bounds.clear();for(p=c,g=0,m=n.length;g<m;++g,p+=f){for(y=(_=n[g]).mark.bounds,v=p;v>=0&&null==(x=e[v]);v-=h);o?(b=null==d?x.x:Math.round(x.bounds.x1+d*x.bounds.width()),w=k):(b=k,w=null==d?x.y:Math.round(x.bounds.y1+d*x.bounds.height())),y.union(_.bounds.translate(b-(_.x||0),w-(_.y||0))),_.x=b,_.y=w,t.dirty(_),M=u(M,y[l])}return M}function Uf(t,n,e,r,i,a){if(n){t.dirty(n);var u=e,o=e;r?u=Math.round(i.x1+a*i.width()):o=Math.round(i.y1+a*i.height()),n.bounds.translate(u-(n.x||0),o-(n.y||0)),n.mark.bounds.clear().union(n.bounds),n.x=u,n.y=o,t.dirty(n)}}function jf(t,n,e,r,i,a,u){const o=function(t,n){const e=t[n]||{};return(n,r)=>null!=e[n]?e[n]:null!=t[n]?t[n]:r}(e,n),s=(f=t,h=o("offset",0),d=-1/0,f.forEach(t=>{null!=t.offset&&(d=Math.max(d,t.offset))}),d>-1/0?d:h),l=o("anchor",Za),c=l===Qa?1:l===Ja?.5:0;var f,h,d;const p={align:bu,bounds:o("bounds",wu),columns:"vertical"===o("direction")?1:t.length,padding:o("margin",8),center:o("center"),nodirty:!0};switch(n){case Ia:p.anchor={x:Math.floor(r.x1)-s,column:Qa,y:c*(u||r.height()+2*r.y1),row:l};break;case Wa:p.anchor={x:Math.ceil(r.x2)+s,y:c*(u||r.height()+2*r.y1),row:l};break;case $a:p.anchor={y:Math.floor(i.y1)-s,row:Qa,x:c*(a||i.width()+2*i.x1),column:l};break;case Ha:p.anchor={y:Math.ceil(i.y2)+s,x:c*(a||i.width()+2*i.x1),column:l};break;case Ya:p.anchor={x:s,y:s};break;case Va:p.anchor={x:a-s,y:s,column:Qa};break;case Ga:p.anchor={x:s,y:u-s,row:Qa};break;case Xa:p.anchor={x:a-s,y:u-s,column:Qa,row:Qa}}return p}function $f(t,n){var e,r,i,a,u=n.items[0],o=u.datum,s=u.orient,l=u.bounds,c=u.x,f=u.y;return u._bounds?u._bounds.clear().union(l):u._bounds=l.clone(),l.clear(),function(t,n,e){var r=n.padding,i=r-e.x,a=r-e.y;if(n.datum.title){var u=n.items[1].items[0],o=u.anchor,s=n.titlePadding||0,l=r-u.x,c=r-u.y;switch(u.orient){case Ia:i+=Math.ceil(u.bounds.width())+s;break;case Wa:case Ha:break;default:a+=u.fontSize+s}switch((i||a)&&Wf(t,e,i,a),u.orient){case Ia:c+=If(n,e,u,o,0,1);break;case Wa:l+=If(n,e,u,Qa,1,0)+s,c+=If(n,e,u,o,0,1);break;case Ha:l+=If(n,e,u,o,1,0),c+=If(n,e,u,Qa,0,0,1)+s;break;default:l+=If(n,e,u,o,1,0)}(l||c)&&Wf(t,u,l,c),(l=Math.round(u.bounds.x1-r))<0&&(Wf(t,e,-l,0),Wf(t,u,-l,0))}else(i||a)&&Wf(t,e,i,a)}(t,u,u.items[0].items[0]),l=function(t,n){return t.items.forEach(t=>n.union(t.bounds)),n.x1=t.padding,n.y1=t.padding,n}(u,l),e=2*u.padding,r=2*u.padding,l.empty()||(e=Math.ceil(l.width()+e),r=Math.ceil(l.height()+r)),o.type===pu&&(i=u.items[0].items[0].items[0].items,a=i.reduce(function(t,n){return t[n.column]=Math.max(n.bounds.x2-n.x,t[n.column]||0),t},{}),i.forEach(function(t){t.width=a[t.column],t.height=t.bounds.y2-t.y})),s!==_u&&(u.x=c=0,u.y=f=0),u.width=e,u.height=r,Os(l.set(c,f,c+e,f+r),u),u.mark.bounds.clear().union(l),u}function If(t,n,e,r,i,a,u){const o="symbol"!==t.datum.type,s=e.datum.vgrad,l=(!o||!a&&s||u?n:n.items[0]).bounds[i?"x2":"y2"]-t.padding,c=s&&a?l:0,f=s&&a?0:l;return Math.round(r===Za?c:r===Qa?f:.5*l)}function Wf(t,n,e,r){n.x+=e,n.y+=r,n.bounds.translate(e,r),n.mark.bounds.translate(e,r),t.dirty(n)}function Hf(t){jr.call(this,null,t)}et(Hf,jr).transform=function(t,n){var e=n.dataflow;return t.mark.items.forEach(function(n){t.layout&&Nf(e,n,t.layout),function(t,n,e){var r,i,a,u,o,s=n.items,l=Math.max(0,n.width||0),c=Math.max(0,n.height||0),f=(new Mu).set(0,0,l,c),h=f.clone(),d=f.clone(),p=[];for(u=0,o=s.length;u<o;++u)switch((i=s[u]).role){case eu:(Ef(i)?h:d).union(Cf(t,i,l,c));break;case ru:r=i;break;case uu:p.push($f(t,i));break;case iu:case au:case ou:case su:case lu:case cu:case fu:case hu:h.union(i.bounds),d.union(i.bounds);break;default:f.union(i.bounds)}if(p.length){const n={};p.forEach(t=>{(a=t.orient||Wa)!==_u&&(n[a]||(n[a]=[])).push(t)});for(let r in n){const i=n[r];zf(t,i,jf(i,r,e.legends,h,d,l,c))}p.forEach(n=>{const r=n.bounds;if(r.equals(n._bounds)||(n.bounds=n._bounds,t.dirty(n),n.bounds=r,t.dirty(n)),e.autosize&&e.autosize.type===gu)switch(n.orient){case Ia:case Wa:f.add(r.x1,0).add(r.x2,0);break;case $a:case Ha:f.add(0,r.y1).add(0,r.y2)}else f.union(r)})}f.union(h).union(d),r&&f.union(function(t,n,e,r,i){var a,u=n.items[0],o=u.frame,s=u.orient,l=u.anchor,c=u.offset,f=u.bounds,h=0,d=s===Ia||s===Wa?r:e,p=0,g=0;switch(o!==nu?s===Ia?(h=i.y2,d=i.y1):s===Wa?(h=i.y1,d=i.y2):(h=i.x1,d=i.x2):s===Ia&&(h=r,d=0),a=l===Za?h:l===Qa?d:(h+d)/2,Af.clear().union(f),s){case $a:p=a,g=i.y1-c;break;case Ia:p=i.x1-c,g=a;break;case Wa:p=i.x2+c,g=a;break;case Ha:p=a,g=i.y2+c;break;default:p=u.x,g=u.y}return f.translate(p-(u.x||0),g-(u.y||0)),kf(u,"x",p)|kf(u,"y",g)&&(u.bounds=Af,t.dirty(u),u.bounds=f,t.dirty(u)),n.bounds.clear().union(f)}(t,r,l,c,f));!function(t,n,e,r){var i=r.autosize||{},a=i.type,u=t._width,o=t._height,s=t.padding();if(t._autosize<1||!a)return;var l=Math.max(0,n.width||0),c=Math.max(0,Math.ceil(-e.x1)),f=Math.max(0,Math.ceil(e.x2-l)),h=Math.max(0,n.height||0),d=Math.max(0,Math.ceil(-e.y1)),p=Math.max(0,Math.ceil(e.y2-h));i.contains===du&&(u-=s.left+s.right,o-=s.top+s.bottom);a===_u?(c=0,d=0,l=u,h=o):a===gu?(l=Math.max(0,u-c-f),h=Math.max(0,o-d-p)):a===vu?(l=Math.max(0,u-c-f),o=h+d+p):a===mu?(u=l+c+f,h=Math.max(0,o-d-p)):a===yu&&(u=l+c+f,o=h+d+p);t._resizeView(u,o,l,h,[c,d],i.resize)}(t,n,f,e)}(e,n,t)}),t.modified()&&n.reflow(),n};var Yf=Object.freeze({bound:lf,identifier:hf,mark:df,overlap:pf,render:wf,viewlayout:Hf});function Vf(t,n,e){var r=t-n+2*e;return t?r>0?r:1:0}const Gf="identity",Xf="linear",Zf="log",Jf="pow",Qf="sqrt",Kf="symlog",th="time",nh="utc",eh="sequential",rh="diverging",ih="quantile",ah="quantize",uh="threshold",oh="ordinal",sh="point",lh="band",ch="bin-ordinal";function fh(t){return t===ih}function hh(t){return function(t){return t&&t.startsWith(eh)}(t)||function(t){return t&&t.startsWith(rh)}(t)}function dh(t){return t===Zf||t.endsWith("-log")}function ph(t){switch(t){case Xf:case Zf:case Jf:case Qf:case Kf:case th:case nh:case eh:return!0}return!1}function gh(t){return t===ch||t===oh||t===lh||t===sh}function vh(t){return t===ch||t===ih||t===ah||t===uh}var mh={millisecond:zn,second:Rn,minute:Pn,hour:Ln,day:qn,week:jn,month:Wn,year:Hn},yh={millisecond:zn,second:Rn,minute:Yn,hour:Vn,day:Gn,week:Zn,month:Kn,year:te};function _h(t,n){const e=n===nh?yh:mh;return e.hasOwnProperty(t)&&e[t]}function xh(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}function bh(t,n){switch(arguments.length){case 0:break;case 1:this.interpolator(t);break;default:this.interpolator(n).domain(t)}return this}const wh=Symbol("implicit");function Ah(){var t=new Map,n=[],e=[],r=wh;function i(i){var a=i+"",u=t.get(a);if(!u){if(r!==wh)return r;t.set(a,u=n.push(i))}return e[(u-1)%e.length]}return i.domain=function(e){if(!arguments.length)return n.slice();n=[],t=new Map;for(const r of e){const e=r+"";t.has(e)||t.set(e,n.push(r))}return i},i.range=function(t){return arguments.length?(e=Array.from(t),i):e.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return Ah(n,e).unknown(r)},xh.apply(i,arguments),i}function kh(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function Mh(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function Eh(){}var Ch="\\s*([+-]?\\d+)\\s*",Dh="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Fh="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Sh=/^#([0-9a-f]{3})$/,Bh=/^#([0-9a-f]{6})$/,Oh=new RegExp("^rgb\\("+[Ch,Ch,Ch]+"\\)$"),zh=new RegExp("^rgb\\("+[Fh,Fh,Fh]+"\\)$"),Nh=new RegExp("^rgba\\("+[Ch,Ch,Ch,Dh]+"\\)$"),Th=new RegExp("^rgba\\("+[Fh,Fh,Fh,Dh]+"\\)$"),Rh=new RegExp("^hsl\\("+[Dh,Fh,Fh]+"\\)$"),Ph=new RegExp("^hsla\\("+[Dh,Fh,Fh,Dh]+"\\)$"),Lh={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function qh(t){var n;return t=(t+"").trim().toLowerCase(),(n=Sh.exec(t))?new Wh((n=parseInt(n[1],16))>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):(n=Bh.exec(t))?Uh(parseInt(n[1],16)):(n=Oh.exec(t))?new Wh(n[1],n[2],n[3],1):(n=zh.exec(t))?new Wh(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=Nh.exec(t))?jh(n[1],n[2],n[3],n[4]):(n=Th.exec(t))?jh(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=Rh.exec(t))?Yh(n[1],n[2]/100,n[3]/100,1):(n=Ph.exec(t))?Yh(n[1],n[2]/100,n[3]/100,n[4]):Lh.hasOwnProperty(t)?Uh(Lh[t]):"transparent"===t?new Wh(NaN,NaN,NaN,0):null}function Uh(t){return new Wh(t>>16&255,t>>8&255,255&t,1)}function jh(t,n,e,r){return r<=0&&(t=n=e=NaN),new Wh(t,n,e,r)}function $h(t){return t instanceof Eh||(t=qh(t)),t?new Wh((t=t.rgb()).r,t.g,t.b,t.opacity):new Wh}function Ih(t,n,e,r){return 1===arguments.length?$h(t):new Wh(t,n,e,null==r?1:r)}function Wh(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function Hh(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Yh(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new Gh(t,n,e,r)}function Vh(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof Gh)return new Gh(t.h,t.s,t.l,t.opacity);if(t instanceof Eh||(t=qh(t)),!t)return new Gh;if(t instanceof Gh)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),a=Math.max(n,e,r),u=NaN,o=a-i,s=(a+i)/2;return o?(u=n===a?(e-r)/o+6*(e<r):e===a?(r-n)/o+2:(n-e)/o+4,o/=s<.5?a+i:2-a-i,u*=60):o=s>0&&s<1?0:u,new Gh(u,o,s,t.opacity)}(t):new Gh(t,n,e,null==r?1:r)}function Gh(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function Xh(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}kh(Eh,qh,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),kh(Wh,Ih,Mh(Eh,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Wh(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Wh(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+Hh(this.r)+Hh(this.g)+Hh(this.b)},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),kh(Gh,Vh,Mh(Eh,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Gh(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Gh(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new Wh(Xh(t>=240?t-240:t+120,i,r),Xh(t,i,r),Xh(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var Zh=Math.PI/180,Jh=180/Math.PI,Qh=.96422,Kh=1,td=.82521,nd=4/29,ed=6/29,rd=3*ed*ed,id=ed*ed*ed;function ad(t){if(t instanceof od)return new od(t.l,t.a,t.b,t.opacity);if(t instanceof dd){if(isNaN(t.h))return new od(t.l,0,0,t.opacity);var n=t.h*Zh;return new od(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}t instanceof Wh||(t=$h(t));var e,r,i=fd(t.r),a=fd(t.g),u=fd(t.b),o=sd((.2225045*i+.7168786*a+.0606169*u)/Kh);return i===a&&a===u?e=r=o:(e=sd((.4360747*i+.3850649*a+.1430804*u)/Qh),r=sd((.0139322*i+.0971045*a+.7141733*u)/td)),new od(116*o-16,500*(e-o),200*(o-r),t.opacity)}function ud(t,n,e,r){return 1===arguments.length?ad(t):new od(t,n,e,null==r?1:r)}function od(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}function sd(t){return t>id?Math.pow(t,1/3):t/rd+nd}function ld(t){return t>ed?t*t*t:rd*(t-nd)}function cd(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function fd(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function hd(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof dd)return new dd(t.h,t.c,t.l,t.opacity);if(t instanceof od||(t=ad(t)),0===t.a&&0===t.b)return new dd(NaN,0,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*Jh;return new dd(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}(t):new dd(t,n,e,null==r?1:r)}function dd(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}kh(od,ud,Mh(Eh,{brighter:function(t){return new od(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new od(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return new Wh(cd(3.1338561*(n=Qh*ld(n))-1.6168667*(t=Kh*ld(t))-.4906146*(e=td*ld(e))),cd(-.9787684*n+1.9161415*t+.033454*e),cd(.0719453*n-.2289914*t+1.4052427*e),this.opacity)}})),kh(dd,hd,Mh(Eh,{brighter:function(t){return new dd(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new dd(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return ad(this).rgb()}}));var pd=-.14861,gd=1.78277,vd=-.29227,md=-.90649,yd=1.97294,_d=yd*md,xd=yd*gd,bd=gd*vd-md*pd;function wd(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof Ad)return new Ad(t.h,t.s,t.l,t.opacity);t instanceof Wh||(t=$h(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=(bd*r+_d*n-xd*e)/(bd+_d-xd),a=r-i,u=(yd*(e-i)-vd*a)/md,o=Math.sqrt(u*u+a*a)/(yd*i*(1-i)),s=o?Math.atan2(u,a)*Jh-120:NaN;return new Ad(s<0?s+360:s,o,i,t.opacity)}(t):new Ad(t,n,e,null==r?1:r)}function Ad(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function kd(t,n,e,r,i){var a=t*t,u=a*t;return((1-3*t+3*a-u)*n+(4-6*a+3*u)*e+(1+3*t+3*a-3*u)*r+u*i)/6}function Md(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],a=t[r+1],u=r>0?t[r-1]:2*i-a,o=r<n-1?t[r+2]:2*a-i;return kd((e-r/n)*n,u,i,a,o)}}function Ed(t){var n=t.length;return function(e){var r=Math.floor(((e%=1)<0?++e:e)*n),i=t[(r+n-1)%n],a=t[r%n],u=t[(r+1)%n],o=t[(r+2)%n];return kd((e-r/n)*n,i,a,u,o)}}function Cd(t){return function(){return t}}function Dd(t,n){return function(e){return t+e*n}}function Fd(t,n){var e=n-t;return e?Dd(t,e>180||e<-180?e-360*Math.round(e/360):e):Cd(isNaN(t)?n:t)}function Sd(t){return 1==(t=+t)?Bd:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):Cd(isNaN(n)?e:n)}}function Bd(t,n){var e=n-t;return e?Dd(t,e):Cd(isNaN(t)?n:t)}kh(Ad,wd,Mh(Eh,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Ad(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Ad(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Zh,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new Wh(255*(n+e*(pd*r+gd*i)),255*(n+e*(vd*r+md*i)),255*(n+e*(yd*r)),this.opacity)}}));var Od=function t(n){var e=Sd(n);function r(t,n){var r=e((t=Ih(t)).r,(n=Ih(n)).r),i=e(t.g,n.g),a=e(t.b,n.b),u=Bd(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=a(n),t.opacity=u(n),t+""}}return r.gamma=t,r}(1);function zd(t){return function(n){var e,r,i=n.length,a=new Array(i),u=new Array(i),o=new Array(i);for(e=0;e<i;++e)r=Ih(n[e]),a[e]=r.r||0,u[e]=r.g||0,o[e]=r.b||0;return a=t(a),u=t(u),o=t(o),r.opacity=1,function(t){return r.r=a(t),r.g=u(t),r.b=o(t),r+""}}}var Nd=zd(Md),Td=zd(Ed);function Rd(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,a=new Array(i),u=new Array(r);for(e=0;e<i;++e)a[e]=Id(t[e],n[e]);for(;e<r;++e)u[e]=n[e];return function(t){for(e=0;e<i;++e)u[e]=a[e](t);return u}}function Pd(t,n){var e=new Date;return n-=t=+t,function(r){return e.setTime(t+n*r),e}}function Ld(t,n){return n-=t=+t,function(e){return t+n*e}}function qd(t,n){var e,r={},i={};for(e in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)e in t?r[e]=Id(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}}var Ud=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,jd=new RegExp(Ud.source,"g");function $d(t,n){var e,r,i,a=Ud.lastIndex=jd.lastIndex=0,u=-1,o=[],s=[];for(t+="",n+="";(e=Ud.exec(t))&&(r=jd.exec(n));)(i=r.index)>a&&(i=n.slice(a,i),o[u]?o[u]+=i:o[++u]=i),(e=e[0])===(r=r[0])?o[u]?o[u]+=r:o[++u]=r:(o[++u]=null,s.push({i:u,x:Ld(e,r)})),a=jd.lastIndex;return a<n.length&&(i=n.slice(a),o[u]?o[u]+=i:o[++u]=i),o.length<2?s[0]?function(t){return function(n){return t(n)+""}}(s[0].x):function(t){return function(){return t}}(n):(n=s.length,function(t){for(var e,r=0;r<n;++r)o[(e=s[r]).i]=e.x(t);return o.join("")})}function Id(t,n){var e,r=typeof n;return null==n||"boolean"===r?Cd(n):("number"===r?Ld:"string"===r?(e=qh(n))?(n=e,Od):$d:n instanceof qh?Od:n instanceof Date?Pd:Array.isArray(n)?Rd:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?qd:Ld)(t,n)}function Wd(t,n){return n-=t=+t,function(e){return Math.round(t+n*e)}}var Hd,Yd,Vd,Gd,Xd=180/Math.PI,Zd={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Jd(t,n,e,r,i,a){var u,o,s;return(u=Math.sqrt(t*t+n*n))&&(t/=u,n/=u),(s=t*e+n*r)&&(e-=t*s,r-=n*s),(o=Math.sqrt(e*e+r*r))&&(e/=o,r/=o,s/=o),t*r<n*e&&(t=-t,n=-n,s=-s,u=-u),{translateX:i,translateY:a,rotate:Math.atan2(n,t)*Xd,skewX:Math.atan(s)*Xd,scaleX:u,scaleY:o}}function Qd(t,n,e,r){function i(t){return t.length?t.pop()+" ":""}return function(a,u){var o=[],s=[];return a=t(a),u=t(u),function(t,r,i,a,u,o){if(t!==i||r!==a){var s=u.push("translate(",null,n,null,e);o.push({i:s-4,x:Ld(t,i)},{i:s-2,x:Ld(r,a)})}else(i||a)&&u.push("translate("+i+n+a+e)}(a.translateX,a.translateY,u.translateX,u.translateY,o,s),function(t,n,e,a){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),a.push({i:e.push(i(e)+"rotate(",null,r)-2,x:Ld(t,n)})):n&&e.push(i(e)+"rotate("+n+r)}(a.rotate,u.rotate,o,s),function(t,n,e,a){t!==n?a.push({i:e.push(i(e)+"skewX(",null,r)-2,x:Ld(t,n)}):n&&e.push(i(e)+"skewX("+n+r)}(a.skewX,u.skewX,o,s),function(t,n,e,r,a,u){if(t!==e||n!==r){var o=a.push(i(a)+"scale(",null,",",null,")");u.push({i:o-4,x:Ld(t,e)},{i:o-2,x:Ld(n,r)})}else 1===e&&1===r||a.push(i(a)+"scale("+e+","+r+")")}(a.scaleX,a.scaleY,u.scaleX,u.scaleY,o,s),a=u=null,function(t){for(var n,e=-1,r=s.length;++e<r;)o[(n=s[e]).i]=n.x(t);return o.join("")}}}var Kd=Qd(function(t){return"none"===t?Zd:(Hd||(Hd=document.createElement("DIV"),Yd=document.documentElement,Vd=document.defaultView),Hd.style.transform=t,t=Vd.getComputedStyle(Yd.appendChild(Hd),null).getPropertyValue("transform"),Yd.removeChild(Hd),Jd(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),tp=Qd(function(t){return null==t?Zd:(Gd||(Gd=document.createElementNS("http://www.w3.org/2000/svg","g")),Gd.setAttribute("transform",t),(t=Gd.transform.baseVal.consolidate())?Jd((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Zd)},", ",")",")"),np=Math.SQRT2,ep=2,rp=4,ip=1e-12;function ap(t){return((t=Math.exp(t))+1/t)/2}function up(t){return function(n,e){var r=t((n=Vh(n)).h,(e=Vh(e)).h),i=Bd(n.s,e.s),a=Bd(n.l,e.l),u=Bd(n.opacity,e.opacity);return function(t){return n.h=r(t),n.s=i(t),n.l=a(t),n.opacity=u(t),n+""}}}var op=up(Fd),sp=up(Bd);function lp(t){return function(n,e){var r=t((n=hd(n)).h,(e=hd(e)).h),i=Bd(n.c,e.c),a=Bd(n.l,e.l),u=Bd(n.opacity,e.opacity);return function(t){return n.h=r(t),n.c=i(t),n.l=a(t),n.opacity=u(t),n+""}}}var cp=lp(Fd),fp=lp(Bd);function hp(t){return function n(e){function r(n,r){var i=t((n=wd(n)).h,(r=wd(r)).h),a=Bd(n.s,r.s),u=Bd(n.l,r.l),o=Bd(n.opacity,r.opacity);return function(t){return n.h=i(t),n.s=a(t),n.l=u(Math.pow(t,e)),n.opacity=o(t),n+""}}return e=+e,r.gamma=n,r}(1)}var dp=hp(Fd),pp=hp(Bd);function gp(t,n){for(var e=0,r=n.length-1,i=n[0],a=new Array(r<0?0:r);e<r;)a[e]=t(i,i=n[++e]);return function(t){var n=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return a[n](t-n)}}var vp=Object.freeze({interpolate:Id,interpolateArray:Rd,interpolateBasis:Md,interpolateBasisClosed:Ed,interpolateDate:Pd,interpolateDiscrete:function(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}},interpolateHue:function(t,n){var e=Fd(+t,+n);return function(t){var n=e(t);return n-360*Math.floor(n/360)}},interpolateNumber:Ld,interpolateObject:qd,interpolateRound:Wd,interpolateString:$d,interpolateTransformCss:Kd,interpolateTransformSvg:tp,interpolateZoom:function(t,n){var e,r,i=t[0],a=t[1],u=t[2],o=n[0],s=n[1],l=n[2],c=o-i,f=s-a,h=c*c+f*f;if(h<ip)r=Math.log(l/u)/np,e=function(t){return[i+t*c,a+t*f,u*Math.exp(np*t*r)]};else{var d=Math.sqrt(h),p=(l*l-u*u+rp*h)/(2*u*ep*d),g=(l*l-u*u-rp*h)/(2*l*ep*d),v=Math.log(Math.sqrt(p*p+1)-p),m=Math.log(Math.sqrt(g*g+1)-g);r=(m-v)/np,e=function(t){var n,e=t*r,o=ap(v),s=u/(ep*d)*(o*(n=np*e+v,((n=Math.exp(2*n))-1)/(n+1))-function(t){return((t=Math.exp(t))-1/t)/2}(v));return[i+s*c,a+s*f,u*o/ap(np*e+v)]}}return e.duration=1e3*r,e},interpolateRgb:Od,interpolateRgbBasis:Nd,interpolateRgbBasisClosed:Td,interpolateHsl:op,interpolateHslLong:sp,interpolateLab:function(t,n){var e=Bd((t=ud(t)).l,(n=ud(n)).l),r=Bd(t.a,n.a),i=Bd(t.b,n.b),a=Bd(t.opacity,n.opacity);return function(n){return t.l=e(n),t.a=r(n),t.b=i(n),t.opacity=a(n),t+""}},interpolateHcl:cp,interpolateHclLong:fp,interpolateCubehelix:dp,interpolateCubehelixLong:pp,piecewise:gp,quantize:function(t,n){for(var e=new Array(n),r=0;r<n;++r)e[r]=t(r/(n-1));return e}});function mp(t){return+t}var yp=[0,1];function _p(t){return t}function xp(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:(e=isNaN(n)?NaN:.5,function(){return e});var e}function bp(t){var n,e=t[0],r=t[t.length-1];return e>r&&(n=e,e=r,r=n),function(t){return Math.max(e,Math.min(r,t))}}function wp(t,n,e){var r=t[0],i=t[1],a=n[0],u=n[1];return i<r?(r=xp(i,r),a=e(u,a)):(r=xp(r,i),a=e(a,u)),function(t){return a(r(t))}}function Ap(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),a=new Array(r),u=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++u<r;)i[u]=xp(t[u],t[u+1]),a[u]=e(n[u],n[u+1]);return function(n){var e=ui(t,n,1,r)-1;return a[e](i[e](n))}}function kp(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Mp(){var t,n,e,r,i,a,u=yp,o=yp,s=Id,l=_p;function c(){return r=Math.min(u.length,o.length)>2?Ap:wp,i=a=null,f}function f(n){return isNaN(n=+n)?e:(i||(i=r(u.map(t),o,s)))(t(l(n)))}return f.invert=function(e){return l(n((a||(a=r(o,u.map(t),Ld)))(e)))},f.domain=function(t){return arguments.length?(u=Array.from(t,mp),l===_p||(l=bp(u)),c()):u.slice()},f.range=function(t){return arguments.length?(o=Array.from(t),c()):o.slice()},f.rangeRound=function(t){return o=Array.from(t),s=Wd,c()},f.clamp=function(t){return arguments.length?(l=t?bp(u):_p,f):l!==_p},f.interpolate=function(t){return arguments.length?(s=t,c()):s},f.unknown=function(t){return arguments.length?(e=t,f):e},function(e,r){return t=e,n=r,c()}}function Ep(t,n){return Mp()(t,n)}function Cp(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function Dp(t){return(t=Cp(Math.abs(t)))?t[1]:NaN}var Fp,Sp=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Bp(t){return new Op(t)}function Op(t){if(!(n=Sp.exec(t)))throw new Error("invalid format: "+t);var n;this.fill=n[1]||" ",this.align=n[2]||">",this.sign=n[3]||"-",this.symbol=n[4]||"",this.zero=!!n[5],this.width=n[6]&&+n[6],this.comma=!!n[7],this.precision=n[8]&&+n[8].slice(1),this.trim=!!n[9],this.type=n[10]||""}function zp(t,n){var e=Cp(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Bp.prototype=Op.prototype,Op.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Np={"%":function(t,n){return(100*t).toFixed(n)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Math.round(t).toString(8)},p:function(t,n){return zp(100*t,n)},r:zp,s:function(t,n){var e=Cp(t,n);if(!e)return t+"";var r=e[0],i=e[1],a=i-(Fp=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,u=r.length;return a===u?r:a>u?r+new Array(a-u+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Cp(t,Math.max(0,n+a-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function Tp(t){return t}var Rp,Pp,Lp,qp=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Up(t){var n,e,r=t.grouping&&t.thousands?(n=t.grouping,e=t.thousands,function(t,r){for(var i=t.length,a=[],u=0,o=n[0],s=0;i>0&&o>0&&(s+o+1>r&&(o=Math.max(1,r-s)),a.push(t.substring(i-=o,i+o)),!((s+=o+1)>r));)o=n[u=(u+1)%n.length];return a.reverse().join(e)}):Tp,i=t.currency,a=t.decimal,u=t.numerals?function(t){return function(n){return n.replace(/[0-9]/g,function(n){return t[+n]})}}(t.numerals):Tp,o=t.percent||"%";function s(t){var n=(t=Bp(t)).fill,e=t.align,s=t.sign,l=t.symbol,c=t.zero,f=t.width,h=t.comma,d=t.precision,p=t.trim,g=t.type;"n"===g?(h=!0,g="g"):Np[g]||(null==d&&(d=12),p=!0,g="g"),(c||"0"===n&&"="===e)&&(c=!0,n="0",e="=");var v="$"===l?i[0]:"#"===l&&/[boxX]/.test(g)?"0"+g.toLowerCase():"",m="$"===l?i[1]:/[%p]/.test(g)?o:"",y=Np[g],_=/[defgprs%]/.test(g);function x(t){var i,o,l,x=v,b=m;if("c"===g)b=y(t)+b,t="";else{var w=(t=+t)<0;if(t=y(Math.abs(t),d),p&&(t=function(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(i>0){if(!+t[r])break t;i=0}}return i>0?t.slice(0,i)+t.slice(n+1):t}(t)),w&&0==+t&&(w=!1),x=(w?"("===s?s:"-":"-"===s||"("===s?"":s)+x,b=("s"===g?qp[8+Fp/3]:"")+b+(w&&"("===s?")":""),_)for(i=-1,o=t.length;++i<o;)if(48>(l=t.charCodeAt(i))||l>57){b=(46===l?a+t.slice(i+1):t.slice(i))+b,t=t.slice(0,i);break}}h&&!c&&(t=r(t,1/0));var A=x.length+t.length+b.length,k=A<f?new Array(f-A+1).join(n):"";switch(h&&c&&(t=r(k+t,k.length?f-b.length:1/0),k=""),e){case"<":t=x+t+b+k;break;case"=":t=x+k+t+b;break;case"^":t=k.slice(0,A=k.length>>1)+x+t+b+k.slice(A);break;default:t=k+x+t+b}return u(t)}return d=null==d?6:/[gprs]/.test(g)?Math.max(1,Math.min(21,d)):Math.max(0,Math.min(20,d)),x.toString=function(){return t+""},x}return{format:s,formatPrefix:function(t,n){var e=s(((t=Bp(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Dp(n)/3))),i=Math.pow(10,-r),a=qp[8+r/3];return function(t){return e(i*t)+a}}}}function jp(t){return Rp=Up(t),Pp=Rp.format,Lp=Rp.formatPrefix,Rp}function $p(t,n,e,r){var i,a=gi(t,n,e);switch((r=Bp(null==r?",f":r)).type){case"s":var u=Math.max(Math.abs(t),Math.abs(n));return null!=r.precision||isNaN(i=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Dp(n)/3)))-Dp(Math.abs(t)))}(a,u))||(r.precision=i),Lp(r,u);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,Dp(n)-Dp(t))+1}(a,Math.max(Math.abs(t),Math.abs(n))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-Dp(Math.abs(t)))}(a))||(r.precision=i-2*("%"===r.type))}return Pp(r)}function Ip(t){var n=t.domain;return t.ticks=function(t){var e=n();return di(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){var r=n();return $p(r[0],r[r.length-1],null==t?10:t,e)},t.nice=function(e){null==e&&(e=10);var r,i=n(),a=0,u=i.length-1,o=i[a],s=i[u];return s<o&&(r=o,o=s,s=r,r=a,a=u,u=r),(r=pi(o,s,e))>0?r=pi(o=Math.floor(o/r)*r,s=Math.ceil(s/r)*r,e):r<0&&(r=pi(o=Math.ceil(o*r)/r,s=Math.floor(s*r)/r,e)),r>0?(i[a]=Math.floor(o/r)*r,i[u]=Math.ceil(s/r)*r,n(i)):r<0&&(i[a]=Math.ceil(o*r)/r,i[u]=Math.floor(s*r)/r,n(i)),t},t}function Wp(t,n){var e,r=0,i=(t=t.slice()).length-1,a=t[r],u=t[i];return u<a&&(e=r,r=i,i=e,e=a,a=u,u=e),t[r]=n.floor(a),t[i]=n.ceil(u),t}function Hp(t){return Math.log(t)}function Yp(t){return Math.exp(t)}function Vp(t){return-Math.log(-t)}function Gp(t){return-Math.exp(-t)}function Xp(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Zp(t){return function(n){return-t(-n)}}function Jp(t){var n,e,r=t(Hp,Yp),i=r.domain,a=10;function u(){return n=function(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(n){return Math.log(n)/t})}(a),e=function(t){return 10===t?Xp:t===Math.E?Math.exp:function(n){return Math.pow(t,n)}}(a),i()[0]<0?(n=Zp(n),e=Zp(e),t(Vp,Gp)):t(Hp,Yp),r}return r.base=function(t){return arguments.length?(a=+t,u()):a},r.domain=function(t){return arguments.length?(i(t),u()):i()},r.ticks=function(t){var r,u=i(),o=u[0],s=u[u.length-1];(r=s<o)&&(h=o,o=s,s=h);var l,c,f,h=n(o),d=n(s),p=null==t?10:+t,g=[];if(!(a%1)&&d-h<p){if(h=Math.round(h)-1,d=Math.round(d)+1,o>0){for(;h<d;++h)for(c=1,l=e(h);c<a;++c)if(!((f=l*c)<o)){if(f>s)break;g.push(f)}}else for(;h<d;++h)for(c=a-1,l=e(h);c>=1;--c)if(!((f=l*c)<o)){if(f>s)break;g.push(f)}}else g=di(h,d,Math.min(d-h,p)).map(e);return r?g.reverse():g},r.tickFormat=function(t,i){if(null==i&&(i=10===a?".0e":","),"function"!=typeof i&&(i=Pp(i)),t===1/0)return i;null==t&&(t=10);var u=Math.max(1,a*t/r.ticks().length);return function(t){var r=t/e(Math.round(n(t)));return r*a<a-.5&&(r*=a),r<=u?i(t):""}},r.nice=function(){return i(Wp(i(),{floor:function(t){return e(Math.floor(n(t)))},ceil:function(t){return e(Math.ceil(n(t)))}}))},r}function Qp(t){return function(n){return Math.sign(n)*Math.log1p(Math.abs(n/t))}}function Kp(t){return function(n){return Math.sign(n)*Math.expm1(Math.abs(n))*t}}function tg(t){var n=1,e=t(Qp(n),Kp(n));return e.constant=function(e){return arguments.length?t(Qp(n=+e),Kp(n)):n},Ip(e)}function ng(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function eg(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function rg(t){return t<0?-t*t:t*t}function ig(t){var n=t(_p,_p),e=1;return n.exponent=function(n){return arguments.length?1===(e=+n)?t(_p,_p):.5===e?t(eg,rg):t(ng(e),ng(1/e)):e},Ip(n)}function ag(){var t=ig(Mp());return t.copy=function(){return kp(t,ag()).exponent(t.exponent())},xh.apply(t,arguments),t}jp({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var ug=1e3,og=60*ug,sg=60*og,lg=24*sg,cg=7*lg,fg=30*lg,hg=365*lg;function dg(t){return new Date(t)}function pg(t){return t instanceof Date?+t:+new Date(+t)}function gg(t,n,e,r,i,a,u,o,s){var l=Ep(_p,_p),c=l.invert,f=l.domain,h=s(".%L"),d=s(":%S"),p=s("%I:%M"),g=s("%I %p"),v=s("%a %d"),m=s("%b %d"),y=s("%B"),_=s("%Y"),x=[[u,1,ug],[u,5,5*ug],[u,15,15*ug],[u,30,30*ug],[a,1,og],[a,5,5*og],[a,15,15*og],[a,30,30*og],[i,1,sg],[i,3,3*sg],[i,6,6*sg],[i,12,12*sg],[r,1,lg],[r,2,2*lg],[e,1,cg],[n,1,fg],[n,3,3*fg],[t,1,hg]];function b(o){return(u(o)<o?h:a(o)<o?d:i(o)<o?p:r(o)<o?g:n(o)<o?e(o)<o?v:m:t(o)<o?y:_)(o)}function w(n,e,r,i){if(null==n&&(n=10),"number"==typeof n){var a=Math.abs(r-e)/n,u=ii(function(t){return t[2]}).right(x,a);u===x.length?(i=gi(e/hg,r/hg,n),n=t):u?(i=(u=x[a/x[u-1][2]<x[u][2]/a?u-1:u])[1],n=u[0]):(i=Math.max(gi(e,r,n),1),n=o)}return null==i?n:n.every(i)}return l.invert=function(t){return new Date(c(t))},l.domain=function(t){return arguments.length?f(Array.from(t,pg)):f().map(dg)},l.ticks=function(t,n){var e,r=f(),i=r[0],a=r[r.length-1],u=a<i;return u&&(e=i,i=a,a=e),e=(e=w(t,i,a,n))?e.range(i,a+1):[],u?e.reverse():e},l.tickFormat=function(t,n){return null==n?b:s(n)},l.nice=function(t,n){var e=f();return(t=w(t,e[0],e[e.length-1],n))?f(Wp(e,t)):l},l.copy=function(){return kp(l,gg(t,n,e,r,i,a,u,o,s))},l}function vg(){var t,n,e,r,i,a=0,u=1,o=_p,s=!1;function l(n){return isNaN(n=+n)?i:o(0===e?.5:(n=(r(n)-t)*e,s?Math.max(0,Math.min(1,n)):n))}return l.domain=function(i){return arguments.length?([a,u]=i,t=r(a=+a),n=r(u=+u),e=t===n?0:1/(n-t),l):[a,u]},l.clamp=function(t){return arguments.length?(s=!!t,l):s},l.interpolator=function(t){return arguments.length?(o=t,l):o},l.unknown=function(t){return arguments.length?(i=t,l):i},function(i){return r=i,t=i(a),n=i(u),e=t===n?0:1/(n-t),l}}function mg(t,n){return n.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function yg(){var t=Ip(vg()(_p));return t.copy=function(){return mg(t,yg())},bh.apply(t,arguments)}function _g(){var t=ig(vg());return t.copy=function(){return mg(t,_g()).exponent(t.exponent())},bh.apply(t,arguments)}function xg(){var t,n,e,r,i,a,u,o=0,s=.5,l=1,c=_p,f=!1;function h(t){return isNaN(t=+t)?u:(t=.5+((t=+a(t))-n)*(t<n?r:i),c(f?Math.max(0,Math.min(1,t)):t))}return h.domain=function(u){return arguments.length?([o,s,l]=u,t=a(o=+o),n=a(s=+s),e=a(l=+l),r=t===n?0:.5/(n-t),i=n===e?0:.5/(e-n),h):[o,s,l]},h.clamp=function(t){return arguments.length?(f=!!t,h):f},h.interpolator=function(t){return arguments.length?(c=t,h):c},h.unknown=function(t){return arguments.length?(u=t,h):u},function(u){return a=u,t=u(o),n=u(s),e=u(l),r=t===n?0:.5/(n-t),i=n===e?0:.5/(e-n),h}}function bg(){var t=ig(xg());return t.copy=function(){return mg(t,bg()).exponent(t.exponent())},bh.apply(t,arguments)}function wg(){var t,n,e=Ah().unknown(void 0),r=e.domain,i=e.range,a=[0,1],u=!1,o=0,s=0,l=.5;function c(){var e=r().length,c=a[1]<a[0],f=a[c-0],h=a[1-c],d=Vf(e,o,s);t=(h-f)/(d||1),u&&(t=Math.floor(t)),f+=(h-f-t*(e-o))*l,n=t*(1-o),u&&(f=Math.round(f),n=Math.round(n));var p=li(e).map(function(n){return f+t*n});return i(c?p.reverse():p)}return delete e.unknown,e.domain=function(t){return arguments.length?(r(t),c()):r()},e.range=function(t){return arguments.length?(a=[+t[0],+t[1]],c()):a.slice()},e.rangeRound=function(t){return a=[+t[0],+t[1]],u=!0,c()},e.bandwidth=function(){return n},e.step=function(){return t},e.round=function(t){return arguments.length?(u=!!t,c()):u},e.padding=function(t){return arguments.length?(s=Math.max(0,Math.min(1,t)),o=s,c()):o},e.paddingInner=function(t){return arguments.length?(o=Math.max(0,Math.min(1,t)),c()):o},e.paddingOuter=function(t){return arguments.length?(s=Math.max(0,Math.min(1,t)),c()):s},e.align=function(t){return arguments.length?(l=Math.max(0,Math.min(1,t)),c()):l},e.invertRange=function(t){if(null!=t[0]&&null!=t[1]){var e,u,o,s=+t[0],l=+t[1],c=a[1]<a[0],f=c?i().reverse():i(),h=f.length-1;if(s==s&&l==l&&(l<s&&(o=s,s=l,l=o),!(l<f[0]||s>a[1-c])))return e=Math.max(0,ui(f,s)-1),u=s===l?e:ui(f,l)-1,s-f[e]>n+1e-10&&++e,c&&(o=e,e=h-u,u=h-o),e>u?void 0:r().slice(e,u+1)}},e.invert=function(t){var n=e.invertRange([t,t]);return n?n[0]:n},e.copy=function(){return wg().domain(r()).range(a).round(u).paddingInner(o).paddingOuter(s).align(l)},c()}var Ag=Array.prototype.map;var kg=Array.prototype.slice;function Mg(t,n){return arguments.length>1?(Eg[t]=function(t,n){return function(){var e=n();return e.invertRange||(e.invertRange=e.invert?function(t){return function(n){var e,r=n[0],i=n[1];return i<r&&(e=r,r=i,i=e),[t.invert(r),t.invert(i)]}}(e):e.invertExtent?function(t){return function(n){var e,r,i,a,u=t.range(),o=n[0],s=n[1],l=-1;for(s<o&&(r=o,o=s,s=r),i=0,a=u.length;i<a;++i)u[i]>=o&&u[i]<=s&&(l<0&&(l=i),e=i);if(!(l<0))return o=t.invertExtent(u[l]),s=t.invertExtent(u[e]),[void 0===o[0]?o[1]:o[0],void 0===s[1]?s[0]:s[1]]}}(e):void 0),e.type=t,e}}(t,n),this):Eg.hasOwnProperty(t)?Eg[t]:void 0}var Eg={[Gf]:function t(n){var e;function r(t){return isNaN(t=+t)?e:t}return r.invert=r,r.domain=r.range=function(t){return arguments.length?(n=Array.from(t,mp),r):n.slice()},r.unknown=function(t){return arguments.length?(e=t,r):e},r.copy=function(){return t(n).unknown(e)},n=arguments.length?Array.from(n,mp):[0,1],Ip(r)},[Xf]:function t(){var n=Ep(_p,_p);return n.copy=function(){return kp(n,t())},xh.apply(n,arguments),Ip(n)},[Zf]:function t(){var n=Jp(Mp()).domain([1,10]);return n.copy=function(){return kp(n,t()).base(n.base())},xh.apply(n,arguments),n},[Jf]:ag,[Qf]:function(){return ag.apply(null,arguments).exponent(.5)},[Kf]:function t(){var n=tg(Mp());return n.copy=function(){return kp(n,t()).constant(n.constant())},xh.apply(n,arguments)},[th]:function(){return xh.apply(gg(Hn,Wn,jn,qn,Ln,Pn,Rn,zn,ae).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},[nh]:function(){return xh.apply(gg(te,Kn,Zn,Gn,Vn,Yn,Rn,zn,oe).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)},[eh]:yg,[eh+"-"+Xf]:yg,[eh+"-"+Zf]:function t(){var n=Jp(vg()).domain([1,10]);return n.copy=function(){return mg(n,t()).base(n.base())},bh.apply(n,arguments)},[eh+"-"+Jf]:_g,[eh+"-"+Qf]:function(){return _g.apply(null,arguments).exponent(.5)},[eh+"-"+Kf]:function t(){var n=tg(vg());return n.copy=function(){return mg(n,t()).constant(n.constant())},bh.apply(n,arguments)},[rh+"-"+Xf]:function t(){var n=Ip(xg()(_p));return n.copy=function(){return mg(n,t())},bh.apply(n,arguments)},[rh+"-"+Zf]:function t(){var n=Jp(xg()).domain([.1,1,10]);return n.copy=function(){return mg(n,t()).base(n.base())},bh.apply(n,arguments)},[rh+"-"+Jf]:bg,[rh+"-"+Qf]:function(){return bg.apply(null,arguments).exponent(.5)},[rh+"-"+Kf]:function t(){var n=tg(xg());return n.copy=function(){return mg(n,t()).constant(n.constant())},bh.apply(n,arguments)},[ih]:function t(){var n,e=[],r=[],i=[];function a(){var t=0,n=Math.max(1,r.length);for(i=new Array(n-1);++t<n;)i[t-1]=vi(e,t/n);return u}function u(t){return isNaN(t=+t)?n:r[ui(i,t)]}return u.invertExtent=function(t){var n=r.indexOf(t);return n<0?[NaN,NaN]:[n>0?i[n-1]:e[0],n<i.length?i[n]:e[e.length-1]]},u.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(ri),a()},u.range=function(t){return arguments.length?(r=Array.from(t),a()):r.slice()},u.unknown=function(t){return arguments.length?(n=t,u):n},u.quantiles=function(){return i.slice()},u.copy=function(){return t().domain(e).range(r).unknown(n)},xh.apply(u,arguments)},[ah]:function t(){var n,e=0,r=1,i=1,a=[.5],u=[0,1];function o(t){return t<=t?u[ui(a,t,0,i)]:n}function s(){var t=-1;for(a=new Array(i);++t<i;)a[t]=((t+1)*r-(t-i)*e)/(i+1);return o}return o.domain=function(t){return arguments.length?([e,r]=t,e=+e,r=+r,s()):[e,r]},o.range=function(t){return arguments.length?(i=(u=Array.from(t)).length-1,s()):u.slice()},o.invertExtent=function(t){var n=u.indexOf(t);return n<0?[NaN,NaN]:n<1?[e,a[0]]:n>=i?[a[i-1],r]:[a[n-1],a[n]]},o.unknown=function(t){return arguments.length?(n=t,o):o},o.thresholds=function(){return a.slice()},o.copy=function(){return t().domain([e,r]).range(u).unknown(n)},xh.apply(Ip(o),arguments)},[uh]:function t(){var n,e=[.5],r=[0,1],i=1;function a(t){return t<=t?r[ui(e,t,0,i)]:n}return a.domain=function(t){return arguments.length?(e=Array.from(t),i=Math.min(e.length,r.length-1),a):e.slice()},a.range=function(t){return arguments.length?(r=Array.from(t),i=Math.min(e.length,r.length-1),a):r.slice()},a.invertExtent=function(t){var n=r.indexOf(t);return[e[n-1],e[n]]},a.unknown=function(t){return arguments.length?(n=t,a):n},a.copy=function(){return t().domain(e).range(r).unknown(n)},xh.apply(a,arguments)},[ch]:function t(){var n=[],e=[];function r(t){return null==t||t!=t?void 0:e[(ui(n,t)-1)%e.length]}return r.domain=function(t){return arguments.length?(n=function(t){return Ag.call(t,function(t){return+t})}(t),r):n.slice()},r.range=function(t){return arguments.length?(e=kg.call(t),r):e.slice()},r.tickFormat=function(t,e){return $p(n[0],M(n),null==t?10:t,e)},r.copy=function(){return t().domain(r.domain()).range(r.range())},r},[oh]:Ah,[lh]:wg,[sh]:function(){return function t(n){var e=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,n.copy=function(){return t(e())},n}(wg().paddingInner(1))}};for(var Cg in Eg)Mg(Cg,Eg[Cg]);const Dg=["clamp","base","constant","exponent"];function Fg(t,n){var e=n[0],r=M(n)-e;return function(n){return t(e+n*r)}}function Sg(t,n,e){return gp(zg(n||"rgb",e),t)}function Bg(t,n){for(var e=new Array(n),r=n+1,i=0;i<n;)e[i]=t(++i/r);return e}function Og(t,n,e){var r,i,a,u=e-n;return u&&isFinite(u)?(r=(i=t.type).indexOf("-"),i=r<0?i:i.slice(r+1),a=Mg(i)().domain([n,e]).range([0,1]),Dg.forEach(n=>t[n]?a[n](t[n]()):0),a):G(.5)}function zg(t,n){var e=vp[function(t){return"interpolate"+t.toLowerCase().split("-").map(function(t){return t[0].toUpperCase()+t.slice(1)}).join("")}(t)];return null!=n&&e&&e.gamma?e.gamma(n):e}function Ng(t){for(var n=t.length/6|0,e=new Array(n),r=0;r<n;)e[r]="#"+t.slice(6*r,6*++r);return e}function Tg(t,n){for(let e in t)Pg(e,n(t[e]))}const Rg={};function Pg(t,n){return t=t&&t.toLowerCase(),arguments.length>1?(Rg[t]=n,this):Rg[t]}function Lg(t,n,e){var r;return ut(n)&&null!=e&&(n=Math.min(n,~~(dt(t.domain())/e)||1)),o(n)&&(r=n.step,n=n.interval),s(n)&&(n=_h(n,t.type)||i("Only time and utc scales accept interval strings."),r&&(n=n.every(r))),n}function qg(t,n,e){var r=t.range(),i=Math.floor(r[0]),a=Math.ceil(M(r));if(i>a&&(r=a,a=i,i=r),n=n.filter(function(n){return n=t(n),i<=n&&n<=a}),e>0&&n.length>1){for(var u=[n[0],M(n)];n.length>e&&n.length>=3;)n=n.filter(function(t,n){return!(n%2)});n.length<3&&(n=u)}return n}function Ug(t,n){return t.bins?qg(t,function(t,n){var e=t.length,r=~~(e/(n||e));return r<2?t.slice():t.filter(function(t,n){return!(n%r)})}(t.bins,n)):t.ticks?t.ticks(n):t.domain()}function jg(t,n,e,r){var i,a,u=t.tickFormat?t.tickFormat(n,e):e&&r===th?ae(e):e?Pp(e):String;if(dh(t.type)){var o=function(t){var n=Bp(t||",");if(null==n.precision){switch(n.precision=12,n.type){case"%":n.precision-=2;break;case"e":n.precision-=1}return e=Pp(n),r=Pp(".1f")(1)[1],function(t){var n,i,a=e(t),u=a.indexOf(r);if(u<0)return a;for(n=function(t,n){var e,r=t.lastIndexOf("e");if(r>0)return r;for(r=t.length;--r>n;)if((e=t.charCodeAt(r))>=48&&e<=57)return r+1}(a,u),i=n<a.length?a.slice(n):"";--n>u;)if("0"!==a[n]){++n;break}return a.slice(0,n)+i}}return Pp(n);var e,r}(e);u=t.bins?o:(i=u,a=o,function(t){return i(t)?a(t):""})}return u}function $g(t){jr.call(this,null,t)}function Ig(t){jr.call(this,null,t)}function Wg(){return Dt({})}function Hg(t){return t.exit}function Yg(t){jr.call(this,null,t)}Tg({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},Ng),Tg({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},t=>Sg(Ng(t))),et($g,jr).transform=function(t,n){if(this.value&&!t.modified())return n.StopPropagation;var e=n.fork(n.NO_SOURCE|n.NO_FIELDS),r=this.value,i=t.scale,a=Lg(i,null==t.count?t.values?t.values.length:10:t.count,t.minstep),u=t.format||jg(i,a,t.formatSpecifier,t.formatType),o=t.values?qg(i,t.values,a):Ug(i,a);return r&&(e.rem=r),r=o.map(function(t,n){return Dt({index:n/(o.length-1||1),value:t,label:u(t)})}),t.extra&&r.length&&r.push(Dt({index:-1,extra:{value:r[0].value},label:""})),e.source=r,e.add=r,this.value=r,e},et(Ig,jr).transform=function(t,n){var e=n.dataflow,r=n.fork(n.NO_SOURCE|n.NO_FIELDS),a=t.item||Wg,o=t.key||Et,s=this.value;return u(r.encode)&&(r.encode=null),s&&(t.modified("key")||n.modified(o))&&i("DataJoin does not support modified key function or fields."),s||(n=n.addAll(),this.value=s=tt().test(Hg),s.lookup=function(t){return s.get(o(t))}),n.visit(n.ADD,function(t){var n=o(t),e=s.get(n);e?e.exit?(s.empty--,r.add.push(e)):r.mod.push(e):(s.set(n,e=a(t)),r.add.push(e)),e.datum=t,e.exit=!1}),n.visit(n.MOD,function(t){var n=o(t),e=s.get(n);e&&(e.datum=t,r.mod.push(e))}),n.visit(n.REM,function(t){var n=o(t),e=s.get(n);t!==e.datum||e.exit||(r.rem.push(e),e.exit=!0,++s.empty)}),n.changed(n.ADD_MOD)&&r.modifies("datum"),t.clean&&s.empty>e.cleanThreshold&&e.runAfter(s.clean),r},et(Yg,jr).transform=function(t,n){var e=n.fork(n.ADD_REM),r=t.encoders,i=n.encode;if(u(i)){if(!e.changed()&&!i.every(function(t){return r[t]}))return n.StopPropagation;i=i[0],e.encode=null}var a="enter"===i,o=r.update||m,s=r.enter||m,l=r.exit||m,c=(i&&!a?r[i]:o)||m;if(n.changed(n.ADD)&&(n.visit(n.ADD,function(n){s(n,t),o(n,t),c!==m&&c!==o&&c(n,t)}),e.modifies(s.output),e.modifies(o.output),c!==m&&c!==o&&e.modifies(c.output)),n.changed(n.REM)&&l!==m&&(n.visit(n.REM,function(n){l(n,t)}),e.modifies(l.output)),a||c!==m){var f=n.MOD|(t.modified()?n.REFLOW:0);a?(n.visit(f,function(n){var r=s(n,t);(c(n,t)||r)&&e.mod.push(n)}),e.mod.length&&e.modifies(s.output)):n.visit(f,function(n){c(n,t)&&e.mod.push(n)}),e.mod.length&&e.modifies(c.output)}return e.changed()?e:n.StopPropagation};var Vg="symbol",Gg="discrete";const Xg={[ih]:"quantiles",[ah]:"thresholds",[uh]:"domain"},Zg={[ih]:"quantiles",[ah]:"domain"};function Jg(t,n){return t.bins?function(t){const n=t.slice(0,-1);return n.max=M(t),n}(t.bins):Xg[t.type]?function(t){const n=[-1/0].concat(t);return n.max=1/0,n}(t[Xg[t.type]]()):Ug(t,n)}function Qg(t,n,e,r,i){const a=Zg[t.type]&&i!==th?function(t,n){var e,r=t[Zg[t.type]](),i=r.length,a=i>1?r[1]-r[0]:r[0];for(e=1;e<i;++e)a=Math.min(a,r[e]-r[e-1]);return $p(0,a,30,n)}(t,r):jg(t,n,r,i);return e===Vg&&function(t){return Xg[t.type]||t.bins}(t)?function(t){return function(n,e,r){var i=r[e+1]||r.max||1/0,a=Kg(n,t),u=Kg(i,t);return a&&u?a+""+u:u?"< "+u:" "+a}}(a):e===Gg?function(t){return function(n,e){return e?t(n):null}}(a):function(t){return function(n){return t(n)}}(a)}function Kg(t,n){return isFinite(t)?n(t):null}function tv(t){jr.call(this,[],t)}et(tv,jr).transform=function(t,n){if(null!=this.value&&!t.modified())return n.StopPropagation;var e,r,i,a,u=n.fork(n.NO_SOURCE|n.NO_FIELDS),o=this.value,s=t.type||Vg,l=t.scale,c=Lg(l,null==t.count?5:t.count,t.minstep),f=t.format||Qg(l,c,s,t.formatSpecifier,t.formatType),h=t.values||Jg(l,c);return o&&(u.rem=o),s===Vg?(Y(i=t.size)?(t.values||0!==l(h[0])||(h=h.slice(1)),a=h.reduce(function(n,e){return Math.max(n,i(e,t))},0)):i=G(a=i||8),o=h.map(function(n,e){return Dt({index:e,label:f(n,e,h),value:n,offset:a,size:i(n,t)})})):"gradient"===s?(e=l.domain(),r=Og(l,e[0],M(e)),h.length<3&&!t.values&&e[0]!==M(e)&&(h=[e[0],M(e)]),o=h.map(function(t,n){return Dt({index:n,label:f(t,n,h),value:t,perc:r(t)})})):(i=h.length-1,r=function(t){var n=t.domain(),e=n.length-1,r=+n[0],i=+M(n),a=i-r;if(t.type===uh){var u=e?a/e:.1;a=(i+=u)-(r-=u)}return function(t){return(t-r)/a}}(l),o=h.map(function(t,n){return Dt({index:n,label:f(t,n,h),value:t,perc:n?r(t):0,perc2:n===i?1:r(h[n+1])})})),u.source=o,u.add=o,this.value=o,u};var nv=tt({line:ov,"line-radial":function(t,n,e,r){return ov(n*Math.cos(t),n*Math.sin(t),r*Math.cos(e),r*Math.sin(e))},arc:sv,"arc-radial":function(t,n,e,r){return sv(n*Math.cos(t),n*Math.sin(t),r*Math.cos(e),r*Math.sin(e))},curve:lv,"curve-radial":function(t,n,e,r){return lv(n*Math.cos(t),n*Math.sin(t),r*Math.cos(e),r*Math.sin(e))},"orthogonal-horizontal":function(t,n,e,r){return"M"+t+","+n+"V"+r+"H"+e},"orthogonal-vertical":function(t,n,e,r){return"M"+t+","+n+"H"+e+"V"+r},"orthogonal-radial":function(t,n,e,r){var i=Math.cos(t),a=Math.sin(t),u=Math.cos(e),o=Math.sin(e),s=Math.abs(e-t)>Math.PI?e<=t:e>t;return"M"+n*i+","+n*a+"A"+n+","+n+" 0 0,"+(s?1:0)+" "+n*u+","+n*o+"L"+r*u+","+r*o},"diagonal-horizontal":function(t,n,e,r){var i=(t+e)/2;return"M"+t+","+n+"C"+i+","+n+" "+i+","+r+" "+e+","+r},"diagonal-vertical":function(t,n,e,r){var i=(n+r)/2;return"M"+t+","+n+"C"+t+","+i+" "+e+","+i+" "+e+","+r},"diagonal-radial":function(t,n,e,r){var i=Math.cos(t),a=Math.sin(t),u=Math.cos(e),o=Math.sin(e),s=(n+r)/2;return"M"+n*i+","+n*a+"C"+s*i+","+s*a+" "+s*u+","+s*o+" "+r*u+","+r*o}});function ev(t){return t.source.x}function rv(t){return t.source.y}function iv(t){return t.target.x}function av(t){return t.target.y}function uv(t){jr.call(this,{},t)}function ov(t,n,e,r){return"M"+t+","+n+"L"+e+","+r}function sv(t,n,e,r){var i=e-t,a=r-n,u=Math.sqrt(i*i+a*a)/2;return"M"+t+","+n+"A"+u+","+u+" "+180*Math.atan2(a,i)/Math.PI+" 0 1 "+e+","+r}function lv(t,n,e,r){var i=e-t,a=r-n,u=.2*(i+a),o=.2*(a-i);return"M"+t+","+n+"C"+(t+u)+","+(n+o)+" "+(e+o)+","+(r-u)+" "+e+","+r}function cv(t){jr.call(this,null,t)}uv.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]},et(uv,jr).transform=function(t,n){var e=t.sourceX||ev,r=t.sourceY||rv,a=t.targetX||iv,u=t.targetY||av,o=t.as||"path",s=t.orient||"vertical",l=t.shape||"line",c=nv.get(l+"-"+s)||nv.get(l);return c||i("LinkPath unsupported type: "+t.shape+(t.orient?"-"+t.orient:"")),n.visit(n.SOURCE,function(t){t[o]=c(e(t),r(t),a(t),u(t))}),n.reflow(t.modified()).modifies(o)},cv.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]},et(cv,jr).transform=function(t,n){var e,r,i,a=t.as||["startAngle","endAngle"],u=a[0],o=a[1],s=t.field||g,l=t.startAngle||0,c=null!=t.endAngle?t.endAngle:2*Math.PI,f=n.source,h=f.map(s),d=h.length,p=l,v=(c-l)/function(t,n){let e=0;if(void 0===n)for(let n of t)(n=+n)&&(e+=n);else{let r=-1;for(let i of t)(i=+n(i,++r,t))&&(e+=i)}return e}(h),m=li(d);for(t.sort&&m.sort(function(t,n){return h[t]-h[n]}),e=0;e<d;++e)i=h[m[e]],(r=f[m[e]])[u]=p,r[o]=p+=i*v;return this.value=h,n.reflow(t.modified()).modifies(a)};var fv=5;function hv(t){return ph(t)&&t!==eh}var dv=yt(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function pv(t){jr.call(this,null,t),this.modified(!0)}function gv(t,n,e){dh(t)&&(Math.abs(n.reduce(function(t,n){return t+(n<0?-1:n>0?1:0)},0))!==n.length&&e.warn("Log scale domain includes zero: "+l(n)));return n}function vv(t,n,e){return Y(t)&&(n||e)?Fg(t,mv(n||[0,1],e)):t}function mv(t,n){return n?t.slice().reverse():t}function yv(t){jr.call(this,null,t)}et(pv,jr).transform=function(t,n){var e=n.dataflow,r=this.value,a=function(t){var n,e=t.type,r="";if(e===eh)return eh+"-"+Xf;(function(t){const n=t.type;return ph(n)&&n!==th&&n!==nh&&(t.scheme||t.range&&t.range.length&&t.range.every(s))})(t)&&(n=t.rawDomain?t.rawDomain.length:t.domain?t.domain.length+ +(null!=t.domainMid):0,r=2===n?eh+"-":3===n?rh+"-":"");return(r+e||Xf).toLowerCase()}(t);for(a in r&&a===r.type||(this.value=r=Mg(a)()),t)if(!dv[a]){if("padding"===a&&hv(r.type))continue;Y(r[a])?r[a](t[a]):e.warn("Unsupported scale property: "+a)}return function(t,n,e){var r=n.round||!1,a=n.range;if(null!=n.rangeStep)a=function(t,n,e){t!==lh&&t!==sh&&i("Only band and point scales support rangeStep.");var r=(null!=n.paddingOuter?n.paddingOuter:n.padding)||0,a=t===sh?1:(null!=n.paddingInner?n.paddingInner:n.padding)||0;return[0,n.rangeStep*Vf(e,a,r)]}(t.type,n,e);else if(n.scheme){if(a=function(t,n,e){var r,a,o=n.schemeExtent;u(n.scheme)?a=Sg(n.scheme,n.interpolate,n.interpolateGamma):(r=n.scheme.toLowerCase(),(a=Pg(r))||i("Unrecognized scheme name: "+n.scheme));return e=t===uh?e+1:t===ch?e-1:t===ih||t===ah?+n.schemeCount||fv:e,hh(t)?vv(a,o,n.reverse):Y(a)?Bg(vv(a,o),e):t===oh?a:a.slice(0,e)}(t.type,n,e),Y(a))return t.interpolator(a)}else if(a&&hh(t.type))return t.interpolator(Sg(mv(a,n.reverse),n.interpolate,n.interpolateGamma));a&&n.interpolate&&t.interpolate?t.interpolate(zg(n.interpolate,n.interpolateGamma)):Y(t.round)?t.round(r):Y(t.rangeRound)&&t.interpolate(r?Wd:Id);a&&t.range(mv(a,n.reverse))}(r,t,function(t,n,e){let r=n.bins;if(r&&!u(r)){const n=(null==r.start||null==r.stop)&&t.domain(),e=null==r.start?n[0]:r.start,a=null==r.stop?M(n):r.stop,u=r.step;u||i("Scale bins parameter missing step property."),r=li(e,a+u,u)}r?t.bins=r:t.bins&&delete t.bins;t.type===ch&&(r?n.domain||n.domainRaw||(t.domain(r),e=r.length):t.bins=t.domain());return e}(r,t,function(t,n,e){var r=function(t,n,e){return n?(t.domain(gv(t.type,n,e)),n.length):-1}(t,n.domainRaw,e);if(r>-1)return r;var i,a,u=n.domain,o=t.type,s=n.zero||void 0===n.zero&&function(t){const n=t.type;return!t.bins&&(n===Xf||n===Jf||n===Qf)}(t);if(!u)return 0;hv(o)&&n.padding&&u[0]!==M(u)&&(u=function(t,n,e,r,i,a){var u=Math.abs(M(e)-e[0]),o=u/(u-2*r),s=t===Zf?q(n,null,o):t===Qf?U(n,null,o,.5):t===Jf?U(n,null,o,i||1):t===Kf?j(n,null,o,a||1):L(n,null,o);return(n=n.slice())[0]=s[0],n[n.length-1]=s[1],n}(o,u,n.range,n.padding,n.exponent,n.constant));(s||null!=n.domainMin||null!=n.domainMax||null!=n.domainMid)&&(i=(u=u.slice()).length-1||1,s&&(u[0]>0&&(u[0]=0),u[i]<0&&(u[i]=0)),null!=n.domainMin&&(u[0]=n.domainMin),null!=n.domainMax&&(u[i]=n.domainMax),null!=n.domainMid&&(((a=n.domainMid)<u[0]||a>u[i])&&e.warn("Scale domainMid exceeds domain min or max.",a),u.splice(i,0,a)));t.domain(gv(o,u,e)),o===oh&&t.unknown(n.domainImplicit?wh:void 0);n.nice&&t.nice&&t.nice(!0!==n.nice&&Lg(t,n.nice)||null);return u.length}(r,t,e))),n.fork(n.NO_SOURCE|n.NO_FIELDS)},et(yv,jr).transform=function(t,n){var e=t.modified("sort")||n.changed(n.ADD)||n.modified(t.sort.fields)||n.modified("datum");return e&&n.source.sort(t.sort),this.modified(e),n};var _v=["y0","y1"];function xv(t){jr.call(this,null,t)}function bv(t,n,e,r,i){for(var a,u=(n-t.sum)/2,o=t.length,s=0;s<o;++s)(a=t[s])[r]=u,a[i]=u+=Math.abs(e(a))}function wv(t,n,e,r,i){for(var a,u=1/t.sum,o=0,s=t.length,l=0,c=0;l<s;++l)(a=t[l])[r]=o,a[i]=o=u*(c+=Math.abs(e(a)))}function Av(t,n,e,r,i){for(var a,u,o=0,s=0,l=t.length,c=0;c<l;++c)(a=e(u=t[c]))<0?(u[r]=s,u[i]=s+=a):(u[r]=o,u[i]=o+=a)}xv.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:"zero",values:["zero","center","normalize"]},{name:"as",type:"string",array:!0,length:2,default:_v}]},et(xv,jr).transform=function(t,n){var e,r,i,a,u=t.as||_v,o=u[0],s=u[1],l=t.field||g,c="center"===t.offset?bv:"normalize"===t.offset?wv:Av;for(e=function(t,n,e,r){var i,a,u,o,s,l,c,f,h,d=[],p=function(t){return t(s)};if(null==n)d.push(t.slice());else for(i={},a=0,u=t.length;a<u;++a)s=t[a],l=n.map(p),(c=i[l])||(i[l]=c=[],d.push(c)),c.push(s);for(l=0,h=0,o=d.length;l<o;++l){for(c=d[l],a=0,f=0,u=c.length;a<u;++a)f+=Math.abs(r(c[a]));c.sum=f,f>h&&(h=f),e&&c.sort(e)}return d.max=h,d}(n.source,t.groupby,t.sort,l),r=0,i=e.length,a=e.max;r<i;++r)c(e[r],a,l,o,s);return n.reflow(t.modified()).modifies(u)};var kv=Object.freeze({axisticks:$g,datajoin:Ig,encode:Yg,legendentries:tv,linkpath:uv,pie:cv,scale:pv,sortitems:yv,stack:xv,validTicks:qg});function Mv(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}!function(t){var n;1===t.length&&(n=t,t=function(t,e){return Mv(n(t),e)})}(Mv);function Ev(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=0|Math.max(0,Math.ceil((n-t)/e)),a=new Array(i);++r<i;)a[r]=t+r*e;return a}var Cv=Math.sqrt(50),Dv=Math.sqrt(10),Fv=Math.sqrt(2);function Sv(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=Cv?i*=10:a>=Dv?i*=5:a>=Fv&&(i*=2),n<t?-i:i}function Bv(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}var Ov=Array.prototype.slice;function zv(t,n){return t-n}function Nv(t){return function(){return t}}function Tv(t,n){for(var e,r=-1,i=n.length;++r<i;)if(e=Rv(t,n[r]))return e;return 0}function Rv(t,n){for(var e=n[0],r=n[1],i=-1,a=0,u=t.length,o=u-1;a<u;o=a++){var s=t[a],l=s[0],c=s[1],f=t[o],h=f[0],d=f[1];if(Pv(s,f,n))return 0;c>r!=d>r&&e<(h-l)*(r-c)/(d-c)+l&&(i=-i)}return i}function Pv(t,n,e){var r,i,a,u;return function(t,n,e){return(n[0]-t[0])*(e[1]-t[1])==(e[0]-t[0])*(n[1]-t[1])}(t,n,e)&&(i=t[r=+(t[0]===n[0])],a=e[r],u=n[r],i<=a&&a<=u||u<=a&&a<=i)}function Lv(){}var qv=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function Uv(){var t=1,n=1,e=Bv,r=o;function i(t){var n=e(t);if(Array.isArray(n))n=n.slice().sort(zv);else{var r=function(t,n){var e,r,i,a=t.length,u=-1;if(null==n){for(;++u<a;)if(null!=(e=t[u])&&e>=e)for(r=i=e;++u<a;)null!=(e=t[u])&&(r>e&&(r=e),i<e&&(i=e))}else for(;++u<a;)if(null!=(e=n(t[u],u,t))&&e>=e)for(r=i=e;++u<a;)null!=(e=n(t[u],u,t))&&(r>e&&(r=e),i<e&&(i=e));return[r,i]}(t),i=r[0],u=r[1];n=Sv(i,u,n),n=Ev(Math.floor(i/n)*n,Math.floor(u/n)*n,n)}return n.map(function(n){return a(t,n)})}function a(e,i){var a=[],o=[];return function(e,r,i){var a,o,s,l,c,f,h=new Array,d=new Array;a=o=-1,l=e[0]>=r,qv[l<<1].forEach(p);for(;++a<t-1;)s=l,l=e[a+1]>=r,qv[s|l<<1].forEach(p);qv[l<<0].forEach(p);for(;++o<n-1;){for(a=-1,l=e[o*t+t]>=r,c=e[o*t]>=r,qv[l<<1|c<<2].forEach(p);++a<t-1;)s=l,l=e[o*t+t+a+1]>=r,f=c,c=e[o*t+a+1]>=r,qv[s|l<<1|c<<2|f<<3].forEach(p);qv[l|c<<3].forEach(p)}a=-1,c=e[o*t]>=r,qv[c<<2].forEach(p);for(;++a<t-1;)f=c,c=e[o*t+a+1]>=r,qv[c<<2|f<<3].forEach(p);function p(t){var n,e,r=[t[0][0]+a,t[0][1]+o],s=[t[1][0]+a,t[1][1]+o],l=u(r),c=u(s);(n=d[l])?(e=h[c])?(delete d[n.end],delete h[e.start],n===e?(n.ring.push(s),i(n.ring)):h[n.start]=d[e.end]={start:n.start,end:e.end,ring:n.ring.concat(e.ring)}):(delete d[n.end],n.ring.push(s),d[n.end=c]=n):(n=h[c])?(e=d[l])?(delete h[n.start],delete d[e.end],n===e?(n.ring.push(s),i(n.ring)):h[e.start]=d[n.end]={start:e.start,end:n.end,ring:e.ring.concat(n.ring)}):(delete h[n.start],n.ring.unshift(r),h[n.start=l]=n):h[l]=d[c]={start:l,end:c,ring:[r,s]}}qv[c<<3].forEach(p)}(e,i,function(t){r(t,e,i),function(t){for(var n=0,e=t.length,r=t[e-1][1]*t[0][0]-t[e-1][0]*t[0][1];++n<e;)r+=t[n-1][1]*t[n][0]-t[n-1][0]*t[n][1];return r}(t)>0?a.push([t]):o.push(t)}),o.forEach(function(t){for(var n,e=0,r=a.length;e<r;++e)if(-1!==Tv((n=a[e])[0],t))return void n.push(t)}),{type:"MultiPolygon",value:i,coordinates:a}}function u(n){return 2*n[0]+n[1]*(t+1)*4}function o(e,r,i){e.forEach(function(e){var a,u=e[0],o=e[1],s=0|u,l=0|o,c=r[l*t+s];u>0&&u<t&&s===u&&(a=r[l*t+s-1],e[0]=u+(i-a)/(c-a)-.5),o>0&&o<n&&l===o&&(a=r[(l-1)*t+s],e[1]=o+(i-a)/(c-a)-.5)})}return i.contour=a,i.size=function(e){if(!arguments.length)return[t,n];var r=Math.ceil(e[0]),a=Math.ceil(e[1]);if(!(r>0&&a>0))throw new Error("invalid size");return t=r,n=a,i},i.thresholds=function(t){return arguments.length?(e="function"==typeof t?t:Array.isArray(t)?Nv(Ov.call(t)):Nv(t),i):e},i.smooth=function(t){return arguments.length?(r=t?o:Lv,i):r===o},i}function jv(t,n,e){for(var r=t.width,i=t.height,a=1+(e<<1),u=0;u<i;++u)for(var o=0,s=0;o<r+e;++o)o<r&&(s+=t.data[o+u*r]),o>=e&&(o>=a&&(s-=t.data[o-a+u*r]),n.data[o-e+u*r]=s/Math.min(o+1,r-1+a-o,a))}function $v(t,n,e){for(var r=t.width,i=t.height,a=1+(e<<1),u=0;u<r;++u)for(var o=0,s=0;o<i+e;++o)o<i&&(s+=t.data[u+o*r]),o>=e&&(o>=a&&(s-=t.data[u+(o-a)*r]),n.data[u+(o-e)*r]=s/Math.min(o+1,i-1+a-o,a))}function Iv(t){return t[0]}function Wv(t){return t[1]}function Hv(){return 1}var Yv=["size","smooth"],Vv=["x","y","weight","size","cellSize","bandwidth"];function Gv(t){jr.call(this,null,t)}Gv.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"smooth",type:"boolean"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0}]},et(Gv,jr).transform=function(t,n){if(this.value&&!n.changed()&&!t.modified())return n.StopPropagation;var e,r,i,a,u=n.fork(n.NO_SOURCE|n.NO_FIELDS),o=t.count||10;return t.values?(e=Uv(),r=Yv,i=t.values):(e=function(){var t=Iv,n=Wv,e=Hv,r=960,i=500,a=20,u=2,o=3*a,s=r+2*o>>u,l=i+2*o>>u,c=Nv(20);function f(r){var i=new Float32Array(s*l),f=new Float32Array(s*l);r.forEach(function(r,a,c){var f=+t(r,a,c)+o>>u,h=+n(r,a,c)+o>>u,d=+e(r,a,c);f>=0&&f<s&&h>=0&&h<l&&(i[f+h*s]+=d)}),jv({width:s,height:l,data:i},{width:s,height:l,data:f},a>>u),$v({width:s,height:l,data:f},{width:s,height:l,data:i},a>>u),jv({width:s,height:l,data:i},{width:s,height:l,data:f},a>>u),$v({width:s,height:l,data:f},{width:s,height:l,data:i},a>>u),jv({width:s,height:l,data:i},{width:s,height:l,data:f},a>>u),$v({width:s,height:l,data:f},{width:s,height:l,data:i},a>>u);var d=c(i);if(!Array.isArray(d)){var p=function(t,n){var e,r,i=t.length,a=-1;if(null==n){for(;++a<i;)if(null!=(e=t[a])&&e>=e)for(r=e;++a<i;)null!=(e=t[a])&&e>r&&(r=e)}else for(;++a<i;)if(null!=(e=n(t[a],a,t))&&e>=e)for(r=e;++a<i;)null!=(e=n(t[a],a,t))&&e>r&&(r=e);return r}(i);d=Sv(0,p,d),(d=Ev(0,Math.floor(p/d)*d,d)).shift()}return Uv().thresholds(d).size([s,l])(i).map(h)}function h(t){return t.value*=Math.pow(2,-2*u),t.coordinates.forEach(d),t}function d(t){t.forEach(p)}function p(t){t.forEach(g)}function g(t){t[0]=t[0]*Math.pow(2,u)-o,t[1]=t[1]*Math.pow(2,u)-o}function v(){return s=r+2*(o=3*a)>>u,l=i+2*o>>u,f}return f.x=function(n){return arguments.length?(t="function"==typeof n?n:Nv(+n),f):t},f.y=function(t){return arguments.length?(n="function"==typeof t?t:Nv(+t),f):n},f.weight=function(t){return arguments.length?(e="function"==typeof t?t:Nv(+t),f):e},f.size=function(t){if(!arguments.length)return[r,i];var n=Math.ceil(t[0]),e=Math.ceil(t[1]);if(!(n>=0||n>=0))throw new Error("invalid size");return r=n,i=e,v()},f.cellSize=function(t){if(!arguments.length)return 1<<u;if(!((t=+t)>=1))throw new Error("invalid cell size");return u=Math.floor(Math.log(t)/Math.LN2),v()},f.thresholds=function(t){return arguments.length?(c="function"==typeof t?t:Array.isArray(t)?Nv(Ov.call(t)):Nv(t),f):c},f.bandwidth=function(t){if(!arguments.length)return Math.sqrt(a*(a+1));if(!((t=+t)>=0))throw new Error("invalid bandwidth");return a=Math.round((Math.sqrt(4*t*t+1)-1)/2),v()},f}(),r=Vv,i=n.materialize(n.SOURCE).source),e.thresholds(t.thresholds||(t.nice?o:(a=o,function(t){for(var n=si(t),e=n[0],r=n[1]-e,i=[],u=1;u<=a;++u)i.push(e+r*u/(a+1));return i}))),r.forEach(function(n){null!=t[n]&&e[n](t[n])}),this.value&&(u.rem=this.value),i=i&&i.length?e(i).map(Dt):[],this.value=u.source=u.add=i,u};var Xv="FeatureCollection";function Zv(t){jr.call(this,null,t)}function Jv(){return new Qv}function Qv(){this.reset()}Zv.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]},et(Zv,jr).transform=function(t,n){var e,i=this._features,a=this._points,u=t.fields,o=u&&u[0],s=u&&u[1],l=t.geojson,c=n.ADD;e=t.modified()||n.changed(n.REM)||n.modified(r(l))||o&&n.modified(r(o))||s&&n.modified(r(s)),this.value&&!e||(c=n.SOURCE,this._features=i=[],this._points=a=[]),l&&n.visit(c,function(t){i.push(l(t))}),o&&s&&(n.visit(c,function(t){var n=o(t),e=s(t);null!=n&&null!=e&&(n=+n)===n&&(e=+e)===e&&a.push([n,e])}),i=i.concat({type:"Feature",geometry:{type:"MultiPoint",coordinates:a}})),this.value={type:Xv,features:i}},Qv.prototype={constructor:Qv,reset:function(){this.s=this.t=0},add:function(t){tm(Kv,t,this.t),tm(this,Kv.s,this.s),this.s?this.t+=Kv.t:this.s=Kv.t},valueOf:function(){return this.s}};var Kv=new Qv;function tm(t,n,e){var r=t.s=n+e,i=r-n,a=r-i;t.t=n-a+(e-i)}var nm=1e-6,em=1e-12,rm=Math.PI,im=rm/2,am=rm/4,um=2*rm,om=180/rm,sm=rm/180,lm=Math.abs,cm=Math.atan,fm=Math.atan2,hm=Math.cos,dm=Math.ceil,pm=Math.exp,gm=Math.log,vm=Math.pow,mm=Math.sin,ym=Math.sign||function(t){return t>0?1:t<0?-1:0},_m=Math.sqrt,xm=Math.tan;function bm(t){return t>1?0:t<-1?rm:Math.acos(t)}function wm(t){return t>1?im:t<-1?-im:Math.asin(t)}function Am(){}function km(t,n){t&&Em.hasOwnProperty(t.type)&&Em[t.type](t,n)}var Mm={Feature:function(t,n){km(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)km(e[r].geometry,n)}},Em={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){Cm(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Cm(e[r],n,0)},Polygon:function(t,n){Dm(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Dm(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)km(e[r],n)}};function Cm(t,n,e){var r,i=-1,a=t.length-e;for(n.lineStart();++i<a;)r=t[i],n.point(r[0],r[1],r[2]);n.lineEnd()}function Dm(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)Cm(t[e],n,1);n.polygonEnd()}function Fm(t,n){t&&Mm.hasOwnProperty(t.type)?Mm[t.type](t,n):km(t,n)}var Sm,Bm,Om,zm,Nm,Tm=Jv(),Rm=Jv(),Pm={point:Am,lineStart:Am,lineEnd:Am,polygonStart:function(){Tm.reset(),Pm.lineStart=Lm,Pm.lineEnd=qm},polygonEnd:function(){var t=+Tm;Rm.add(t<0?um+t:t),this.lineStart=this.lineEnd=this.point=Am},sphere:function(){Rm.add(um)}};function Lm(){Pm.point=Um}function qm(){jm(Sm,Bm)}function Um(t,n){Pm.point=jm,Sm=t,Bm=n,Om=t*=sm,zm=hm(n=(n*=sm)/2+am),Nm=mm(n)}function jm(t,n){var e=(t*=sm)-Om,r=e>=0?1:-1,i=r*e,a=hm(n=(n*=sm)/2+am),u=mm(n),o=Nm*u,s=zm*a+o*hm(i),l=o*r*mm(i);Tm.add(fm(l,s)),Om=t,zm=a,Nm=u}function $m(t){return[fm(t[1],t[0]),wm(t[2])]}function Im(t){var n=t[0],e=t[1],r=hm(e);return[r*hm(n),r*mm(n),mm(e)]}function Wm(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function Hm(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function Ym(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function Vm(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function Gm(t){var n=_m(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}var Xm,Zm,Jm,Qm,Km,ty,ny,ey,ry,iy,ay,uy,oy,sy,ly,cy,fy,hy,dy,py,gy,vy,my,yy,_y,xy,by=Jv(),wy={point:Ay,lineStart:My,lineEnd:Ey,polygonStart:function(){wy.point=Cy,wy.lineStart=Dy,wy.lineEnd=Fy,by.reset(),Pm.polygonStart()},polygonEnd:function(){Pm.polygonEnd(),wy.point=Ay,wy.lineStart=My,wy.lineEnd=Ey,Tm<0?(Xm=-(Jm=180),Zm=-(Qm=90)):by>nm?Qm=90:by<-nm&&(Zm=-90),iy[0]=Xm,iy[1]=Jm}};function Ay(t,n){ry.push(iy=[Xm=t,Jm=t]),n<Zm&&(Zm=n),n>Qm&&(Qm=n)}function ky(t,n){var e=Im([t*sm,n*sm]);if(ey){var r=Hm(ey,e),i=Hm([r[1],-r[0],0],r);Gm(i),i=$m(i);var a,u=t-Km,o=u>0?1:-1,s=i[0]*om*o,l=lm(u)>180;l^(o*Km<s&&s<o*t)?(a=i[1]*om)>Qm&&(Qm=a):l^(o*Km<(s=(s+360)%360-180)&&s<o*t)?(a=-i[1]*om)<Zm&&(Zm=a):(n<Zm&&(Zm=n),n>Qm&&(Qm=n)),l?t<Km?Sy(Xm,t)>Sy(Xm,Jm)&&(Jm=t):Sy(t,Jm)>Sy(Xm,Jm)&&(Xm=t):Jm>=Xm?(t<Xm&&(Xm=t),t>Jm&&(Jm=t)):t>Km?Sy(Xm,t)>Sy(Xm,Jm)&&(Jm=t):Sy(t,Jm)>Sy(Xm,Jm)&&(Xm=t)}else ry.push(iy=[Xm=t,Jm=t]);n<Zm&&(Zm=n),n>Qm&&(Qm=n),ey=e,Km=t}function My(){wy.point=ky}function Ey(){iy[0]=Xm,iy[1]=Jm,wy.point=Ay,ey=null}function Cy(t,n){if(ey){var e=t-Km;by.add(lm(e)>180?e+(e>0?360:-360):e)}else ty=t,ny=n;Pm.point(t,n),ky(t,n)}function Dy(){Pm.lineStart()}function Fy(){Cy(ty,ny),Pm.lineEnd(),lm(by)>nm&&(Xm=-(Jm=180)),iy[0]=Xm,iy[1]=Jm,ey=null}function Sy(t,n){return(n-=t)<0?n+360:n}function By(t,n){return t[0]-n[0]}function Oy(t,n){return t[0]<=t[1]?t[0]<=n&&n<=t[1]:n<t[0]||t[1]<n}var zy={sphere:Am,point:Ny,lineStart:Ry,lineEnd:qy,polygonStart:function(){zy.lineStart=Uy,zy.lineEnd=jy},polygonEnd:function(){zy.lineStart=Ry,zy.lineEnd=qy}};function Ny(t,n){t*=sm;var e=hm(n*=sm);Ty(e*hm(t),e*mm(t),mm(n))}function Ty(t,n,e){oy+=(t-oy)/++ay,sy+=(n-sy)/ay,ly+=(e-ly)/ay}function Ry(){zy.point=Py}function Py(t,n){t*=sm;var e=hm(n*=sm);yy=e*hm(t),_y=e*mm(t),xy=mm(n),zy.point=Ly,Ty(yy,_y,xy)}function Ly(t,n){t*=sm;var e=hm(n*=sm),r=e*hm(t),i=e*mm(t),a=mm(n),u=fm(_m((u=_y*a-xy*i)*u+(u=xy*r-yy*a)*u+(u=yy*i-_y*r)*u),yy*r+_y*i+xy*a);uy+=u,cy+=u*(yy+(yy=r)),fy+=u*(_y+(_y=i)),hy+=u*(xy+(xy=a)),Ty(yy,_y,xy)}function qy(){zy.point=Ny}function Uy(){zy.point=$y}function jy(){Iy(vy,my),zy.point=Ny}function $y(t,n){vy=t,my=n,t*=sm,n*=sm,zy.point=Iy;var e=hm(n);yy=e*hm(t),_y=e*mm(t),xy=mm(n),Ty(yy,_y,xy)}function Iy(t,n){t*=sm;var e=hm(n*=sm),r=e*hm(t),i=e*mm(t),a=mm(n),u=_y*a-xy*i,o=xy*r-yy*a,s=yy*i-_y*r,l=_m(u*u+o*o+s*s),c=wm(l),f=l&&-c/l;dy+=f*u,py+=f*o,gy+=f*s,uy+=c,cy+=c*(yy+(yy=r)),fy+=c*(_y+(_y=i)),hy+=c*(xy+(xy=a)),Ty(yy,_y,xy)}function Wy(t,n){function e(e,r){return e=t(e,r),n(e[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,r){return(e=n.invert(e,r))&&t.invert(e[0],e[1])}),e}function Hy(t,n){return[lm(t)>rm?t+Math.round(-t/um)*um:t,n]}function Yy(t,n,e){return(t%=um)?n||e?Wy(Gy(t),Xy(n,e)):Gy(t):n||e?Xy(n,e):Hy}function Vy(t){return function(n,e){return[(n+=t)>rm?n-um:n<-rm?n+um:n,e]}}function Gy(t){var n=Vy(t);return n.invert=Vy(-t),n}function Xy(t,n){var e=hm(t),r=mm(t),i=hm(n),a=mm(n);function u(t,n){var u=hm(n),o=hm(t)*u,s=mm(t)*u,l=mm(n),c=l*e+o*r;return[fm(s*i-c*a,o*e-l*r),wm(c*i+s*a)]}return u.invert=function(t,n){var u=hm(n),o=hm(t)*u,s=mm(t)*u,l=mm(n),c=l*i-s*a;return[fm(s*i+l*a,o*e+c*r),wm(c*e-o*r)]},u}function Zy(t,n){(n=Im(n))[0]-=t,Gm(n);var e=bm(-n[1]);return((-n[2]<0?-e:e)+um-nm)%um}function Jy(){var t,n=[];return{point:function(n,e){t.push([n,e])},lineStart:function(){n.push(t=[])},lineEnd:Am,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}}function Qy(t,n){return lm(t[0]-n[0])<nm&&lm(t[1]-n[1])<nm}function Ky(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function t_(t,n,e,r,i){var a,u,o=[],s=[];if(t.forEach(function(t){if(!((n=t.length-1)<=0)){var n,e,r=t[0],u=t[n];if(Qy(r,u)){for(i.lineStart(),a=0;a<n;++a)i.point((r=t[a])[0],r[1]);i.lineEnd()}else o.push(e=new Ky(r,t,null,!0)),s.push(e.o=new Ky(r,null,e,!1)),o.push(e=new Ky(u,t,null,!1)),s.push(e.o=new Ky(u,null,e,!0))}}),o.length){for(s.sort(n),n_(o),n_(s),a=0,u=s.length;a<u;++a)s[a].e=e=!e;for(var l,c,f=o[0];;){for(var h=f,d=!0;h.v;)if((h=h.n)===f)return;l=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(a=0,u=l.length;a<u;++a)i.point((c=l[a])[0],c[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(d)for(l=h.p.z,a=l.length-1;a>=0;--a)i.point((c=l[a])[0],c[1]);else r(h.x,h.p.x,-1,i);h=h.p}l=(h=h.o).z,d=!d}while(!h.v);i.lineEnd()}}}function n_(t){if(n=t.length){for(var n,e,r=0,i=t[0];++r<n;)i.n=e=t[r],e.p=i,i=e;i.n=e=t[0],e.p=i}}Hy.invert=Hy;var e_=Jv();function r_(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}!function(t){var n;1===t.length&&(n=t,t=function(t,e){return r_(n(t),e)})}(r_);function i_(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=0|Math.max(0,Math.ceil((n-t)/e)),a=new Array(i);++r<i;)a[r]=t+r*e;return a}function a_(t){for(var n,e,r,i=t.length,a=-1,u=0;++a<i;)u+=t[a].length;for(e=new Array(u);--i>=0;)for(n=(r=t[i]).length;--n>=0;)e[--u]=r[n];return e}function u_(t,n,e,r){return function(i){var a,u,o,s=n(i),l=Jy(),c=n(l),f=!1,h={point:d,lineStart:g,lineEnd:v,polygonStart:function(){h.point=m,h.lineStart=y,h.lineEnd=_,u=[],a=[]},polygonEnd:function(){h.point=d,h.lineStart=g,h.lineEnd=v,u=a_(u);var t=function(t,n){var e=n[0],r=n[1],i=mm(r),a=[mm(e),-hm(e),0],u=0,o=0;e_.reset(),1===i?r=im+nm:-1===i&&(r=-im-nm);for(var s=0,l=t.length;s<l;++s)if(f=(c=t[s]).length)for(var c,f,h=c[f-1],d=h[0],p=h[1]/2+am,g=mm(p),v=hm(p),m=0;m<f;++m,d=_,g=b,v=w,h=y){var y=c[m],_=y[0],x=y[1]/2+am,b=mm(x),w=hm(x),A=_-d,k=A>=0?1:-1,M=k*A,E=M>rm,C=g*b;if(e_.add(fm(C*k*mm(M),v*w+C*hm(M))),u+=E?A+k*um:A,E^d>=e^_>=e){var D=Hm(Im(h),Im(y));Gm(D);var F=Hm(a,D);Gm(F);var S=(E^A>=0?-1:1)*wm(F[2]);(r>S||r===S&&(D[0]||D[1]))&&(o+=E^A>=0?1:-1)}}return(u<-nm||u<nm&&e_<-nm)^1&o}(a,r);u.length?(f||(i.polygonStart(),f=!0),t_(u,s_,t,e,i)):t&&(f||(i.polygonStart(),f=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),f&&(i.polygonEnd(),f=!1),u=a=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(n,e){t(n,e)&&i.point(n,e)}function p(t,n){s.point(t,n)}function g(){h.point=p,s.lineStart()}function v(){h.point=d,s.lineEnd()}function m(t,n){o.push([t,n]),c.point(t,n)}function y(){c.lineStart(),o=[]}function _(){m(o[0][0],o[0][1]),c.lineEnd();var t,n,e,r,s=c.clean(),h=l.result(),d=h.length;if(o.pop(),a.push(o),o=null,d)if(1&s){if((n=(e=h[0]).length-1)>0){for(f||(i.polygonStart(),f=!0),i.lineStart(),t=0;t<n;++t)i.point((r=e[t])[0],r[1]);i.lineEnd()}}else d>1&&2&s&&h.push(h.pop().concat(h.shift())),u.push(h.filter(o_))}return h}}function o_(t){return t.length>1}function s_(t,n){return((t=t.x)[0]<0?t[1]-im-nm:im-t[1])-((n=n.x)[0]<0?n[1]-im-nm:im-n[1])}var l_=u_(function(){return!0},function(t){var n,e=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(a,u){var o=a>0?rm:-rm,s=lm(a-e);lm(s-rm)<nm?(t.point(e,r=(r+u)/2>0?im:-im),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(o,r),t.point(a,r),n=0):i!==o&&s>=rm&&(lm(e-i)<nm&&(e-=i*nm),lm(a-o)<nm&&(a-=o*nm),r=function(t,n,e,r){var i,a,u=mm(t-e);return lm(u)>nm?cm((mm(n)*(a=hm(r))*mm(e)-mm(r)*(i=hm(n))*mm(t))/(i*a*u)):(n+r)/2}(e,r,a,u),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(o,r),n=0),t.point(e=a,r=u),i=o},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-n}}},function(t,n,e,r){var i;if(null==t)i=e*im,r.point(-rm,i),r.point(0,i),r.point(rm,i),r.point(rm,0),r.point(rm,-i),r.point(0,-i),r.point(-rm,-i),r.point(-rm,0),r.point(-rm,i);else if(lm(t[0]-n[0])>nm){var a=t[0]<n[0]?rm:-rm;i=e*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(n[0],n[1])},[-rm,-im]);function c_(t){var n=hm(t),e=6*sm,r=n>0,i=lm(n)>nm;function a(t,e){return hm(t)*hm(e)>n}function u(t,e,r){var i=[1,0,0],a=Hm(Im(t),Im(e)),u=Wm(a,a),o=a[0],s=u-o*o;if(!s)return!r&&t;var l=n*u/s,c=-n*o/s,f=Hm(i,a),h=Vm(i,l);Ym(h,Vm(a,c));var d=f,p=Wm(h,d),g=Wm(d,d),v=p*p-g*(Wm(h,h)-1);if(!(v<0)){var m=_m(v),y=Vm(d,(-p-m)/g);if(Ym(y,h),y=$m(y),!r)return y;var _,x=t[0],b=e[0],w=t[1],A=e[1];b<x&&(_=x,x=b,b=_);var k=b-x,M=lm(k-rm)<nm;if(!M&&A<w&&(_=w,w=A,A=_),M||k<nm?M?w+A>0^y[1]<(lm(y[0]-x)<nm?w:A):w<=y[1]&&y[1]<=A:k>rm^(x<=y[0]&&y[0]<=b)){var E=Vm(d,(-p+m)/g);return Ym(E,h),[y,$m(E)]}}}function o(n,e){var i=r?t:rm-t,a=0;return n<-i?a|=1:n>i&&(a|=2),e<-i?a|=4:e>i&&(a|=8),a}return u_(a,function(t){var n,e,s,l,c;return{lineStart:function(){l=s=!1,c=1},point:function(f,h){var d,p=[f,h],g=a(f,h),v=r?g?0:o(f,h):g?o(f+(f<0?rm:-rm),h):0;if(!n&&(l=s=g)&&t.lineStart(),g!==s&&(!(d=u(n,p))||Qy(n,d)||Qy(p,d))&&(p[0]+=nm,p[1]+=nm,g=a(p[0],p[1])),g!==s)c=0,g?(t.lineStart(),d=u(p,n),t.point(d[0],d[1])):(d=u(n,p),t.point(d[0],d[1]),t.lineEnd()),n=d;else if(i&&n&&r^g){var m;v&e||!(m=u(p,n,!0))||(c=0,r?(t.lineStart(),t.point(m[0][0],m[0][1]),t.point(m[1][0],m[1][1]),t.lineEnd()):(t.point(m[1][0],m[1][1]),t.lineEnd(),t.lineStart(),t.point(m[0][0],m[0][1])))}!g||n&&Qy(n,p)||t.point(p[0],p[1]),n=p,s=g,e=v},lineEnd:function(){s&&t.lineEnd(),n=null},clean:function(){return c|(l&&s)<<1}}},function(n,r,i,a){!function(t,n,e,r,i,a){if(e){var u=hm(n),o=mm(n),s=r*e;null==i?(i=n+r*um,a=n-s/2):(i=Zy(u,i),a=Zy(u,a),(r>0?i<a:i>a)&&(i+=r*um));for(var l,c=i;r>0?c>a:c<a;c-=s)l=$m([u,-o*hm(c),-o*mm(c)]),t.point(l[0],l[1])}}(a,t,e,i,n,r)},r?[0,-t]:[-rm,t-rm])}var f_=1e9,h_=-f_;function d_(t,n,e,r){function i(i,a){return t<=i&&i<=e&&n<=a&&a<=r}function a(i,a,o,l){var c=0,f=0;if(null==i||(c=u(i,o))!==(f=u(a,o))||s(i,a)<0^o>0)do{l.point(0===c||3===c?t:e,c>1?r:n)}while((c=(c+o+4)%4)!==f);else l.point(a[0],a[1])}function u(r,i){return lm(r[0]-t)<nm?i>0?0:3:lm(r[0]-e)<nm?i>0?2:1:lm(r[1]-n)<nm?i>0?1:0:i>0?3:2}function o(t,n){return s(t.x,n.x)}function s(t,n){var e=u(t,1),r=u(n,1);return e!==r?e-r:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(u){var s,l,c,f,h,d,p,g,v,m,y,_=u,x=Jy(),b={point:w,lineStart:function(){b.point=A,l&&l.push(c=[]);m=!0,v=!1,p=g=NaN},lineEnd:function(){s&&(A(f,h),d&&v&&x.rejoin(),s.push(x.result()));b.point=w,v&&_.lineEnd()},polygonStart:function(){_=x,s=[],l=[],y=!0},polygonEnd:function(){var n=function(){for(var n=0,e=0,i=l.length;e<i;++e)for(var a,u,o=l[e],s=1,c=o.length,f=o[0],h=f[0],d=f[1];s<c;++s)a=h,u=d,f=o[s],h=f[0],d=f[1],u<=r?d>r&&(h-a)*(r-u)>(d-u)*(t-a)&&++n:d<=r&&(h-a)*(r-u)<(d-u)*(t-a)&&--n;return n}(),e=y&&n,i=(s=a_(s)).length;(e||i)&&(u.polygonStart(),e&&(u.lineStart(),a(null,null,1,u),u.lineEnd()),i&&t_(s,o,n,a,u),u.polygonEnd());_=u,s=l=c=null}};function w(t,n){i(t,n)&&_.point(t,n)}function A(a,u){var o=i(a,u);if(l&&c.push([a,u]),m)f=a,h=u,d=o,m=!1,o&&(_.lineStart(),_.point(a,u));else if(o&&v)_.point(a,u);else{var s=[p=Math.max(h_,Math.min(f_,p)),g=Math.max(h_,Math.min(f_,g))],x=[a=Math.max(h_,Math.min(f_,a)),u=Math.max(h_,Math.min(f_,u))];!function(t,n,e,r,i,a){var u,o=t[0],s=t[1],l=0,c=1,f=n[0]-o,h=n[1]-s;if(u=e-o,f||!(u>0)){if(u/=f,f<0){if(u<l)return;u<c&&(c=u)}else if(f>0){if(u>c)return;u>l&&(l=u)}if(u=i-o,f||!(u<0)){if(u/=f,f<0){if(u>c)return;u>l&&(l=u)}else if(f>0){if(u<l)return;u<c&&(c=u)}if(u=r-s,h||!(u>0)){if(u/=h,h<0){if(u<l)return;u<c&&(c=u)}else if(h>0){if(u>c)return;u>l&&(l=u)}if(u=a-s,h||!(u<0)){if(u/=h,h<0){if(u>c)return;u>l&&(l=u)}else if(h>0){if(u<l)return;u<c&&(c=u)}return l>0&&(t[0]=o+l*f,t[1]=s+l*h),c<1&&(n[0]=o+c*f,n[1]=s+c*h),!0}}}}}(s,x,t,n,e,r)?o&&(_.lineStart(),_.point(a,u),y=!1):(v||(_.lineStart(),_.point(s[0],s[1])),_.point(x[0],x[1]),o||_.lineEnd(),y=!1)}p=a,g=u,v=o}return b}}Jv();function p_(t,n,e){var r=i_(t,n-nm,e).concat(n);return function(t){return r.map(function(n){return[t,n]})}}function g_(t,n,e){var r=i_(t,n-nm,e).concat(n);return function(t){return r.map(function(n){return[n,t]})}}function v_(t){return t}var m_,y_,__,x_,b_=Jv(),w_=Jv(),A_={point:Am,lineStart:Am,lineEnd:Am,polygonStart:function(){A_.lineStart=k_,A_.lineEnd=C_},polygonEnd:function(){A_.lineStart=A_.lineEnd=A_.point=Am,b_.add(lm(w_)),w_.reset()},result:function(){var t=b_/2;return b_.reset(),t}};function k_(){A_.point=M_}function M_(t,n){A_.point=E_,m_=__=t,y_=x_=n}function E_(t,n){w_.add(x_*t-__*n),__=t,x_=n}function C_(){E_(m_,y_)}var D_=1/0,F_=D_,S_=-D_,B_=S_,O_={point:function(t,n){t<D_&&(D_=t);t>S_&&(S_=t);n<F_&&(F_=n);n>B_&&(B_=n)},lineStart:Am,lineEnd:Am,polygonStart:Am,polygonEnd:Am,result:function(){var t=[[D_,F_],[S_,B_]];return S_=B_=-(F_=D_=1/0),t}};var z_,N_,T_,R_,P_=0,L_=0,q_=0,U_=0,j_=0,$_=0,I_=0,W_=0,H_=0,Y_={point:V_,lineStart:G_,lineEnd:J_,polygonStart:function(){Y_.lineStart=Q_,Y_.lineEnd=K_},polygonEnd:function(){Y_.point=V_,Y_.lineStart=G_,Y_.lineEnd=J_},result:function(){var t=H_?[I_/H_,W_/H_]:$_?[U_/$_,j_/$_]:q_?[P_/q_,L_/q_]:[NaN,NaN];return P_=L_=q_=U_=j_=$_=I_=W_=H_=0,t}};function V_(t,n){P_+=t,L_+=n,++q_}function G_(){Y_.point=X_}function X_(t,n){Y_.point=Z_,V_(T_=t,R_=n)}function Z_(t,n){var e=t-T_,r=n-R_,i=_m(e*e+r*r);U_+=i*(T_+t)/2,j_+=i*(R_+n)/2,$_+=i,V_(T_=t,R_=n)}function J_(){Y_.point=V_}function Q_(){Y_.point=tx}function K_(){nx(z_,N_)}function tx(t,n){Y_.point=nx,V_(z_=T_=t,N_=R_=n)}function nx(t,n){var e=t-T_,r=n-R_,i=_m(e*e+r*r);U_+=i*(T_+t)/2,j_+=i*(R_+n)/2,$_+=i,I_+=(i=R_*t-T_*n)*(T_+t),W_+=i*(R_+n),H_+=3*i,V_(T_=t,R_=n)}function ex(t){this._context=t}ex.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._context.moveTo(t,n),this._point=1;break;case 1:this._context.lineTo(t,n);break;default:this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,um)}},result:Am};var rx,ix,ax,ux,ox,sx=Jv(),lx={point:Am,lineStart:function(){lx.point=cx},lineEnd:function(){rx&&fx(ix,ax),lx.point=Am},polygonStart:function(){rx=!0},polygonEnd:function(){rx=null},result:function(){var t=+sx;return sx.reset(),t}};function cx(t,n){lx.point=fx,ix=ux=t,ax=ox=n}function fx(t,n){ux-=t,ox-=n,sx.add(_m(ux*ux+ox*ox)),ux=t,ox=n}function hx(){this._string=[]}function dx(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function px(t,n){var e,r,i=4.5;function a(t){return t&&("function"==typeof i&&r.pointRadius(+i.apply(this,arguments)),Fm(t,e(r))),r.result()}return a.area=function(t){return Fm(t,e(A_)),A_.result()},a.measure=function(t){return Fm(t,e(lx)),lx.result()},a.bounds=function(t){return Fm(t,e(O_)),O_.result()},a.centroid=function(t){return Fm(t,e(Y_)),Y_.result()},a.projection=function(n){return arguments.length?(e=null==n?(t=null,v_):(t=n).stream,a):t},a.context=function(t){return arguments.length?(r=null==t?(n=null,new hx):new ex(n=t),"function"!=typeof i&&r.pointRadius(i),a):n},a.pointRadius=function(t){return arguments.length?(i="function"==typeof t?t:(r.pointRadius(+t),+t),a):i},a.projection(t).context(n)}function gx(t){return function(n){var e=new vx;for(var r in t)e[r]=t[r];return e.stream=n,e}}function vx(){}function mx(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),Fm(e,t.stream(O_)),n(O_.result()),null!=r&&t.clipExtent(r),t}function yx(t,n,e){return mx(t,function(e){var r=n[1][0]-n[0][0],i=n[1][1]-n[0][1],a=Math.min(r/(e[1][0]-e[0][0]),i/(e[1][1]-e[0][1])),u=+n[0][0]+(r-a*(e[1][0]+e[0][0]))/2,o=+n[0][1]+(i-a*(e[1][1]+e[0][1]))/2;t.scale(150*a).translate([u,o])},e)}function _x(t,n,e){return yx(t,[[0,0],n],e)}function xx(t,n,e){return mx(t,function(e){var r=+n,i=r/(e[1][0]-e[0][0]),a=(r-i*(e[1][0]+e[0][0]))/2,u=-i*e[0][1];t.scale(150*i).translate([a,u])},e)}function bx(t,n,e){return mx(t,function(e){var r=+n,i=r/(e[1][1]-e[0][1]),a=-i*e[0][0],u=(r-i*(e[1][1]+e[0][1]))/2;t.scale(150*i).translate([a,u])},e)}hx.prototype={_radius:4.5,_circle:dx(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._string.push("M",t,",",n),this._point=1;break;case 1:this._string.push("L",t,",",n);break;default:null==this._circle&&(this._circle=dx(this._radius)),this._string.push("M",t,",",n,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}},vx.prototype={constructor:vx,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var wx=16,Ax=hm(30*sm);function kx(t,n){return+n?function(t,n){function e(r,i,a,u,o,s,l,c,f,h,d,p,g,v){var m=l-r,y=c-i,_=m*m+y*y;if(_>4*n&&g--){var x=u+h,b=o+d,w=s+p,A=_m(x*x+b*b+w*w),k=wm(w/=A),M=lm(lm(w)-1)<nm||lm(a-f)<nm?(a+f)/2:fm(b,x),E=t(M,k),C=E[0],D=E[1],F=C-r,S=D-i,B=y*F-m*S;(B*B/_>n||lm((m*F+y*S)/_-.5)>.3||u*h+o*d+s*p<Ax)&&(e(r,i,a,u,o,s,C,D,M,x/=A,b/=A,w,g,v),v.point(C,D),e(C,D,M,x,b,w,l,c,f,h,d,p,g,v))}}return function(n){var r,i,a,u,o,s,l,c,f,h,d,p,g={point:v,lineStart:m,lineEnd:_,polygonStart:function(){n.polygonStart(),g.lineStart=x},polygonEnd:function(){n.polygonEnd(),g.lineStart=m}};function v(e,r){e=t(e,r),n.point(e[0],e[1])}function m(){c=NaN,g.point=y,n.lineStart()}function y(r,i){var a=Im([r,i]),u=t(r,i);e(c,f,l,h,d,p,c=u[0],f=u[1],l=r,h=a[0],d=a[1],p=a[2],wx,n),n.point(c,f)}function _(){g.point=v,n.lineEnd()}function x(){m(),g.point=b,g.lineEnd=w}function b(t,n){y(r=t,n),i=c,a=f,u=h,o=d,s=p,g.point=y}function w(){e(c,f,l,h,d,p,i,a,r,u,o,s,wx,n),g.lineEnd=_,_()}return g}}(t,n):function(t){return gx({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}(t)}var Mx=gx({point:function(t,n){this.stream.point(t*sm,n*sm)}});function Ex(t,n,e,r){var i=hm(r),a=mm(r),u=i*t,o=a*t,s=i/t,l=a/t,c=(a*e-i*n)/t,f=(a*n+i*e)/t;function h(t,r){return[u*t-o*r+n,e-o*t-u*r]}return h.invert=function(t,n){return[s*t-l*n+c,f-l*t-s*n]},h}function Cx(t){return Dx(function(){return t})()}function Dx(t){var n,e,r,i,a,u,o,s,l,c,f=150,h=480,d=250,p=0,g=0,v=0,m=0,y=0,_=0,x=null,b=l_,w=null,A=v_,k=.5;function M(t){return s(t[0]*sm,t[1]*sm)}function E(t){return(t=s.invert(t[0],t[1]))&&[t[0]*om,t[1]*om]}function C(){var t=Ex(f,0,0,_).apply(null,n(p,g)),r=(_?Ex:function(t,n,e){function r(r,i){return[n+t*r,e-t*i]}return r.invert=function(r,i){return[(r-n)/t,(e-i)/t]},r})(f,h-t[0],d-t[1],_);return e=Yy(v,m,y),o=Wy(n,r),s=Wy(e,o),u=kx(o,k),D()}function D(){return l=c=null,M}return M.stream=function(t){return l&&c===t?l:l=Mx(function(t){return gx({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}(e)(b(u(A(c=t)))))},M.preclip=function(t){return arguments.length?(b=t,x=void 0,D()):b},M.postclip=function(t){return arguments.length?(A=t,w=r=i=a=null,D()):A},M.clipAngle=function(t){return arguments.length?(b=+t?c_(x=t*sm):(x=null,l_),D()):x*om},M.clipExtent=function(t){return arguments.length?(A=null==t?(w=r=i=a=null,v_):d_(w=+t[0][0],r=+t[0][1],i=+t[1][0],a=+t[1][1]),D()):null==w?null:[[w,r],[i,a]]},M.scale=function(t){return arguments.length?(f=+t,C()):f},M.translate=function(t){return arguments.length?(h=+t[0],d=+t[1],C()):[h,d]},M.center=function(t){return arguments.length?(p=t[0]%360*sm,g=t[1]%360*sm,C()):[p*om,g*om]},M.rotate=function(t){return arguments.length?(v=t[0]%360*sm,m=t[1]%360*sm,y=t.length>2?t[2]%360*sm:0,C()):[v*om,m*om,y*om]},M.angle=function(t){return arguments.length?(_=t%360*sm,C()):_*om},M.precision=function(t){return arguments.length?(u=kx(o,k=t*t),D()):_m(k)},M.fitExtent=function(t,n){return yx(M,t,n)},M.fitSize=function(t,n){return _x(M,t,n)},M.fitWidth=function(t,n){return xx(M,t,n)},M.fitHeight=function(t,n){return bx(M,t,n)},function(){return n=t.apply(this,arguments),M.invert=n.invert&&E,C()}}function Fx(t){var n=0,e=rm/3,r=Dx(t),i=r(n,e);return i.parallels=function(t){return arguments.length?r(n=t[0]*sm,e=t[1]*sm):[n*om,e*om]},i}function Sx(t,n){var e=mm(t),r=(e+mm(n))/2;if(lm(r)<nm)return function(t){var n=hm(t);function e(t,e){return[t*n,mm(e)/n]}return e.invert=function(t,e){return[t/n,wm(e*n)]},e}(t);var i=1+e*(2*r-e),a=_m(i)/r;function u(t,n){var e=_m(i-2*r*mm(n))/r;return[e*mm(t*=r),a-e*hm(t)]}return u.invert=function(t,n){var e=a-n;return[fm(t,lm(e))/r*ym(e),wm((i-(t*t+e*e)*r*r)/(2*r))]},u}function Bx(){return Fx(Sx).scale(155.424).center([0,33.6442])}function Ox(){return Bx().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function zx(t){return function(n,e){var r=hm(n),i=hm(e),a=t(r*i);return[a*i*mm(n),a*mm(e)]}}function Nx(t){return function(n,e){var r=_m(n*n+e*e),i=t(r),a=mm(i),u=hm(i);return[fm(n*a,r*u),wm(r&&e*a/r)]}}var Tx=zx(function(t){return _m(2/(1+t))});Tx.invert=Nx(function(t){return 2*wm(t/2)});var Rx=zx(function(t){return(t=bm(t))&&t/mm(t)});function Px(t,n){return[t,gm(xm((im+n)/2))]}function Lx(t){var n,e,r,i=Cx(t),a=i.center,u=i.scale,o=i.translate,s=i.clipExtent,l=null;function c(){var a=rm*u(),o=i(function(t){function n(n){return(n=t(n[0]*sm,n[1]*sm))[0]*=om,n[1]*=om,n}return t=Yy(t[0]*sm,t[1]*sm,t.length>2?t[2]*sm:0),n.invert=function(n){return(n=t.invert(n[0]*sm,n[1]*sm))[0]*=om,n[1]*=om,n},n}(i.rotate()).invert([0,0]));return s(null==l?[[o[0]-a,o[1]-a],[o[0]+a,o[1]+a]]:t===Px?[[Math.max(o[0]-a,l),n],[Math.min(o[0]+a,e),r]]:[[l,Math.max(o[1]-a,n)],[e,Math.min(o[1]+a,r)]])}return i.scale=function(t){return arguments.length?(u(t),c()):u()},i.translate=function(t){return arguments.length?(o(t),c()):o()},i.center=function(t){return arguments.length?(a(t),c()):a()},i.clipExtent=function(t){return arguments.length?(null==t?l=n=e=r=null:(l=+t[0][0],n=+t[0][1],e=+t[1][0],r=+t[1][1]),c()):null==l?null:[[l,n],[e,r]]},c()}function qx(t){return xm((im+t)/2)}function Ux(t,n){var e=hm(t),r=t===n?mm(t):gm(e/hm(n))/gm(qx(n)/qx(t)),i=e*vm(qx(t),r)/r;if(!r)return Px;function a(t,n){i>0?n<-im+nm&&(n=-im+nm):n>im-nm&&(n=im-nm);var e=i/vm(qx(n),r);return[e*mm(r*t),i-e*hm(r*t)]}return a.invert=function(t,n){var e=i-n,a=ym(r)*_m(t*t+e*e);return[fm(t,lm(e))/r*ym(e),2*cm(vm(i/a,1/r))-im]},a}function jx(t,n){return[t,n]}function $x(t,n){var e=hm(t),r=t===n?mm(t):(e-hm(n))/(n-t),i=e/r+t;if(lm(r)<nm)return jx;function a(t,n){var e=i-n,a=r*t;return[e*mm(a),i-e*hm(a)]}return a.invert=function(t,n){var e=i-n;return[fm(t,lm(e))/r*ym(e),i-ym(r)*_m(t*t+e*e)]},a}function Ix(t,n){var e=hm(n),r=hm(t)*e;return[e*mm(t)/r,mm(n)/r]}function Wx(t,n,e,r){return 1===t&&1===n&&0===e&&0===r?v_:gx({point:function(i,a){this.stream.point(i*t+e,a*n+r)}})}function Hx(t,n){var e=n*n,r=e*e;return[t*(.8707-.131979*e+r*(r*(.003971*e-.001529*r)-.013791)),n*(1.007226+e*(.015085+r*(.028874*e-.044475-.005916*r)))]}function Yx(t,n){return[hm(n)*mm(t),mm(n)]}function Vx(t,n){var e=hm(n),r=1+hm(t)*e;return[e*mm(t)/r,mm(n)/r]}function Gx(t,n){return[gm(xm((im+n)/2)),-t]}Rx.invert=Nx(function(t){return t}),Px.invert=function(t,n){return[t,2*cm(pm(n))-im]},jx.invert=jx,Ix.invert=Nx(cm),Hx.invert=function(t,n){var e,r=n,i=25;do{var a=r*r,u=a*a;r-=e=(r*(1.007226+a*(.015085+u*(.028874*a-.044475-.005916*u)))-n)/(1.007226+a*(.045255+u*(.259866*a-.311325-.005916*11*u)))}while(lm(e)>nm&&--i>0);return[t/(.8707+(a=r*r)*(a*(a*a*a*(.003971-.001529*a)-.013791)-.131979)),r]},Yx.invert=Nx(wm),Vx.invert=Nx(function(t){return 2*cm(t)}),Gx.invert=function(t,n){return[-n,2*cm(pm(t))-im]};var Xx=px(),Zx=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function Jx(t,n){if(!t||"string"!=typeof t)throw new Error("Projection type must be a name string.");return t=t.toLowerCase(),arguments.length>1?(Kx[t]=function(t,n){return function e(){var r=n();return r.type=t,r.path=px().projection(r),r.copy=r.copy||function(){var t=e();return Zx.forEach(function(n){r.hasOwnProperty(n)&&t[n](r[n]())}),t.path.pointRadius(r.path.pointRadius()),t},r}}(t,n),this):Kx.hasOwnProperty(t)?Kx[t]:null}function Qx(t){return t&&t.path||Xx}var Kx={albers:Ox,albersusa:function(){var t,n,e,r,i,a,u=Ox(),o=Bx().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=Bx().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,n){a=[t,n]}};function c(t){var n=t[0],u=t[1];return a=null,e.point(n,u),a||(r.point(n,u),a)||(i.point(n,u),a)}function f(){return t=n=null,c}return c.invert=function(t){var n=u.scale(),e=u.translate(),r=(t[0]-e[0])/n,i=(t[1]-e[1])/n;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?o:i>=.166&&i<.234&&r>=-.214&&r<-.115?s:u).invert(t)},c.stream=function(e){return t&&n===e?t:(r=[u.stream(n=e),o.stream(e),s.stream(e)],i=r.length,t={point:function(t,n){for(var e=-1;++e<i;)r[e].point(t,n)},sphere:function(){for(var t=-1;++t<i;)r[t].sphere()},lineStart:function(){for(var t=-1;++t<i;)r[t].lineStart()},lineEnd:function(){for(var t=-1;++t<i;)r[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<i;)r[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<i;)r[t].polygonEnd()}});var r,i},c.precision=function(t){return arguments.length?(u.precision(t),o.precision(t),s.precision(t),f()):u.precision()},c.scale=function(t){return arguments.length?(u.scale(t),o.scale(.35*t),s.scale(t),c.translate(u.translate())):u.scale()},c.translate=function(t){if(!arguments.length)return u.translate();var n=u.scale(),a=+t[0],c=+t[1];return e=u.translate(t).clipExtent([[a-.455*n,c-.238*n],[a+.455*n,c+.238*n]]).stream(l),r=o.translate([a-.307*n,c+.201*n]).clipExtent([[a-.425*n+nm,c+.12*n+nm],[a-.214*n-nm,c+.234*n-nm]]).stream(l),i=s.translate([a-.205*n,c+.212*n]).clipExtent([[a-.214*n+nm,c+.166*n+nm],[a-.115*n-nm,c+.234*n-nm]]).stream(l),f()},c.fitExtent=function(t,n){return yx(c,t,n)},c.fitSize=function(t,n){return _x(c,t,n)},c.fitWidth=function(t,n){return xx(c,t,n)},c.fitHeight=function(t,n){return bx(c,t,n)},c.scale(1070)},azimuthalequalarea:function(){return Cx(Tx).scale(124.75).clipAngle(179.999)},azimuthalequidistant:function(){return Cx(Rx).scale(79.4188).clipAngle(179.999)},conicconformal:function(){return Fx(Ux).scale(109.5).parallels([30,30])},conicequalarea:Bx,conicequidistant:function(){return Fx($x).scale(131.154).center([0,13.9389])},equirectangular:function(){return Cx(jx).scale(152.63)},gnomonic:function(){return Cx(Ix).scale(144.049).clipAngle(60)},identity:function(){var t,n,e,r,i,a,u=1,o=0,s=0,l=1,c=1,f=v_,h=null,d=v_;function p(){return r=i=null,a}return a={stream:function(t){return r&&i===t?r:r=f(d(i=t))},postclip:function(r){return arguments.length?(d=r,h=t=n=e=null,p()):d},clipExtent:function(r){return arguments.length?(d=null==r?(h=t=n=e=null,v_):d_(h=+r[0][0],t=+r[0][1],n=+r[1][0],e=+r[1][1]),p()):null==h?null:[[h,t],[n,e]]},scale:function(t){return arguments.length?(f=Wx((u=+t)*l,u*c,o,s),p()):u},translate:function(t){return arguments.length?(f=Wx(u*l,u*c,o=+t[0],s=+t[1]),p()):[o,s]},reflectX:function(t){return arguments.length?(f=Wx(u*(l=t?-1:1),u*c,o,s),p()):l<0},reflectY:function(t){return arguments.length?(f=Wx(u*l,u*(c=t?-1:1),o,s),p()):c<0},fitExtent:function(t,n){return yx(a,t,n)},fitSize:function(t,n){return _x(a,t,n)},fitWidth:function(t,n){return xx(a,t,n)},fitHeight:function(t,n){return bx(a,t,n)}}},mercator:function(){return Lx(Px).scale(961/um)},naturalEarth1:function(){return Cx(Hx).scale(175.295)},orthographic:function(){return Cx(Yx).scale(249.5).clipAngle(90+nm)},stereographic:function(){return Cx(Vx).scale(250).clipAngle(142)},transversemercator:function(){var t=Lx(Gx),n=t.center,e=t.rotate;return t.center=function(t){return arguments.length?n([-t[1],t[0]]):[(t=n())[1],-t[0]]},t.rotate=function(t){return arguments.length?e([t[0],t[1],t.length>2?t[2]+90:90]):[(t=e())[0],t[1],t[2]-90]},e([0,0,90]).scale(159.155)}};for(var tb in Kx)Jx(tb,Kx[tb]);function nb(t){jr.call(this,null,t)}function eb(t){jr.call(this,null,t)}function rb(t){jr.call(this,null,t)}function ib(t){jr.call(this,[],t),this.generator=function(){var t,n,e,r,i,a,u,o,s,l,c,f,h=10,d=h,p=90,g=360,v=2.5;function m(){return{type:"MultiLineString",coordinates:y()}}function y(){return i_(dm(r/p)*p,e,p).map(c).concat(i_(dm(o/g)*g,u,g).map(f)).concat(i_(dm(n/h)*h,t,h).filter(function(t){return lm(t%p)>nm}).map(s)).concat(i_(dm(a/d)*d,i,d).filter(function(t){return lm(t%g)>nm}).map(l))}return m.lines=function(){return y().map(function(t){return{type:"LineString",coordinates:t}})},m.outline=function(){return{type:"Polygon",coordinates:[c(r).concat(f(u).slice(1),c(e).reverse().slice(1),f(o).reverse().slice(1))]}},m.extent=function(t){return arguments.length?m.extentMajor(t).extentMinor(t):m.extentMinor()},m.extentMajor=function(t){return arguments.length?(r=+t[0][0],e=+t[1][0],o=+t[0][1],u=+t[1][1],r>e&&(t=r,r=e,e=t),o>u&&(t=o,o=u,u=t),m.precision(v)):[[r,o],[e,u]]},m.extentMinor=function(e){return arguments.length?(n=+e[0][0],t=+e[1][0],a=+e[0][1],i=+e[1][1],n>t&&(e=n,n=t,t=e),a>i&&(e=a,a=i,i=e),m.precision(v)):[[n,a],[t,i]]},m.step=function(t){return arguments.length?m.stepMajor(t).stepMinor(t):m.stepMinor()},m.stepMajor=function(t){return arguments.length?(p=+t[0],g=+t[1],m):[p,g]},m.stepMinor=function(t){return arguments.length?(h=+t[0],d=+t[1],m):[h,d]},m.precision=function(h){return arguments.length?(v=+h,s=p_(a,i,90),l=g_(n,t,v),c=p_(o,u,90),f=g_(r,e,v),m):v},m.extentMajor([[-180,-90+nm],[180,90-nm]]).extentMinor([[-180,-80-nm],[180,80+nm]])}()}function ab(t){jr.call(this,null,t),this.modified(!0)}function ub(t,n,e){Y(t[n])&&t[n](e)}nb.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]},et(nb,jr).transform=function(t,n){var e=n.fork(n.ALL),r=this.value,i=t.field||d,a=t.as||"path",u=e.SOURCE;!r||t.modified()?(this.value=r=Qx(t.projection),e.materialize().reflow()):u=i===d||n.modified(i.fields)?e.ADD_MOD:e.ADD;var o=function(t,n){var e=t.pointRadius();t.context(null),null!=n&&t.pointRadius(n);return e}(r,t.pointRadius);return e.visit(u,function(t){t[a]=r(i(t))}),r.pointRadius(o),e.modifies(a)},eb.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]},et(eb,jr).transform=function(t,n){var e,r=t.projection,i=t.fields[0],a=t.fields[1],u=t.as||["x","y"],o=u[0],s=u[1];function l(t){var n=r([i(t),a(t)]);n?(t[o]=n[0],t[s]=n[1]):(t[o]=void 0,t[s]=void 0)}return t.modified()?n=n.materialize().reflow(!0).visit(n.SOURCE,l):(e=n.modified(i.fields)||n.modified(a.fields),n.visit(e?n.ADD_MOD:n.ADD,l)),n.modifies(u)},rb.Definition={type:"GeoShape",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]},et(rb,jr).transform=function(t,n){var e=n.fork(n.ALL),r=this.value,i=t.field||c("datum"),a=t.as||"shape",u=e.ADD_MOD;return r&&!t.modified()||(this.value=r=function(t,n,e){var r=null==e?function(e){return t(n(e))}:function(r){var i=t.pointRadius(),a=t.pointRadius(e)(n(r));return t.pointRadius(i),a};return r.context=function(n){return t.context(n),r},r}(Qx(t.projection),i,t.pointRadius),e.materialize().reflow(),u=e.SOURCE),e.visit(u,function(t){t[a]=r}),e.modifies(a)},ib.Definition={type:"Graticule",metadata:{changes:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]},et(ib,jr).transform=function(t,n){var e,r=this.value,i=this.generator;if(!r.length||t.modified())for(var a in t)Y(i[a])&&i[a](t[a]);return e=i(),r.length?n.mod.push(Bt(r[0],e)):n.add.push(Dt(e)),r[0]=e,n},et(ab,jr).transform=function(t,n){var e=this.value;return!e||t.modified("type")?(this.value=e=function(t){var n=Jx((t||"mercator").toLowerCase());n||i("Unrecognized projection type: "+t);return n()}(t.type),Zx.forEach(function(n){null!=t[n]&&ub(e,n,t[n])})):Zx.forEach(function(n){t.modified(n)&&ub(e,n,t[n])}),null!=t.pointRadius&&e.path.pointRadius(t.pointRadius),t.fit&&function(t,n){var e=(r=n.fit,1===(r=W(r)).length?r[0]:{type:Xv,features:r.reduce(function(t,n){return n&&n.type===Xv?t.push.apply(t,n.features):u(n)?t.push.apply(t,n):t.push(n),t},[])});var r;n.extent?t.fitExtent(n.extent,e):n.size&&t.fitSize(n.size,e)}(e,t),n.fork(n.NO_SOURCE|n.NO_FIELDS)};var ob=Object.freeze({contour:Gv,geojson:Zv,geopath:nb,geopoint:eb,geoshape:rb,graticule:ib,projection:ab});function sb(t,n,e,r){if(isNaN(n)||isNaN(e))return t;var i,a,u,o,s,l,c,f,h,d=t._root,p={data:r},g=t._x0,v=t._y0,m=t._x1,y=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((l=n>=(a=(g+m)/2))?g=a:m=a,(c=e>=(u=(v+y)/2))?v=u:y=u,i=d,!(d=d[f=c<<1|l]))return i[f]=p,t;if(o=+t._x.call(null,d.data),s=+t._y.call(null,d.data),n===o&&e===s)return p.next=d,i?i[f]=p:t._root=p,t;do{i=i?i[f]=new Array(4):t._root=new Array(4),(l=n>=(a=(g+m)/2))?g=a:m=a,(c=e>=(u=(v+y)/2))?v=u:y=u}while((f=c<<1|l)==(h=(s>=u)<<1|o>=a));return i[h]=d,i[f]=p,t}function lb(t,n,e,r,i){this.node=t,this.x0=n,this.y0=e,this.x1=r,this.y1=i}function cb(t){return t[0]}function fb(t){return t[1]}function hb(t,n,e){var r=new db(null==n?cb:n,null==e?fb:e,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function db(t,n,e,r,i,a){this._x=t,this._y=n,this._x0=e,this._y0=r,this._x1=i,this._y1=a,this._root=void 0}function pb(t){for(var n={data:t.data},e=n;t=t.next;)e=e.next={data:t.data};return n}var gb=hb.prototype=db.prototype;function vb(t){return function(){return t}}function mb(){return 1e-6*(Math.random()-.5)}function yb(t){return t.x+t.vx}function _b(t){return t.y+t.vy}function xb(t){return t.index}function bb(t,n){var e=t.get(n);if(!e)throw new Error("missing: "+n);return e}gb.copy=function(){var t,n,e=new db(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return e;if(!r.length)return e._root=pb(r),e;for(t=[{source:r,target:e._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(n=r.source[i])&&(n.length?t.push({source:n,target:r.target[i]=new Array(4)}):r.target[i]=pb(n));return e},gb.add=function(t){var n=+this._x.call(null,t),e=+this._y.call(null,t);return sb(this.cover(n,e),n,e,t)},gb.addAll=function(t){var n,e,r,i,a=t.length,u=new Array(a),o=new Array(a),s=1/0,l=1/0,c=-1/0,f=-1/0;for(e=0;e<a;++e)isNaN(r=+this._x.call(null,n=t[e]))||isNaN(i=+this._y.call(null,n))||(u[e]=r,o[e]=i,r<s&&(s=r),r>c&&(c=r),i<l&&(l=i),i>f&&(f=i));if(s>c||l>f)return this;for(this.cover(s,l).cover(c,f),e=0;e<a;++e)sb(this,u[e],o[e],t[e]);return this},gb.cover=function(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var e=this._x0,r=this._y0,i=this._x1,a=this._y1;if(isNaN(e))i=(e=Math.floor(t))+1,a=(r=Math.floor(n))+1;else{for(var u,o,s=i-e,l=this._root;e>t||t>=i||r>n||n>=a;)switch(o=(n<r)<<1|t<e,(u=new Array(4))[o]=l,l=u,s*=2,o){case 0:i=e+s,a=r+s;break;case 1:e=i-s,a=r+s;break;case 2:i=e+s,r=a-s;break;case 3:e=i-s,r=a-s}this._root&&this._root.length&&(this._root=l)}return this._x0=e,this._y0=r,this._x1=i,this._y1=a,this},gb.data=function(){var t=[];return this.visit(function(n){if(!n.length)do{t.push(n.data)}while(n=n.next)}),t},gb.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},gb.find=function(t,n,e){var r,i,a,u,o,s,l,c=this._x0,f=this._y0,h=this._x1,d=this._y1,p=[],g=this._root;for(g&&p.push(new lb(g,c,f,h,d)),null==e?e=1/0:(c=t-e,f=n-e,h=t+e,d=n+e,e*=e);s=p.pop();)if(!(!(g=s.node)||(i=s.x0)>h||(a=s.y0)>d||(u=s.x1)<c||(o=s.y1)<f))if(g.length){var v=(i+u)/2,m=(a+o)/2;p.push(new lb(g[3],v,m,u,o),new lb(g[2],i,m,v,o),new lb(g[1],v,a,u,m),new lb(g[0],i,a,v,m)),(l=(n>=m)<<1|t>=v)&&(s=p[p.length-1],p[p.length-1]=p[p.length-1-l],p[p.length-1-l]=s)}else{var y=t-+this._x.call(null,g.data),_=n-+this._y.call(null,g.data),x=y*y+_*_;if(x<e){var b=Math.sqrt(e=x);c=t-b,f=n-b,h=t+b,d=n+b,r=g.data}}return r},gb.remove=function(t){if(isNaN(a=+this._x.call(null,t))||isNaN(u=+this._y.call(null,t)))return this;var n,e,r,i,a,u,o,s,l,c,f,h,d=this._root,p=this._x0,g=this._y0,v=this._x1,m=this._y1;if(!d)return this;if(d.length)for(;;){if((l=a>=(o=(p+v)/2))?p=o:v=o,(c=u>=(s=(g+m)/2))?g=s:m=s,n=d,!(d=d[f=c<<1|l]))return this;if(!d.length)break;(n[f+1&3]||n[f+2&3]||n[f+3&3])&&(e=n,h=f)}for(;d.data!==t;)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):n?(i?n[f]=i:delete n[f],(d=n[0]||n[1]||n[2]||n[3])&&d===(n[3]||n[2]||n[1]||n[0])&&!d.length&&(e?e[h]=d:this._root=d),this):(this._root=i,this)},gb.removeAll=function(t){for(var n=0,e=t.length;n<e;++n)this.remove(t[n]);return this},gb.root=function(){return this._root},gb.size=function(){var t=0;return this.visit(function(n){if(!n.length)do{++t}while(n=n.next)}),t},gb.visit=function(t){var n,e,r,i,a,u,o=[],s=this._root;for(s&&o.push(new lb(s,this._x0,this._y0,this._x1,this._y1));n=o.pop();)if(!t(s=n.node,r=n.x0,i=n.y0,a=n.x1,u=n.y1)&&s.length){var l=(r+a)/2,c=(i+u)/2;(e=s[3])&&o.push(new lb(e,l,c,a,u)),(e=s[2])&&o.push(new lb(e,r,c,l,u)),(e=s[1])&&o.push(new lb(e,l,i,a,c)),(e=s[0])&&o.push(new lb(e,r,i,l,c))}return this},gb.visitAfter=function(t){var n,e=[],r=[];for(this._root&&e.push(new lb(this._root,this._x0,this._y0,this._x1,this._y1));n=e.pop();){var i=n.node;if(i.length){var a,u=n.x0,o=n.y0,s=n.x1,l=n.y1,c=(u+s)/2,f=(o+l)/2;(a=i[0])&&e.push(new lb(a,u,o,c,f)),(a=i[1])&&e.push(new lb(a,c,o,s,f)),(a=i[2])&&e.push(new lb(a,u,f,c,l)),(a=i[3])&&e.push(new lb(a,c,f,s,l))}r.push(n)}for(;n=r.pop();)t(n.node,n.x0,n.y0,n.x1,n.y1);return this},gb.x=function(t){return arguments.length?(this._x=t,this):this._x},gb.y=function(t){return arguments.length?(this._y=t,this):this._y};var wb={value:function(){}};function Ab(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new kb(r)}function kb(t){this._=t}function Mb(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function Eb(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=wb,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}kb.prototype=Ab.prototype={constructor:kb,on:function(t,n){var e,r,i=this._,a=(r=i,(t+"").trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");if(e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})),u=-1,o=a.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++u<o;)if(e=(t=a[u]).type)i[e]=Eb(i[e],t.name,n);else if(null==n)for(e in i)i[e]=Eb(i[e],t.name,null);return this}for(;++u<o;)if((e=(t=a[u]).type)&&(e=Mb(i[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new kb(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),a=0;a<e;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=0,e=(r=this._[t]).length;a<e;++a)r[a].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(n,e)}};var Cb,Db,Fb=0,Sb=0,Bb=0,Ob=1e3,zb=0,Nb=0,Tb=0,Rb="object"==typeof performance&&performance.now?performance:Date,Pb="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Lb(){return Nb||(Pb(qb),Nb=Rb.now()+Tb)}function qb(){Nb=0}function Ub(){this._call=this._time=this._next=null}function jb(t,n,e){var r=new Ub;return r.restart(t,n,e),r}function $b(){Nb=(zb=Rb.now())+Tb,Fb=Sb=0;try{!function(){Lb(),++Fb;for(var t,n=Cb;n;)(t=Nb-n._time)>=0&&n._call.call(null,t),n=n._next;--Fb}()}finally{Fb=0,function(){var t,n,e=Cb,r=1/0;for(;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Cb=n);Db=t,Wb(r)}(),Nb=0}}function Ib(){var t=Rb.now(),n=t-zb;n>Ob&&(Tb-=n,zb=t)}function Wb(t){Fb||(Sb&&(Sb=clearTimeout(Sb)),t-Nb>24?(t<1/0&&(Sb=setTimeout($b,t-Rb.now()-Tb)),Bb&&(Bb=clearInterval(Bb))):(Bb||(zb=Rb.now(),Bb=setInterval(Ib,Ob)),Fb=1,Pb($b)))}function Hb(t){return t.x}function Yb(t){return t.y}Ub.prototype=jb.prototype={constructor:Ub,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?Lb():+e)+(null==n?0:+n),this._next||Db===this||(Db?Db._next=this:Cb=this,Db=this),this._call=t,this._time=e,Wb()},stop:function(){this._call&&(this._call=null,this._time=1/0,Wb())}};var Vb=10,Gb=Math.PI*(3-Math.sqrt(5));var Xb={center:function(t,n){var e;function r(){var r,i,a=e.length,u=0,o=0;for(r=0;r<a;++r)u+=(i=e[r]).x,o+=i.y;for(u=u/a-t,o=o/a-n,r=0;r<a;++r)(i=e[r]).x-=u,i.y-=o}return null==t&&(t=0),null==n&&(n=0),r.initialize=function(t){e=t},r.x=function(n){return arguments.length?(t=+n,r):t},r.y=function(t){return arguments.length?(n=+t,r):n},r},collide:function(t){var n,e,r=1,i=1;function a(){for(var t,a,o,s,l,c,f,h=n.length,d=0;d<i;++d)for(a=hb(n,yb,_b).visitAfter(u),t=0;t<h;++t)o=n[t],c=e[o.index],f=c*c,s=o.x+o.vx,l=o.y+o.vy,a.visit(p);function p(t,n,e,i,a){var u=t.data,h=t.r,d=c+h;if(!u)return n>s+d||i<s-d||e>l+d||a<l-d;if(u.index>o.index){var p=s-u.x-u.vx,g=l-u.y-u.vy,v=p*p+g*g;v<d*d&&(0===p&&(v+=(p=mb())*p),0===g&&(v+=(g=mb())*g),v=(d-(v=Math.sqrt(v)))/v*r,o.vx+=(p*=v)*(d=(h*=h)/(f+h)),o.vy+=(g*=v)*d,u.vx-=p*(d=1-d),u.vy-=g*d)}}}function u(t){if(t.data)return t.r=e[t.data.index];for(var n=t.r=0;n<4;++n)t[n]&&t[n].r>t.r&&(t.r=t[n].r)}function o(){if(n){var r,i,a=n.length;for(e=new Array(a),r=0;r<a;++r)i=n[r],e[i.index]=+t(i,r,n)}}return"function"!=typeof t&&(t=vb(null==t?1:+t)),a.initialize=function(t){n=t,o()},a.iterations=function(t){return arguments.length?(i=+t,a):i},a.strength=function(t){return arguments.length?(r=+t,a):r},a.radius=function(n){return arguments.length?(t="function"==typeof n?n:vb(+n),o(),a):t},a},nbody:function(){var t,n,e,r,i=vb(-30),a=1,u=1/0,o=.81;function s(r){var i,a=t.length,u=hb(t,Hb,Yb).visitAfter(c);for(e=r,i=0;i<a;++i)n=t[i],u.visit(f)}function l(){if(t){var n,e,a=t.length;for(r=new Array(a),n=0;n<a;++n)e=t[n],r[e.index]=+i(e,n,t)}}function c(t){var n,e,i,a,u,o=0,s=0;if(t.length){for(i=a=u=0;u<4;++u)(n=t[u])&&(e=Math.abs(n.value))&&(o+=n.value,s+=e,i+=e*n.x,a+=e*n.y);t.x=i/s,t.y=a/s}else{(n=t).x=n.data.x,n.y=n.data.y;do{o+=r[n.data.index]}while(n=n.next)}t.value=o}function f(t,i,s,l){if(!t.value)return!0;var c=t.x-n.x,f=t.y-n.y,h=l-i,d=c*c+f*f;if(h*h/o<d)return d<u&&(0===c&&(d+=(c=mb())*c),0===f&&(d+=(f=mb())*f),d<a&&(d=Math.sqrt(a*d)),n.vx+=c*t.value*e/d,n.vy+=f*t.value*e/d),!0;if(!(t.length||d>=u)){(t.data!==n||t.next)&&(0===c&&(d+=(c=mb())*c),0===f&&(d+=(f=mb())*f),d<a&&(d=Math.sqrt(a*d)));do{t.data!==n&&(h=r[t.data.index]*e/d,n.vx+=c*h,n.vy+=f*h)}while(t=t.next)}}return s.initialize=function(n){t=n,l()},s.strength=function(t){return arguments.length?(i="function"==typeof t?t:vb(+t),l(),s):i},s.distanceMin=function(t){return arguments.length?(a=t*t,s):Math.sqrt(a)},s.distanceMax=function(t){return arguments.length?(u=t*t,s):Math.sqrt(u)},s.theta=function(t){return arguments.length?(o=t*t,s):Math.sqrt(o)},s},link:function(t){var n,e,r,i,a,u=xb,o=function(t){return 1/Math.min(i[t.source.index],i[t.target.index])},s=vb(30),l=1;function c(r){for(var i=0,u=t.length;i<l;++i)for(var o,s,c,f,h,d,p,g=0;g<u;++g)s=(o=t[g]).source,f=(c=o.target).x+c.vx-s.x-s.vx||mb(),h=c.y+c.vy-s.y-s.vy||mb(),f*=d=((d=Math.sqrt(f*f+h*h))-e[g])/d*r*n[g],h*=d,c.vx-=f*(p=a[g]),c.vy-=h*p,s.vx+=f*(p=1-p),s.vy+=h*p}function f(){if(r){var o,s,l=r.length,c=t.length,f=new Map(r.map((t,n)=>[u(t,n,r),t]));for(o=0,i=new Array(l);o<c;++o)(s=t[o]).index=o,"object"!=typeof s.source&&(s.source=bb(f,s.source)),"object"!=typeof s.target&&(s.target=bb(f,s.target)),i[s.source.index]=(i[s.source.index]||0)+1,i[s.target.index]=(i[s.target.index]||0)+1;for(o=0,a=new Array(c);o<c;++o)s=t[o],a[o]=i[s.source.index]/(i[s.source.index]+i[s.target.index]);n=new Array(c),h(),e=new Array(c),d()}}function h(){if(r)for(var e=0,i=t.length;e<i;++e)n[e]=+o(t[e],e,t)}function d(){if(r)for(var n=0,i=t.length;n<i;++n)e[n]=+s(t[n],n,t)}return null==t&&(t=[]),c.initialize=function(t){r=t,f()},c.links=function(n){return arguments.length?(t=n,f(),c):t},c.id=function(t){return arguments.length?(u=t,c):u},c.iterations=function(t){return arguments.length?(l=+t,c):l},c.strength=function(t){return arguments.length?(o="function"==typeof t?t:vb(+t),h(),c):o},c.distance=function(t){return arguments.length?(s="function"==typeof t?t:vb(+t),d(),c):s},c},x:function(t){var n,e,r,i=vb(.1);function a(t){for(var i,a=0,u=n.length;a<u;++a)(i=n[a]).vx+=(r[a]-i.x)*e[a]*t}function u(){if(n){var a,u=n.length;for(e=new Array(u),r=new Array(u),a=0;a<u;++a)e[a]=isNaN(r[a]=+t(n[a],a,n))?0:+i(n[a],a,n)}}return"function"!=typeof t&&(t=vb(null==t?0:+t)),a.initialize=function(t){n=t,u()},a.strength=function(t){return arguments.length?(i="function"==typeof t?t:vb(+t),u(),a):i},a.x=function(n){return arguments.length?(t="function"==typeof n?n:vb(+n),u(),a):t},a},y:function(t){var n,e,r,i=vb(.1);function a(t){for(var i,a=0,u=n.length;a<u;++a)(i=n[a]).vy+=(r[a]-i.y)*e[a]*t}function u(){if(n){var a,u=n.length;for(e=new Array(u),r=new Array(u),a=0;a<u;++a)e[a]=isNaN(r[a]=+t(n[a],a,n))?0:+i(n[a],a,n)}}return"function"!=typeof t&&(t=vb(null==t?0:+t)),a.initialize=function(t){n=t,u()},a.strength=function(t){return arguments.length?(i="function"==typeof t?t:vb(+t),u(),a):i},a.y=function(n){return arguments.length?(t="function"==typeof n?n:vb(+n),u(),a):t},a}},Zb="forces",Jb=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],Qb=["static","iterations"],Kb=["x","y","vx","vy"];function tw(t){jr.call(this,null,t)}tw.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:Kb}]};var nw=et(tw,jr);function ew(t,n,e,r){var i,a,u,o,s=W(n.forces);for(i=0,a=Jb.length;i<a;++i)(u=Jb[i])!==Zb&&n.modified(u)&&t[u](n[u]);for(i=0,a=s.length;i<a;++i)o=Zb+i,(u=e||n.modified(Zb,i)?iw(s[i]):r&&rw(s[i],r)?t.force(o):null)&&t.force(o,u);for(a=t.numForces||0;i<a;++i)t.force(Zb+i,null);return t.numForces=s.length,t}function rw(t,n){var e,i;for(e in t)if(Y(i=t[e])&&n.modified(r(i)))return 1;return 0}function iw(t){var n,e;for(e in Xb.hasOwnProperty(t.force)||i("Unrecognized force: "+t.force),n=Xb[t.force](),t)Y(n[e])&&aw(n[e],t[e],t);return n}function aw(t,n,e){t(Y(n)?function(t){return n(t,e)}:n)}nw.transform=function(t,n){var e,r,i=this.value,a=n.changed(n.ADD_REM),u=t.modified(Jb),o=t.iterations||300;if(i?(a&&(n.modifies("index"),i.nodes(n.source)),(u||n.changed(n.MOD))&&ew(i,t,0,n)):(this.value=i=function(t,n){var e=function(t){var n,e=1,r=.001,i=1-Math.pow(r,1/300),a=0,u=.6,o=new Map,s=jb(c),l=Ab("tick","end");function c(){f(),l.call("tick",n),e<r&&(s.stop(),l.call("end",n))}function f(r){var s,l,c=t.length;void 0===r&&(r=1);for(var f=0;f<r;++f)for(e+=(a-e)*i,o.forEach(function(t){t(e)}),s=0;s<c;++s)null==(l=t[s]).fx?l.x+=l.vx*=u:(l.x=l.fx,l.vx=0),null==l.fy?l.y+=l.vy*=u:(l.y=l.fy,l.vy=0);return n}function h(){for(var n,e=0,r=t.length;e<r;++e){if((n=t[e]).index=e,null!=n.fx&&(n.x=n.fx),null!=n.fy&&(n.y=n.fy),isNaN(n.x)||isNaN(n.y)){var i=Vb*Math.sqrt(e),a=e*Gb;n.x=i*Math.cos(a),n.y=i*Math.sin(a)}(isNaN(n.vx)||isNaN(n.vy))&&(n.vx=n.vy=0)}}function d(n){return n.initialize&&n.initialize(t),n}return null==t&&(t=[]),h(),n={tick:f,restart:function(){return s.restart(c),n},stop:function(){return s.stop(),n},nodes:function(e){return arguments.length?(t=e,h(),o.forEach(d),n):t},alpha:function(t){return arguments.length?(e=+t,n):e},alphaMin:function(t){return arguments.length?(r=+t,n):r},alphaDecay:function(t){return arguments.length?(i=+t,n):+i},alphaTarget:function(t){return arguments.length?(a=+t,n):a},velocityDecay:function(t){return arguments.length?(u=1-t,n):1-u},force:function(t,e){return arguments.length>1?(null==e?o.delete(t):o.set(t,d(e)),n):o.get(t)},find:function(n,e,r){var i,a,u,o,s,l=0,c=t.length;for(null==r?r=1/0:r*=r,l=0;l<c;++l)(u=(i=n-(o=t[l]).x)*i+(a=e-o.y)*a)<r&&(s=o,r=u);return s},on:function(t,e){return arguments.length>1?(l.on(t,e),n):l.on(t)}}}(t),r=!1,i=e.stop,a=e.restart;return e.stopped=function(){return r},e.restart=function(){return r=!1,a()},e.stop=function(){return r=!0,i()},ew(e,n,!0).on("end",function(){r=!0})}(n.source,t),i.on("tick",(e=n.dataflow,r=this,function(){e.touch(r).run()})),t.static||(a=!0,i.tick()),n.modifies("index")),u||a||t.modified(Qb)||n.changed()&&t.restart)if(i.alpha(Math.max(i.alpha(),t.alpha||1)).alphaDecay(1-Math.pow(i.alphaMin(),1/o)),t.static)for(i.stop();--o>=0;)i.tick();else if(i.stopped()&&i.restart(),!a)return n.StopPropagation;return this.finish(t,n)},nw.finish=function(t,n){for(var e,r=n.dataflow,i=this._argops,a=0,u=i.length;a<u;++a)if((e=i[a]).name===Zb&&"link"===e.op._argval.force)for(var o,s=e.op._argops,l=0,c=s.length;l<c;++l)if("links"===s[l].name&&(o=s[l].op.source)){r.pulse(o,r.changeset().reflow());break}return n.reflow(t.modified()).modifies(Kb)};var uw=Object.freeze({force:tw});function ow(t,n,e){var r={};return t.each(function(t){var i=t.data;e(i)&&(r[n(i)]=t)}),t.lookup=r,t}function sw(t,n){return t.parent===n.parent?1:2}function lw(t,n){return t+n.x}function cw(t,n){return Math.max(t,n.y)}function fw(t){var n=0,e=t.children,r=e&&e.length;if(r)for(;--r>=0;)n+=e[r].value;else n=1;t.value=n}function hw(t,n){var e,r,i,a,u,o=new vw(t),s=+t.value&&(o.value=t.value),l=[o];for(null==n&&(n=dw);e=l.pop();)if(s&&(e.value=+e.data.value),(i=n(e.data))&&(u=i.length))for(e.children=new Array(u),a=u-1;a>=0;--a)l.push(r=e.children[a]=new vw(i[a])),r.parent=e,r.depth=e.depth+1;return o.eachBefore(gw)}function dw(t){return t.children}function pw(t){t.data=t.data.data}function gw(t){var n=0;do{t.height=n}while((t=t.parent)&&t.height<++n)}function vw(t){this.data=t,this.depth=this.height=0,this.parent=null}vw.prototype=hw.prototype={constructor:vw,count:function(){return this.eachAfter(fw)},each:function(t){var n,e,r,i,a=this,u=[a];do{for(n=u.reverse(),u=[];a=n.pop();)if(t(a),e=a.children)for(r=0,i=e.length;r<i;++r)u.push(e[r])}while(u.length);return this},eachAfter:function(t){for(var n,e,r,i=this,a=[i],u=[];i=a.pop();)if(u.push(i),n=i.children)for(e=0,r=n.length;e<r;++e)a.push(n[e]);for(;i=u.pop();)t(i);return this},eachBefore:function(t){for(var n,e,r=this,i=[r];r=i.pop();)if(t(r),n=r.children)for(e=n.length-1;e>=0;--e)i.push(n[e]);return this},sum:function(t){return this.eachAfter(function(n){for(var e=+t(n.data)||0,r=n.children,i=r&&r.length;--i>=0;)e+=r[i].value;n.value=e})},sort:function(t){return this.eachBefore(function(n){n.children&&n.children.sort(t)})},path:function(t){for(var n=this,e=function(t,n){if(t===n)return t;var e=t.ancestors(),r=n.ancestors(),i=null;for(t=e.pop(),n=r.pop();t===n;)i=t,t=e.pop(),n=r.pop();return i}(n,t),r=[n];n!==e;)n=n.parent,r.push(n);for(var i=r.length;t!==e;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,n=[t];t=t.parent;)n.push(t);return n},descendants:function(){var t=[];return this.each(function(n){t.push(n)}),t},leaves:function(){var t=[];return this.eachBefore(function(n){n.children||t.push(n)}),t},links:function(){var t=this,n=[];return t.each(function(e){e!==t&&n.push({source:e.parent,target:e})}),n},copy:function(){return hw(this).eachBefore(pw)}};var mw=Array.prototype.slice;function yw(t){for(var n,e,r=0,i=(t=function(t){for(var n,e,r=t.length;r;)e=Math.random()*r--|0,n=t[r],t[r]=t[e],t[e]=n;return t}(mw.call(t))).length,a=[];r<i;)n=t[r],e&&bw(e,n)?++r:(e=Aw(a=_w(a,n)),r=0);return e}function _w(t,n){var e,r;if(ww(n,t))return[n];for(e=0;e<t.length;++e)if(xw(n,t[e])&&ww(kw(t[e],n),t))return[t[e],n];for(e=0;e<t.length-1;++e)for(r=e+1;r<t.length;++r)if(xw(kw(t[e],t[r]),n)&&xw(kw(t[e],n),t[r])&&xw(kw(t[r],n),t[e])&&ww(Mw(t[e],t[r],n),t))return[t[e],t[r],n];throw new Error}function xw(t,n){var e=t.r-n.r,r=n.x-t.x,i=n.y-t.y;return e<0||e*e<r*r+i*i}function bw(t,n){var e=t.r-n.r+1e-6,r=n.x-t.x,i=n.y-t.y;return e>0&&e*e>r*r+i*i}function ww(t,n){for(var e=0;e<n.length;++e)if(!bw(t,n[e]))return!1;return!0}function Aw(t){switch(t.length){case 1:return{x:(n=t[0]).x,y:n.y,r:n.r};case 2:return kw(t[0],t[1]);case 3:return Mw(t[0],t[1],t[2])}var n}function kw(t,n){var e=t.x,r=t.y,i=t.r,a=n.x,u=n.y,o=n.r,s=a-e,l=u-r,c=o-i,f=Math.sqrt(s*s+l*l);return{x:(e+a+s/f*c)/2,y:(r+u+l/f*c)/2,r:(f+i+o)/2}}function Mw(t,n,e){var r=t.x,i=t.y,a=t.r,u=n.x,o=n.y,s=n.r,l=e.x,c=e.y,f=e.r,h=r-u,d=r-l,p=i-o,g=i-c,v=s-a,m=f-a,y=r*r+i*i-a*a,_=y-u*u-o*o+s*s,x=y-l*l-c*c+f*f,b=d*p-h*g,w=(p*x-g*_)/(2*b)-r,A=(g*v-p*m)/b,k=(d*_-h*x)/(2*b)-i,M=(h*m-d*v)/b,E=A*A+M*M-1,C=2*(a+w*A+k*M),D=w*w+k*k-a*a,F=-(E?(C+Math.sqrt(C*C-4*E*D))/(2*E):D/C);return{x:r+w+A*F,y:i+k+M*F,r:F}}function Ew(t,n,e){var r,i,a,u,o=t.x-n.x,s=t.y-n.y,l=o*o+s*s;l?(i=n.r+e.r,i*=i,u=t.r+e.r,i>(u*=u)?(r=(l+u-i)/(2*l),a=Math.sqrt(Math.max(0,u/l-r*r)),e.x=t.x-r*o-a*s,e.y=t.y-r*s+a*o):(r=(l+i-u)/(2*l),a=Math.sqrt(Math.max(0,i/l-r*r)),e.x=n.x+r*o-a*s,e.y=n.y+r*s+a*o)):(e.x=n.x+e.r,e.y=n.y)}function Cw(t,n){var e=t.r+n.r-1e-6,r=n.x-t.x,i=n.y-t.y;return e>0&&e*e>r*r+i*i}function Dw(t){var n=t._,e=t.next._,r=n.r+e.r,i=(n.x*e.r+e.x*n.r)/r,a=(n.y*e.r+e.y*n.r)/r;return i*i+a*a}function Fw(t){this._=t,this.next=null,this.previous=null}function Sw(t){if("function"!=typeof t)throw new Error;return t}function Bw(){return 0}function Ow(t){return function(){return t}}function zw(t){return Math.sqrt(t.value)}function Nw(t){return function(n){n.children||(n.r=Math.max(0,+t(n)||0))}}function Tw(t,n){return function(e){if(r=e.children){var r,i,a,u=r.length,o=t(e)*n||0;if(o)for(i=0;i<u;++i)r[i].r+=o;if(a=function(t){if(!(i=t.length))return 0;var n,e,r,i,a,u,o,s,l,c,f;if((n=t[0]).x=0,n.y=0,!(i>1))return n.r;if(e=t[1],n.x=-e.r,e.x=n.r,e.y=0,!(i>2))return n.r+e.r;Ew(e,n,r=t[2]),n=new Fw(n),e=new Fw(e),r=new Fw(r),n.next=r.previous=e,e.next=n.previous=r,r.next=e.previous=n;t:for(o=3;o<i;++o){Ew(n._,e._,r=t[o]),r=new Fw(r),s=e.next,l=n.previous,c=e._.r,f=n._.r;do{if(c<=f){if(Cw(s._,r._)){e=s,n.next=e,e.previous=n,--o;continue t}c+=s._.r,s=s.next}else{if(Cw(l._,r._)){(n=l).next=e,e.previous=n,--o;continue t}f+=l._.r,l=l.previous}}while(s!==l.next);for(r.previous=n,r.next=e,n.next=e.previous=e=r,a=Dw(n);(r=r.next)!==e;)(u=Dw(r))<a&&(n=r,a=u);e=n.next}for(n=[e._],r=e;(r=r.next)!==e;)n.push(r._);for(r=yw(n),o=0;o<i;++o)(n=t[o]).x-=r.x,n.y-=r.y;return r.r}(r),o)for(i=0;i<u;++i)r[i].r-=o;e.r=a+o}}}function Rw(t){return function(n){var e=n.parent;n.r*=t,e&&(n.x=e.x+t*n.x,n.y=e.y+t*n.y)}}function Pw(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function Lw(t,n,e,r,i){for(var a,u=t.children,o=-1,s=u.length,l=t.value&&(r-n)/t.value;++o<s;)(a=u[o]).y0=e,a.y1=i,a.x0=n,a.x1=n+=a.value*l}var qw="$",Uw={depth:-1},jw={};function $w(t){return t.id}function Iw(t){return t.parentId}function Ww(){var t=$w,n=Iw;function e(e){var r,i,a,u,o,s,l,c=e.length,f=new Array(c),h={};for(i=0;i<c;++i)r=e[i],o=f[i]=new vw(r),null!=(s=t(r,i,e))&&(s+="")&&(h[l=qw+(o.id=s)]=l in h?jw:o);for(i=0;i<c;++i)if(o=f[i],null!=(s=n(e[i],i,e))&&(s+="")){if(!(u=h[qw+s]))throw new Error("missing: "+s);if(u===jw)throw new Error("ambiguous: "+s);u.children?u.children.push(o):u.children=[o],o.parent=u}else{if(a)throw new Error("multiple roots");a=o}if(!a)throw new Error("no root");if(a.parent=Uw,a.eachBefore(function(t){t.depth=t.parent.depth+1,--c}).eachBefore(gw),a.parent=null,c>0)throw new Error("cycle");return a}return e.id=function(n){return arguments.length?(t=Sw(n),e):t},e.parentId=function(t){return arguments.length?(n=Sw(t),e):n},e}function Hw(t,n){return t.parent===n.parent?1:2}function Yw(t){var n=t.children;return n?n[0]:t.t}function Vw(t){var n=t.children;return n?n[n.length-1]:t.t}function Gw(t,n,e){var r=e/(n.i-t.i);n.c-=r,n.s+=e,t.c+=r,n.z+=e,n.m+=e}function Xw(t,n,e){return t.a.parent===n.parent?t.a:e}function Zw(t,n){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=n}function Jw(t,n,e,r,i){for(var a,u=t.children,o=-1,s=u.length,l=t.value&&(i-e)/t.value;++o<s;)(a=u[o]).x0=n,a.x1=r,a.y0=e,a.y1=e+=a.value*l}Zw.prototype=Object.create(vw.prototype);var Qw=(1+Math.sqrt(5))/2;function Kw(t,n,e,r,i,a){for(var u,o,s,l,c,f,h,d,p,g,v,m=[],y=n.children,_=0,x=0,b=y.length,w=n.value;_<b;){s=i-e,l=a-r;do{c=y[x++].value}while(!c&&x<b);for(f=h=c,v=c*c*(g=Math.max(l/s,s/l)/(w*t)),p=Math.max(h/v,v/f);x<b;++x){if(c+=o=y[x].value,o<f&&(f=o),o>h&&(h=o),v=c*c*g,(d=Math.max(h/v,v/f))>p){c-=o;break}p=d}m.push(u={value:c,dice:s<l,children:y.slice(_,x)}),u.dice?Lw(u,e,r,i,w?r+=l*c/w:a):Jw(u,e,r,w?e+=s*c/w:i,a),w-=c,_=x}return m}var tA=function t(n){function e(t,e,r,i,a){Kw(n,t,e,r,i,a)}return e.ratio=function(n){return t((n=+n)>1?n:1)},e}(Qw);var nA=function t(n){function e(t,e,r,i,a){if((u=t._squarify)&&u.ratio===n)for(var u,o,s,l,c,f=-1,h=u.length,d=t.value;++f<h;){for(s=(o=u[f]).children,l=o.value=0,c=s.length;l<c;++l)o.value+=s[l].value;o.dice?Lw(o,e,r,i,r+=(a-r)*o.value/d):Jw(o,e,r,e+=(i-e)*o.value/d,a),d-=o.value}else t._squarify=u=Kw(n,t,e,r,i,a),u.ratio=n}return e.ratio=function(n){return t((n=+n)>1?n:1)},e}(Qw);function eA(t){jr.call(this,null,t)}function rA(t){return t.values}function iA(){var t,n=[];return t={entries:function(t){return function t(e,r){if(++r>n.length)return e;var i,a=[];for(i in e)a.push({key:i,values:t(e[i],r)});return a}(function t(e,r){if(r>=n.length)return e;for(var i,a,u,o=-1,s=e.length,l=n[r++],c={},f={};++o<s;)(u=c[i=l(a=e[o])+""])?u.push(a):c[i]=[a];for(i in c)f[i]=t(c[i],r);return f}(t,0),0)},key:function(e){return n.push(e),t}}}function aA(t){jr.call(this,null,t)}function uA(t,n){return t.parent===n.parent?1:2}eA.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]},et(eA,jr).transform=function(t,n){n.source||i("Nest transform requires an upstream data source.");var e=t.generate,r=t.modified(),a=n.clone(),u=this.value;return(!u||r||n.changed())&&(u&&u.each(function(t){t.children&&Mt(t.data)&&a.rem.push(t.data)}),this.value=u=hw({values:W(t.keys).reduce(function(t,n){return t.key(n),t},iA()).entries(a.source)},rA),e&&u.each(function(t){t.children&&(t=Dt(t.data),a.add.push(t),a.source.push(t))}),ow(u,Et,Et)),a.source.root=u,a},et(aA,jr).transform=function(t,n){n.source&&n.source.root||i(this.constructor.name+" transform requires a backing tree data source.");var e=this.layout(t.method),r=this.fields,a=n.source.root,u=t.as||r;t.field&&a.sum(t.field),t.sort&&a.sort(t.sort),function(t,n,e){for(var r,i=0,a=n.length;i<a;++i)(r=n[i])in e&&t[r](e[r])}(e,this.params,t),e.separation&&e.separation(!1!==t.separation?uA:g);try{this.value=e(a)}catch(t){i(t)}return a.each(function(t){!function(t,n,e){for(var r=t.data,i=0,a=n.length-1;i<a;++i)r[e[i]]=t[n[i]];r[e[a]]=t.children?t.children.length:0}(t,r,u)}),n.reflow(t.modified()).modifies(u).modifies("leaf")};var oA=["x","y","r","depth","children"];function sA(t){aA.call(this,t)}sA.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:oA.length,default:oA}]};var lA=et(sA,aA);lA.layout=function(){var t=null,n=1,e=1,r=Bw;function i(i){return i.x=n/2,i.y=e/2,t?i.eachBefore(Nw(t)).eachAfter(Tw(r,.5)).eachBefore(Rw(1)):i.eachBefore(Nw(zw)).eachAfter(Tw(Bw,1)).eachAfter(Tw(r,i.r/Math.min(n,e))).eachBefore(Rw(Math.min(n,e)/(2*i.r))),i}return i.radius=function(n){return arguments.length?(t=null==(e=n)?null:Sw(e),i):t;var e},i.size=function(t){return arguments.length?(n=+t[0],e=+t[1],i):[n,e]},i.padding=function(t){return arguments.length?(r="function"==typeof t?t:Ow(+t),i):r},i},lA.params=["size","padding"],lA.fields=oA;var cA=["x0","y0","x1","y1","depth","children"];function fA(t){aA.call(this,t)}fA.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:cA.length,default:cA}]};var hA=et(fA,aA);function dA(t){jr.call(this,null,t)}hA.layout=function(){var t=1,n=1,e=0,r=!1;function i(i){var a=i.height+1;return i.x0=i.y0=e,i.x1=t,i.y1=n/a,i.eachBefore(function(t,n){return function(r){r.children&&Lw(r,r.x0,t*(r.depth+1)/n,r.x1,t*(r.depth+2)/n);var i=r.x0,a=r.y0,u=r.x1-e,o=r.y1-e;u<i&&(i=u=(i+u)/2),o<a&&(a=o=(a+o)/2),r.x0=i,r.y0=a,r.x1=u,r.y1=o}}(n,a)),r&&i.eachBefore(Pw),i}return i.round=function(t){return arguments.length?(r=!!t,i):r},i.size=function(e){return arguments.length?(t=+e[0],n=+e[1],i):[t,n]},i.padding=function(t){return arguments.length?(e=+t,i):e},i},hA.params=["size","round","padding"],hA.fields=cA,dA.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]},et(dA,jr).transform=function(t,n){n.source||i("Stratify transform requires an upstream data source.");var e=this.value,r=t.modified(),a=n.fork(n.ALL).materialize(n.SOURCE),u=!this.value||r||n.changed(n.ADD_REM)||n.modified(t.key.fields)||n.modified(t.parentKey.fields);return a.source=a.source.slice(),u&&(e=a.source.length?ow(Ww().id(t.key).parentId(t.parentKey)(a.source),t.key,v):ow(Ww()([{}]),t.key,t.key)),a.source.root=this.value=e,a};var pA={tidy:function(){var t=Hw,n=1,e=1,r=null;function i(i){var s=function(t){for(var n,e,r,i,a,u=new Zw(t,0),o=[u];n=o.pop();)if(r=n._.children)for(n.children=new Array(a=r.length),i=a-1;i>=0;--i)o.push(e=n.children[i]=new Zw(r[i],i)),e.parent=n;return(u.parent=new Zw(null,0)).children=[u],u}(i);if(s.eachAfter(a),s.parent.m=-s.z,s.eachBefore(u),r)i.eachBefore(o);else{var l=i,c=i,f=i;i.eachBefore(function(t){t.x<l.x&&(l=t),t.x>c.x&&(c=t),t.depth>f.depth&&(f=t)});var h=l===c?1:t(l,c)/2,d=h-l.x,p=n/(c.x+h+d),g=e/(f.depth||1);i.eachBefore(function(t){t.x=(t.x+d)*p,t.y=t.depth*g})}return i}function a(n){var e=n.children,r=n.parent.children,i=n.i?r[n.i-1]:null;if(e){!function(t){for(var n,e=0,r=0,i=t.children,a=i.length;--a>=0;)(n=i[a]).z+=e,n.m+=e,e+=n.s+(r+=n.c)}(n);var a=(e[0].z+e[e.length-1].z)/2;i?(n.z=i.z+t(n._,i._),n.m=n.z-a):n.z=a}else i&&(n.z=i.z+t(n._,i._));n.parent.A=function(n,e,r){if(e){for(var i,a=n,u=n,o=e,s=a.parent.children[0],l=a.m,c=u.m,f=o.m,h=s.m;o=Vw(o),a=Yw(a),o&&a;)s=Yw(s),(u=Vw(u)).a=n,(i=o.z+f-a.z-l+t(o._,a._))>0&&(Gw(Xw(o,n,r),n,i),l+=i,c+=i),f+=o.m,l+=a.m,h+=s.m,c+=u.m;o&&!Vw(u)&&(u.t=o,u.m+=f-c),a&&!Yw(s)&&(s.t=a,s.m+=l-h,r=n)}return r}(n,i,n.parent.A||r[0])}function u(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function o(t){t.x*=n,t.y=t.depth*e}return i.separation=function(n){return arguments.length?(t=n,i):t},i.size=function(t){return arguments.length?(r=!1,n=+t[0],e=+t[1],i):r?null:[n,e]},i.nodeSize=function(t){return arguments.length?(r=!0,n=+t[0],e=+t[1],i):r?[n,e]:null},i},cluster:function(){var t=sw,n=1,e=1,r=!1;function i(i){var a,u=0;i.eachAfter(function(n){var e=n.children;e?(n.x=function(t){return t.reduce(lw,0)/t.length}(e),n.y=function(t){return 1+t.reduce(cw,0)}(e)):(n.x=a?u+=t(n,a):0,n.y=0,a=n)});var o=function(t){for(var n;n=t.children;)t=n[0];return t}(i),s=function(t){for(var n;n=t.children;)t=n[n.length-1];return t}(i),l=o.x-t(o,s)/2,c=s.x+t(s,o)/2;return i.eachAfter(r?function(t){t.x=(t.x-i.x)*n,t.y=(i.y-t.y)*e}:function(t){t.x=(t.x-l)/(c-l)*n,t.y=(1-(i.y?t.y/i.y:1))*e})}return i.separation=function(n){return arguments.length?(t=n,i):t},i.size=function(t){return arguments.length?(r=!1,n=+t[0],e=+t[1],i):r?null:[n,e]},i.nodeSize=function(t){return arguments.length?(r=!0,n=+t[0],e=+t[1],i):r?[n,e]:null},i}},gA=["x","y","depth","children"];function vA(t){aA.call(this,t)}vA.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:gA.length,default:gA}]};var mA=et(vA,aA);function yA(t){jr.call(this,[],t)}mA.layout=function(t){var n=t||"tidy";if(pA.hasOwnProperty(n))return pA[n]();i("Unrecognized Tree layout method: "+n)},mA.params=["size","nodeSize"],mA.fields=gA,yA.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]},et(yA,jr).transform=function(t,n){var e=this.value,r=n.source&&n.source.root,a=n.fork(n.NO_SOURCE),u={};return r||i("TreeLinks transform requires a tree data source."),n.changed(n.ADD_REM)?(a.rem=e,n.visit(n.SOURCE,function(t){u[Et(t)]=1}),r.each(function(t){var n=t.data,e=t.parent&&t.parent.data;e&&u[Et(n)]&&u[Et(e)]&&a.add.push(Dt({source:e,target:n}))}),this.value=a.add):n.changed(n.MOD)&&(n.visit(n.MOD,function(t){u[Et(t)]=1}),e.forEach(function(t){(u[Et(t.source)]||u[Et(t.target)])&&a.mod.push(t)})),a};var _A={binary:function(t,n,e,r,i){var a,u,o=t.children,s=o.length,l=new Array(s+1);for(l[0]=u=a=0;a<s;++a)l[a+1]=u+=o[a].value;!function t(n,e,r,i,a,u,s){if(n>=e-1){var c=o[n];return c.x0=i,c.y0=a,c.x1=u,void(c.y1=s)}for(var f=l[n],h=r/2+f,d=n+1,p=e-1;d<p;){var g=d+p>>>1;l[g]<h?d=g+1:p=g}h-l[d-1]<l[d]-h&&n+1<d&&--d;var v=l[d]-f,m=r-v;if(u-i>s-a){var y=(i*m+u*v)/r;t(n,d,v,i,a,y,s),t(d,e,m,y,a,u,s)}else{var _=(a*m+s*v)/r;t(n,d,v,i,a,u,_),t(d,e,m,i,_,u,s)}}(0,s,t.value,n,e,r,i)},dice:Lw,slice:Jw,slicedice:function(t,n,e,r,i){(1&t.depth?Jw:Lw)(t,n,e,r,i)},squarify:tA,resquarify:nA},xA=["x0","y0","x1","y1","depth","children"];function bA(t){aA.call(this,t)}bA.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:xA.length,default:xA}]};var wA=et(bA,aA);wA.layout=function(){var t=function(){var t=tA,n=!1,e=1,r=1,i=[0],a=Bw,u=Bw,o=Bw,s=Bw,l=Bw;function c(t){return t.x0=t.y0=0,t.x1=e,t.y1=r,t.eachBefore(f),i=[0],n&&t.eachBefore(Pw),t}function f(n){var e=i[n.depth],r=n.x0+e,c=n.y0+e,f=n.x1-e,h=n.y1-e;f<r&&(r=f=(r+f)/2),h<c&&(c=h=(c+h)/2),n.x0=r,n.y0=c,n.x1=f,n.y1=h,n.children&&(e=i[n.depth+1]=a(n)/2,r+=l(n)-e,c+=u(n)-e,(f-=o(n)-e)<r&&(r=f=(r+f)/2),(h-=s(n)-e)<c&&(c=h=(c+h)/2),t(n,r,c,f,h))}return c.round=function(t){return arguments.length?(n=!!t,c):n},c.size=function(t){return arguments.length?(e=+t[0],r=+t[1],c):[e,r]},c.tile=function(n){return arguments.length?(t=Sw(n),c):t},c.padding=function(t){return arguments.length?c.paddingInner(t).paddingOuter(t):c.paddingInner()},c.paddingInner=function(t){return arguments.length?(a="function"==typeof t?t:Ow(+t),c):a},c.paddingOuter=function(t){return arguments.length?c.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):c.paddingTop()},c.paddingTop=function(t){return arguments.length?(u="function"==typeof t?t:Ow(+t),c):u},c.paddingRight=function(t){return arguments.length?(o="function"==typeof t?t:Ow(+t),c):o},c.paddingBottom=function(t){return arguments.length?(s="function"==typeof t?t:Ow(+t),c):s},c.paddingLeft=function(t){return arguments.length?(l="function"==typeof t?t:Ow(+t),c):l},c}();return t.ratio=function(n){var e=t.tile();e.ratio&&t.tile(e.ratio(n))},t.method=function(n){_A.hasOwnProperty(n)?t.tile(_A[n]):i("Unrecognized Treemap layout method: "+n)},t},wA.params=["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],wA.fields=xA;var AA=Object.freeze({nest:eA,pack:sA,partition:fA,stratify:dA,tree:vA,treelinks:yA,treemap:bA});function kA(t){return function(){return t}}function MA(t){return t[0]}function EA(t){return t[1]}function CA(){this._=null}function DA(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function FA(t,n){var e=n,r=n.R,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.R=r.L,e.R&&(e.R.U=e),r.L=e}function SA(t,n){var e=n,r=n.L,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.L=r.R,e.L&&(e.L.U=e),r.R=e}function BA(t){for(;t.L;)t=t.L;return t}function OA(t,n,e,r){var i=[null,null],a=ek.push(i)-1;return i.left=t,i.right=n,e&&NA(i,t,n,e),r&&NA(i,n,t,r),tk[t.index].halfedges.push(a),tk[n.index].halfedges.push(a),i}function zA(t,n,e){var r=[n,e];return r.left=t,r}function NA(t,n,e,r){t[0]||t[1]?t.left===e?t[1]=r:t[0]=r:(t[0]=r,t.left=n,t.right=e)}function TA(t,n,e,r,i){var a,u=t[0],o=t[1],s=u[0],l=u[1],c=0,f=1,h=o[0]-s,d=o[1]-l;if(a=n-s,h||!(a>0)){if(a/=h,h<0){if(a<c)return;a<f&&(f=a)}else if(h>0){if(a>f)return;a>c&&(c=a)}if(a=r-s,h||!(a<0)){if(a/=h,h<0){if(a>f)return;a>c&&(c=a)}else if(h>0){if(a<c)return;a<f&&(f=a)}if(a=e-l,d||!(a>0)){if(a/=d,d<0){if(a<c)return;a<f&&(f=a)}else if(d>0){if(a>f)return;a>c&&(c=a)}if(a=i-l,d||!(a<0)){if(a/=d,d<0){if(a>f)return;a>c&&(c=a)}else if(d>0){if(a<c)return;a<f&&(f=a)}return!(c>0||f<1)||(c>0&&(t[0]=[s+c*h,l+c*d]),f<1&&(t[1]=[s+f*h,l+f*d]),!0)}}}}}function RA(t,n,e,r,i){var a=t[1];if(a)return!0;var u,o,s=t[0],l=t.left,c=t.right,f=l[0],h=l[1],d=c[0],p=c[1],g=(f+d)/2,v=(h+p)/2;if(p===h){if(g<n||g>=r)return;if(f>d){if(s){if(s[1]>=i)return}else s=[g,e];a=[g,i]}else{if(s){if(s[1]<e)return}else s=[g,i];a=[g,e]}}else if(o=v-(u=(f-d)/(p-h))*g,u<-1||u>1)if(f>d){if(s){if(s[1]>=i)return}else s=[(e-o)/u,e];a=[(i-o)/u,i]}else{if(s){if(s[1]<e)return}else s=[(i-o)/u,i];a=[(e-o)/u,e]}else if(h<p){if(s){if(s[0]>=r)return}else s=[n,u*n+o];a=[r,u*r+o]}else{if(s){if(s[0]<n)return}else s=[r,u*r+o];a=[n,u*n+o]}return t[0]=s,t[1]=a,!0}function PA(t,n){var e=t.site,r=n.left,i=n.right;return e===i&&(i=r,r=e),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(e===r?(r=n[1],i=n[0]):(r=n[0],i=n[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function LA(t,n){return n[+(n.left!==t.site)]}function qA(t,n){return n[+(n.left===t.site)]}CA.prototype={constructor:CA,insert:function(t,n){var e,r,i;if(t){if(n.P=t,n.N=t.N,t.N&&(t.N.P=n),t.N=n,t.R){for(t=t.R;t.L;)t=t.L;t.L=n}else t.R=n;e=t}else this._?(t=BA(this._),n.P=null,n.N=t,t.P=t.L=n,e=t):(n.P=n.N=null,this._=n,e=null);for(n.L=n.R=null,n.U=e,n.C=!0,t=n;e&&e.C;)e===(r=e.U).L?(i=r.R)&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.R&&(FA(this,e),e=(t=e).U),e.C=!1,r.C=!0,SA(this,r)):(i=r.L)&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.L&&(SA(this,e),e=(t=e).U),e.C=!1,r.C=!0,FA(this,r)),e=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var n,e,r,i=t.U,a=t.L,u=t.R;if(e=a?u?BA(u):a:u,i?i.L===t?i.L=e:i.R=e:this._=e,a&&u?(r=e.C,e.C=t.C,e.L=a,a.U=e,e!==u?(i=e.U,e.U=t.U,t=e.R,i.L=t,e.R=u,u.U=e):(e.U=i,i=e,t=e.R)):(r=t.C,t=e),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((n=i.R).C&&(n.C=!1,i.C=!0,FA(this,i),n=i.R),n.L&&n.L.C||n.R&&n.R.C){n.R&&n.R.C||(n.L.C=!1,n.C=!0,SA(this,n),n=i.R),n.C=i.C,i.C=n.R.C=!1,FA(this,i),t=this._;break}}else if((n=i.L).C&&(n.C=!1,i.C=!0,SA(this,i),n=i.L),n.L&&n.L.C||n.R&&n.R.C){n.L&&n.L.C||(n.R.C=!1,n.C=!0,FA(this,n),n=i.L),n.C=i.C,i.C=n.L.C=!1,SA(this,i),t=this._;break}n.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var UA,jA=[];function $A(){DA(this),this.x=this.y=this.arc=this.site=this.cy=null}function IA(t){var n=t.P,e=t.N;if(n&&e){var r=n.site,i=t.site,a=e.site;if(r!==a){var u=i[0],o=i[1],s=r[0]-u,l=r[1]-o,c=a[0]-u,f=a[1]-o,h=2*(s*f-l*c);if(!(h>=-ik)){var d=s*s+l*l,p=c*c+f*f,g=(f*d-l*p)/h,v=(s*p-c*d)/h,m=jA.pop()||new $A;m.arc=t,m.site=i,m.x=g+u,m.y=(m.cy=v+o)+Math.sqrt(g*g+v*v),t.circle=m;for(var y=null,_=nk._;_;)if(m.y<_.y||m.y===_.y&&m.x<=_.x){if(!_.L){y=_.P;break}_=_.L}else{if(!_.R){y=_;break}_=_.R}nk.insert(y,m),y||(UA=m)}}}}function WA(t){var n=t.circle;n&&(n.P||(UA=n.N),nk.remove(n),jA.push(n),DA(n),t.circle=null)}var HA=[];function YA(){DA(this),this.edge=this.site=this.circle=null}function VA(t){var n=HA.pop()||new YA;return n.site=t,n}function GA(t){WA(t),KA.remove(t),HA.push(t),DA(t)}function XA(t){var n=t.circle,e=n.x,r=n.cy,i=[e,r],a=t.P,u=t.N,o=[t];GA(t);for(var s=a;s.circle&&Math.abs(e-s.circle.x)<rk&&Math.abs(r-s.circle.cy)<rk;)a=s.P,o.unshift(s),GA(s),s=a;o.unshift(s),WA(s);for(var l=u;l.circle&&Math.abs(e-l.circle.x)<rk&&Math.abs(r-l.circle.cy)<rk;)u=l.N,o.push(l),GA(l),l=u;o.push(l),WA(l);var c,f=o.length;for(c=1;c<f;++c)l=o[c],s=o[c-1],NA(l.edge,s.site,l.site,i);s=o[0],(l=o[f-1]).edge=OA(s.site,l.site,null,i),IA(s),IA(l)}function ZA(t){for(var n,e,r,i,a=t[0],u=t[1],o=KA._;o;)if((r=JA(o,u)-a)>rk)o=o.L;else{if(!((i=a-QA(o,u))>rk)){r>-rk?(n=o.P,e=o):i>-rk?(n=o,e=o.N):n=e=o;break}if(!o.R){n=o;break}o=o.R}!function(t){tk[t.index]={site:t,halfedges:[]}}(t);var s=VA(t);if(KA.insert(n,s),n||e){if(n===e)return WA(n),e=VA(n.site),KA.insert(s,e),s.edge=e.edge=OA(n.site,s.site),IA(n),void IA(e);if(e){WA(n),WA(e);var l=n.site,c=l[0],f=l[1],h=t[0]-c,d=t[1]-f,p=e.site,g=p[0]-c,v=p[1]-f,m=2*(h*v-d*g),y=h*h+d*d,_=g*g+v*v,x=[(v*y-d*_)/m+c,(h*_-g*y)/m+f];NA(e.edge,l,p,x),s.edge=OA(l,t,null,x),e.edge=OA(t,p,null,x),IA(n),IA(e)}else s.edge=OA(n.site,s.site)}}function JA(t,n){var e=t.site,r=e[0],i=e[1],a=i-n;if(!a)return r;var u=t.P;if(!u)return-1/0;var o=(e=u.site)[0],s=e[1],l=s-n;if(!l)return o;var c=o-r,f=1/a-1/l,h=c/l;return f?(-h+Math.sqrt(h*h-2*f*(c*c/(-2*l)-s+l/2+i-a/2)))/f+r:(r+o)/2}function QA(t,n){var e=t.N;if(e)return JA(e,n);var r=t.site;return r[1]===n?r[0]:1/0}var KA,tk,nk,ek,rk=1e-6,ik=1e-12;function ak(t,n){return n[1]-t[1]||n[0]-t[0]}function uk(t,n){var e,r,i,a=t.sort(ak).pop();for(ek=[],tk=new Array(t.length),KA=new CA,nk=new CA;;)if(i=UA,a&&(!i||a[1]<i.y||a[1]===i.y&&a[0]<i.x))a[0]===e&&a[1]===r||(ZA(a),e=a[0],r=a[1]),a=t.pop();else{if(!i)break;XA(i.arc)}if(function(){for(var t,n,e,r,i=0,a=tk.length;i<a;++i)if((t=tk[i])&&(r=(n=t.halfedges).length)){var u=new Array(r),o=new Array(r);for(e=0;e<r;++e)u[e]=e,o[e]=PA(t,ek[n[e]]);for(u.sort(function(t,n){return o[n]-o[t]}),e=0;e<r;++e)o[e]=n[u[e]];for(e=0;e<r;++e)n[e]=o[e]}}(),n){var u=+n[0][0],o=+n[0][1],s=+n[1][0],l=+n[1][1];!function(t,n,e,r){for(var i,a=ek.length;a--;)RA(i=ek[a],t,n,e,r)&&TA(i,t,n,e,r)&&(Math.abs(i[0][0]-i[1][0])>rk||Math.abs(i[0][1]-i[1][1])>rk)||delete ek[a]}(u,o,s,l),function(t,n,e,r){var i,a,u,o,s,l,c,f,h,d,p,g,v=tk.length,m=!0;for(i=0;i<v;++i)if(a=tk[i]){for(u=a.site,o=(s=a.halfedges).length;o--;)ek[s[o]]||s.splice(o,1);for(o=0,l=s.length;o<l;)p=(d=qA(a,ek[s[o]]))[0],g=d[1],f=(c=LA(a,ek[s[++o%l]]))[0],h=c[1],(Math.abs(p-f)>rk||Math.abs(g-h)>rk)&&(s.splice(o,0,ek.push(zA(u,d,Math.abs(p-t)<rk&&r-g>rk?[t,Math.abs(f-t)<rk?h:r]:Math.abs(g-r)<rk&&e-p>rk?[Math.abs(h-r)<rk?f:e,r]:Math.abs(p-e)<rk&&g-n>rk?[e,Math.abs(f-e)<rk?h:n]:Math.abs(g-n)<rk&&p-t>rk?[Math.abs(h-n)<rk?f:t,n]:null))-1),++l);l&&(m=!1)}if(m){var y,_,x,b=1/0;for(i=0,m=null;i<v;++i)(a=tk[i])&&(x=(y=(u=a.site)[0]-t)*y+(_=u[1]-n)*_)<b&&(b=x,m=a);if(m){var w=[t,n],A=[t,r],k=[e,r],M=[e,n];m.halfedges.push(ek.push(zA(u=m.site,w,A))-1,ek.push(zA(u,A,k))-1,ek.push(zA(u,k,M))-1,ek.push(zA(u,M,w))-1)}}for(i=0;i<v;++i)(a=tk[i])&&(a.halfedges.length||delete tk[i])}(u,o,s,l)}this.edges=ek,this.cells=tk,KA=nk=ek=tk=null}function ok(t){jr.call(this,null,t)}uk.prototype={constructor:uk,polygons:function(){var t=this.edges;return this.cells.map(function(n){var e=n.halfedges.map(function(e){return LA(n,t[e])});return e.data=n.site.data,e})},triangles:function(){var t=[],n=this.edges;return this.cells.forEach(function(e,r){if(a=(i=e.halfedges).length)for(var i,a,u,o,s,l,c=e.site,f=-1,h=n[i[a-1]],d=h.left===c?h.right:h.left;++f<a;)u=d,d=(h=n[i[f]]).left===c?h.right:h.left,u&&d&&r<u.index&&r<d.index&&(s=u,l=d,((o=c)[0]-l[0])*(s[1]-o[1])-(o[0]-s[0])*(l[1]-o[1])<0)&&t.push([c.data,u.data,d.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,n,e){for(var r,i,a=this,u=a._found||0,o=a.cells.length;!(i=a.cells[u]);)if(++u>=o)return null;var s=t-i.site[0],l=n-i.site[1],c=s*s+l*l;do{i=a.cells[r=u],u=null,i.halfedges.forEach(function(e){var r=a.edges[e],o=r.left;if(o!==i.site&&o||(o=r.right)){var s=t-o[0],l=n-o[1],f=s*s+l*l;f<c&&(c=f,u=o.index)}})}while(null!==u);return a._found=r,null==e||c<=e*e?i.site:null}},ok.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};var sk=et(ok,jr),lk=[[-1e5,-1e5],[1e5,1e5]];sk.transform=function(t,n){var e,r,i,a,u=t.as||"path",o=n.source;for(e=function(){var t=MA,n=EA,e=null;function r(r){return new uk(r.map(function(e,i){var a=[Math.round(t(e,i,r)/rk)*rk,Math.round(n(e,i,r)/rk)*rk];return a.index=i,a.data=e,a}),e)}return r.polygons=function(t){return r(t).polygons()},r.links=function(t){return r(t).links()},r.triangles=function(t){return r(t).triangles()},r.x=function(n){return arguments.length?(t="function"==typeof n?n:kA(+n),r):t},r.y=function(t){return arguments.length?(n="function"==typeof t?t:kA(+t),r):n},r.extent=function(t){return arguments.length?(e=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],r):e&&[[e[0][0],e[0][1]],[e[1][0],e[1][1]]]},r.size=function(t){return arguments.length?(e=null==t?null:[[0,0],[+t[0],+t[1]]],r):e&&[e[1][0]-e[0][0],e[1][1]-e[0][1]]},r}().x(t.x).y(t.y),t.size?e.size(t.size):e.extent(t.extent||lk),this.value=e=e(o),r=e.polygons(),i=0,a=o.length;i<a;++i)o[i][u]=r[i]?"M"+r[i].join("L")+"Z":null;return n.reflow(t.modified()).modifies(u)};var ck=Object.freeze({voronoi:ok}),fk=Math.PI/180,hk=64,dk=2048;function pk(){var t,n,e,r,i,a,u,o=[256,256],s=yk,l=[],c=Math.random,f={};function h(t,n,e){for(var r,i,a,u,l,f=n.x,h=n.y,d=Math.sqrt(o[0]*o[0]+o[1]*o[1]),p=s(o),g=c()<.5?1:-1,v=-g;(r=p(v+=g))&&(i=~~r[0],a=~~r[1],!(Math.min(Math.abs(i),Math.abs(a))>=d));)if(n.x=f+i,n.y=h+a,!(n.x+n.x0<0||n.y+n.y0<0||n.x+n.x1>o[0]||n.y+n.y1>o[1]||e&&vk(n,t,o[0])||e&&(l=e,!((u=n).x+u.x1>l[0].x&&u.x+u.x0<l[1].x&&u.y+u.y1>l[0].y&&u.y+u.y0<l[1].y)))){for(var m,y=n.sprite,_=n.width>>5,x=o[0]>>5,b=n.x-(_<<4),w=127&b,A=32-w,k=n.y1-n.y0,M=(n.y+n.y0)*x+(b>>5),E=0;E<k;E++){m=0;for(var C=0;C<=_;C++)t[M+C]|=m<<A|(C<_?(m=y[E*_+C])>>>w:0);M+=x}return n.sprite=null,!0}return!1}return f.layout=function(){for(var s=function(t){t.width=t.height=1;var n=Math.sqrt(t.getContext("2d").getImageData(0,0,1,1).data.length>>2);t.width=(hk<<5)/n,t.height=dk/n;var e=t.getContext("2d");return e.fillStyle=e.strokeStyle="red",e.textAlign="center",{context:e,ratio:n}}(Bu()),f=function(t){var n=[],e=-1;for(;++e<t;)n[e]=0;return n}((o[0]>>5)*o[1]),d=null,p=l.length,g=-1,v=[],m=l.map(function(o){return{text:t(o),font:n(o),style:r(o),weight:i(o),rotate:a(o),size:~~e(o),padding:u(o),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:o}}).sort(function(t,n){return n.size-t.size});++g<p;){var y=m[g];y.x=o[0]*(c()+.5)>>1,y.y=o[1]*(c()+.5)>>1,gk(s,y,m,g),y.hasText&&h(f,y,d)&&(v.push(y),d?mk(d,y):d=[{x:y.x+y.x0,y:y.y+y.y0},{x:y.x+y.x1,y:y.y+y.y1}],y.x-=o[0]>>1,y.y-=o[1]>>1)}return v},f.words=function(t){return arguments.length?(l=t,f):l},f.size=function(t){return arguments.length?(o=[+t[0],+t[1]],f):o},f.font=function(t){return arguments.length?(n=_k(t),f):n},f.fontStyle=function(t){return arguments.length?(r=_k(t),f):r},f.fontWeight=function(t){return arguments.length?(i=_k(t),f):i},f.rotate=function(t){return arguments.length?(a=_k(t),f):a},f.text=function(n){return arguments.length?(t=_k(n),f):t},f.spiral=function(t){return arguments.length?(s=xk[t]||t,f):s},f.fontSize=function(t){return arguments.length?(e=_k(t),f):e},f.padding=function(t){return arguments.length?(u=_k(t),f):u},f.random=function(t){return arguments.length?(c=t,f):c},f}function gk(t,n,e,r){if(!n.sprite){var i=t.context,a=t.ratio;i.clearRect(0,0,(hk<<5)/a,dk/a);var u,o,s,l,c,f=0,h=0,d=0,p=e.length;for(--r;++r<p;){if(n=e[r],i.save(),i.font=n.style+" "+n.weight+" "+~~((n.size+1)/a)+"px "+n.font,u=i.measureText(n.text+"m").width*a,s=n.size<<1,n.rotate){var g=Math.sin(n.rotate*fk),v=Math.cos(n.rotate*fk),m=u*v,y=u*g,_=s*v,x=s*g;u=Math.max(Math.abs(m+x),Math.abs(m-x))+31>>5<<5,s=~~Math.max(Math.abs(y+_),Math.abs(y-_))}else u=u+31>>5<<5;if(s>d&&(d=s),f+u>=hk<<5&&(f=0,h+=d,d=0),h+s>=dk)break;i.translate((f+(u>>1))/a,(h+(s>>1))/a),n.rotate&&i.rotate(n.rotate*fk),i.fillText(n.text,0,0),n.padding&&(i.lineWidth=2*n.padding,i.strokeText(n.text,0,0)),i.restore(),n.width=u,n.height=s,n.xoff=f,n.yoff=h,n.x1=u>>1,n.y1=s>>1,n.x0=-n.x1,n.y0=-n.y1,n.hasText=!0,f+=u}for(var b=i.getImageData(0,0,(hk<<5)/a,dk/a).data,w=[];--r>=0;)if((n=e[r]).hasText){for(o=(u=n.width)>>5,s=n.y1-n.y0,l=0;l<s*o;l++)w[l]=0;if(null==(f=n.xoff))return;h=n.yoff;var A=0,k=-1;for(c=0;c<s;c++){for(l=0;l<u;l++){var M=o*c+(l>>5),E=b[(h+c)*(hk<<5)+(f+l)<<2]?1<<31-l%32:0;w[M]|=E,A|=E}A?k=c:(n.y0++,s--,c--,h++)}n.y1=n.y0+k,n.sprite=w.slice(0,(n.y1-n.y0)*o)}}}function vk(t,n,e){e>>=5;for(var r,i=t.sprite,a=t.width>>5,u=t.x-(a<<4),o=127&u,s=32-o,l=t.y1-t.y0,c=(t.y+t.y0)*e+(u>>5),f=0;f<l;f++){r=0;for(var h=0;h<=a;h++)if((r<<s|(h<a?(r=i[f*a+h])>>>o:0))&n[c+h])return!0;c+=e}return!1}function mk(t,n){var e=t[0],r=t[1];n.x+n.x0<e.x&&(e.x=n.x+n.x0),n.y+n.y0<e.y&&(e.y=n.y+n.y0),n.x+n.x1>r.x&&(r.x=n.x+n.x1),n.y+n.y1>r.y&&(r.y=n.y+n.y1)}function yk(t){var n=t[0]/t[1];return function(t){return[n*(t*=.1)*Math.cos(t),t*Math.sin(t)]}}function _k(t){return"function"==typeof t?t:function(){return t}}var xk={archimedean:yk,rectangular:function(t){var n=4*t[0]/t[1],e=0,r=0;return function(t){var i=t<0?-1:1;switch(Math.sqrt(1+4*i*t)-i&3){case 0:e+=n;break;case 1:r+=4;break;case 2:e-=n;break;default:r-=4}return[e,r]}}},bk=["x","y","font","fontSize","fontStyle","fontWeight","angle"],wk=["text","font","rotate","fontSize","fontStyle","fontWeight"];function Ak(t){jr.call(this,pk(),t)}Ak.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:bk}]},et(Ak,jr).transform=function(n,e){!n.size||n.size[0]&&n.size[1]||i("Wordcloud size dimensions must be non-zero.");var r=n.modified();if(r||e.changed(e.ADD_REM)||wk.some(function(t){var r=n[t];return Y(r)&&e.modified(r.fields)})){var a,u=e.materialize(e.SOURCE).source,o=this.value,s=n.as||bk,l=n.fontSize||14;if(Y(l)?a=n.fontSizeRange:l=G(l),a){var c=l,f=Mg("sqrt")().domain(function(t,n){for(var e,r=1/0,i=-1/0,a=0,u=n.length;a<u;++a)(e=t(n[a]))<r&&(r=e),e>i&&(i=e);return[r,i]}(c,u)).range(a);l=function(t){return f(c(t))}}u.forEach(function(t){t[s[0]]=NaN,t[s[1]]=NaN,t[s[3]]=0});for(var h,d,p=o.words(u).text(n.text).size(n.size||[500,500]).padding(n.padding||1).spiral(n.spiral||"archimedean").rotate(n.rotate||0).font(n.font||"sans-serif").fontStyle(n.fontStyle||"normal").fontWeight(n.fontWeight||"normal").fontSize(l).random(t.random).layout(),g=o.size(),v=g[0]>>1,m=g[1]>>1,y=0,_=p.length;y<_;++y)(d=(h=p[y]).datum)[s[0]]=h.x+v,d[s[1]]=h.y+m,d[s[2]]=h.font,d[s[3]]=h.size,d[s[4]]=h.style,d[s[5]]=h.weight,d[s[6]]=h.rotate;return e.reflow(r).modifies(s)}};var kk=Object.freeze({wordcloud:Ak});function Mk(t){return new Uint32Array(t)}function Ek(t,n,e){var r=(n<257?function(t){return new Uint8Array(t)}:n<65537?function(t){return new Uint16Array(t)}:Mk)(t);return e&&r.set(e),r}function Ck(t,n,e){var r=1<<n;return{one:r,zero:~r,range:e.slice(),bisect:t.bisect,index:t.index,size:t.size,onAdd:function(t,n){var e,i=this.bisect(this.range,t.value),a=t.index,u=i[0],o=i[1],s=a.length;for(e=0;e<u;++e)n[a[e]]|=r;for(e=o;e<s;++e)n[a[e]]|=r;return this}}}function Dk(){var t=Mk(0),n=[],e=0;return{insert:function(r,i,a){if(!i.length)return[];var u,o,s,l=e,c=i.length,f=Array(c),h=Mk(c);for(s=0;s<c;++s)f[s]=r(i[s]),h[s]=s;if(f=function(t,n){return t.sort.call(n,function(n,e){var r=t[n],i=t[e];return r<i?-1:r>i?1:0}),function(t,n){for(var e=n.length,r=new Array(e);e--;)r[e]=t[n[e]];return r}(t,n)}(f,h),l)u=n,o=t,n=Array(l+c),t=Mk(l+c),function(t,n,e,r,i,a,u,o,s){var l,c=0,f=0;for(l=0;c<r&&f<u;++l)n[c]<i[f]?(o[l]=n[c],s[l]=e[c++]):(o[l]=i[f],s[l]=a[f++]+t);for(;c<r;++c,++l)o[l]=n[c],s[l]=e[c];for(;f<u;++f,++l)o[l]=i[f],s[l]=a[f]+t}(a,u,o,l,f,h,c,n,t);else{if(a>0)for(s=0;s<c;++s)h[s]+=a;n=f,t=h}return e=l+c,{index:h,value:f}},remove:function(r,i){var a,u,o,s=e;for(u=0;!i[t[u]]&&u<s;++u);for(o=u;u<s;++u)i[a=t[u]]||(t[o]=a,n[o]=n[u],++o);e=s-r},bisect:function(t,r){var i;return r?i=r.length:(r=n,i=e),[oi(r,t[0],0,i),ui(r,t[1],0,i)]},reindex:function(n){for(var r=0,i=e;r<i;++r)t[r]=n[t[r]]},index:function(){return t},size:function(){return e}}}function Fk(t){var n,e,r,i,a;jr.call(this,(n=8,e=[],r=Mk(0),i=Ek(0,n),a=Ek(0,n),{data:function(){return e},seen:function(){return t=r,n=e.length,r=t.length>=n?t:((i=i||new t.constructor(n)).set(t),i);var t,n,i},add:function(t){for(var n,r=0,i=e.length,a=t.length;r<a;++r)(n=t[r])._index=i++,e.push(n)},remove:function(t,n){var r,u,o,s=e.length,l=Array(s-t),c=e;for(u=0;!n[u]&&u<s;++u)l[u]=e[u],c[u]=u;for(o=u;u<s;++u)r=e[u],n[u]?c[u]=-1:(c[u]=o,i[o]=i[u],a[o]=a[u],l[o]=r,r._index=o++),i[u]=0;return e=l,c},size:function(){return e.length},curr:function(){return i},prev:function(){return a},reset:function(t){a[t]=i[t]},all:function(){return n<257?255:n<65537?65535:4294967295},set:function(t,n){i[t]|=n},clear:function(t,n){i[t]&=~n},resize:function(t,e){(t>i.length||e>n)&&(n=Math.max(e,n),i=Ek(t,n,i),a=Ek(t,n))}}),t),this._indices=null,this._dims=null}Fk.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};var Sk=et(Fk,jr);function Bk(t){jr.call(this,null,t)}Sk.transform=function(t,n){return this._dims?t.modified("fields")||t.fields.some(function(t){return n.modified(t.fields)})?this.reinit(t,n):this.eval(t,n):this.init(t,n)},Sk.init=function(t,n){for(var e,r,i=t.fields,a=t.query,u=this._indices={},o=this._dims=[],s=a.length,l=0;l<s;++l)r=u[e=i[l].fname]||(u[e]=Dk()),o.push(Ck(r,l,a[l]));return this.eval(t,n)},Sk.reinit=function(t,n){var e,r,i,a,u,o,s,l,c,f=n.materialize().fork(),h=t.fields,d=t.query,p=this._indices,g=this._dims,v=this.value,m=v.curr(),y=v.prev(),_=v.all(),x=f.rem=f.add,b=f.mod,w=d.length,A={};if(y.set(m),n.rem.length&&(u=this.remove(t,n,f)),n.add.length&&v.add(n.add),n.mod.length)for(o={},s=0,l=(a=n.mod).length;s<l;++s)o[a[s]._index]=1;for(s=0;s<w;++s)c=h[s],(!g[s]||t.modified("fields",s)||n.modified(c.fields))&&((e=A[i=c.fname])||(p[i]=r=Dk(),A[i]=e=r.insert(c,n.source,0)),g[s]=Ck(r,s,d[s]).onAdd(e,m));for(s=0,l=v.data().length;s<l;++s)u[s]||(y[s]!==m[s]?x.push(s):o[s]&&m[s]!==_&&b.push(s));return v.mask=(1<<w)-1,f},Sk.eval=function(t,n){var e=n.materialize().fork(),r=this._dims.length,i=0;return n.rem.length&&(this.remove(t,n,e),i|=(1<<r)-1),t.modified("query")&&!t.modified("fields")&&(i|=this.update(t,n,e)),n.add.length&&(this.insert(t,n,e),i|=(1<<r)-1),n.mod.length&&(this.modify(n,e),i|=(1<<r)-1),this.value.mask=i,e},Sk.insert=function(t,n,e){var r,i,a,u=n.add,o=this.value,s=this._dims,l=this._indices,c=t.fields,f={},h=e.add,d=o.size(),p=d+u.length,g=s.length;o.resize(p,g),o.add(u);var v=o.curr(),m=o.prev(),y=o.all();for(r=0;r<g;++r)a=f[i=c[r].fname]||(f[i]=l[i].insert(c[r],u,d)),s[r].onAdd(a,v);for(;d<p;++d)m[d]=y,v[d]!==y&&h.push(d)},Sk.modify=function(t,n){var e,r,i,a=n.mod,u=this.value,o=u.curr(),s=u.all(),l=t.mod;for(e=0,r=l.length;e<r;++e)o[i=l[e]._index]!==s&&a.push(i)},Sk.remove=function(t,n,e){var r,i,a,u,o=this._indices,s=this.value,l=s.curr(),c=s.prev(),f=s.all(),h={},d=e.rem,p=n.rem;for(r=0,i=p.length;r<i;++r)h[a=p[r]._index]=1,c[a]=u=l[a],l[a]=f,u!==f&&d.push(a);for(a in o)o[a].remove(i,h);return this.reindex(n,i,h),h},Sk.reindex=function(t,n,e){var r=this._indices,i=this.value;t.runAfter(function(){var t=i.remove(n,e);for(var a in r)r[a].reindex(t)})},Sk.update=function(t,n,e){var r,i,a=this._dims,u=t.query,o=n.stamp,s=a.length,l=0;for(e.filters=0,i=0;i<s;++i)t.modified("query",i)&&(r=i,++l);if(1===l)l=a[r].one,this.incrementOne(a[r],u[r],e.add,e.rem);else for(i=0,l=0;i<s;++i)t.modified("query",i)&&(l|=a[i].one,this.incrementAll(a[i],u[i],o,e.add),e.rem=e.add);return l},Sk.incrementAll=function(t,n,e,r){var i,a,u,o=this.value,s=o.seen(),l=o.curr(),c=o.prev(),f=t.index(),h=t.bisect(t.range),d=t.bisect(n),p=d[0],g=d[1],v=h[0],m=h[1],y=t.one;if(p<v)for(i=p,a=Math.min(v,g);i<a;++i)s[u=f[i]]!==e&&(c[u]=l[u],s[u]=e,r.push(u)),l[u]^=y;else if(p>v)for(i=v,a=Math.min(p,m);i<a;++i)s[u=f[i]]!==e&&(c[u]=l[u],s[u]=e,r.push(u)),l[u]^=y;if(g>m)for(i=Math.max(p,m),a=g;i<a;++i)s[u=f[i]]!==e&&(c[u]=l[u],s[u]=e,r.push(u)),l[u]^=y;else if(g<m)for(i=Math.max(v,g),a=m;i<a;++i)s[u=f[i]]!==e&&(c[u]=l[u],s[u]=e,r.push(u)),l[u]^=y;t.range=n.slice()},Sk.incrementOne=function(t,n,e,r){var i,a,u,o=this.value.curr(),s=t.index(),l=t.bisect(t.range),c=t.bisect(n),f=c[0],h=c[1],d=l[0],p=l[1],g=t.one;if(f<d)for(i=f,a=Math.min(d,h);i<a;++i)o[u=s[i]]^=g,e.push(u);else if(f>d)for(i=d,a=Math.min(f,p);i<a;++i)o[u=s[i]]^=g,r.push(u);if(h>p)for(i=Math.max(f,p),a=h;i<a;++i)o[u=s[i]]^=g,e.push(u);else if(h<p)for(i=Math.max(d,h),a=p;i<a;++i)o[u=s[i]]^=g,r.push(u);t.range=n.slice()},Bk.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]},et(Bk,jr).transform=function(t,n){var e=~(t.ignore||0),r=t.filter,i=r.mask;if(0==(i&e))return n.StopPropagation;var a=n.fork(n.ALL),u=r.data(),o=r.curr(),s=r.prev(),l=function(t){return o[t]&e?null:u[t]};return a.filter(a.MOD,l),i&i-1?(a.filter(a.ADD,function(t){var n=o[t]&e;return!n&&n^s[t]&e?u[t]:null}),a.filter(a.REM,function(t){var n=o[t]&e;return n&&!(n^n^s[t]&e)?u[t]:null})):(a.filter(a.ADD,l),a.filter(a.REM,function(t){return(o[t]&e)===i?u[t]:null})),a.filter(a.SOURCE,function(t){return l(t._index)})};var Ok=Object.freeze({crossfilter:Fk,resolvefilter:Bk}),zk="default";function Nk(t){var n=t._signals.cursor;n||(t._signals.cursor=n=t.add({user:zk,item:null})),t.on(t.events("view","mousemove"),n,function(t,e){var r=n.value,i=r?s(r)?r:r.user:zk,a=e.item&&e.item.cursor||null;return r&&i===r.user&&a==r.item?r:{user:i,item:a}}),t.add(null,function(t){var n,e=t.cursor,r=this.value;return s(e)||(r=e.item,e=e.user),n=e&&e!==zk?e:r||e,"undefined"!=typeof document&&document.body&&(document.body.style.cursor=n),r},{cursor:n})}function Tk(t,n){var e=t._runtime.data;return e.hasOwnProperty(n)||i("Unrecognized data set: "+n),e[n]}function Rk(t,n){Ot(n)||i("Second argument to changes must be a changeset.");var e=Tk(this,t);return e.modified=!0,this.pulse(e.input,n)}function Pk(t){var n=t.padding();return Math.max(0,t._viewWidth+n.left+n.right)}function Lk(t){var n=t.padding();return Math.max(0,t._viewHeight+n.top+n.bottom)}function qk(t){var n=t.padding(),e=t._origin;return[n.left+e[0],n.top+e[1]]}function Uk(t,n,e){var r,i,a=t._renderer,u=a&&a.canvas();return u&&(i=qk(t),(r=oc(n.changedTouches?n.changedTouches[0]:n,u))[0]-=i[0],r[1]-=i[1]),n.dataflow=t,n.item=e,n.vega=function(t,n,e){var r=n?"group"===n.mark.marktype?n:n.mark.group:null;function i(t){var e,i=r;if(t)for(e=n;e;e=e.mark.group)if(e.mark.name===t){i=e;break}return i&&i.mark&&i.mark.interactive?i:{}}function a(t){if(!t)return e;s(t)&&(t=i(t));for(var n=e.slice();t;)n[0]-=t.x||0,n[1]-=t.y||0,t=t.mark&&t.mark.group;return n}return{view:G(t),item:G(n||{}),group:i,xy:a,x:function(t){return a(t)[0]},y:function(t){return a(t)[1]}}}(t,e,r),n}var jk="view",$k="timer",Ik="window",Wk={trap:!1};function Hk(t){return t.item}function Yk(t){var n=t.item.mark.source;return n.source||n}function Vk(t){return function(n,e){return e.vega.view().changeset().encode(e.item,t)}}function Gk(t,n,e){var r=document.createElement(t);for(var i in n)r.setAttribute(i,n[i]);return null!=e&&(r.textContent=e),r}var Xk="vega-bind",Zk="vega-bind-name",Jk="vega-bind-radio",Qk="vega-option-";function Kk(t,n,e){if(n){var r=e.param,i=e.state;return i||(i=e.state={elements:null,active:!1,set:null,update:function(n){n!==t.signal(r.signal)&&t.runAsync(null,function(){i.source=!0,t.signal(r.signal,n)})}},r.debounce&&(i.update=X(r.debounce,i.update))),function(t,n,e,r){var i=Gk("div",{class:Xk});i.appendChild(Gk("span",{class:Zk},e.name||e.signal)),n.appendChild(i);var a=tM;switch(e.input){case"checkbox":a=nM;break;case"select":a=eM;break;case"radio":a=rM;break;case"range":a=iM}a(t,i,e,r)}(i,n,r,t.signal(r.signal)),i.active||(t.on(t._signals[r.signal],null,function(){i.source?i.source=!1:i.set(t.signal(r.signal))}),i.active=!0),i}}function tM(t,n,e,r){var i=Gk("input");for(var a in e)"signal"!==a&&"element"!==a&&i.setAttribute("input"===a?"type":a,e[a]);i.setAttribute("name",e.signal),i.value=r,n.appendChild(i),i.addEventListener("input",function(){t.update(i.value)}),t.elements=[i],t.set=function(t){i.value=t}}function nM(t,n,e,r){var i={type:"checkbox",name:e.signal};r&&(i.checked=!0);var a=Gk("input",i);n.appendChild(a),a.addEventListener("change",function(){t.update(a.checked)}),t.elements=[a],t.set=function(t){a.checked=!!t||null}}function eM(t,n,e,r){var i=Gk("select",{name:e.signal});e.options.forEach(function(t){var n={value:t};aM(t,r)&&(n.selected=!0),i.appendChild(Gk("option",n,t+""))}),n.appendChild(i),i.addEventListener("change",function(){t.update(e.options[i.selectedIndex])}),t.elements=[i],t.set=function(t){for(var n=0,r=e.options.length;n<r;++n)if(aM(e.options[n],t))return void(i.selectedIndex=n)}}function rM(t,n,e,r){var i=Gk("span",{class:Jk});n.appendChild(i),t.elements=e.options.map(function(n){var a=Qk+e.signal+"-"+n,u={id:a,type:"radio",name:e.signal,value:n};aM(n,r)&&(u.checked=!0);var o=Gk("input",u);return o.addEventListener("change",function(){t.update(n)}),i.appendChild(o),i.appendChild(Gk("label",{for:a},n+"")),o}),t.set=function(n){for(var e=t.elements,r=0,i=e.length;r<i;++r)aM(e[r].value,n)&&(e[r].checked=!0)}}function iM(t,n,e,r){r=void 0!==r?r:(+e.max+ +e.min)/2;var i=e.min||Math.min(0,+r)||0,a=e.max||Math.max(100,+r)||100,u=e.step||gi(i,a,100),o=Gk("input",{type:"range",name:e.signal,min:i,max:a,step:u});o.value=r;var s=Gk("label",{},+r);function l(){s.textContent=o.value,t.update(+o.value)}n.appendChild(o),n.appendChild(s),o.addEventListener("input",l),o.addEventListener("change",l),t.elements=[o],t.set=function(t){o.value=t,s.textContent=t}}function aM(t,n){return t===n||t+""==n+""}function uM(t,n,e,r,i,a){return(n=n||new r(t.loader())).initialize(e,Pk(t),Lk(t),qk(t),i,a).background(t._background)}function oM(t,n){return n?function(){try{n.apply(this,arguments)}catch(n){t.error(n)}}:null}function sM(t,n){if("string"==typeof n){if("undefined"==typeof document)return t.error("DOM document instance not found."),null;if(!(n=document.querySelector(n)))return t.error("Signal bind element not found: "+n),null}if(n)try{n.innerHTML=""}catch(e){n=null,t.error(e)}return n}async function lM(t,n,e,r){const a=Qc(n),u=a&&a.headless;return u||i("Unrecognized renderer type: "+n),await t.runAsync(),uM(t,null,null,u,e,r).renderAsync(t._scenegraph.root)}var cM,fM,hM,dM,pM,gM="RawCode",vM="Literal",mM="Property",yM="Identifier",_M="ArrayExpression",xM="BinaryExpression",bM="CallExpression",wM="ConditionalExpression",AM="LogicalExpression",kM="MemberExpression",MM="ObjectExpression",EM="UnaryExpression";function CM(t){this.type=t}CM.prototype.visit=function(t){var n,e,r;if(t(this))return 1;for(e=0,r=(n=function(t){switch(t.type){case _M:return t.elements;case xM:case AM:return[t.left,t.right];case bM:var n=t.arguments.slice();return n.unshift(t.callee),n;case wM:return[t.test,t.consequent,t.alternate];case kM:return[t.object,t.property];case MM:return t.properties;case mM:return[t.key,t.value];case EM:return[t.argument];case yM:case vM:case gM:default:return[]}}(this)).length;e<r;++e)if(n[e].visit(t))return 1};var DM=1,FM=2,SM=3,BM=4,OM=5,zM=6,NM=7,TM=8;(cM={})[DM]="Boolean",cM[FM]="<end>",cM[SM]="Identifier",cM[BM]="Keyword",cM[OM]="Null",cM[zM]="Numeric",cM[NM]="Punctuator",cM[TM]="String",cM[9]="RegularExpression";var RM="ArrayExpression",PM="BinaryExpression",LM="CallExpression",qM="ConditionalExpression",UM="Identifier",jM="Literal",$M="LogicalExpression",IM="MemberExpression",WM="ObjectExpression",HM="Property",YM="UnaryExpression",VM="Unexpected token %0",GM="Unexpected number",XM="Unexpected string",ZM="Unexpected identifier",JM="Unexpected reserved word",QM="Unexpected end of input",KM="Invalid regular expression",tE="Invalid regular expression: missing /",nE="Octal literals are not allowed in strict mode.",eE="Duplicate data property in object literal not allowed in strict mode",rE="ILLEGAL",iE="Disabled.",aE=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),uE=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function oE(t,n){if(!t)throw new Error("ASSERT: "+n)}function sE(t){return t>=48&&t<=57}function lE(t){return"0123456789abcdefABCDEF".indexOf(t)>=0}function cE(t){return"01234567".indexOf(t)>=0}function fE(t){return 32===t||9===t||11===t||12===t||160===t||t>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(t)>=0}function hE(t){return 10===t||13===t||8232===t||8233===t}function dE(t){return 36===t||95===t||t>=65&&t<=90||t>=97&&t<=122||92===t||t>=128&&aE.test(String.fromCharCode(t))}function pE(t){return 36===t||95===t||t>=65&&t<=90||t>=97&&t<=122||t>=48&&t<=57||92===t||t>=128&&uE.test(String.fromCharCode(t))}var gE={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function vE(){for(var t;hM<dM&&(fE(t=fM.charCodeAt(hM))||hE(t));)++hM}function mE(t){var n,e,r,i=0;for(e="u"===t?4:2,n=0;n<e;++n)hM<dM&&lE(fM[hM])?(r=fM[hM++],i=16*i+"0123456789abcdef".indexOf(r.toLowerCase())):zE({},VM,rE);return String.fromCharCode(i)}function yE(){var t,n,e,r;for(n=0,"}"===(t=fM[hM])&&zE({},VM,rE);hM<dM&&lE(t=fM[hM++]);)n=16*n+"0123456789abcdef".indexOf(t.toLowerCase());return(n>1114111||"}"!==t)&&zE({},VM,rE),n<=65535?String.fromCharCode(n):(e=55296+(n-65536>>10),r=56320+(n-65536&1023),String.fromCharCode(e,r))}function _E(){var t,n;for(t=fM.charCodeAt(hM++),n=String.fromCharCode(t),92===t&&(117!==fM.charCodeAt(hM)&&zE({},VM,rE),++hM,(t=mE("u"))&&"\\"!==t&&dE(t.charCodeAt(0))||zE({},VM,rE),n=t);hM<dM&&pE(t=fM.charCodeAt(hM));)++hM,n+=String.fromCharCode(t),92===t&&(n=n.substr(0,n.length-1),117!==fM.charCodeAt(hM)&&zE({},VM,rE),++hM,(t=mE("u"))&&"\\"!==t&&pE(t.charCodeAt(0))||zE({},VM,rE),n+=t);return n}function xE(){var t,n;return t=hM,{type:1===(n=92===fM.charCodeAt(hM)?_E():function(){var t,n;for(t=hM++;hM<dM;){if(92===(n=fM.charCodeAt(hM)))return hM=t,_E();if(!pE(n))break;++hM}return fM.slice(t,hM)}()).length?SM:gE.hasOwnProperty(n)?BM:"null"===n?OM:"true"===n||"false"===n?DM:SM,value:n,start:t,end:hM}}function bE(){var t,n,e,r,i=hM,a=fM.charCodeAt(hM),u=fM[hM];switch(a){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++hM,{type:NM,value:String.fromCharCode(a),start:i,end:hM};default:if(61===(t=fM.charCodeAt(hM+1)))switch(a){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return hM+=2,{type:NM,value:String.fromCharCode(a)+String.fromCharCode(t),start:i,end:hM};case 33:case 61:return hM+=2,61===fM.charCodeAt(hM)&&++hM,{type:NM,value:fM.slice(i,hM),start:i,end:hM}}}return">>>="===(r=fM.substr(hM,4))?{type:NM,value:r,start:i,end:hM+=4}:">>>"===(e=r.substr(0,3))||"<<="===e||">>="===e?{type:NM,value:e,start:i,end:hM+=3}:u===(n=e.substr(0,2))[1]&&"+-<>&|".indexOf(u)>=0||"=>"===n?{type:NM,value:n,start:i,end:hM+=2}:"<>=!+-*%&|^/".indexOf(u)>=0?{type:NM,value:u,start:i,end:++hM}:void zE({},VM,rE)}function wE(){var t,n,e;if(oE(sE((e=fM[hM]).charCodeAt(0))||"."===e,"Numeric literal must start with a decimal digit or a decimal point"),n=hM,t="","."!==e){if(t=fM[hM++],e=fM[hM],"0"===t){if("x"===e||"X"===e)return++hM,function(t){for(var n="";hM<dM&&lE(fM[hM]);)n+=fM[hM++];return 0===n.length&&zE({},VM,rE),dE(fM.charCodeAt(hM))&&zE({},VM,rE),{type:zM,value:parseInt("0x"+n,16),start:t,end:hM}}(n);if(cE(e))return function(t){for(var n="0"+fM[hM++];hM<dM&&cE(fM[hM]);)n+=fM[hM++];return(dE(fM.charCodeAt(hM))||sE(fM.charCodeAt(hM)))&&zE({},VM,rE),{type:zM,value:parseInt(n,8),octal:!0,start:t,end:hM}}(n);e&&sE(e.charCodeAt(0))&&zE({},VM,rE)}for(;sE(fM.charCodeAt(hM));)t+=fM[hM++];e=fM[hM]}if("."===e){for(t+=fM[hM++];sE(fM.charCodeAt(hM));)t+=fM[hM++];e=fM[hM]}if("e"===e||"E"===e)if(t+=fM[hM++],"+"!==(e=fM[hM])&&"-"!==e||(t+=fM[hM++]),sE(fM.charCodeAt(hM)))for(;sE(fM.charCodeAt(hM));)t+=fM[hM++];else zE({},VM,rE);return dE(fM.charCodeAt(hM))&&zE({},VM,rE),{type:zM,value:parseFloat(t),start:n,end:hM}}function AE(){var t,n,e,r;return pM=null,vE(),t=hM,n=function(){var t,n,e,r;for(oE("/"===(t=fM[hM]),"Regular expression literal must start with a slash"),n=fM[hM++],e=!1,r=!1;hM<dM;)if(n+=t=fM[hM++],"\\"===t)hE((t=fM[hM++]).charCodeAt(0))&&zE({},tE),n+=t;else if(hE(t.charCodeAt(0)))zE({},tE);else if(e)"]"===t&&(e=!1);else{if("/"===t){r=!0;break}"["===t&&(e=!0)}return r||zE({},tE),{value:n.substr(1,n.length-2),literal:n}}(),e=function(){var t,n,e;for(n="",e="";hM<dM&&pE((t=fM[hM]).charCodeAt(0));)++hM,"\\"===t&&hM<dM?zE({},VM,rE):(e+=t,n+=t);return e.search(/[^gimuy]/g)>=0&&zE({},KM,e),{value:e,literal:n}}(),r=function(t,n){var e=t;n.indexOf("u")>=0&&(e=e.replace(/\\u\{([0-9a-fA-F]+)\}/g,function(t,n){if(parseInt(n,16)<=1114111)return"x";zE({},KM)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{return new RegExp(t,n)}catch(t){return null}}(n.value,e.value),{literal:n.literal+e.literal,value:r,regex:{pattern:n.value,flags:e.value},start:t,end:hM}}function kE(){var t;return vE(),hM>=dM?{type:FM,start:hM,end:hM}:dE(t=fM.charCodeAt(hM))?xE():40===t||41===t||59===t?bE():39===t||34===t?function(){var t,n,e,r,i="",a=!1;for(oE("'"===(t=fM[hM])||'"'===t,"String literal must starts with a quote"),n=hM,++hM;hM<dM;){if((e=fM[hM++])===t){t="";break}if("\\"===e)if((e=fM[hM++])&&hE(e.charCodeAt(0)))"\r"===e&&"\n"===fM[hM]&&++hM;else switch(e){case"u":case"x":"{"===fM[hM]?(++hM,i+=yE()):i+=mE(e);break;case"n":i+="\n";break;case"r":i+="\r";break;case"t":i+="\t";break;case"b":i+="\b";break;case"f":i+="\f";break;case"v":i+="\v";break;default:cE(e)?(0!==(r="01234567".indexOf(e))&&(a=!0),hM<dM&&cE(fM[hM])&&(a=!0,r=8*r+"01234567".indexOf(fM[hM++]),"0123".indexOf(e)>=0&&hM<dM&&cE(fM[hM])&&(r=8*r+"01234567".indexOf(fM[hM++]))),i+=String.fromCharCode(r)):i+=e}else{if(hE(e.charCodeAt(0)))break;i+=e}}return""!==t&&zE({},VM,rE),{type:TM,value:i,octal:a,start:n,end:hM}}():46===t?sE(fM.charCodeAt(hM+1))?wE():bE():sE(t)?wE():bE()}function ME(){var t;return hM=(t=pM).end,pM=kE(),hM=t.end,t}function EE(){var t;t=hM,pM=kE(),hM=t}function CE(t,n,e){var r=new CM("||"===t||"&&"===t?$M:PM);return r.operator=t,r.left=n,r.right=e,r}function DE(t,n){var e=new CM(LM);return e.callee=t,e.arguments=n,e}function FE(t){var n=new CM(UM);return n.name=t,n}function SE(t){var n=new CM(jM);return n.value=t.value,n.raw=fM.slice(t.start,t.end),t.regex&&("//"===n.raw&&(n.raw="/(?:)/"),n.regex=t.regex),n}function BE(t,n,e){var r=new CM(IM);return r.computed="["===t,r.object=n,r.property=e,r.computed||(e.member=!0),r}function OE(t,n,e){var r=new CM(HM);return r.key=n,r.value=e,r.kind=t,r}function zE(t,n){var e,r=Array.prototype.slice.call(arguments,2),i=n.replace(/%(\d)/g,function(t,n){return oE(n<r.length,"Message reference must be in range"),r[n]});throw(e=new Error(i)).index=hM,e.description=i,e}function NE(t){t.type===FM&&zE(t,QM),t.type===zM&&zE(t,GM),t.type===TM&&zE(t,XM),t.type===SM&&zE(t,ZM),t.type===BM&&zE(t,JM),zE(t,VM,t.value)}function TE(t){var n=ME();n.type===NM&&n.value===t||NE(n)}function RE(t){return pM.type===NM&&pM.value===t}function PE(t){return pM.type===BM&&pM.value===t}function LE(){var t=[];for(hM=pM.start,TE("[");!RE("]");)RE(",")?(ME(),t.push(null)):(t.push(ZE()),RE("]")||TE(","));return ME(),function(t){var n=new CM(RM);return n.elements=t,n}(t)}function qE(){var t;return hM=pM.start,(t=ME()).type===TM||t.type===zM?(t.octal&&zE(t,nE),SE(t)):FE(t.value)}function UE(){var t,n,e;return hM=pM.start,(t=pM).type===SM?(e=qE(),TE(":"),OE("init",e,ZE())):t.type!==FM&&t.type!==NM?(n=qE(),TE(":"),OE("init",n,ZE())):void NE(t)}function jE(){var t,n,e=[],r={},i=String;for(hM=pM.start,TE("{");!RE("}");)n="$"+((t=UE()).key.type===UM?t.key.name:i(t.key.value)),Object.prototype.hasOwnProperty.call(r,n)?zE({},eE):r[n]=!0,e.push(t),RE("}")||TE(",");return TE("}"),function(t){var n=new CM(WM);return n.properties=t,n}(e)}var $E={if:1,this:1};function IE(){var t,n,e;if(RE("("))return function(){var t;return TE("("),t=JE(),TE(")"),t}();if(RE("["))return LE();if(RE("{"))return jE();if(t=pM.type,hM=pM.start,t===SM||$E[pM.value])e=FE(ME().value);else if(t===TM||t===zM)pM.octal&&zE(pM,nE),e=SE(ME());else{if(t===BM)throw new Error(iE);t===DM?((n=ME()).value="true"===n.value,e=SE(n)):t===OM?((n=ME()).value=null,e=SE(n)):RE("/")||RE("/=")?(e=SE(AE()),EE()):NE(ME())}return e}function WE(){var t=[];if(TE("("),!RE(")"))for(;hM<dM&&(t.push(ZE()),!RE(")"));)TE(",");return TE(")"),t}function HE(){var t;return hM=pM.start,function(t){return t.type===SM||t.type===BM||t.type===DM||t.type===OM}(t=ME())||NE(t),FE(t.value)}function YE(){var t;return TE("["),t=JE(),TE("]"),t}function VE(){var t=function(){var t;for(t=IE();;)if(RE("."))TE("."),t=BE(".",t,HE());else if(RE("("))t=DE(t,WE());else{if(!RE("["))break;t=BE("[",t,YE())}return t}();if(pM.type===NM&&(RE("++")||RE("--")))throw new Error(iE);return t}function GE(){var t,n,e,r,i;if(pM.type!==NM&&pM.type!==BM)n=VE();else{if(RE("++")||RE("--"))throw new Error(iE);if(RE("+")||RE("-")||RE("~")||RE("!"))t=ME(),n=GE(),e=t.value,r=n,(i=new CM(YM)).operator=e,i.argument=r,i.prefix=!0,n=i;else{if(PE("delete")||PE("void")||PE("typeof"))throw new Error(iE);n=VE()}}return n}function XE(t){var n=0;if(t.type!==NM&&t.type!==BM)return 0;switch(t.value){case"||":n=1;break;case"&&":n=2;break;case"|":n=3;break;case"^":n=4;break;case"&":n=5;break;case"==":case"!=":case"===":case"!==":n=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":n=7;break;case"<<":case">>":case">>>":n=8;break;case"+":case"-":n=9;break;case"*":case"/":case"%":n=11}return n}function ZE(){var t,n;return t=function(){var t,n,e,r,i,a,u,o,s,l;if(t=pM,s=GE(),0===(i=XE(r=pM)))return s;for(r.prec=i,ME(),n=[t,pM],a=[s,r,u=GE()];(i=XE(pM))>0;){for(;a.length>2&&i<=a[a.length-2].prec;)u=a.pop(),o=a.pop().value,s=a.pop(),n.pop(),e=CE(o,s,u),a.push(e);(r=ME()).prec=i,a.push(r),n.push(pM),e=GE(),a.push(e)}for(e=a[l=a.length-1],n.pop();l>1;)n.pop(),e=CE(a[l-1].value,a[l-2],e),l-=2;return e}(),RE("?")&&(ME(),n=ZE(),TE(":"),t=function(t,n,e){var r=new CM(qM);return r.test=t,r.consequent=n,r.alternate=e,r}(t,n,ZE())),t}function JE(){var t=ZE();if(RE(","))throw new Error(iE);return t}var QE={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function KE(t){function n(n,e,r){return function(i){return function(n,e,r,i){var a=t(e[0]);return r&&(a=r+"("+a+")",0===r.lastIndexOf("new ",0)&&(a="("+a+")")),a+"."+n+(i<0?"":0===i?"()":"("+e.slice(1).map(t).join(",")+")")}(n,i,e,r)}}var e="new Date";return{isNaN:"isNaN",isFinite:"isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(n){n.length<3&&i("Missing arguments to clamp function."),n.length>3&&i("Too many arguments to clamp function.");var e=n.map(t);return"Math.max("+e[1]+", Math.min("+e[2]+","+e[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:e,date:n("getDate",e,0),day:n("getDay",e,0),year:n("getFullYear",e,0),month:n("getMonth",e,0),hours:n("getHours",e,0),minutes:n("getMinutes",e,0),seconds:n("getSeconds",e,0),milliseconds:n("getMilliseconds",e,0),time:n("getTime",e,0),timezoneoffset:n("getTimezoneOffset",e,0),utcdate:n("getUTCDate",e,0),utcday:n("getUTCDay",e,0),utcyear:n("getUTCFullYear",e,0),utcmonth:n("getUTCMonth",e,0),utchours:n("getUTCHours",e,0),utcminutes:n("getUTCMinutes",e,0),utcseconds:n("getUTCSeconds",e,0),utcmilliseconds:n("getUTCMilliseconds",e,0),length:n("length",null,-1),join:n("join",null),indexof:n("indexOf",null),lastindexof:n("lastIndexOf",null),slice:n("slice",null),reverse:function(n){return"("+t(n[0])+").slice().reverse()"},parseFloat:"parseFloat",parseInt:"parseInt",upper:n("toUpperCase","String",0),lower:n("toLowerCase","String",0),substring:n("substring","String"),split:n("split","String"),replace:n("replace","String"),trim:n("trim","String",0),regexp:"RegExp",test:n("test","RegExp"),if:function(n){n.length<3&&i("Missing arguments to if function."),n.length>3&&i("Too many arguments to if function.");var e=n.map(t);return"("+e[0]+"?"+e[1]+":"+e[2]+")"}}}const tC="intersect",nC="union";var eC="E",rC="R",iC="R-E",aC="R-LE",uC="R-RE",oC="index:unit";function sC(t,n){for(var e,r,i=n.fields,a=n.values,o=i.length,s=0;s<o;++s)if((r=i[s]).getter=c.getter||c(r.field),at(e=r.getter(t))&&(e=E(e)),at(a[s])&&(a[s]=E(a[s])),at(a[s][0])&&(a[s]=a[s].map(E)),r.type===eC){if(u(a[s])?a[s].indexOf(e)<0:e!==a[s])return!1}else if(r.type===rC){if(!rt(e,a[s]))return!1}else if(r.type===uC){if(!rt(e,a[s],!0,!1))return!1}else if(r.type===iC){if(!rt(e,a[s],!1,!1))return!1}else if(r.type===aC&&!rt(e,a[s],!1,!0))return!1;return!0}var lC={E_union:function(t,n){if(!t.length)return n;for(var e=0,r=n.length;e<r;++e)t.indexOf(n[e])<0&&t.push(n[e]);return t},E_intersect:function(t,n){return t.length?t.filter(function(t){return n.indexOf(t)>=0}):n},R_union:function(t,n){var e=E(n[0]),r=E(n[1]);return e>r&&(e=n[1],r=n[0]),t.length?(t[0]>e&&(t[0]=e),t[1]<r&&(t[1]=r),t):[e,r]},R_intersect:function(t,n){var e=E(n[0]),r=E(n[1]);return e>r&&(e=n[1],r=n[0]),t.length?r<t[0]||t[1]<e?[]:(t[0]<e&&(t[0]=e),t[1]>r&&(t[1]=r),t):[e,r]}};const cC=":",fC="@";function hC(t,n,e,r){n[0].type!==vM&&i("First argument to selection functions must be a string literal.");const a=n[0].value,u=n.length>=2&&M(n).value,o=fC+"unit",s=cC+a;u!==tC||r.hasOwnProperty(o)||(r[o]=e.getData(a).indataRef(e,"unit")),r.hasOwnProperty(s)||(r[s]=e.getData(a).tuplesRef())}function dC(t){const n=this.context.data[t];return n?n.values.value:[]}const pC={};function gC(t,n,e){let r=t+":"+e,i=pC[r];return i&&i[0]===n||(pC[r]=i=[n,n(e)]),i[1]}function vC(t,n){return gC("timeFormat",ae,n)(t)}var mC=new Date(2e3,0,1);function yC(t,n,e){return mC.setMonth(t),mC.setDate(n),vC(mC,e)}function _C(t,n){let e;return Y(t)?t:s(t)?(e=n.scales[t])&&e.value:void 0}function xC(t,n){return function(e,r,i){if(e){const n=_C(e,(i||this).context);return n&&n.path[t](r)}return n(r)}}const bC=xC("area",function(t){return Rm.reset(),Fm(t,Pm),2*Rm}),wC=xC("bounds",function(t){var n,e,r,i,a,u,o;if(Qm=Jm=-(Xm=Zm=1/0),ry=[],Fm(t,wy),e=ry.length){for(ry.sort(By),n=1,a=[r=ry[0]];n<e;++n)Oy(r,(i=ry[n])[0])||Oy(r,i[1])?(Sy(r[0],i[1])>Sy(r[0],r[1])&&(r[1]=i[1]),Sy(i[0],r[1])>Sy(r[0],r[1])&&(r[0]=i[0])):a.push(r=i);for(u=-1/0,n=0,r=a[e=a.length-1];n<=e;r=i,++n)i=a[n],(o=Sy(r[1],i[0]))>u&&(u=o,Xm=i[0],Jm=r[1])}return ry=iy=null,Xm===1/0||Zm===1/0?[[NaN,NaN],[NaN,NaN]]:[[Xm,Zm],[Jm,Qm]]}),AC=xC("centroid",function(t){ay=uy=oy=sy=ly=cy=fy=hy=dy=py=gy=0,Fm(t,zy);var n=dy,e=py,r=gy,i=n*n+e*e+r*r;return i<em&&(n=cy,e=fy,r=hy,uy<nm&&(n=oy,e=sy,r=ly),(i=n*n+e*e+r*r)<em)?[NaN,NaN]:[fm(e,n)*om,wm(r/_m(i))*om]});function kC(t,n,e){try{t[n].apply(t,["EXPRESSION"].concat([].slice.call(e)))}catch(n){t.warn(n)}return e[e.length-1]}function MC(t,n){return t===n||t!=t&&n!=n||!(!u(t)||!u(n)||t.length!==n.length)&&function(t,n){for(let e=0,r=t.length;e<r;++e)if(!MC(t[e],n[e]))return!1;return!0}(t,n)}function EC(t){return function(n){for(let e in t)if(!MC(n[e],t[e]))return!1;return!0}}const CC={};function DC(t){return t.data}function FC(t,n){const e=dC.call(n,t);return e.root&&e.root.lookup||CC}const SC="undefined"!=typeof window&&window||null;const BC=":",OC="@",zC="%",NC="$";function TC(t,n,e,r){n[0].type!==vM&&i("First argument to data functions must be a string literal.");const a=n[0].value,u=BC+a;r.hasOwnProperty(u)||(r[u]=e.getData(a).tuplesRef())}function RC(t,n,e,r){if(n[0].type===vM)PC(e,r,n[0].value);else if(n[0].type===yM)for(t in e.scales)PC(e,r,t)}function PC(t,n,e){const r=zC+e;if(!n.hasOwnProperty(r))try{n[r]=t.scaleRef(e)}catch(t){}}const LC={random:function(){return t.random()},isArray:u,isBoolean:it,isDate:at,isNumber:ut,isObject:o,isRegExp:ot,isString:s,isTuple:Mt,toBoolean:pt,toDate:vt,toNumber:E,toString:mt,flush:nt,lerp:lt,merge:function(){var t=[].slice.call(arguments);return t.unshift({}),Z.apply(null,t)},pad:ht,peek:M,span:dt,inrange:rt,truncate:_t,rgb:Ih,lab:ud,hcl:hd,hsl:Vh,sequence:li,format:function(t,n){return gC("format",Pp,n)(t)},utcFormat:function(t,n){return gC("utcFormat",oe,n)(t)},utcParse:function(t,n){return gC("utcParse",se,n)(t)},timeFormat:vC,timeParse:function(t,n){return gC("timeParse",ue,n)(t)},monthFormat:function(t){return yC(t,1,"%B")},monthAbbrevFormat:function(t){return yC(t,1,"%b")},dayFormat:function(t){return yC(0,2+t,"%A")},dayAbbrevFormat:function(t){return yC(0,2+t,"%a")},quarter:$,utcquarter:I,warn:function(){return kC(this.context.dataflow,"warn",arguments)},info:function(){return kC(this.context.dataflow,"info",arguments)},debug:function(){return kC(this.context.dataflow,"debug",arguments)},extent:J,inScope:function(t){let n=this.context.group,e=!1;if(n)for(;t;){if(t===n){e=!0;break}t=t.mark.group}return e},intersect:function(t,n,e){if(!t)return[];const[r,i]=t,a=(new Mu).set(r[0],r[1],i[0],i[1]);return Kc(e||this.context.dataflow.scenegraph().root,a,function(t){let n=null;if(t){const e=W(t.marktype),r=W(t.markname);n=(t=>(!e.length||e.some(n=>t.marktype===n))&&(!r.length||r.some(n=>t.name===n)))}return n}(n))},clampRange:H,pinchDistance:function(t){const n=t.touches,e=n[0].clientX-n[1].clientX,r=n[0].clientY-n[1].clientY;return Math.sqrt(e*e+r*r)},pinchAngle:function(t){const n=t.touches;return Math.atan2(n[0].clientY-n[1].clientY,n[0].clientX-n[1].clientX)},screen:function(){return SC?SC.screen:{}},containerSize:function(){const t=this.context.dataflow,n=t.container&&t.container();return n?[n.clientWidth,n.clientHeight]:[void 0,void 0]},windowSize:function(){return SC?[SC.innerWidth,SC.innerHeight]:[void 0,void 0]},bandspace:function(t,n,e){return Vf(t||0,n||0,e||0)},setdata:function(t,n){const e=this.context.dataflow,r=this.context.data[t].input;return e.pulse(r,e.changeset().remove(v).insert(n)),1},pathShape:function(t){let n=null;return function(e){return e?ss(e,n=n||Jo(t)):t}},panLinear:z,panLog:N,panPow:T,panSymlog:R,zoomLinear:L,zoomLog:q,zoomPow:U,zoomSymlog:j,encode:function(t,n,e){if(t){const e=this.context.dataflow,r=t.mark.source;e.pulse(r,e.changeset().encode(t,n))}return void 0!==e?e:t},modify:function(t,n,e,r,i,a){let o,s,l=this.context.dataflow,c=this.context.data[t],f=c.input,h=c.changes,d=l.stamp();if(!1===l._trigger||!(f.value.length||n||r))return 0;if((!h||h.stamp<d)&&(c.changes=h=l.changeset(),h.stamp=d,l.runAfter(function(){c.modified=!0,l.pulse(f,h).run()},!0,1)),e&&(o=!0===e?v:u(e)||Mt(e)?e:EC(e),h.remove(o)),n&&h.insert(n),r&&(o=EC(r),f.value.some(o)?h.remove(o):h.insert(r)),i)for(s in a)h.modify(i,s,a[s]);return 1}},qC=["view","item","group","xy","x","y"],UC="event.vega.",jC="this.",$C={};function IC(t,n,e){return 1===arguments.length?LC[t]:(LC[t]=n,e&&($C[t]=e),HC&&(HC.functions[t]=jC+t),this)}IC("bandwidth",function(t,n){const e=_C(t,(n||this).context);return e&&e.bandwidth?e.bandwidth():0},RC),IC("copy",function(t,n){const e=_C(t,(n||this).context);return e?e.copy():void 0},RC),IC("domain",function(t,n){const e=_C(t,(n||this).context);return e?e.domain():[]},RC),IC("range",function(t,n){const e=_C(t,(n||this).context);return e&&e.range?e.range():[]},RC),IC("invert",function(t,n,e){const r=_C(t,(e||this).context);return r?u(n)?(r.invertRange||r.invert)(n):(r.invert||r.invertExtent)(n):void 0},RC),IC("scale",function(t,n,e){const r=_C(t,(e||this).context);return r&&void 0!==n?r(n):void 0},RC),IC("gradient",function(t,n,e,r,i){t=_C(t,(i||this).context);const a=Du(n,e);let u=t.domain(),o=u[0],s=M(u),l=d;return s-o?l=Og(t,o,s):t=(t.interpolator?Mg("sequential")().interpolator(t.interpolator()):Mg("linear")().interpolate(t.interpolate()).range(t.range())).domain([o=0,s=1]),t.ticks&&(o!==(u=t.ticks(+r||15))[0]&&u.unshift(o),s!==M(u)&&u.push(s)),u.forEach(n=>a.stop(l(n),t(n))),a},RC),IC("geoArea",bC,RC),IC("geoBounds",wC,RC),IC("geoCentroid",AC,RC),IC("geoShape",function(t,n,e){const r=_C(t,(e||this).context);return function(t){return r?r.path.context(t)(n):""}},RC),IC("indata",function(t,n,e){const r=this.context.data[t]["index:"+n],i=r?r.value.get(e):void 0;return i?i.count:i},function(t,n,e,r){n[0].type!==vM&&i("First argument to indata must be a string literal."),n[1].type!==vM&&i("Second argument to indata must be a string literal.");const a=n[0].value,u=n[1].value,o=OC+u;r.hasOwnProperty(o)||(r[o]=e.getData(a).indataRef(e,u))}),IC("data",dC,TC),IC("treePath",function(t,n,e){const r=FC(t,this),i=r[n],a=r[e];return i&&a?i.path(a).map(DC):void 0},TC),IC("treeAncestors",function(t,n){const e=FC(t,this)[n];return e?e.ancestors().map(DC):void 0},TC),IC("vlSelectionTest",function(t,n,e){for(var r,i,a,u,o,s=this.context.data[t],l=s?s.values.value:[],c=s?s[oC]&&s[oC].value:void 0,f=e===tC,h=l.length,d=0;d<h;++d)if(r=l[d],c&&f){if(-1===(a=(i=i||{})[u=r.unit]||0))continue;if(o=sC(n,r),i[u]=o?-1:++a,o&&1===c.size)return!0;if(!o&&a===c.get(u).count)return!1}else if(f^(o=sC(n,r)))return o;return h&&f},hC),IC("vlSelectionResolve",function(t,n){for(var e,r,i,a,u,o,s,l,c,f,h,d=this.context.data[t],p=d?d.values.value:[],g={},v={},m=p.length,y=0;y<m;++y)for(a=(e=p[y]).unit,r=e.fields,i=e.values,f=0,h=r.length;f<h;++f)u=r[f],s=(o=g[u.field]||(g[u.field]={}))[a]||(o[a]=[]),v[u.field]=l=u.type.charAt(0),c=lC[l+"_union"],o[a]=c(s,W(i[f]));return n=n||nC,Object.keys(g).forEach(function(t){g[t]=Object.keys(g[t]).map(function(n){return g[t][n]}).reduce(function(e,r){return void 0===e?r:lC[v[t]+"_"+n](e,r)})}),g},hC);const WC={blacklist:["_"],whitelist:["datum","event","item"],fieldvar:"datum",globalvar:function(t){return"_["+l(NC+t)+"]"},functions:function(t){const n=KE(t);qC.forEach(t=>n[t]=UC+t);for(let t in LC)n[t]=jC+t;return n},constants:QE,visitors:$C};var HC=function(t){var n=(t=t||{}).whitelist?yt(t.whitelist):{},e=t.blacklist?yt(t.blacklist):{},r=t.constants||QE,a=(t.functions||KE)(d),u=t.globalvar,o=t.fieldvar,l={},c={},f=0,h=Y(u)?u:function(t){return u+'["'+t+'"]'};function d(t){if(s(t))return t;var n=p[t.type];return null==n&&i("Unsupported type: "+t.type),n(t)}var p={Literal:function(t){return t.raw},Identifier:function(t){var a=t.name;return f>0?a:e.hasOwnProperty(a)?i("Illegal identifier: "+a):r.hasOwnProperty(a)?r[a]:n.hasOwnProperty(a)?a:(l[a]=1,h(a))},MemberExpression:function(t){var n=!t.computed,e=d(t.object);n&&(f+=1);var r=d(t.property);return e===o&&(c[function(t){var n=t&&t.length-1;return n&&('"'===t[0]&&'"'===t[n]||"'"===t[0]&&"'"===t[n])?t.slice(1,-1):t}(r)]=1),n&&(f-=1),e+(n?"."+r:"["+r+"]")},CallExpression:function(t){"Identifier"!==t.callee.type&&i("Illegal callee type: "+t.callee.type);var n=t.callee.name,e=t.arguments,r=a.hasOwnProperty(n)&&a[n];return r||i("Unrecognized function: "+n),Y(r)?r(e):r+"("+e.map(d).join(",")+")"},ArrayExpression:function(t){return"["+t.elements.map(d).join(",")+"]"},BinaryExpression:function(t){return"("+d(t.left)+t.operator+d(t.right)+")"},UnaryExpression:function(t){return"("+t.operator+d(t.argument)+")"},ConditionalExpression:function(t){return"("+d(t.test)+"?"+d(t.consequent)+":"+d(t.alternate)+")"},LogicalExpression:function(t){return"("+d(t.left)+t.operator+d(t.right)+")"},ObjectExpression:function(t){return"{"+t.properties.map(d).join(",")+"}"},Property:function(t){f+=1;var n=d(t.key);return f-=1,n+":"+d(t.value)}};function g(t){var n={code:d(t),globals:Object.keys(l),fields:Object.keys(c)};return l={},c={},n}return g.functions=a,g.constants=r,g}(WC);function YC(t,n,e){";"!==n[n.length-1]&&(n="return("+n+");");var r=Function.apply(null,t.concat(n));return e&&e.functions?r.bind(e.functions):r}function VC(t,n){return YC(["event"],t,n)}function GC(t,n){return YC(["item","_"],t,n)}function XC(t,n,e){var r,i;for(r in e=e||{},t)i=t[r],e[r]=u(i)?i.map(function(t){return ZC(t,n,e)}):ZC(i,n,e);return e}function ZC(t,n,e){if(!t||!o(t))return t;for(var r,i=0,a=JC.length;i<a;++i)if(r=JC[i],t.hasOwnProperty(r.key))return r.parse(t,n,e);return t}var JC=[{key:"$ref",parse:function(t,n){return n.get(t.$ref)||i("Operator not defined: "+t.$ref)}},{key:"$key",parse:function(t,n){var e="k:"+t.$key+"_"+!!t.$flat;return n.fn[e]||(n.fn[e]=st(t.$key,t.$flat))}},{key:"$expr",parse:function(t,e,r){t.$params&&XC(t.$params,e,r);var i="e:"+t.$expr+"_"+t.$name;return e.fn[i]||(e.fn[i]=n(function(t,n){return YC(["datum","_"],t,n)}(t.$expr,e),t.$fields,t.$name))}},{key:"$field",parse:function(t,n){if(!t.$field)return null;var e="f:"+t.$field+"_"+t.$name;return n.fn[e]||(n.fn[e]=c(t.$field,t.$name))}},{key:"$encode",parse:function(t,e){var r,i,a=t.$encode,u={};for(r in a)i=a[r],u[r]=n(GC(i.$expr,e),i.$fields),u[r].output=i.$output;return u}},{key:"$compare",parse:function(t,n){var e="c:"+t.$compare+"_"+t.$order,r=W(t.$compare).map(function(t){return t&&t.$tupleid?Et:t});return n.fn[e]||(n.fn[e]=V(r,t.$order))}},{key:"$context",parse:function(t,n){return n}},{key:"$subflow",parse:function(t,n){var e=t.$subflow;return function(t,r,i){var a=nD(e,n.fork()),u=a.get(e.operators[0].id),o=a.signals.parent;return o&&o.set(i),u}}},{key:"$tupleid",parse:function(){return Et}}];function QC(t){return(t+"").toLowerCase()}function KC(t,n){"operator"!==QC(t.type)&&t.type?n.transform(t,t.type):n.operator(t,t.update?function(t,n){return YC(["_"],t,n)}(t.update,n):null)}function tD(t,n){var e=o(e=t.source)?e.$ref:e,r=n.get(e),a=null,u=t.update,s=void 0;r||i("Source not defined: "+t.source),a=t.target&&t.target.$expr?VC(t.target.$expr,n):n.get(t.target),u&&u.$expr&&(u.$params&&(s=XC(u.$params,n)),u=function(t,n){return YC(["_","event"],t,n)}(u.$expr,n)),n.update(t,r,a,u,s)}function nD(t,n){var e=t.operators||[];return t.background&&(n.background=t.background),t.eventConfig&&(n.eventConfig=t.eventConfig),e.forEach(function(t){KC(t,n)}),e.forEach(function(t){!function(t,n){if(t.params){var e=n.get(t.id);e||i("Invalid operator id: "+t.id),n.dataflow.connect(e,e.parameters(XC(t.params,n),t.react,t.initonly))}}(t,n)}),(t.streams||[]).forEach(function(t){!function(t,n){var e,r=null!=t.filter?VC(t.filter,n):void 0,a=null!=t.stream?n.get(t.stream):void 0;t.source?a=n.events(t.source,t.type,r):t.merge&&(a=(e=t.merge.map(n.get.bind(n)))[0].merge.apply(e[0],e.slice(1))),t.between&&(e=t.between.map(n.get.bind(n)),a=a.between(e[0],e[1])),t.filter&&(a=a.filter(r)),null!=t.throttle&&(a=a.throttle(+t.throttle)),null!=t.debounce&&(a=a.debounce(+t.debounce)),null==a&&i("Invalid stream definition: "+JSON.stringify(t)),t.consume&&a.consume(!0),n.stream(t,a)}(t,n)}),(t.updates||[]).forEach(function(t){tD(t,n)}),n.resolve()}var eD={skip:!0};function rD(t,n,e){return new iD(t,n,e)}function iD(t,n,e){this.dataflow=t,this.transforms=n,this.events=t.events.bind(t),this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},e&&(this.functions=Object.create(e),this.functions.context=this)}function aD(t){this.dataflow=t.dataflow,this.transforms=t.transforms,this.functions=t.functions,this.events=t.events,this.signals=Object.create(t.signals),this.scales=Object.create(t.scales),this.nodes=Object.create(t.nodes),this.data=Object.create(t.data),this.fn=Object.create(t.fn),t.functions&&(this.functions=Object.create(t.functions),this.functions.context=this)}iD.prototype=aD.prototype={fork:function(){var t=new aD(this);return(this.subcontext||(this.subcontext=[])).push(t),t},get:function(t){return this.nodes[t]},set:function(t,n){return this.nodes[t]=n},add:function(t,n){var e,r=this,i=r.dataflow;if(r.set(t.id,n),"collect"===QC(t.type)&&(e=t.value)&&(e.$ingest?i.ingest(n,e.$ingest,e.$format):e.$request?i.preload(n,e.$request,e.$format):i.pulse(n,i.changeset().insert(e))),t.root&&(r.root=n),t.parent){var a=r.get(t.parent.$ref);a?(i.connect(a,[n]),n.targets().add(a)):(r.unresolved=r.unresolved||[]).push(function(){a=r.get(t.parent.$ref),i.connect(a,[n]),n.targets().add(a)})}if(t.signal&&(r.signals[t.signal]=n),t.scale&&(r.scales[t.scale]=n),t.data)for(var u in t.data)e=r.data[u]||(r.data[u]={}),t.data[u].forEach(function(t){e[t]=n})},resolve:function(){return(this.unresolved||[]).forEach(function(t){t()}),delete this.unresolved,this},operator:function(t,n){this.add(t,this.dataflow.add(t.value,n))},transform:function(t,n){this.add(t,this.dataflow.add(this.transforms[QC(n)]))},stream:function(t,n){this.set(t.id,n)},update:function(t,n,e,r,i){this.dataflow.on(n,e,r,i,t.options)},getState:function(t){var n=this,e={};if(t.signals){var r=e.signals={};Object.keys(n.signals).forEach(function(e){var i=n.signals[e];t.signals(e,i)&&(r[e]=i.value)})}if(t.data){var i=e.data={};Object.keys(n.data).forEach(function(e){var r=n.data[e];t.data(e,r)&&(i[e]=r.input.value)})}return n.subcontext&&!1!==t.recurse&&(e.subcontext=n.subcontext.map(function(n){return n.getState(t)})),e},setState:function(t){var n=this,e=n.dataflow,r=t.data,i=t.signals;Object.keys(i||{}).forEach(function(t){e.update(n.signals[t],i[t],eD)}),Object.keys(r||{}).forEach(function(t){e.pulse(n.data[t].input,e.changeset().remove(v).insert(r[t]))}),(t.subcontext||[]).forEach(function(t,e){var r=n.subcontext[e];r&&r.setState(t)})}};var uD="width",oD="height",sD="padding",lD={skip:!0};function cD(t,n){var e=t.autosize(),r=t.padding();return n-(e&&e.contains===sD?r.left+r.right:0)}function fD(t,n){var e=t.autosize(),r=t.padding();return n-(e&&e.contains===sD?r.top+r.bottom:0)}function hD(t,n){return n.modified&&u(n.input.value)&&t.indexOf("_:vega:_")}function dD(t,n){return!("parent"===t||n instanceof Ir.proxy)}function pD(t,n,e,r){var i=t.element();i&&i.setAttribute("title",function(t){return null==t?"":u(t)?gD(t):o(t)&&!at(t)?(n=t,Object.keys(n).map(function(t){var e=n[t];return t+": "+(u(e)?gD(e):vD(e))}).join("\n")):t+"";var n}(r))}function gD(t){return"["+t.map(vD).join(", ")+"]"}function vD(t){return u(t)?"[]":o(t)&&!at(t)?"{}":t}function mD(t,n){n=n||{},Lr.call(this),n.loader&&this.loader(n.loader),n.logger&&this.logger(n.logger),null!=n.logLevel&&this.logLevel(n.logLevel),this._el=null,this._elBind=null,this._renderType=n.renderer||Zc.Canvas,this._scenegraph=new Kl;var e=this._scenegraph.root;this._renderer=null,this._tooltip=n.tooltip||pD,this._redraw=!0,this._handler=(new pc).scene(e),this._preventDefault=!1,this._timers=[],this._eventListeners=[],this._resizeListeners=[];var r,i,a=function(t,n,e){return nD(n,rD(t,Ir,e||LC))}(this,t,n.functions);this._runtime=a,this._signals=a.signals,this._bind=(t.bindings||[]).map(function(t){return{state:null,param:Z({},t)}}),a.root&&a.root.set(e),e.source=a.data.root.input,this.pulse(a.data.root.input,this.changeset().insert(e.items)),this._background=n.background||a.background||null,this._eventConfig=(r=a.eventConfig,(i=(r=Z({},r)).defaults)&&(u(i.prevent)&&(i.prevent=yt(i.prevent)),u(i.allow)&&(i.allow=yt(i.allow))),r),this._width=this.width(),this._height=this.height(),this._viewWidth=cD(this,this._width),this._viewHeight=fD(this,this._height),this._origin=[0,0],this._resize=0,this._autosize=1,function(t){var n=t._signals,e=n[uD],r=n[oD],i=n[sD];function a(){t._autosize=t._resize=1}t._resizeWidth=t.add(null,function(n){t._width=n.size,t._viewWidth=cD(t,n.size),a()},{size:e}),t._resizeHeight=t.add(null,function(n){t._height=n.size,t._viewHeight=fD(t,n.size),a()},{size:r});var u=t.add(null,a,{pad:i});t._resizeWidth.rank=e.rank+1,t._resizeHeight.rank=r.rank+1,u.rank=i.rank+1}(this),Nk(this),n.hover&&this.hover(),n.container&&this.initialize(n.container,n.bind)}var yD=et(mD,Lr);function _D(t,n){return t._signals.hasOwnProperty(n)?t._signals[n]:i("Unrecognized signal name: "+l(n))}function xD(t,n){var e=(t._targets||[]).filter(function(t){var e=t._update;return e&&e.handler===n});return e.length?e[0]:null}function bD(t,n,e,r){var i=xD(e,r);return i||((i=oM(this,function(){r(n,e.value)})).handler=r,t.on(e,null,i)),t}function wD(t,n,e){var r=xD(n,e);return r&&n._targets.remove(r),t}function AD(t){return+t||0}yD.evaluate=async function(t,n,e){if(await Lr.prototype.evaluate.call(this,t,n),this._redraw||this._resize)try{this._renderer&&(this._resize&&(this._resize=0,i=qk(r=this),a=Pk(r),u=Lk(r),r._renderer.background(r._background),r._renderer.resize(a,u,i),r._handler.origin(i),r._resizeListeners.forEach(function(t){try{t(a,u)}catch(t){r.error(t)}})),await this._renderer.renderAsync(this._scenegraph.root)),this._redraw=!1}catch(t){this.error(t)}var r,i,a,u;return e&&wt(this,e),this},yD.dirty=function(t){this._redraw=!0,this._renderer&&this._renderer.dirty(t)},yD.container=function(){return this._el},yD.scenegraph=function(){return this._scenegraph},yD.origin=function(){return this._origin.slice()},yD.signal=function(t,n,e){var r=_D(this,t);return 1===arguments.length?r.value:this.update(r,n,e)},yD.background=function(t){return arguments.length?(this._background=t,this._resize=1,this):this._background},yD.width=function(t){return arguments.length?this.signal("width",t):this.signal("width")},yD.height=function(t){return arguments.length?this.signal("height",t):this.signal("height")},yD.padding=function(t){return arguments.length?this.signal("padding",t):this.signal("padding")},yD.autosize=function(t){return arguments.length?this.signal("autosize",t):this.signal("autosize")},yD.renderer=function(t){return arguments.length?(Qc(t)||i("Unrecognized renderer type: "+t),t!==this._renderType&&(this._renderType=t,this._resetRenderer()),this):this._renderType},yD.tooltip=function(t){return arguments.length?(t!==this._tooltip&&(this._tooltip=t,this._resetRenderer()),this):this._tooltip},yD.loader=function(t){return arguments.length?(t!==this._loader&&(Lr.prototype.loader.call(this,t),this._resetRenderer()),this):this._loader},yD.resize=function(){return this._autosize=1,this.touch(_D(this,"autosize"))},yD._resetRenderer=function(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},yD._resizeView=function(t,n,e,r,i,a){this.runAfter(function(u){var o=0;u._autosize=0,u.width()!==e&&(o=1,u.signal(uD,e,lD),u._resizeWidth.skip(!0)),u.height()!==r&&(o=1,u.signal(oD,r,lD),u._resizeHeight.skip(!0)),u._viewWidth!==t&&(u._resize=1,u._viewWidth=t),u._viewHeight!==n&&(u._resize=1,u._viewHeight=n),u._origin[0]===i[0]&&u._origin[1]===i[1]||(u._resize=1,u._origin=i),o&&u.run("enter"),a&&u.runAfter(t=>t.resize())},!1,1)},yD.addEventListener=function(t,n,e){var r=n;return e&&!1===e.trap||((r=oM(this,n)).raw=n),this._handler.on(t,r),this},yD.removeEventListener=function(t,n){for(var e,r,i=this._handler.handlers(t),a=i.length;--a>=0;)if(r=i[a].type,e=i[a].handler,t===r&&(n===e||n===e.raw)){this._handler.off(r,e);break}return this},yD.addResizeListener=function(t){var n=this._resizeListeners;return n.indexOf(t)<0&&n.push(t),this},yD.removeResizeListener=function(t){var n=this._resizeListeners,e=n.indexOf(t);return e>=0&&n.splice(e,1),this},yD.addSignalListener=function(t,n){return bD(this,t,_D(this,t),n)},yD.removeSignalListener=function(t,n){return wD(this,_D(this,t),n)},yD.addDataListener=function(t,n){return bD(this,t,Tk(this,t).values,n)},yD.removeDataListener=function(t,n){return wD(this,Tk(this,t).values,n)},yD.preventDefault=function(t){return arguments.length?(this._preventDefault=t,this):this._preventDefault},yD.timer=function(t,n){this._timers.push(function(t,n,e){var r=new Ub,i=n;return null==n?(r.restart(t,n,e),r):(n=+n,e=null==e?Lb():+e,r.restart(function a(u){u+=i,r.restart(a,i+=n,e),t(u)},n,e),r)}(function(n){t({timestamp:Date.now(),elapsed:n})},n))},yD.events=function(t,n,e){var r,i=this,a=new It(e),u=function(e,r){i.runAsync(null,()=>{t===jk&&function(t,n){var e=t._eventConfig.defaults,r=e&&e.prevent,i=e&&e.allow;return!1!==r&&!0!==i&&(!0===r||!1===i||(r?r[n]:i?!i[n]:t.preventDefault()))}(i,n)&&e.preventDefault(),a.receive(Uk(i,e,r))})};if(t===$k)i.timer(u,n);else if(t===jk)i.addEventListener(n,u,Wk);else if(t===Ik?"undefined"!=typeof window&&(r=[window]):"undefined"!=typeof document&&(r=document.querySelectorAll(t)),r){for(var o=0,s=r.length;o<s;++o)r[o].addEventListener(n,u);i._eventListeners.push({type:n,sources:r,handler:u})}else i.warn("Can not resolve event source: "+t);return a},yD.finalize=function(){var t,n,e,r=this._tooltip,i=this._timers,a=this._eventListeners;for(t=i.length;--t>=0;)i[t].stop();for(t=a.length;--t>=0;)for(n=(e=a[t]).sources.length;--n>=0;)e.sources[n].removeEventListener(e.type,e.handler);return r&&r.call(this,this._handler,null,null,null),this},yD.hover=function(t,n){return n=[n||"update",(t=[t||"hover"])[0]],this.on(this.events("view","mouseover",Hk),Yk,Vk(t)),this.on(this.events("view","mouseout",Hk),Yk,Vk(n)),this},yD.data=function(t){return Tk(this,t).values.value},yD.change=Rk,yD.insert=function(t,n){return Rk.call(this,t,zt().insert(n))},yD.remove=function(t,n){return Rk.call(this,t,zt().remove(n))},yD.scale=function(t){var n=this._runtime.scales;return n.hasOwnProperty(t)||i("Unrecognized scale or projection: "+t),n[t].value},yD.initialize=function(t,n){var e,r,i=this,a=i._renderType,u=Qc(a);return t=i._el=t?sM(i,t):null,u||i.error("Unrecognized renderer type: "+a),e=u.handler||pc,r=t?u.renderer:u.headless,i._renderer=r?uM(i,i._renderer,t,r):null,i._handler=function(t,n,e,r){var i=new r(t.loader(),oM(t,t.tooltip())).scene(t.scenegraph().root).initialize(e,qk(t),t);return n&&n.handlers().forEach(function(t){i.on(t.type,t.handler)}),i}(i,i._handler,t,e),i._redraw=!0,t&&(n=n?i._elBind=sM(i,n):t.appendChild(Gk("div",{class:"vega-bindings"})),i._bind.forEach(function(t){t.param.element&&(t.element=sM(i,t.param.element))}),i._bind.forEach(function(t){Kk(i,t.element||n,t)})),i},yD.toImageURL=async function(t,n){t!==Zc.Canvas&&t!==Zc.SVG&&t!==Zc.PNG&&i("Unrecognized image type: "+t);const e=await lM(this,t,n);return t===Zc.SVG?(r=e.svg(),a=new Blob([r],{type:"image/svg+xml"}),window.URL.createObjectURL(a)):e.canvas().toDataURL("image/png");var r,a},yD.toCanvas=async function(t,n){return(await lM(this,Zc.Canvas,t,n)).canvas()},yD.toSVG=async function(t){return(await lM(this,Zc.SVG,t)).svg()},yD.getState=function(t){return this._runtime.getState(t||{data:hD,signals:dD,recurse:!0})},yD.setState=function(t){return this.runAsync(null,n=>{n._trigger=!1,n._runtime.setState(t)},t=>{t._trigger=!0}),this};var kD="outer",MD=["value","update","init","react","bind"];function ED(t,n){i(t+' for "outer" push: '+l(n))}function CD(t,n){var e=t.name;if(t.push===kD)n.signals[e]||ED("No prior signal definition",e),MD.forEach(function(n){void 0!==t[n]&&ED("Invalid property ",n)});else{var r=n.addSignal(e,t.value);!1===t.react&&(r.react=!1),t.bind&&n.addBinding(e,t.bind)}}function DD(t,n,e){var r,a,u={};try{r=function(t){hM=0,dM=(fM=t).length,pM=null,EE();var n=JE();if(pM.type!==FM)throw new Error("Unexpect token after expression.");return n}(t=s(t)?t:l(t)+"")}catch(n){i("Expression parse error: "+t)}return r.visit(function(t){if(t.type===bM){var e=t.callee.name,r=WC.visitors[e];r&&r(e,t.arguments,n,u)}}),(a=HC(r)).globals.forEach(function(t){var e=NC+t;!u.hasOwnProperty(e)&&n.getSignal(t)&&(u[e]=n.signalRef(t))}),{$expr:e?e+"return("+a.code+");":a.code,$fields:a.fields,$params:u}}function FD(t,n,e,r){this.id=-1,this.type=t,this.value=n,this.params=e,r&&(this.parent=r)}function SD(t,n,e,r){return new FD(t,n,e,r)}function BD(t,n){return SD("operator",t,n)}function OD(t){var n={$ref:t.id};return t.id<0&&(t.refs=t.refs||[]).push(n),n}var zD={$tupleid:1,toString:function(){return":_tupleid_:"}};function ND(t,n){return n?{$field:t,$name:n}:{$field:t}}var TD=ND("key");function RD(t,n){return{$compare:t,$order:n}}var PD="descending";function LD(t,n){return(t&&t.signal?"$"+t.signal:t||"")+(t&&n?"_":"")+(n&&n.signal?"$"+n.signal:n||"")}var qD="scope",UD="view";function jD(t){return t&&t.signal}function $D(t){if(jD(t))return!0;if(o(t))for(var n in t)if($D(t[n]))return!0;return!1}function ID(t,n){return null!=t?t:n}function WD(t){return t&&t.signal||t}var HD="timer";function YD(t,n){return(t.merge?VD:t.stream?GD:t.type?XD:i("Invalid stream specification: "+l(t)))(t,n)}function VD(t,n){var e=ZD({merge:t.merge.map(t=>YD(t,n))},t,n);return n.addStream(e).id}function GD(t,n){var e=ZD({stream:YD(t.stream,n)},t,n);return n.addStream(e).id}function XD(t,n){var e,r,i;return t.type===HD?(e=n.event(HD,t.throttle),t={between:t.between,filter:t.filter}):e=n.event((i=t.source)===qD?UD:i||UD,t.type),r=ZD({stream:e},t,n),1===Object.keys(r).length?e:n.addStream(r).id}function ZD(t,n,e){var r,a,u,o,s=n.between;return s&&(2!==s.length&&i('Stream "between" parameter must have 2 entries: '+l(n)),t.between=[YD(s[0],e),YD(s[1],e)]),s=n.filter?[].concat(n.filter):[],(n.marktype||n.markname||n.markrole)&&s.push((r=n.marktype,a=n.markname,u=n.markrole,(o="event.item")+(r&&"*"!==r?"&&"+o+".mark.marktype==='"+r+"'":"")+(u?"&&"+o+".mark.role==='"+u+"'":"")+(a?"&&"+o+".mark.name==='"+a+"'":""))),n.source===qD&&s.push("inScope(event.item)"),s.length&&(t.filter=DD("("+s.join(")&&(")+")").$expr),null!=(s=n.throttle)&&(t.throttle=+s),null!=(s=n.debounce)&&(t.debounce=+s),n.consume&&(t.consume=!0),t}var JD,QD,KD="view",tF="[",nF="]",eF="{",rF="}",iF=":",aF=",",uF="@",oF=">",sF=/[[\]{}]/,lF={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};function cF(t,n,e,r,i){for(var a,u=0,o=t.length;n<o;++n){if(a=t[n],!u&&a===e)return n;i&&i.indexOf(a)>=0?--u:r&&r.indexOf(a)>=0&&++u}return n}function fF(t){for(var n=[],e=0,r=t.length,i=0;i<r;)i=cF(t,i,aF,tF+eF,nF+rF),n.push(t.substring(e,i).trim()),e=++i;if(0===n.length)throw"Empty event selector: "+t;return n}function hF(t){return"["===t[0]?function(t){var n,e,r=t.length,i=1;if((i=cF(t,i,nF,tF,nF))===r)throw"Empty between selector: "+t;if(2!==(n=fF(t.substring(1,i))).length)throw"Between selector must have two elements: "+t;if((t=t.slice(i+1).trim())[0]!==oF)throw"Expected '>' after between selector: "+t;if(n=n.map(hF),(e=hF(t.slice(1).trim())).between)return{between:n,stream:e};e.between=n;return e}(t):function(t){var n,e,r={source:JD},i=[],a=[0,0],u=0,o=0,s=t.length,l=0;if(t[s-1]===rF){if(!((l=t.lastIndexOf(eF))>=0))throw"Unmatched right brace: "+t;try{a=function(t){var n=t.split(aF);if(!t.length||n.length>2)throw t;return n.map(function(n){var e=+n;if(e!=e)throw t;return e})}(t.substring(l+1,s-1))}catch(n){throw"Invalid throttle specification: "+t}t=t.slice(0,l).trim(),s=t.length,l=0}if(!s)throw t;t[0]===uF&&(u=++l);(n=cF(t,l,iF))<s&&(i.push(t.substring(o,n).trim()),o=l=++n);if((l=cF(t,l,tF))===s)i.push(t.substring(o,s).trim());else if(i.push(t.substring(o,l).trim()),e=[],(o=++l)===s)throw"Unmatched left bracket: "+t;for(;l<s;){if((l=cF(t,l,nF))===s)throw"Unmatched left bracket: "+t;if(e.push(t.substring(o,l).trim()),l<s-1&&t[++l]!==tF)throw"Expected left bracket: "+t;o=++l}if(!(s=i.length)||sF.test(i[s-1]))throw"Invalid event selector: "+t;s>1?(r.type=i[1],u?r.markname=i[0].slice(1):(c=i[0],QD.hasOwnProperty(c)?r.marktype=i[0]:r.source=i[0])):r.type=i[0];var c;"!"===r.type.slice(-1)&&(r.consume=!0,r.type=r.type.slice(0,-1));null!=e&&(r.filter=e);a[0]&&(r.throttle=a[0]);a[1]&&(r.debounce=a[1]);return r}(t)}var dF="var datum=event.item&&event.item.datum;";function pF(t,n,e){var r=t.events,a=t.update,u=t.encode,o=[],c={target:e};r||i("Signal update missing events specification."),s(r)&&(r=function(t,n,e){return JD=n||KD,QD=e||lF,fF(t.trim()).map(hF)}(r,n.isSubscope()?qD:UD)),r=W(r).filter(t=>t.signal||t.scale?(o.push(t),0):1),o.length>1&&(o=[gF(o)]),r.length&&o.push(r.length>1?{merge:r}:r[0]),null!=u&&(a&&i("Signal encode and update are mutually exclusive."),a="encode(item(),"+l(u)+")"),c.update=s(a)?DD(a,n,dF):null!=a.expr?DD(a.expr,n,dF):null!=a.value?a.value:null!=a.signal?{$expr:"_.value",$params:{value:n.signalRef(a.signal)}}:i("Invalid signal update specification."),t.force&&(c.options={force:!0}),o.forEach(function(t){n.addUpdate(Z(function(t,n){return{source:t.signal?n.signalRef(t.signal):t.scale?n.scaleRef(t.scale):YD(t,n)}}(t,n),c))})}function gF(t){return{signal:"["+t.map(t=>t.scale?'scale("'+t.scale+'")':t.signal)+"]"}}function vF(t){return function(n,e,r){return SD(t,e,n||void 0,r)}}var mF=vF("aggregate"),yF=vF("axisticks"),_F=vF("bound"),xF=vF("collect"),bF=vF("compare"),wF=vF("datajoin"),AF=vF("encode"),kF=vF("expression"),MF=vF("facet"),EF=vF("field"),CF=vF("key"),DF=vF("legendentries"),FF=vF("load"),SF=vF("mark"),BF=vF("multiextent"),OF=vF("multivalues"),zF=vF("overlap"),NF=vF("params"),TF=vF("prefacet"),RF=vF("projection"),PF=vF("proxy"),LF=vF("relay"),qF=vF("render"),UF=vF("scale"),jF=vF("sieve"),$F=vF("sortitems"),IF=vF("viewlayout"),WF=vF("values"),HF=0;function YF(t,n){var e=t.type||"linear";(function(t){switch(t){case Gf:case Xf:case Zf:case Jf:case Qf:case Kf:case th:case nh:case eh:case ih:case ah:case uh:case oh:case sh:case lh:case ch:return!0}return!1})(e)||i("Unrecognized scale type: "+l(e)),n.addScale(t.name,{type:e,domain:void 0})}function VF(t,n){var e,r,a=n.getScale(t.name).params;for(e in a.domain=JF(t.domain,t,n),null!=t.range&&(a.range=function t(n,e,r){var a=n.range,o=e.config.range;if(a.signal)return e.signalRef(a.signal);if(s(a)){if(o&&o.hasOwnProperty(a))return n=Z({},n,{range:o[a]}),t(n,e,r);"width"===a?a=[0,{signal:"width"}]:"height"===a?a=gh(n.type)?[0,{signal:"height"}]:[{signal:"height"},0]:i("Unrecognized scale range value: "+l(a))}else{if(a.scheme)return r.scheme=u(a.scheme)?XF(a.scheme,e):GF(a.scheme,e),a.extent&&(r.schemeExtent=XF(a.extent,e)),void(a.count&&(r.schemeCount=GF(a.count,e)));if(a.step)return void(r.rangeStep=GF(a.step,e));if(gh(n.type)&&!u(a))return JF(a,n,e);u(a)||i("Unsupported range type: "+l(a))}return a.map(t=>(u(t)?XF:GF)(t,e))}(t,n,a)),null!=t.interpolate&&function(t,n){n.interpolate=GF(t.type||t),null!=t.gamma&&(n.interpolateGamma=GF(t.gamma))}(t.interpolate,a),null!=t.nice&&(a.nice=o(r=t.nice)?{interval:GF(r.interval),step:GF(r.step)}:GF(r)),null!=t.bins&&(a.bins=function(t,n){return t.signal||u(t)?XF(t,n):n.objectProperty(t)}(t.bins,n)),t)a.hasOwnProperty(e)||"name"===e||(a[e]=GF(t[e],n))}function GF(t,n){return o(t)?t.signal?n.signalRef(t.signal):i("Unsupported object: "+l(t)):t}function XF(t,n){return t.signal?n.signalRef(t.signal):t.map(t=>GF(t,n))}function ZF(t){i("Can not find data set: "+l(t))}function JF(t,n,e){if(t)return t.signal?e.signalRef(t.signal):(u(t)?function(t,n,e){return t.map(function(t){return GF(t,e)})}:t.fields?function(t,n,e){var r=t.data,i=t.fields.reduce(function(t,n){return n=s(n)?{data:r,field:n}:u(n)||n.signal?function(t,n){var e="_:vega:_"+HF++,r=xF({});if(u(t))r.value={$ingest:t};else if(t.signal){var i="setdata("+l(e)+","+t.signal+")";r.params.input=n.signalRef(i)}return n.addDataPipeline(e,[r,jF({})]),{data:e,field:"data"}}(n,e):n,t.push(n),t},[]);return(gh(n.type)?function(t,n,e){var r,i,a,u;return r=e.map(function(t){var e=n.getData(t.data);return e||ZF(t.data),e.countsRef(n,t.field)}),i=n.add(mF({groupby:TD,ops:["sum"],fields:[n.fieldRef("count")],as:["count"],pulse:r})),a=n.add(xF({pulse:OD(i)})),u=n.add(WF({field:TD,sort:n.sortRef(QF(t.sort,!0)),pulse:OD(a)})),OD(u)}:fh(n.type)?function(t,n,e){var r=e.map(function(t){var e=n.getData(t.data);return e||ZF(t.data),e.domainRef(n,t.field)});return OD(n.add(OF({values:r})))}:function(t,n,e){var r=e.map(function(t){var e=n.getData(t.data);return e||ZF(t.data),e.extentRef(n,t.field)});return OD(n.add(BF({extents:r})))})(t,e,i)}:function(t,n,e){var r=e.getData(t.data);r||ZF(t.data);return gh(n.type)?r.valuesRef(e,t.field,QF(t.sort,!1)):fh(n.type)?r.domainRef(e,t.field):r.extentRef(e,t.field)})(t,n,e);null==n.domainMin&&null==n.domainMax||i("No scale domain defined for domainMin/domainMax to override.")}function QF(t,n){return t&&(t.field||t.op?t.field||"count"===t.op?n&&t.field?i("Multiple domain scales can not sort by field."):n&&t.op&&"count"!==t.op&&i("Multiple domain scales support op count only."):i("No field provided for sort aggregate op: "+t.op):o(t)?t.field="key":t={field:"key"}),t}function KF(t,n,e){return u(t)?t.map(function(t){return KF(t,n,e)}):o(t)?t.signal?e.signalRef(t.signal):"fit"===n?t:i("Unsupported parameter object: "+l(t)):t}const tS="top",nS="left",eS="right",rS="bottom",iS="vertical",aS="start",uS="end",oS="index",sS="label",lS="offset",cS="perc",fS="perc2",hS="size",dS="value",pS="guide-label",gS="guide-title",vS="group-title",mS="symbol",yS="gradient",_S="discrete",xS=["size","shape","fill","stroke","strokeWidth","strokeDash","opacity"],bS={name:1,interactive:1},wS={value:0},AS={value:1};var kS=yt(["rule"]),MS=yt(["group","image","rect"]);function ES(t,n,e,r){var i=DD(t,n);return i.$fields.forEach(function(t){r[t]=1}),Z(e,i.$params),i.$expr}function CS(t,n,e,r){return function t(n,e,r,u){var o,c,f;if(n.signal)o="datum",f=ES(n.signal,e,r,u);else if(n.group||n.parent){for(c=Math.max(1,n.level||1),o="item";c-- >0;)o+=".mark.group";n.parent?(f=n.parent,o+=".datum"):f=n.group}else n.datum?(o="datum",f=n.datum):i("Invalid field reference: "+l(n));n.signal||(s(f)?(u[f]=1,f=a(f).map(l).join("][")):f=t(f,e,r,u));return o+"["+f+"]"}(o(t)?t:{datum:t},n,e,r)}function DS(t,n,e,r,i){var a,u,o,l=FS(t.scale,e,r,i);return null!=t.range?(u=l+".range()",n=0===(a=+t.range)?u+"[0]":"($="+u+","+(1===a?"$[$.length-1]":"$[0]+"+a+"*($[$.length-1]-$[0])")+")"):(void 0!==n&&(n=l+"("+n+")"),t.band&&(o=function(t,n){if(!s(t))return-1;var e=n.scaleType(t);return"band"===e||"point"===e?1:0}(t.scale,e))&&(a=(u=l+".bandwidth")+"()"+(1===(a=+t.band)?"":"*"+a),o<0&&(a="("+u+"?"+a+":0)"),n=(n?n+"+":"")+a,t.extra&&(n="(datum.extra?"+l+"(datum.extra.value):"+n+")")),null==n&&(n="0")),n}function FS(t,n,e,r){var i;if(s(t))i=zC+t,e.hasOwnProperty(i)||(e[i]=n.scaleRef(t)),i=l(i);else{for(i in n.scales)e[zC+i]=n.scaleRef(i);i=l(zC)+"+"+(t.signal?"("+ES(t.signal,n,e,r)+")":CS(t,n,e,r))}return"_["+i+"]"}function SS(t,n,e,r){return o(t)?"("+BS(null,t,n,e,r)+")":t}function BS(t,n,e,r,i){if(null!=n.gradient)return function(t,n,e,r){return"this.gradient("+FS(t.gradient,n,e,r)+","+l(t.start)+","+l(t.stop)+","+l(t.count)+")"}(n,e,r,i);var a=n.signal?ES(n.signal,e,r,i):n.color?function(t,n,e,r){function i(t,i,a,u){return"this."+t+"("+[BS(null,i,n,e,r),BS(null,a,n,e,r),BS(null,u,n,e,r)].join(",")+").toString()"}return t.c?i("hcl",t.h,t.c,t.l):t.h||t.s?i("hsl",t.h,t.s,t.l):t.l||t.a?i("lab",t.l,t.a,t.b):t.r||t.g||t.b?i("rgb",t.r,t.g,t.b):null}(n.color,e,r,i):null!=n.field?CS(n.field,e,r,i):void 0!==n.value?l(n.value):void 0;return null!=n.scale&&(a=DS(n,a,e,r,i)),void 0===a&&(a=null),null!=n.exponent&&(a="Math.pow("+a+","+SS(n.exponent,e,r,i)+")"),null!=n.mult&&(a+="*"+SS(n.mult,e,r,i)),null!=n.offset&&(a+="+"+SS(n.offset,e,r,i)),n.round&&(a="Math.round("+a+")"),a}function OS(t,n,e){return t+"["+l(n)+"]="+e+";"}function zS(t,n,e,r,i){var a="";return n.forEach(function(t){var n=BS(0,t,e,r,i);a+=t.test?ES(t.test,e,r,i)+"?"+n+":":n}),":"===M(a)&&(a+="null"),OS("o",t,a)}function NS(t,n,e,r){var i,a,o={},s="var o=item,datum=o.datum,$;";for(i in t)a=t[i],u(a)?s+=zS(i,a,r,e,o):s+=OS("o",i,BS(0,a,r,e,o));return s+=function(t,n){var e="";return kS[n]?e:(t.x2&&(t.x?(MS[n]&&(e+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),e+="o.width=o.x2-o.x;"):e+="o.x=o.x2-(o.width||0);"),t.xc&&(e+="o.x=o.xc-(o.width||0)/2;"),t.y2&&(t.y?(MS[n]&&(e+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),e+="o.height=o.y2-o.y;"):e+="o.y=o.y2-(o.height||0);"),t.yc&&(e+="o.y=o.yc-(o.height||0)/2;"),e)}(t,n),{$expr:s+="return 1;",$fields:Object.keys(o),$output:Object.keys(t)}}var TS="mark",RS="frame",PS="scope",LS="axis",qS="axis-domain",US="axis-grid",jS="axis-label",$S="axis-tick",IS="axis-title",WS="legend",HS="legend-band",YS="legend-entry",VS="legend-gradient",GS="legend-label",XS="legend-symbol",ZS="legend-title",JS="title";function QS(t){return o(t)?Z({},t):{value:t}}function KS(t,n,e,r){return null!=e?(o(e)&&!u(e)?t.update[n]=e:t[r||"enter"][n]={value:e},1):0}function tB(t,n,e){for(let e in n)KS(t,e,n[e]);for(let n in e)KS(t,n,e[n],"update")}function nB(t,n,e){for(var r in n)e&&e.hasOwnProperty(r)||(t[r]=Z(t[r]||{},n[r]));return t}function eB(t,n,e,r,i,a){var u,o;for(o in(a=a||{}).encoders={$encode:u={}},t=function(t,n,e,r,i){var a,u,o={};"legend"!=e&&0!==String(e).indexOf("axis")||(e=null);for(a in u=e===RS?i.group:e===TS?Z({},i.mark,i[n]):null)iB(a,t)||("fill"===a||"stroke"===a)&&(iB("fill",t)||iB("stroke",t))||(o[a]=rB(u[a]));return W(r).forEach(function(n){var e=i.style&&i.style[n];for(var r in e)iB(r,t)||(o[r]=rB(e[r]))}),(t=Z({},t)).enter=Z(o,t.enter),t}(t,n,e,r,i.config))u[o]=NS(t[o],n,a,i);return a}function rB(t){return t&&t.signal?{signal:t.signal}:{value:t}}function iB(t,n){return n&&(n.enter&&n.enter[t]||n.update&&n.update[t])}function aB(t,n,e,r,i,a,u){return{type:t,name:u?u.name:void 0,role:n,style:u&&u.style||e,key:r,from:i,interactive:!(!u||!u.interactive),encode:nB(a,u,bS)}}function uB(t,n){const e=e=>ID(t[e],n[e]);return e.isVertical=(e=>iS===ID(t.direction,n.direction||(e?n.symbolDirection:n.gradientDirection))),e.gradientLength=(()=>ID(t.gradientLength,n.gradientLength||n.gradientWidth)),e.gradientThickness=(()=>ID(t.gradientThickness,n.gradientThickness||n.gradientHeight)),e.entryColumns=(()=>ID(t.columns,ID(n.columns,+e.isVertical(!0)))),e}function oB(t,n){var e=n&&(n.update&&n.update[t]||n.enter&&n.enter[t]);return e&&e.signal?e:e?e.value:null}function sB(t,n,e){return`item.anchor === "${aS}" ? ${t} : item.anchor === "${uS}" ? ${n} : ${e}`}const lB=sB(l(nS),l(eS),l("center"));var cB="group",fB="rect",hB="rule",dB="symbol",pB="text";function gB(t,n,e,r){var i,a,u,o,s,l,c=uB(t,e),f=c.isVertical(),h=c.gradientThickness(),d=c.gradientLength();return f?(u=[0,1],o=[0,0],s=h,l=d):(u=[0,0],o=[1,0],s=d,l=h),tB(i={enter:a={opacity:wS,x:wS,y:wS,width:QS(s),height:QS(l)},update:Z({},a,{opacity:AS,fill:{gradient:n,start:u,stop:o}}),exit:{opacity:wS}},{stroke:c("gradientStrokeColor"),strokeWidth:c("gradientStrokeWidth")},{opacity:c("gradientOpacity")}),aB(fB,VS,null,void 0,void 0,i,r)}function vB(t,n,e,r,i){var a,u,o,s,l,c,f=uB(t,e),h=f.isVertical(),d=f.gradientThickness(),p=f.gradientLength(),g="";return h?(o="y",l="y2",s="x",c="width",g="1-"):(o="x",l="x2",s="y",c="height"),(u={opacity:wS,fill:{scale:n,field:dS}})[o]={signal:g+"datum."+cS,mult:p},u[s]=wS,u[l]={signal:g+"datum."+fS,mult:p},u[c]=QS(d),tB(a={enter:u,update:Z({},u,{opacity:AS}),exit:{opacity:wS}},{stroke:f("gradientStrokeColor"),strokeWidth:f("gradientStrokeWidth")},{opacity:f("gradientOpacity")}),aB(fB,HS,null,dS,i,a,r)}const mB=`datum.${cS}<=0?"${nS}":datum.${cS}>=1?"${eS}":"center"`,yB=`datum.${cS}<=0?"${rS}":datum.${cS}>=1?"${tS}":"middle"`;function _B(t,n,e,r){var i,a,u,o,s,l=uB(t,n),c=l.isVertical(),f=QS(l.gradientThickness()),h=l.gradientLength(),d=l("labelOverlap"),p=l("labelSeparation"),g="";return tB(i={enter:a={opacity:wS},update:u={opacity:AS,text:{field:sS}},exit:{opacity:wS}},{fill:l("labelColor"),fillOpacity:l("labelOpacity"),font:l("labelFont"),fontSize:l("labelFontSize"),fontStyle:l("labelFontStyle"),fontWeight:l("labelFontWeight"),limit:ID(t.labelLimit,n.gradientLabelLimit)}),c?(a.align={value:"left"},a.baseline=u.baseline={signal:yB},o="y",s="x",g="1-"):(a.align=u.align={signal:mB},a.baseline={value:"top"},o="x",s="y"),a[o]=u[o]={signal:g+"datum."+cS,mult:h},a[s]=u[s]=f,f.offset=ID(t.labelOffset,n.gradientLabelOffset)||0,t=aB(pB,GS,pS,dS,r,i,e),d&&(t.overlap={separation:p,method:d,order:"datum."+oS}),t}function xB(t,n,e,r,i,a,u,o){return{type:cB,name:e,role:t,style:n,from:r,interactive:i||!1,encode:a,marks:u,layout:o}}function bB(t,n,e,r,i){var a,u,o,s,l,c,f,h=uB(t,n),d=e.entries,p=!(!d||!d.interactive),g=d?d.name:void 0,v=h("clipHeight"),m=h("symbolOffset"),y={data:"value"},_={},x=`${i} ? datum.${lS} : datum.${hS}`,b=v?QS(v):{field:hS},w=`datum.${oS}`,A=`max(1, ${i})`;return b.mult=.5,_={enter:a={opacity:wS,x:{signal:x,mult:.5,offset:m},y:b},update:u={opacity:AS,x:a.x,y:a.y},exit:{opacity:wS}},t.fill||tB(_,{fill:n.symbolBaseFillColor,stroke:n.symbolBaseStrokeColor}),tB(_,{fill:h("symbolFillColor"),shape:h("symbolType"),size:h("symbolSize"),stroke:h("symbolStrokeColor"),strokeDash:h("symbolDash"),strokeDashOffset:h("symbolDashOffset"),strokeWidth:h("symbolStrokeWidth")},{opacity:h("symbolOpacity")}),xS.forEach(function(n){t[n]&&(u[n]=a[n]={scale:t[n],field:dS})}),s=aB(dB,XS,null,dS,y,_,e.symbols),v&&(s.clip=!0),(o=QS(m)).offset=h("labelOffset"),tB(_={enter:a={opacity:wS,x:{signal:x,offset:o},y:b},update:u={opacity:AS,text:{field:sS},x:a.x,y:a.y},exit:{opacity:wS}},{align:h("labelAlign"),baseline:h("labelBaseline"),fill:h("labelColor"),fillOpacity:h("labelOpacity"),font:h("labelFont"),fontSize:h("labelFontSize"),fontStyle:h("labelFontStyle"),fontWeight:h("labelFontWeight"),limit:h("labelLimit")}),l=aB(pB,GS,pS,dS,y,_,e.labels),_={enter:{noBound:{value:!v},width:wS,height:v?QS(v):wS,opacity:wS},exit:{opacity:wS},update:u={opacity:AS,row:{signal:null},column:{signal:null}}},h.isVertical(!0)?(c=`ceil(item.mark.items.length / ${A})`,u.row.signal=`${w}%${c}`,u.column.signal=`floor(${w} / ${c})`,f={field:["row",w]}):(u.row.signal=`floor(${w} / ${A})`,u.column.signal=`${w} % ${A}`,f={field:w}),u.column.signal=`${i}?${u.column.signal}:${w}`,(t=xB(PS,null,g,r={facet:{data:r,name:"value",groupby:oS}},p,nB(_,d,bS),[s,l])).sort=f,t}const wB='item.orient === "left"',AB='item.orient === "right"',kB=`(${wB} || ${AB})`,MB=`datum.vgrad && ${kB}`,EB=sB('"top"','"bottom"','"middle"'),CB=`datum.vgrad && ${AB} ? (${sB('"right"','"left"','"center"')}) : (${kB} && !(datum.vgrad && ${wB})) ? "left" : ${lB}`,DB=`item._anchor || (${kB} ? "middle" : "start")`,FB=`${MB} ? (${wB} ? -90 : 90) : 0`,SB=`${kB} ? (datum.vgrad ? (${AB} ? "bottom" : "top") : ${EB}) : "top"`;function BB(t,n){var e;return o(t)&&(t.signal?e=t.signal:t.path?e="pathShape("+OB(t.path)+")":t.sphere&&(e="geoShape("+OB(t.sphere)+', {type: "Sphere"})')),e?n.signalRef(e):!!t}function OB(t){return o(t)&&t.signal?t.signal:l(t)}function zB(t){var n=t.role||"";return n.indexOf("axis")&&n.indexOf("legend")?t.type===cB?PS:n||TS:n}function NB(t){return{marktype:t.type,name:t.name||void 0,role:t.role||zB(t),zindex:+t.zindex||void 0}}function TB(t,n){return t&&t.signal?n.signalRef(t.signal):!1!==t}function RB(t,n){var e=Wr(t.type);e||i("Unrecognized transform type: "+l(t.type));var r=SD(e.type.toLowerCase(),null,PB(e,t,n));return t.signal&&n.addSignal(t.signal,n.proxy(r)),r.metadata=e.metadata||{},r}function PB(t,n,e){var r,i,a,u={};for(i=0,a=t.params.length;i<a;++i)u[(r=t.params[i]).name]=LB(r,n,e);return u}function LB(t,n,e){var r=t.type,a=n[t.name];return"index"===r?function(t,n,e){s(n.from)||i('Lookup "from" parameter must be a string literal.');return e.getData(n.from).lookupRef(e,n.key)}(0,n,e):void 0!==a?"param"===r?function(t,n,e){var r=n[t.name];return t.array?(u(r)||i("Expected an array of sub-parameters. Instead: "+l(r)),r.map(function(n){return UB(t,n,e)})):UB(t,r,e)}(t,n,e):"projection"===r?e.projectionRef(n[t.name]):t.array&&!jD(a)?a.map(function(n){return qB(t,n,e)}):qB(t,a,e):void(t.required&&i("Missing required "+l(n.type)+" parameter: "+l(t.name)))}function qB(t,n,e){var r=t.type;if(jD(n))return jB(r)?i("Expression references can not be signals."):$B(r)?e.fieldRef(n):IB(r)?e.compareRef(n):e.signalRef(n.signal);var a,u=t.expr||$B(r);return u&&((a=n)&&a.expr)?e.exprRef(n.expr,n.as):u&&function(t){return t&&t.field}(n)?ND(n.field,n.as):jB(r)?DD(n,e):function(t){return"data"===t}(r)?OD(e.getData(n).values):$B(r)?ND(n):IB(r)?e.compareRef(n):n}function UB(t,n,e){var r,a,u,o,s;for(o=0,s=t.params.length;o<s;++o){for(u in(a=t.params[o]).key)if(a.key[u]!==n[u]){a=null;break}if(a)break}return a||i("Unsupported parameter: "+l(n)),r=Z(PB(a,n,e),a.key),OD(e.add(NF(r)))}function jB(t){return"expr"===t}function $B(t){return"field"===t}function IB(t){return"compare"===t}function WB(t,n){return t.$ref?t:t.data&&t.data.$ref?t.data:OD(n.getData(t.data).output)}function HB(t,n,e,r,i){this.scope=t,this.input=n,this.output=e,this.values=r,this.aggregate=i,this.index={}}HB.fromEntries=function(t,n){var e=n.length,r=1,i=n[0],a=n[e-1],u=n[e-2],o=null;for(i&&"load"===i.type&&(i=n[1]),t.add(n[0]);r<e;++r)n[r].params.pulse=OD(n[r-1]),t.add(n[r]),"aggregate"===n[r].type&&(o=n[r]);return new HB(t,i,u,a,o)};var YB=HB.prototype;function VB(t){return s(t)?t:null}function GB(t,n,e){var r,i=LD(e.op,e.field);if(n.ops){for(var a=0,u=n.as.length;a<u;++a)if(n.as[a]===i)return}else n.ops=["count"],n.fields=[null],n.as=["count"];e.op&&(n.ops.push((r=e.op.signal)?t.signalRef(r):e.op),n.fields.push(t.fieldRef(e.field)),n.as.push(i))}function XB(t,n,e,r,i,a,u){var s,l,c=n[e]||(n[e]={}),f=function(t){return o(t)?(t.order===PD?"-":"+")+LD(t.op,t.field):""}(a),h=VB(i);if(null!=h&&(t=n.scope,s=c[h+=f?"|"+f:""]),!s){var d=a?{field:TD,pulse:n.countsRef(t,i,a)}:{field:t.fieldRef(i),pulse:OD(n.output)};f&&(d.sort=t.sortRef(a)),l=t.add(SD(r,void 0,d)),u&&(n.index[i]=l),s=OD(l),null!=h&&(c[h]=s)}return s}function ZB(t,n,e){var r,i=t.remove,a=t.insert,u=t.toggle,o=t.modify,s=t.values,l=n.add(BD());r=DD("if("+t.trigger+',modify("'+e+'",'+[a,i,u,o,s].map(function(t){return null==t?"null":t}).join(",")+"),0)",n),l.update=r.$expr,l.params=r.$params}function JB(t,n){var e,r,a,u,o,s,c,f,h,d,p,g,v,m=zB(t),y=t.type===cB,_=t.from&&t.from.facet,x=t.layout||m===PS||m===RS,b=m===TS||x||_,w=t.overlap;a=function(t,n,e){var r,a,u,o,s;return t?(r=t.facet)&&(n||i("Only group marks can be faceted."),null!=r.field?o=s=WB(r,e):(t.data?s=OD(e.getData(t.data).aggregate):((u=RB(Z({type:"aggregate",groupby:W(r.groupby)},r.aggregate),e)).params.key=e.keyRef(r.groupby),u.params.pulse=WB(r,e),o=s=OD(e.add(u))),a=e.keyRef(r.groupby,!0))):o=OD(e.add(xF(null,[{}]))),o||(o=WB(t,e)),{key:a,pulse:o,parent:s}}(t.from,y,n),h=OD(r=n.add(wF({key:a.key||(t.key?ND(t.key):void 0),pulse:a.pulse,clean:!y}))),r=u=n.add(xF({pulse:h})),r=n.add(SF({markdef:NB(t),interactive:TB(t.interactive,n),clip:BB(t.clip,n),context:{$context:!0},groups:n.lookup(),parent:n.signals.parent?n.signalRef("parent"):null,index:n.markpath(),pulse:OD(r)})),d=OD(r),(r=n.add(AF(eB(t.encode,t.type,m,t.style,n,{pulse:d})))).params.parent=n.encode(),t.transform&&t.transform.forEach(function(t){var e=RB(t,n);(e.metadata.generates||e.metadata.changes)&&i("Mark transforms should not generate new data."),e.params.pulse=OD(r),n.add(r=e)}),t.sort&&(r=n.add($F({sort:n.compareRef(t.sort,!0),pulse:OD(r)}))),p=OD(r),(_||x)&&(g=OD(x=n.add(IF({layout:n.objectProperty(t.layout),legends:n.legends,mark:d,pulse:p})))),v=OD(o=n.add(_F({mark:d,pulse:g||p}))),y&&(b&&((e=n.operators).pop(),x&&e.pop()),n.pushState(p,g||v,h),_?function(t,n,e){var r,a,u,o,s=t.from.facet,c=s.name,f=WB(s,n);s.name||i("Facet must have a name: "+l(s)),s.data||i("Facet must reference a data set: "+l(s)),s.field?o=n.add(TF({field:n.fieldRef(s.field),pulse:f})):s.groupby?o=n.add(MF({key:n.keyRef(s.groupby),group:OD(n.proxy(e.parent)),pulse:f})):i("Facet must specify groupby or field: "+l(s)),a=(r=n.fork()).add(xF()),u=r.add(jF({pulse:OD(a)})),r.addData(c,new HB(r,a,a,u)),r.addSignal("parent",null),o.params.subflow={$subflow:cO(t,r).toRuntime()}}(t,n,a):b?function(t,n,e){var r=n.add(TF({pulse:e.pulse})),i=n.fork();i.add(jF()),i.addSignal("parent",null),r.params.subflow={$subflow:cO(t,i).toRuntime()}}(t,n,a):cO(t,n),n.popState(),b&&(x&&e.push(x),e.push(o))),w&&(v=function(t,n,e){var r,i=t.method,a=t.bound,u=t.separation,o={separation:jD(u)?e.signalRef(u.signal):u,method:jD(i)?e.signalRef(i.signal):i,pulse:n};t.order&&(o.sort=e.compareRef({field:t.order}));a&&(r=a.tolerance,o.boundTolerance=jD(r)?e.signalRef(r.signal):+r,o.boundScale=e.scaleRef(a.scale),o.boundOrient=a.orient);return OD(e.add(zF(o)))}(w,v,n)),s=n.add(qF({pulse:v})),c=n.add(jF({pulse:OD(s)},void 0,n.parent())),null!=t.name&&(f=t.name,n.addData(f,new HB(n,u,s,c)),t.on&&t.on.forEach(function(t){(t.insert||t.remove||t.toggle)&&i("Marks only support modify triggers."),ZB(t,n,f)}))}function QB(t,n){var e,r,a,u,o,s,l,c,f,h=n.config.legend,d=t.encode||{},p=d.legend||{},g=p.name||void 0,v=p.interactive,m=p.style,y=uB(t,h),_=xS.reduce(function(n,e){return n||t[e]},0);return _||i("Missing valid scale for legend."),o=function(t,n){var e=t.type||mS;t.type||1!==function(t){return xS.reduce(function(n,e){return n+(t[e]?1:0)},0)}(t)||!t.fill&&!t.stroke||(e=ph(n)?yS:vh(n)?_S:mS);return e!==yS?e:vh(n)?_S:yS}(t,n.scaleType(_)),s={title:null!=t.title,type:o,vgrad:"symbol"!==o&&y.isVertical()},l=OD(n.add(xF(null,[s]))),p=nB(function(t,n){var e={enter:{},update:{}};return tB(e,{orient:t("orient"),offset:t("offset"),padding:t("padding"),titlePadding:t("titlePadding"),cornerRadius:t("cornerRadius"),fill:t("fillColor"),stroke:t("strokeColor"),strokeWidth:n.strokeWidth,strokeDash:n.strokeDash}),e}(y,h),p,bS),e={enter:{x:{value:0},y:{value:0}}},c=OD(n.add(DF(a={type:o,scale:n.scaleRef(_),count:n.objectProperty(t.tickCount),values:n.objectProperty(t.values),minstep:n.property(t.tickMinStep),formatType:n.property(t.formatType),formatSpecifier:n.property(t.format)}))),o===yS?(u=[gB(t,_,h,d.gradient),_B(t,h,d.labels,c)],a.count=a.count||n.signalRef(`max(2,2*floor((${WD(y.gradientLength())})/100))`)):o===_S?u=[vB(t,_,h,d.gradient,c),_B(t,h,d.labels,c)]:(r=function(t,n){const e=uB(t,n);return{align:e("gridAlign"),columns:e.entryColumns(),center:{row:!0,column:!1},padding:{row:e("rowPadding"),column:e("columnPadding")}}}(t,h),u=[bB(t,h,d,c,WD(r.columns))],a.size=function(t,n,e){var r=WD(KB("size",t,e)),i=WD(KB("strokeWidth",t,e)),a=WD(function(t,n,e){return oB("fontSize",t)||function(t,n,e){var r=n.config.style[e];return r&&r[t]}("fontSize",n,e)}(e[1].encode,n,pS));return DD(`max(ceil(sqrt(${r})+${i}),${a})`,n)}(t,n,u[0].marks)),u=[xB(YS,null,null,l,v,e,u,r)],s.title&&u.push(function(t,n,e,r){var i,a=uB(t,n);return tB(i={enter:{opacity:wS},update:{opacity:AS,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:wS}},{orient:a("titleOrient"),_anchor:a("titleAnchor"),anchor:{signal:DB},angle:{signal:FB},align:{signal:CB},baseline:{signal:SB},text:t.title,fill:a("titleColor"),fillOpacity:a("titleOpacity"),font:a("titleFont"),fontSize:a("titleFontSize"),fontStyle:a("titleFontStyle"),fontWeight:a("titleFontWeight"),limit:a("titleLimit")},{align:a("titleAlign"),baseline:a("titleBaseline")}),aB(pB,ZS,gS,null,r,i,e)}(t,h,d.title,l)),f=xB(WS,m,g,l,v,p,u),t.zindex&&(f.zindex=t.zindex),JB(f,n)}function KB(t,n,e){return n[t]?`scale("${n[t]}",datum)`:oB(t,e[0].encode)}YB.countsRef=function(t,n,e){var r,i,a,u=this.counts||(this.counts={}),o=VB(n);return null!=o&&(t=this.scope,r=u[o]),r?e&&e.field&&GB(t,r.agg.params,e):(a={groupby:t.fieldRef(n,"key"),pulse:OD(this.output)},e&&e.field&&GB(t,a,e),i=t.add(mF(a)),r=t.add(xF({pulse:OD(i)})),r={agg:i,ref:OD(r)},null!=o&&(u[o]=r)),r.ref},YB.tuplesRef=function(){return OD(this.values)},YB.extentRef=function(t,n){return XB(t,this,"extent","extent",n,!1)},YB.domainRef=function(t,n){return XB(t,this,"domain","values",n,!1)},YB.valuesRef=function(t,n,e){return XB(t,this,"vals","values",n,e||!0)},YB.lookupRef=function(t,n){return XB(t,this,"lookup","tupleindex",n,!1)},YB.indataRef=function(t,n){return XB(t,this,"indata","tupleindex",n,!0,!0)};const tO=`item.orient==="${nS}"?-90:item.orient==="${eS}"?90:0`,nO=`item.orient==="${rS}"?"${tS}":"${rS}"`;function eO(t,n){t=s(t)?{text:t}:t;var e,r,i=n.config.title,a=Z({},t.encode);return e=OD(n.add(xF(null,[{}]))),a.name=t.name,a.interactive=t.interactive,r=function(t,n,e,r){var i,a=uB(t,n),u={value:0},o=t.text;return tB(i={enter:{opacity:u},update:{opacity:{value:1}},exit:{opacity:u}},{text:o,orient:a("orient"),anchor:a("anchor"),align:{signal:lB},angle:{signal:tO},baseline:{signal:nO},dx:a("dx"),dy:a("dy"),fill:a("color"),font:a("font"),fontSize:a("fontSize"),fontStyle:a("fontStyle"),fontWeight:a("fontWeight"),frame:a("frame"),limit:a("limit"),offset:a("offset")||0},{align:a("align"),angle:a("angle"),baseline:a("baseline")}),aB(pB,JS,t.style||vS,null,r,i,e)}(t,i,a,e),t.zindex&&(r.zindex=t.zindex),JB(r,n)}function rO(t,n){var e=[];t.transform&&t.transform.forEach(function(t){e.push(RB(t,n))}),t.on&&t.on.forEach(function(e){ZB(e,n,t.name)}),n.addDataPipeline(t.name,function(t,n,e){var r,i,a,u,o,s=[],l=null,c=!1,f=!1;t.values?$D(t.values)||$D(t.format)?(s.push(aO(n,t)),s.push(l=iO())):s.push(l=iO({$ingest:t.values,$format:t.format})):t.url?$D(t.url)||$D(t.format)?(s.push(aO(n,t)),s.push(l=iO())):s.push(l=iO({$request:t.url,$format:t.format})):t.source&&(l=r=W(t.source).map(function(t){return OD(n.getData(t).output)}),s.push(null));for(i=0,a=e.length;i<a;++i)u=e[i],o=u.metadata,l||o.source||s.push(l=iO()),s.push(u),o.generates&&(f=!0),o.modifies&&!f&&(c=!0),o.source?l=u:o.changes&&(l=null);r&&(a=r.length-1,s[0]=LF({derive:c,pulse:a?r:r[0]}),(c||a)&&s.splice(1,0,iO()));l||s.push(iO());return s.push(jF({})),s}(t,n,e))}function iO(t){var n=xF({},t);return n.metadata={source:!0},n}function aO(t,n){return FF({url:n.url?t.property(n.url):void 0,values:n.values?t.property(n.values):void 0,format:t.objectProperty(n.format)})}function uO(t,n){return{scale:t.scale,range:n}}function oO(t,n,e,r){var i,a,u,s,l,c,f,h,d,p=uB(t,n),g=t.orient,v=t.gridScale,m=g===nS||g===tS?1:-1,y=function(t,n){if(1===n);else if(o(t)){for(var e=t=Z({},t);null!=e.mult;){if(!o(e.mult))return e.mult*=n,t;e=e.mult=Z({},e.mult)}e.mult=n}else t=n*(t||0);return t}(t.offset,m);return tB(i={enter:a={opacity:wS},update:s={opacity:AS},exit:u={opacity:wS}},{stroke:p("gridColor"),strokeDash:p("gridDash"),strokeDashOffset:p("gridDashOffset"),strokeOpacity:p("gridOpacity"),strokeWidth:p("gridWidth")}),l={scale:t.scale,field:dS,band:p("bandPosition"),round:p("tickRound"),extra:p("tickExtra"),offset:p("tickOffset")},g===tS||g===rS?(c="x",f="y",d="height"):(c="y",f="x",d="width"),h=f+"2",s[c]=a[c]=u[c]=l,v?(s[f]=a[f]={scale:v,range:0,mult:m,offset:y},s[h]=a[h]={scale:v,range:1,mult:m,offset:y}):(s[f]=a[f]={value:0,offset:y},s[h]=a[h]={signal:d,mult:m,offset:y}),aB(hB,US,null,dS,r,i,e)}function sO(t,n,e,r,i){return{signal:'flush(range("'+t+'"), scale("'+t+'", datum.value), '+n+","+e+","+r+","+i+")"}}function lO(t,n){var e,r,i,a,u,o,s=function(t,n){var e=n.config,r=t.orient,i=r===tS||r===rS?e.axisX:e.axisY,a=e["axis"+r[0].toUpperCase()+r.slice(1)],u="band"===n.scaleType(t.scale)&&e.axisBand;return i||a||u?Z({},e.axis,i,a,u):e.axis}(t,n),l=t.encode||{},c=l.axis||{},f=c.name||void 0,h=c.interactive,d=c.style,p=uB(t,s);return e={orient:t.orient,ticks:!!p("ticks"),labels:!!p("labels"),grid:!!p("grid"),domain:!!p("domain"),title:null!=t.title},r=OD(n.add(xF({},[e]))),c=nB({update:{offset:QS(p("offset")||0),position:QS(ID(t.position,0)),titlePadding:QS(p("titlePadding")),minExtent:QS(p("minExtent")),maxExtent:QS(p("maxExtent")),range:{signal:`abs(span(range("${t.scale}")))`}}},l.axis,bS),i=OD(n.add(yF({scale:n.scaleRef(t.scale),extra:n.property(p("tickExtra")),count:n.objectProperty(t.tickCount),values:n.objectProperty(t.values),minstep:n.property(t.tickMinStep),formatType:n.property(t.formatType),formatSpecifier:n.property(t.format)}))),o=[],e.grid&&o.push(oO(t,s,l.grid,i)),e.ticks&&(a=p("tickSize"),o.push(function(t,n,e,r,i){var a,u,o,s,l,c,f=uB(t,n),h=t.orient,d=h===nS||h===tS?-1:1;return tB(a={enter:u={opacity:wS},update:s={opacity:AS},exit:o={opacity:wS}},{stroke:f("tickColor"),strokeDash:f("tickDash"),strokeDashOffset:f("tickDashOffset"),strokeOpacity:f("tickOpacity"),strokeWidth:f("tickWidth")}),(l=QS(i)).mult=d,c={scale:t.scale,field:dS,band:f("bandPosition"),round:f("tickRound"),extra:f("tickExtra"),offset:f("tickOffset")},h===tS||h===rS?(s.y=u.y=wS,s.y2=u.y2=l,s.x=u.x=o.x=c):(s.x=u.x=wS,s.x2=u.x2=l,s.y=u.y=o.y=c),aB(hB,$S,null,dS,r,a,e)}(t,s,l.ticks,i,a))),e.labels&&(a=e.ticks?a:0,o.push(function(t,n,e,r,i){var a,u,o,s,l,c,f,h,d,p,g=uB(t,n),v=t.orient,m=v===nS||v===tS?-1:1,y=v===tS||v===rS,_=t.scale,x=WD(g("labelFlush")),b=WD(g("labelFlushOffset")),w=0===x||!!x,A=g("labelAlign"),k=g("labelBaseline");return(o=QS(i)).mult=m,o.offset=QS(g("labelPadding")||0),o.offset.mult=m,s={scale:_,field:dS,band:.5,offset:g("tickOffset")},y?(l=A||(w?sO(_,x,'"left"','"right"','"center"'):"center"),c=k||(v===tS?"bottom":"top"),f=!A):(l=A||(v===eS?"left":"right"),c=k||(w?sO(_,x,'"top"','"bottom"','"middle"'):"middle"),f=!k),f=f&&w&&b?sO(_,x,"-"+b,b,0):null,tB(a={enter:u={opacity:wS,x:y?s:o,y:y?o:s},update:{opacity:AS,text:{field:sS},x:u.x,y:u.y},exit:{opacity:wS,x:u.x,y:u.y}},{[y?"dx":"dy"]:f,align:l,baseline:c,angle:g("labelAngle"),fill:g("labelColor"),fillOpacity:g("labelOpacity"),font:g("labelFont"),fontSize:g("labelFontSize"),fontWeight:g("labelFontWeight"),fontStyle:g("labelFontStyle"),limit:g("labelLimit")}),h=g("labelBound"),d=g("labelOverlap"),p=g("labelSeparation"),t=aB(pB,jS,pS,dS,r,a,e),(d||h)&&(t.overlap={separation:p,method:d,order:"datum.index",bound:h?{scale:_,orient:v,tolerance:h}:null}),t}(t,s,l.labels,i,a))),e.domain&&o.push(function(t,n,e,r){var i,a,u,o,s,l,c=uB(t,n),f=t.orient;return tB(i={enter:a={opacity:wS},update:u={opacity:AS},exit:{opacity:wS}},{stroke:c("domainColor"),strokeDash:c("domainDash"),strokeDashOffset:c("domainDashOffset"),strokeWidth:c("domainWidth"),strokeOpacity:c("domainOpacity")}),f===tS||f===rS?(o="x",l="y"):(o="y",l="x"),s=o+"2",a[l]=wS,u[o]=a[o]=uO(t,0),u[s]=a[s]=uO(t,1),aB(hB,qS,null,null,r,i,e)}(t,s,l.domain,r)),e.title&&o.push(function(t,n,e,r){var i,a,u,o,s=uB(t,n),l=t.orient,c=l===nS||l===tS?-1:1,f=l===tS||l===rS;return i={enter:a={opacity:wS,anchor:QS(s("titleAnchor")),align:{signal:lB}},update:u=Z({},a,{opacity:AS,text:QS(t.title)}),exit:{opacity:wS}},o={signal:`lerp(range("${t.scale}"), ${sB(0,1,.5)})`},f?(u.x=o,a.angle={value:0},a.baseline={value:l===tS?"bottom":"top"}):(u.y=o,a.angle={value:90*c},a.baseline={value:"bottom"}),tB(i,{angle:s("titleAngle"),baseline:s("titleBaseline"),fill:s("titleColor"),fillOpacity:s("titleOpacity"),font:s("titleFont"),fontSize:s("titleFontSize"),fontStyle:s("titleFontStyle"),fontWeight:s("titleFontWeight"),limit:s("titleLimit")},{align:s("titleAlign")}),!KS(i,"x",s("titleX"),"update")&&!f&&!iB("x",e)&&(i.enter.auto={value:!0}),!KS(i,"y",s("titleY"),"update")&&f&&!iB("y",e)&&(i.enter.auto={value:!0}),aB(pB,IS,gS,null,r,i,e)}(t,s,l.title,r)),u=xB(LS,d,f,r,h,c,o),t.zindex&&(u.zindex=t.zindex),JB(u,n)}function cO(t,n,e){var r=W(t.signals),a=W(t.scales);return e||r.forEach(function(t){CD(t,n)}),W(t.projections).forEach(function(t){!function(t,n){var e={};for(var r in t)"name"!==r&&(e[r]=KF(t[r],r,n));n.addProjection(t.name,e)}(t,n)}),a.forEach(function(t){YF(t,n)}),W(t.data).forEach(function(t){rO(t,n)}),a.forEach(function(t){VF(t,n)}),r.forEach(function(t){!function(t,n){var e=n.getSignal(t.name),r=t.update;t.init&&(r?i("Signals can not include both init and update expressions."):(r=t.init,e.initonly=!0)),r&&(r=DD(r,n),e.update=r.$expr,e.params=r.$params),t.on&&t.on.forEach(function(t){pF(t,n,e.id)})}(t,n)}),W(t.axes).forEach(function(t){lO(t,n)}),W(t.marks).forEach(function(t){JB(t,n)}),W(t.legends).forEach(function(t){QB(t,n)}),t.title&&eO(t.title,n),n.parseLambdas(),n}var fO=yt(["width","height","padding","autosize"]);function hO(t,n){var e,r,i,a,u,s=n.config;return n.background=t.background||s.background,n.eventConfig=s.events,u=OD(n.root=n.add(BD())),n.addSignal("width",t.width||0),n.addSignal("height",t.height||0),n.addSignal("padding",function(t,n){return o(t=t||n.padding)?{top:AD(t.top),bottom:AD(t.bottom),left:AD(t.left),right:AD(t.right)}:{top:e=AD(t),bottom:e,left:e,right:e};var e}(t.padding,s)),n.addSignal("autosize",function(t,n){return o(t=t||n.autosize)?t:{type:t||"pad"}}(t.autosize,s)),n.legends=n.objectProperty(s.legend&&s.legend.layout),W(t.signals).forEach(function(t){fO[t.name]||CD(t,n)}),r=n.add(xF()),i=nB({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},t.encode),i=n.add(AF(eB(i,cB,RS,t.style,n,{pulse:OD(r)}))),a=n.add(IF({layout:n.objectProperty(t.layout),legends:n.legends,autosize:n.signalRef("autosize"),mark:u,pulse:OD(i)})),n.operators.pop(),n.pushState(OD(i),OD(a),null),cO(t,n,!0),n.operators.push(a),e=n.add(_F({mark:u,pulse:OD(a)})),e=n.add(qF({pulse:OD(e)})),e=n.add(jF({pulse:OD(e)})),n.addData("root",new HB(n,r,r,e)),n}function dO(t){this.config=t,this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.background=null,this.eventConfig=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function pO(t){this.config=t.config,this.legends=t.legends,this.field=Object.create(t.field),this.signals=Object.create(t.signals),this.lambdas=Object.create(t.lambdas),this.scales=Object.create(t.scales),this.events=Object.create(t.events),this.data=Object.create(t.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++t._nextsub[0],this._nextsub=t._nextsub,this._parent=t._parent.slice(),this._encode=t._encode.slice(),this._lookup=t._lookup.slice(),this._markpath=t._markpath}var gO=dO.prototype=pO.prototype;function vO(t){return(u(t)?function(t){for(var n,e="[",r=0,i=t.length;r<i;++r)n=t[r],e+=(r>0?",":"")+(o(n)?n.signal||vO(n):l(n));return e+"]"}:function(t){var n,e,r="{",i=0;for(n in t)e=t[n],r+=(++i>1?",":"")+l(n)+":"+(o(e)?e.signal||vO(e):l(e));return r+"}"})(t)}function mO(t){return(t||[]).reduce((t,n)=>{for(var e in n){var r="legend"===e?{layout:1}:"style"===e||null;yO(t,e,n[e],r)}return t},{padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:wO},area:{fill:wO},image:null,line:{stroke:wO,strokeWidth:bO},path:{stroke:wO},rect:{fill:wO},rule:{stroke:AO},shape:{stroke:wO},symbol:{fill:wO,size:64},text:{fill:AO,font:_O,fontSize:11},style:{"guide-label":{fill:AO,font:_O,fontSize:10},"guide-title":{fill:AO,font:_O,fontSize:11,fontWeight:"bold"},"group-title":{fill:AO,font:_O,fontSize:13,fontWeight:"bold"},point:{size:xO,strokeWidth:bO,shape:"circle"},circle:{size:xO,strokeWidth:bO},square:{size:xO,strokeWidth:bO,shape:"square"},cell:{fill:"transparent",stroke:MO}},title:{orient:"top",anchor:"middle",offset:4},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:kO,grid:!1,gridWidth:1,gridColor:MO,labels:!0,labelAngle:0,labelLimit:180,labelPadding:2,ticks:!0,tickColor:kO,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-1},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:MO,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:kO,titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}})}function yO(t,n,e,r){var i,a;if(o(e)&&!u(e))for(i in a=o(t[n])?t[n]:t[n]={},e)r&&(!0===r||r[i])?yO(a,i,e[i]):a[i]=e[i];else t[n]=e}gO.fork=function(){return new pO(this)},gO.isSubscope=function(){return this._subid>0},gO.toRuntime=function(){return this.finish(),{background:this.background,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig}},gO.id=function(){return(this._subid?this._subid+":":0)+this._id++},gO.add=function(t){return this.operators.push(t),t.id=this.id(),t.refs&&(t.refs.forEach(function(n){n.$ref=t.id}),t.refs=null),t},gO.proxy=function(t){var n=t instanceof FD?OD(t):t;return this.add(PF({value:n}))},gO.addStream=function(t){return this.streams.push(t),t.id=this.id(),t},gO.addUpdate=function(t){return this.updates.push(t),t},gO.finish=function(){var t,n;for(t in this.root&&(this.root.root=!0),this.signals)this.signals[t].signal=t;for(t in this.scales)this.scales[t].scale=t;function e(t,n,e){var r;t&&((r=t.data||(t.data={}))[n]||(r[n]=[])).push(e)}for(t in this.data)for(var r in e((n=this.data[t]).input,t,"input"),e(n.output,t,"output"),e(n.values,t,"values"),n.index)e(n.index[r],t,"index:"+r);return this},gO.pushState=function(t,n,e){this._encode.push(OD(this.add(jF({pulse:t})))),this._parent.push(n),this._lookup.push(e?OD(this.proxy(e)):null),this._markpath.push(-1)},gO.popState=function(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},gO.parent=function(){return M(this._parent)},gO.encode=function(){return M(this._encode)},gO.lookup=function(){return M(this._lookup)},gO.markpath=function(){var t=this._markpath;return++t[t.length-1]},gO.fieldRef=function(t,n){if(s(t))return ND(t,n);t.signal||i("Unsupported field reference: "+l(t));var e,r=t.signal,a=this.field[r];return a||(e={name:this.signalRef(r)},n&&(e.as=n),this.field[r]=a=OD(this.add(EF(e)))),a},gO.compareRef=function(t,n){function e(t){return jD(t)?(i=!0,r.signalRef(t.signal)):t}var r=this,i=!1,a=W(t.field).map(e),u=W(t.order).map(e);return n&&a.push(zD),i?OD(this.add(bF({fields:a,orders:u}))):RD(a,u)},gO.keyRef=function(t,n){var e=this.signals,r=!1;return t=W(t).map(function(t){return jD(t)?(r=!0,OD(e[t.signal])):t}),r?OD(this.add(CF({fields:t,flat:n}))):function(t,n){var e={$key:t};return n&&(e.$flat=!0),e}(t,n)},gO.sortRef=function(t){if(!t)return t;var n=[LD(t.op,t.field),zD],e=t.order||"ascending";return e.signal?OD(this.add(bF({fields:n,orders:[e=this.signalRef(e.signal),e]}))):RD(n,[e,e])},gO.event=function(t,n){var e=t+":"+n;if(!this.events[e]){var r=this.id();this.streams.push({id:r,source:t,type:n}),this.events[e]=r}return this.events[e]},gO.addSignal=function(t,n){this.signals.hasOwnProperty(t)&&i("Duplicate signal name: "+l(t));var e=n instanceof FD?n:this.add(BD(n));return this.signals[t]=e},gO.getSignal=function(t){return this.signals[t]||i("Unrecognized signal name: "+l(t)),this.signals[t]},gO.signalRef=function(t){return this.signals[t]?OD(this.signals[t]):(this.lambdas.hasOwnProperty(t)||(this.lambdas[t]=this.add(BD(null))),OD(this.lambdas[t]))},gO.parseLambdas=function(){for(var t=Object.keys(this.lambdas),n=0,e=t.length;n<e;++n){var r=t[n],i=DD(r,this),a=this.lambdas[r];a.params=i.$params,a.update=i.$expr}},gO.property=function(t){return t&&t.signal?this.signalRef(t.signal):t},gO.objectProperty=function(t){return t&&o(t)?this.signalRef(t.signal||vO(t)):t},gO.exprRef=function(t,n){var e={expr:DD(t,this)};return n&&(e.expr.$name=n),OD(this.add(kF(e)))},gO.addBinding=function(t,n){this.bindings||i("Nested signals do not support binding: "+l(t)),this.bindings.push(Z({signal:t},n))},gO.addScaleProj=function(t,n){this.scales.hasOwnProperty(t)&&i("Duplicate scale or projection name: "+l(t)),this.scales[t]=this.add(n)},gO.addScale=function(t,n){this.addScaleProj(t,UF(n))},gO.addProjection=function(t,n){this.addScaleProj(t,RF(n))},gO.getScale=function(t){return this.scales[t]||i("Unrecognized scale name: "+l(t)),this.scales[t]},gO.projectionRef=gO.scaleRef=function(t){return OD(this.getScale(t))},gO.projectionType=gO.scaleType=function(t){return this.getScale(t).params.type},gO.addData=function(t,n){return this.data.hasOwnProperty(t)&&i("Duplicate data set name: "+l(t)),this.data[t]=n},gO.getData=function(t){return this.data[t]||i("Undefined data set name: "+l(t)),this.data[t]},gO.addDataPipeline=function(t,n){return this.data.hasOwnProperty(t)&&i("Duplicate data set name: "+l(t)),this.addData(t,HB.fromEntries(this,n))};var _O="sans-serif",xO=30,bO=2,wO="#4c78a8",AO="#000",kO="#888",MO="#ddd";Z(Ir,ja,Yf,kv,ob,uw,AA,ck,kk,Ok),t.Bounds=Mu,t.CanvasHandler=pc,t.CanvasRenderer=_c,t.Dataflow=Lr,t.Debug=A,t.Error=x,t.EventStream=It,t.Gradient=Du,t.GroupItem=Su,t.Handler=sc,t.Info=w,t.Item=Fu,t.Marks=Yl,t.MultiPulse=Or,t.None=_,t.Operator=qt,t.Parameters=Tt,t.Pulse=Cr,t.RenderType=Zc,t.Renderer=fc,t.ResourceLoader=zu,t.SVGHandler=Ac,t.SVGRenderer=Oc,t.SVGStringRenderer=Wc,t.Scenegraph=Kl,t.Transform=jr,t.View=mD,t.Warn=b,t.accessor=n,t.accessorFields=r,t.accessorName=e,t.array=W,t.bin=ti,t.bootstrapCI=_i,t.boundClip=af,t.boundContext=Ts,t.boundItem=Vl,t.boundMark=Xl,t.boundStroke=Os,t.changeset=zt,t.clampRange=H,t.closeTag=Cc,t.compare=V,t.constant=G,t.debounce=X,t.definition=Wr,t.domChild=ic,t.domClear=ac,t.domCreate=ec,t.domFind=rc,t.error=i,t.expressionFunction=IC,t.extend=Z,t.extent=J,t.extentIndex=Q,t.falsy=m,t.fastmap=tt,t.field=c,t.flush=nt,t.font=Ul,t.fontFamily=ql,t.fontSize=Rl,t.format=Cn,t.formatLocale=jp,t.formats=Dn,t.id=h,t.identity=d,t.inferType=rn,t.inferTypes=an,t.ingest=Dt,t.inherits=et,t.inrange=rt,t.interpolate=zg,t.interpolateColors=Sg,t.interpolateRange=Fg,t.intersect=Kc,t.intersectBoxLine=Ws,t.intersectPath=Us,t.intersectPoint=js,t.intersectRule=Is,t.isArray=u,t.isBoolean=it,t.isDate=at,t.isFunction=Y,t.isNumber=ut,t.isObject=o,t.isRegExp=ot,t.isString=s,t.isTuple=Mt,t.key=st,t.lerp=lt,t.loader=br,t.logger=k,t.merge=ct,t.one=g,t.openTag=Ec,t.pad=ht,t.panLinear=z,t.panLog=N,t.panPow=T,t.panSymlog=R,t.parse=function(t,n){return o(t)||i("Input Vega specification must be an object."),hO(t,new dO(mO([n,t.config]))).toRuntime()},t.pathCurves=Go,t.pathEqual=sf,t.pathParse=Jo,t.pathRectangle=ys,t.pathRender=ss,t.pathSymbols=fs,t.pathTrail=_s,t.peek=M,t.point=oc,t.projection=Jx,t.quantizeInterpolator=Bg,t.quarter=$,t.quartiles=xi,t.randomInteger=function(n,e){null==e&&(e=n,n=0);var r,i,a,u={};return u.min=function(t){return arguments.length?(a=i-(r=t||0),u):r},u.max=function(t){return arguments.length?(a=(i=t||0)-r,u):i},u.sample=function(){return r+Math.floor(a*t.random())},u.pdf=function(t){return t===Math.floor(t)&&t>=r&&t<i?1/a:0},u.cdf=function(t){var n=Math.floor(t);return n<r?0:n>=i?1:(n-r+1)/a},u.icdf=function(t){return t>=0&&t<=1?r-1+Math.floor(t*a):NaN},u.min(n).max(e)},t.randomKDE=wi,t.randomLCG=function(t){return function(){return(t=(1103515245*t+12345)%2147483647)/2147483647}},t.randomMixture=Ai,t.randomNormal=bi,t.randomUniform=ki,t.read=xr,t.renderModule=Qc,t.repeat=ft,t.resetSVGClipId=function(){fl=1},t.responseType=Fn,t.runtime=nD,t.runtimeContext=rD,t.scale=Mg,t.sceneEqual=of,t.sceneFromJSON=Ql,t.scenePickVisit=Qs,t.sceneToJSON=Jl,t.sceneVisit=Js,t.sceneZOrder=Zs,t.scheme=Pg,t.setRandom=function(n){t.random=n},t.span=dt,t.splitAccessPath=a,t.stringValue=l,t.textMetrics=Bl,t.timeFormatLocale=_r,t.timeInterval=_h,t.toBoolean=pt,t.toDate=vt,t.toNumber=E,t.toSet=yt,t.toString=mt,t.transform=Hr,t.transforms=Ir,t.truncate=_t,t.truthy=v,t.tupleid=Et,t.typeParsers=tn,t.utcquarter=I,t.version="5.3.2",t.visitArray=xt,t.zero=p,t.zoomLinear=L,t.zoomLog=q,t.zoomPow=U,t.zoomSymlog=j,Object.defineProperty(t,"__esModule",{value:!0})});
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).vl={})}(this,function(e){"use strict";var t="3.0.2";function n(e,t,n){return e.fields=t||[],e.fname=n,e}function i(e){throw Error(e)}function r(e){var t,n,r,o=[],a=null,s=0,u=e.length,c="";function l(){o.push(c+e.substring(t,n)),c="",t=n+1}for(e+="",t=n=0;n<u;++n)if("\\"===(r=e[n]))c+=e.substring(t,n),t=++n;else if(r===a)l(),a=null,s=-1;else{if(a)continue;t===s&&'"'===r?(t=n+1,a=r):t===s&&"'"===r?(t=n+1,a=r):"."!==r||s?"["===r?(n>t&&l(),s=t=n+1):"]"===r&&(s||i("Access path missing open bracket: "+e),s>0&&l(),s=0,t=n+1):n>t?l():t=n+1}return s&&i("Access path missing closing bracket: "+e),a&&i("Access path missing closing quote: "+e),n>t&&(n++,l()),o}var o=Array.isArray;function a(e){return e===Object(e)}function s(e){return"string"==typeof e}function u(e){return o(e)?"["+e.map(u)+"]":a(e)||s(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}var c=[],l=(function(e,t){var i=r(e),o="return _["+i.map(u).join("][")+"];";n(Function("_",o),[e=1===i.length?i[0]:e],t||e)}("id"),n(function(e){return e},c,"identity"));n(function(){return 0},c,"zero"),n(function(){return 1},c,"one"),n(function(){return!0},c,"true"),n(function(){return!1},c,"false");function f(e,t,n){var i=[t].concat([].slice.call(n));console[e](...i)}var d=0,p=1,h=2,m=3,g=4;function y(e){return null!=e?o(e)?e:[e]:[]}function b(e){return"boolean"==typeof e}function v(e){return"number"==typeof e}function x(e){for(var t={},n=0,i=e.length;n<i;++n)t[e[n]]=!0;return t}var A=function(e,t){return e(t={exports:{}},t.exports),t.exports}(function(e){var t=function(){function e(e,t){return null!=t&&e instanceof t}var t,n,i;try{t=Map}catch(e){t=function(){}}try{n=Set}catch(e){n=function(){}}try{i=Promise}catch(e){i=function(){}}function r(o,s,u,c,l){"object"==typeof s&&(u=s.depth,c=s.prototype,l=s.includeNonEnumerable,s=s.circular);var f=[],d=[],p="undefined"!=typeof Buffer;return void 0===s&&(s=!0),void 0===u&&(u=1/0),function o(u,h){if(null===u)return null;if(0===h)return u;var m,g;if("object"!=typeof u)return u;if(e(u,t))m=new t;else if(e(u,n))m=new n;else if(e(u,i))m=new i(function(e,t){u.then(function(t){e(o(t,h-1))},function(e){t(o(e,h-1))})});else if(r.__isArray(u))m=[];else if(r.__isRegExp(u))m=new RegExp(u.source,a(u)),u.lastIndex&&(m.lastIndex=u.lastIndex);else if(r.__isDate(u))m=new Date(u.getTime());else{if(p&&Buffer.isBuffer(u))return m=Buffer.allocUnsafe?Buffer.allocUnsafe(u.length):new Buffer(u.length),u.copy(m),m;e(u,Error)?m=Object.create(u):void 0===c?(g=Object.getPrototypeOf(u),m=Object.create(g)):(m=Object.create(c),g=c)}if(s){var y=f.indexOf(u);if(-1!=y)return d[y];f.push(u),d.push(m)}for(var b in e(u,t)&&u.forEach(function(e,t){var n=o(t,h-1),i=o(e,h-1);m.set(n,i)}),e(u,n)&&u.forEach(function(e){var t=o(e,h-1);m.add(t)}),u){var v;g&&(v=Object.getOwnPropertyDescriptor(g,b)),v&&null==v.set||(m[b]=o(u[b],h-1))}if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(u);for(b=0;b<x.length;b++){var A=x[b];(!(C=Object.getOwnPropertyDescriptor(u,A))||C.enumerable||l)&&(m[A]=o(u[A],h-1),C.enumerable||Object.defineProperty(m,A,{enumerable:!1}))}}if(l){var w=Object.getOwnPropertyNames(u);for(b=0;b<w.length;b++){var C,F=w[b];(C=Object.getOwnPropertyDescriptor(u,F))&&C.enumerable||(m[F]=o(u[F],h-1),Object.defineProperty(m,F,{enumerable:!1}))}}return m}(o,u)}function o(e){return Object.prototype.toString.call(e)}function a(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return r.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},r.__objToStr=o,r.__isDate=function(e){return"object"==typeof e&&"[object Date]"===o(e)},r.__isArray=function(e){return"object"==typeof e&&"[object Array]"===o(e)},r.__isRegExp=function(e){return"object"==typeof e&&"[object RegExp]"===o(e)},r.__getRegExpFlags=a,r}();e.exports&&(e.exports=t)}),w=Array.isArray,C=Object.keys,F=Object.prototype.hasOwnProperty,E=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var n,i="boolean"==typeof t.cycles&&t.cycles,r=t.cmp&&(n=t.cmp,function(e){return function(t,i){var r={key:t,value:e[t]},o={key:i,value:e[i]};return n(r,o)}}),o=[];return function e(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);var n,a;if(Array.isArray(t)){for(a="[",n=0;n<t.length;n++)n&&(a+=","),a+=e(t[n])||"null";return a+"]"}if(null===t)return"null";if(-1!==o.indexOf(t)){if(i)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var s=o.push(t)-1,u=Object.keys(t).sort(r&&r(t));for(a="",n=0;n<u.length;n++){var c=u[n],l=e(t[c]);l&&(a&&(a+=","),a+=JSON.stringify(c)+":"+l)}return o.splice(s,1),"{"+a+"}"}}(e)};function D(e){return!!e.or}function S(e){return!!e.and}function k(e){return!!e.not}function O(e,t){return k(e)?{not:O(e.not,t)}:S(e)?{and:e.and.map(e=>O(e,t))}:D(e)?{or:e.or.map(e=>O(e,t))}:t(e)}const $=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){var i,r,o,a=w(t),s=w(n);if(a&&s){if((r=t.length)!=n.length)return!1;for(i=r;0!=i--;)if(!e(t[i],n[i]))return!1;return!0}if(a!=s)return!1;var u=t instanceof Date,c=n instanceof Date;if(u!=c)return!1;if(u&&c)return t.getTime()==n.getTime();var l=t instanceof RegExp,f=n instanceof RegExp;if(l!=f)return!1;if(l&&f)return t.toString()==n.toString();var d=C(t);if((r=d.length)!==C(n).length)return!1;for(i=r;0!=i--;)if(!F.call(n,d[i]))return!1;for(i=r;0!=i--;)if(!e(t[o=d[i]],n[o]))return!1;return!0}return t!=t&&n!=n},B=A;function N(e,t){const n={};for(const i of t)e.hasOwnProperty(i)&&(n[i]=e[i]);return n}function j(e,t){const n=Object.assign({},e);for(const e of t)delete n[e];return n}Set.prototype.toJSON=function(){return`Set(${[...this].map(e=>E(e)).join(",")})`};const _=E;function T(e){if(v(e))return e;const t=s(e)?e:E(e);if(t.length<250)return t;let n=0;for(let e=0;e<t.length;e++){n=(n<<5)-n+t.charCodeAt(e),n&=n}return n}function z(e){return!1===e||null===e}function R(e,t){return e.indexOf(t)>-1}function P(e,t){let n=0;for(let i=0;i<e.length;i++)if(t(e[i],i,n++))return!0;return!1}function U(e,t){let n=0;for(let i=0;i<e.length;i++)if(!t(e[i],i,n++))return!1;return!0}function M(e){return[].concat(...e)}function L(e,...t){for(const n of t)e=I(e,n);return e}function I(e,t){if("object"!=typeof t||null===t)return e;for(const n in t)t.hasOwnProperty(n)&&void 0!==t[n]&&("object"!=typeof t[n]||o(t[n])||null===t[n]?e[n]=t[n]:"object"!=typeof e[n]||null===e[n]?e[n]=L(o(t[n].constructor)?[]:{},t[n]):L(e[n],t[n]));return e}function q(e,t){const n=[],i={};let r;for(const o of e)(r=t(o))in i||(i[r]=1,n.push(o));return n}function W(e,t){for(const n of e)if(t.has(n))return!0;return!1}function H(e){const t=new Set;for(const n of e){const e=r(n).map((e,t)=>0===t?e:`[${e}]`);e.map((t,n)=>e.slice(0,n+1).join("")).forEach(e=>t.add(e))}return t}function G(e,t){return W(H(e),H(t))}const V=Object.keys;function Y(e){const t=[];for(const n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t}function Q(e){return V(e)}function J(e){return!0===e||!1===e}function X(e){const t=e.replace(/\W/g,"_");return(e.match(/^\d+/)?"_":"")+t}function Z(e,t){return k(e)?"!("+Z(e.not,t)+")":S(e)?"("+e.and.map(e=>Z(e,t)).join(") && (")+")":D(e)?"("+e.or.map(e=>Z(e,t)).join(") || (")+")":t(e)}function K(e,t){if(0===t.length)return!0;const n=t.shift();return K(e[n],t)&&delete e[n],0===V(e).length}function ee(e){return e.charAt(0).toUpperCase()+e.substr(1)}function te(e,t="datum"){const n=r(e),i=[];for(let e=1;e<=n.length;e++){const r=`[${n.slice(0,e).map(u).join("][")}]`;i.push(`${t}${r}`)}return i.join(" && ")}function ne(e){return`${r(e).map(e=>e.replace(".","\\.")).join("\\.")}`}function ie(e){return`${r(e).join(".")}`}function re(e){return e?r(e).length:0}function oe(...e){for(const t of e)if(void 0!==t)return t}let ae=42;function se(e){return(e%360+360)%360}const ue="area",ce="bar",le="line",fe="point",de="rect",pe="rule",he="text",me="tick",ge="trail",ye="circle",be="square",ve="geoshape";function xe(e){return R(["line","area","trail"],e)}const Ae=Q({area:1,bar:1,line:1,point:1,text:1,tick:1,trail:1,rect:1,geoshape:1,rule:1,circle:1,square:1});function we(e){return e.type}x(Ae);const Ce=[].concat(["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit"],["fill","fillOpacity"]),Fe=["filled","color","tooltip"];function Ee(e){return!!e.mark}class De{constructor(e,t){this.name=e,this.run=t}hasMatchingType(e,t){return!!Ee(e)&&(we(n=e.mark)?n.type:n)===this.name;var n}}function Se(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&(n[i[r]]=e[i[r]])}return n}const ke={argmax:1,argmin:1,average:1,count:1,distinct:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1};function Oe(e){return!!ke[e]}const $e=["count","valid","missing","distinct"];function Be(e){return e&&R($e,e)}const Ne=["count","sum","distinct","valid","missing"],je=x(["mean","average","median","q1","q3","min","max"]),_e="row",Te="column",ze="facet",Re="x",Pe="y",Ue="x2",Me="y2",Le="latitude",Ie="longitude",qe="latitude2",We="longitude2",He="color",Ge="fill",Ve="stroke",Ye="shape",Qe="size",Je="opacity",Xe="fillOpacity",Ze="strokeOpacity",Ke="strokeWidth",et="text",tt="order",nt="detail",it="key",rt="tooltip",ot="href";const at={longitude:1,longitude2:1,latitude:1,latitude2:1},st=Q(at),ut=Object.assign({x:1,y:1,x2:1,y2:1},at,{color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,size:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1});function ct(e){return"color"===e||"fill"===e||"stroke"===e}const lt={row:1,column:1,facet:1},ft=Q(lt),dt=Object.assign({},ut,lt),pt=Q(dt),ht=(Se(dt,["order","detail"]),Se(dt,["order","detail","row","column","facet"]));function mt(e){return!!ht[e]}function gt(e){return!!dt[e]}function yt(e){return bt(e)!==e}function bt(e){switch(e){case"x2":return"x";case"y2":return"y";case"latitude2":return"latitude";case"longitude2":return"longitude"}return e}const vt=Se(ut,["x","y","x2","y2","latitude","longitude","latitude2","longitude2"]),xt=Q(vt),At={x:1,y:1},wt=Q(At),Ct=Se(vt,["text","tooltip","href","detail","key","order"]),Ft=Q(Ct);const Et=Object.assign({},At,Ct),Dt=Q(Et);function St(e){return!!Et[e]}function kt(e,t){return function(e){switch(e){case He:case Ge:case Ve:case nt:case it:case rt:case ot:case tt:case Je:case Xe:case Ze:case Ke:case ze:case _e:case Te:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",rect:"always",line:"always",trail:"always",area:"always",text:"always",geoshape:"always"};case Re:case Pe:case Le:case Ie:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",rect:"always",line:"always",trail:"always",area:"always",text:"always"};case Ue:case Me:case qe:case We:return{rule:"always",bar:"always",rect:"always",area:"always",circle:"binned",point:"binned",square:"binned",tick:"binned"};case Qe:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case Ye:return{point:"always",geoshape:"always"};case et:return{text:"always"}}}(e)[t]}function Ot(e){switch(e){case Re:case Pe:case Qe:case Ke:case Je:case Xe:case Ze:case Ue:case Me:return;case ze:case _e:case Te:case Ye:case et:case rt:case ot:return"discrete";case He:case Ge:case Ve:return"flexible";case Le:case Ie:case qe:case We:case nt:case it:case tt:return}throw new Error("rangeType not implemented for "+e)}const $t=(Nt=h||d,{level:function(e){return arguments.length?(Nt=+e,this):Nt},error:function(){return Nt>=p&&f(Bt||"error","ERROR",arguments),this},warn:function(){return Nt>=h&&f(Bt||"warn","WARN",arguments),this},info:function(){return Nt>=m&&f(Bt||"log","INFO",arguments),this},debug:function(){return Nt>=g&&f(Bt||"log","DEBUG",arguments),this}});var Bt,Nt;let jt=$t;function _t(...e){jt.warn.apply(jt,arguments)}var Tt;!function(e){e.INVALID_SPEC="Invalid spec",e.FIT_NON_SINGLE='Autosize "fit" only works for single views and layered views.',e.CANNOT_FIX_RANGE_STEP_WITH_FIT='Cannot use a fixed value of "rangeStep" when "autosize" is "fit".',e.cannotProjectOnChannelWithoutField=function(e){return`Cannot project a selection on encoding channel "${e}", which has no field.`},e.nearestNotSupportForContinuous=function(e){return`The "nearest" transform is not supported for ${e} marks.`},e.selectionNotSupported=function(e){return`Selection not supported for ${e} yet`},e.selectionNotFound=function(e){return`Cannot find a selection named "${e}"`},e.SCALE_BINDINGS_CONTINUOUS="Scale bindings are currently only supported for scales with unbinned, continuous domains.",e.NO_INIT_SCALE_BINDINGS="Selections bound to scales cannot be separately initialized.",e.noSuchRepeatedValue=function(e){return`Unknown repeated value "${e}".`},e.columnsNotSupportByRowCol=function(e){return`The "columns" property cannot be used when "${e}" has nested row/column.`},e.CONCAT_CANNOT_SHARE_AXIS="Axes cannot be shared in concatenated views yet (https://github.com/vega/vega-lite/issues/2415).",e.REPEAT_CANNOT_SHARE_AXIS="Axes cannot be shared in repeated views yet (https://github.com/vega/vega-lite/issues/2415).",e.unrecognizedParse=function(e){return`Unrecognized parse "${e}".`},e.differentParse=function(e,t,n){return`An ancestor parsed field "${e}" as ${n} but a child wants to parse the field as ${t}.`},e.invalidTransformIgnored=function(e){return`Ignoring an invalid transform: ${_(e)}.`},e.NO_FIELDS_NEEDS_AS='If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.',e.encodingOverridden=function(e){return`Layer's shared ${e.join(",")} channel ${1===e.length?"is":"are"} overriden`},e.projectionOverridden=function(e){const{parentProjection:t,projection:n}=e;return`Layer's shared projection ${_(t)} is overridden by a child projection ${_(n)}.`},e.primitiveChannelDef=function(e,t,n){return`Channel ${e} is a ${t}. Converted to {value: ${_(n)}}.`},e.invalidFieldType=function(e){return`Invalid field type "${e}"`},e.nonZeroScaleUsedWithLengthMark=function(e,t,n){return`A ${n.scaleType?`${n.scaleType} scale`:n.zeroFalse?"scale with zero=false":"scale with custom domain that excludes zero"} is used to encode ${e}'s ${t}. This can be misleading as the ${"x"===t?"width":"height"} of the ${e} can be arbitrary based on the scale domain. You may want to use point mark instead.`},e.invalidFieldTypeForCountAggregate=function(e,t){return`Invalid field type "${e}" for aggregate: "${t}", using "quantitative" instead.`},e.invalidAggregate=function(e){return`Invalid aggregation operator "${e}"`},e.missingFieldType=function(e,t){return`Missing type for channel "${e}", using "${t}" instead.`},e.droppingColor=function(e,t){const{fill:n,stroke:i}=t;return`Dropping color ${e} as the plot also has `+(n&&i?"fill and stroke":n?"fill":"stroke")},e.emptyFieldDef=function(e,t){return`Dropping ${_(e)} from channel "${t}" since it does not contain data field or value.`},e.latLongDeprecated=function(e,t,n){return`${e}-encoding with type ${t} is deprecated. Replacing with ${n}-encoding.`},e.LINE_WITH_VARYING_SIZE="Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.",e.incompatibleChannel=function(e,t,n){return`${e} dropped as it is incompatible with "${t}"${n?` when ${n}`:""}.`},e.invalidEncodingChannel=function(e){return`${e}-encoding is dropped as ${e} is not a valid encoding channel.`},e.facetChannelShouldBeDiscrete=function(e){return`${e} encoding should be discrete (ordinal / nominal / binned).`},e.facetChannelDropped=function(e){return`Facet encoding dropped as ${e.join(" and ")} ${e.length>1?"are":"is"} also specified.`},e.discreteChannelCannotEncode=function(e,t){return`Using discrete channel "${e}" to encode "${t}" field can be misleading as it does not encode ${"ordinal"===t?"order":"magnitude"}.`},e.BAR_WITH_POINT_SCALE_AND_RANGESTEP_NULL="Bar mark should not be used with point scale when rangeStep is null. Please use band scale instead.",e.lineWithRange=function(e,t){return`Line mark is for continuous lines and thus cannot be used with ${e&&t?"x2 and y2":e?"x2":"y2"}. We will use the rule mark (line segments) instead.`},e.orientOverridden=function(e,t){return`Specified orient "${e}" overridden with "${t}"`},e.CANNOT_UNION_CUSTOM_DOMAIN_WITH_FIELD_DOMAIN="custom domain scale cannot be unioned with default field-based domain",e.cannotUseScalePropertyWithNonColor=function(e){return`Cannot use the scale property "${e}" with non-color channel.`},e.unaggregateDomainHasNoEffectForRawField=function(e){return`Using unaggregated domain with raw field has no effect (${_(e)}).`},e.unaggregateDomainWithNonSharedDomainOp=function(e){return`Unaggregated domain not applicable for "${e}" since it produces values outside the origin domain of the source data.`},e.unaggregatedDomainWithLogScale=function(e){return`Unaggregated domain is currently unsupported for log scale (${_(e)}).`},e.cannotApplySizeToNonOrientedMark=function(e){return`Cannot apply size to non-oriented mark "${e}".`},e.rangeStepDropped=function(e){return`rangeStep for "${e}" is dropped as top-level ${"x"===e?"width":"height"} is provided.`},e.scaleTypeNotWorkWithChannel=function(e,t,n){return`Channel "${e}" does not work with "${t}" scale. We are using "${n}" scale instead.`},e.scaleTypeNotWorkWithFieldDef=function(e,t){return`FieldDef does not work with "${e}" scale. We are using "${t}" scale instead.`},e.scalePropertyNotWorkWithScaleType=function(e,t,n){return`${n}-scale's "${t}" is dropped as it does not work with ${e} scale.`},e.scaleTypeNotWorkWithMark=function(e,t){return`Scale type "${t}" does not work with mark "${e}".`},e.mergeConflictingProperty=function(e,t,n,i){return`Conflicting ${t.toString()} property "${e.toString()}" (${_(n)} and ${_(i)}).  Using ${_(n)}.`},e.independentScaleMeansIndependentGuide=function(e){return`Setting the scale to be independent for "${e}" means we also have to set the guide (axis or legend) to be independent.`},e.domainSortDropped=function(e){return`Dropping sort property ${_(e)} as unioned domains only support boolean or op 'count'.`},e.UNABLE_TO_MERGE_DOMAINS="Unable to merge domains",e.MORE_THAN_ONE_SORT="Domains that should be unioned has conflicting sort properties. Sort will be set to true.",e.INVALID_CHANNEL_FOR_AXIS="Invalid channel for axis.",e.cannotStackRangedMark=function(e){return`Cannot stack "${e}" if there is already "${e}2"`},e.cannotStackNonLinearScale=function(e){return`Cannot stack non-linear scale (${e})`},e.stackNonSummativeAggregate=function(e){return`Stacking is applied even though the aggregate function is non-summative ("${e}")`},e.invalidTimeUnit=function(e,t){return`Invalid ${e}: ${_(t)}`},e.dayReplacedWithDate=function(e){return`Time unit "${e}" is not supported. We are replacing it with ${e.replace("day","date")}.`},e.droppedDay=function(e){return`Dropping day from datetime ${_(e)} as day cannot be combined with other units.`},e.errorBarCenterAndExtentAreNotNeeded=function(e,t){return`${t?"extent ":""}${t&&e?"and ":""}${e?"center ":""}${t&&e?"are ":"is "}not needed when data are aggregated.`},e.errorBarCenterIsUsedWithWrongExtent=function(e,t,n){return`${e} is not usually used with ${t} for ${n}.`},e.errorBarContinuousAxisHasCustomizedAggregate=function(e,t){return`Continuous axis should not have customized aggregation function ${e}; ${t} already agregates the axis.`},e.errorBarCenterIsNotNeeded=function(e,t){return`Center is not needed to be specified in ${t} when extent is ${e}.`},e.errorBand1DNotSupport=function(e){return`1D error band does not support ${e}`},e.channelRequiredForBinned=function(e){return`Channel ${e} is required for "binned" bin`},e.domainRequiredForThresholdScale=function(e){return`Domain for ${e} is required for threshold scale`}}(Tt||(Tt={}));const zt=2006;function Rt(e){return!!(e&&(e.year||e.quarter||e.month||e.date||e.day||e.hours||e.minutes||e.seconds||e.milliseconds))}const Pt=["january","february","march","april","may","june","july","august","september","october","november","december"],Ut=Pt.map(e=>e.substr(0,3)),Mt=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],Lt=Mt.map(e=>e.substr(0,3));function It(e,t=!1){const n=[];if(t&&void 0!==e.day&&V(e).length>1&&(_t(Tt.droppedDay(e)),delete(e=B(e)).day),void 0!==e.year?n.push(e.year):void 0!==e.day?n.push(zt):n.push(0),void 0!==e.month){const i=t?function(e){if(v(e))return(e-1).toString();{const t=e.toLowerCase(),n=Pt.indexOf(t);if(-1!==n)return n+"";const i=t.substr(0,3),r=Ut.indexOf(i);if(-1!==r)return r+"";throw new Error(Tt.invalidTimeUnit("month",e))}}(e.month):e.month;n.push(i)}else if(void 0!==e.quarter){const i=t?function(e){if(v(e))return e>4&&_t(Tt.invalidTimeUnit("quarter",e)),(e-1).toString();throw new Error(Tt.invalidTimeUnit("quarter",e))}(e.quarter):e.quarter;n.push(i+"*3")}else n.push(0);if(void 0!==e.date)n.push(e.date);else if(void 0!==e.day){const i=t?function(e){if(v(e))return e%7+"";{const t=e.toLowerCase(),n=Mt.indexOf(t);if(-1!==n)return n+"";const i=t.substr(0,3),r=Lt.indexOf(i);if(-1!==r)return r+"";throw new Error(Tt.invalidTimeUnit("day",e))}}(e.day):e.day;n.push(i+"+1")}else n.push(1);for(const t of["hours","minutes","seconds","milliseconds"])void 0!==e[t]?n.push(e[t]):n.push(0);return e.utc?`utc(${n.join(", ")})`:`datetime(${n.join(", ")})`}function qt(e){return!!e.row||!!e.column}function Wt(e){return void 0!==e.facet}var Ht;!function(e){e.YEAR="year",e.MONTH="month",e.DAY="day",e.DATE="date",e.HOURS="hours",e.MINUTES="minutes",e.SECONDS="seconds",e.MILLISECONDS="milliseconds",e.YEARMONTH="yearmonth",e.YEARMONTHDATE="yearmonthdate",e.YEARMONTHDATEHOURS="yearmonthdatehours",e.YEARMONTHDATEHOURSMINUTES="yearmonthdatehoursminutes",e.YEARMONTHDATEHOURSMINUTESSECONDS="yearmonthdatehoursminutesseconds",e.MONTHDATE="monthdate",e.MONTHDATEHOURS="monthdatehours",e.HOURSMINUTES="hoursminutes",e.HOURSMINUTESSECONDS="hoursminutesseconds",e.MINUTESSECONDS="minutesseconds",e.SECONDSMILLISECONDS="secondsmilliseconds",e.QUARTER="quarter",e.YEARQUARTER="yearquarter",e.QUARTERMONTH="quartermonth",e.YEARQUARTERMONTH="yearquartermonth",e.UTCYEAR="utcyear",e.UTCMONTH="utcmonth",e.UTCDAY="utcday",e.UTCDATE="utcdate",e.UTCHOURS="utchours",e.UTCMINUTES="utcminutes",e.UTCSECONDS="utcseconds",e.UTCMILLISECONDS="utcmilliseconds",e.UTCYEARMONTH="utcyearmonth",e.UTCYEARMONTHDATE="utcyearmonthdate",e.UTCYEARMONTHDATEHOURS="utcyearmonthdatehours",e.UTCYEARMONTHDATEHOURSMINUTES="utcyearmonthdatehoursminutes",e.UTCYEARMONTHDATEHOURSMINUTESSECONDS="utcyearmonthdatehoursminutesseconds",e.UTCMONTHDATE="utcmonthdate",e.UTCMONTHDATEHOURS="utcmonthdatehours",e.UTCHOURSMINUTES="utchoursminutes",e.UTCHOURSMINUTESSECONDS="utchoursminutesseconds",e.UTCMINUTESSECONDS="utcminutesseconds",e.UTCSECONDSMILLISECONDS="utcsecondsmilliseconds",e.UTCQUARTER="utcquarter",e.UTCYEARQUARTER="utcyearquarter",e.UTCQUARTERMONTH="utcquartermonth",e.UTCYEARQUARTERMONTH="utcyearquartermonth"}(Ht||(Ht={}));const Gt={year:1,quarter:1,month:1,day:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},Vt=Q(Gt);const Yt={utcyear:1,utcquarter:1,utcmonth:1,utcday:1,utcdate:1,utchours:1,utcminutes:1,utcseconds:1,utcmilliseconds:1};const Qt={utcyearquarter:1,utcyearquartermonth:1,utcyearmonth:1,utcyearmonthdate:1,utcyearmonthdatehours:1,utcyearmonthdatehoursminutes:1,utcyearmonthdatehoursminutesseconds:1,utcquartermonth:1,utcmonthdate:1,utcmonthdatehours:1,utchoursminutes:1,utchoursminutesseconds:1,utcminutesseconds:1,utcsecondsmilliseconds:1},Jt=Object.assign({},Yt,Qt);Object.assign({},Gt,Yt,{yearquarter:1,yearquartermonth:1,yearmonth:1,yearmonthdate:1,yearmonthdatehours:1,yearmonthdatehoursminutes:1,yearmonthdatehoursminutesseconds:1,quartermonth:1,monthdate:1,monthdatehours:1,hoursminutes:1,hoursminutesseconds:1,minutesseconds:1,secondsmilliseconds:1},Qt);function Xt(e,t){const n=e.indexOf(t);return n>-1&&(t!==Ht.SECONDS||0===n||"i"!==e.charAt(n-1))}function Zt(e,t){const n=te(t),i=Jt[e]?"utc":"";return It(Vt.reduce((t,r)=>(Xt(e,r)&&(t[r]=function(e){return e===Ht.QUARTER?`(${i}quarter(${n})-1)`:`${i}${e}(${n})`}(r)),t),{}))}function Kt(e,t){if(!e)return;const n=[],i=Xt(e,Ht.YEAR);Xt(e,Ht.MONTH)&&n.push(!1!==t?"%b":"%B"),Xt(e,Ht.DAY)?n.push(t?"%a":"%A"):Xt(e,Ht.DATE)&&n.push("%d"+(i?",":"")),i&&n.push(t?"%y":"%Y");const r=[];Xt(e,Ht.HOURS)&&r.push("%H"),Xt(e,Ht.MINUTES)&&r.push("%M"),Xt(e,Ht.SECONDS)&&r.push("%S"),Xt(e,Ht.MILLISECONDS)&&r.push("%L");const o=[];return n.length>0&&o.push(n.join(" ")),r.length>0&&o.push(r.join(":")),o}function en(e){return"day"!==e&&e.indexOf("day")>=0?(_t(Tt.dayReplacedWithDate(e)),e.replace("day","date")):e}const tn={quantitative:1,ordinal:1,temporal:1,nominal:1,geojson:1},nn="quantitative",rn="ordinal",on="temporal",an="nominal",sn="geojson";function un(e){const{field:t,timeUnit:n,bin:i,aggregate:r}=e;return Object.assign({},n?{timeUnit:n}:{},i?{bin:i}:{},r?{aggregate:r}:{},{field:t})}function cn(e){return!!e&&!!e.condition}function ln(e){return!!e&&!!e.condition&&!o(e.condition)&&fn(e.condition)}function fn(e){return!(!e||!e.field&&"count"!==e.aggregate)}function dn(e){return!!e&&(!!e.field&&!!e.type||"count"===e.aggregate)}function pn(e){return fn(e)&&s(e.field)}function hn(e){return e&&"value"in e&&void 0!==e.value}function mn(e){return!(!e||!e.scale&&!e.sort)}function gn(e,t={}){let n=e.field;const i=t.prefix;let o=t.suffix;if(function(e){return"count"===e.aggregate}(e))n=function(e){return 0===e.indexOf("__")}(a="count")?a:`__${a}`;else{let i;t.nofn||(!function(e){return!!e.op}(e)?zn(e.bin)?(i=Tn(e.bin),o=(t.binSuffix||"")+(t.suffix||"")):e.aggregate?i=String(e.aggregate):e.timeUnit&&(i=String(e.timeUnit)):i=e.op),i&&(n=n?`${i}_${n}`:i)}var a;return o&&(n=`${n}_${o}`),i&&(n=`${i}_${n}`),t.forAs?n:t.expr?function(e,t="datum"){return`${t}[${u(r(e).join("."))}]`}(n,t.expr):ne(n)}function yn(e){return!function(e){switch(e.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return!!e.bin;case"temporal":return!1}throw new Error(Tt.invalidFieldType(e.type))}(e)}function bn(e,t){const{field:n,bin:i,timeUnit:r,aggregate:o}=e;if("count"===o)return t.countTitle;if(zn(i))return`${n} (binned)`;if(r){return`${n} (${function(e){return Vt.reduce((t,n)=>Xt(e,n)?[...t,n]:t,[])}(r).join("-")})`}return o?`${ee(o)} of ${n}`:n}const vn=(e,t)=>{switch(t.fieldTitle){case"plain":return e.field;case"functional":return function(e,t){const n=e.aggregate||e.timeUnit||zn(e.bin)&&"bin";return n?n.toUpperCase()+"("+e.field+")":e.field}(e);default:return bn(e,t)}};let xn=vn;function An(e){xn=e}function wn(e,t,{allowDisabling:n,includeDefault:i=!0}){const r=(Cn(e)||{}).title,o=i?Fn(e,t):void 0;return n?oe(r,e.title,o):r||e.title||o}function Cn(e){return(t=e)&&(t.axis||t.stack||t.impute)&&e.axis?e.axis:function(e){return!!e&&!!e.legend}(e)&&e.legend?e.legend:function(e){return!!e&&!!e.header}(e)&&e.header?e.header:void 0;var t}function Fn(e,t){return xn(e,t)}function En(e){return fn(e)?e:ln(e)?e.condition:void 0}function Dn(e){return fn(e)?e:ln(e)?e.condition:void 0}function Sn(e,t){if(s(e)||v(e)||b(e)){const n=s(e)?"string":v(e)?"number":"boolean";return _t(Tt.primitiveChannelDef(t,n,e)),{value:e}}return fn(e)?kn(e,t):ln(e)?Object.assign({},e,{condition:kn(e.condition,t)}):e}function kn(e,t){if(e.aggregate&&!Oe(e.aggregate)){const t=Se(e,["aggregate"]);_t(Tt.invalidAggregate(e.aggregate)),e=t}if(e.timeUnit&&(e=Object.assign({},e,{timeUnit:en(e.timeUnit)})),zn(e.bin)&&(e=Object.assign({},e,{bin:On(e.bin,t)})),Rn(e.bin)&&!R(wt,t)&&_t(`Channel ${t} should not be used with "binned" bin`),dn(e)){const t=function(e){if(e)switch(e=e.toLowerCase()){case"q":case nn:return"quantitative";case"t":case on:return"temporal";case"o":case rn:return"ordinal";case"n":case an:return"nominal";case sn:return"geojson"}}(e.type);e.type!==t&&(e=Object.assign({},e,{type:t})),"quantitative"!==e.type&&Be(e.aggregate)&&(_t(Tt.invalidFieldTypeForCountAggregate(e.type,e.aggregate)),e=Object.assign({},e,{type:"quantitative"}))}else if(!yt(t)){const n=function(e,t){if(e.timeUnit)return"temporal";if(zn(e.bin))return"quantitative";switch(Ot(t)){case"continuous":return"quantitative";case"discrete":case"flexible":return"nominal";default:return"quantitative"}}(e,t);_t(Tt.missingFieldType(t,n)),e=Object.assign({},e,{type:n})}if(dn(e)){const{compatible:n,warning:i}=function(e,t){const n=e.type;if("geojson"===n&&"shape"!==t)return{compatible:!1,warning:`Channel ${t} should not be used with a geojson data.`};switch(t){case"row":case"column":case"facet":return yn(e)?{compatible:!1,warning:Tt.facetChannelShouldBeDiscrete(t)}:$n;case"x":case"y":case"color":case"fill":case"stroke":case"text":case"detail":case"key":case"tooltip":case"href":return $n;case"longitude":case"longitude2":case"latitude":case"latitude2":return n!==nn?{compatible:!1,warning:`Channel ${t} should be used with a quantitative field only, not ${e.type} field.`}:$n;case"opacity":case"fillOpacity":case"strokeOpacity":case"strokeWidth":case"size":case"x2":case"y2":return"nominal"!==n||e.sort?$n:{compatible:!1,warning:`Channel ${t} should not be used with an unsorted discrete field.`};case"shape":return R(["ordinal","nominal","geojson"],e.type)?$n:{compatible:!1,warning:"Shape channel should be used with only either discrete or geojson data."};case"order":return"nominal"!==e.type||"sort"in e?$n:{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}}throw new Error("channelCompatability not implemented for channel "+t)}(e,t);n||_t(i)}return e}function On(e,t){return b(e)?{maxbins:Un(t)}:"binned"===e?{binned:!0}:e.maxbins||e.step?e:Object.assign({},e,{maxbins:Un(t)})}const $n={compatible:!0};function Bn(e){return"temporal"===e.type||!!e.timeUnit}function Nn(e,{timeUnit:t,type:n,time:i,undefinedIfExprNotRequired:r}){let o;var a;return Rt(e)?o=It(e,!0):(s(e)||v(e))&&(t||"temporal"===n)&&(o=function(e){return!!Gt[e]}(t)?It({[t]:e},!0):function(e){return!!Yt[e]}(t)?Nn(e,{timeUnit:(a=t,a.substr(3))}):`datetime(${JSON.stringify(e)})`),o?i?`time(${o})`:o:r?void 0:JSON.stringify(e)}function jn(e,t){const{timeUnit:n,type:i}=e;return t.map(e=>{const t=Nn(e,{timeUnit:n,type:i,undefinedIfExprNotRequired:!0});return void 0!==t?{signal:t}:e})}function _n(e,t){return zn(e.bin)?St(t)&&R(["ordinal","nominal"],e.type):(console.warn("Only use this method with binned field defs"),!1)}function Tn(e){return b(e)&&(e=On(e,void 0)),"bin"+V(e).map(t=>X(`_${t}_${e[t]}`)).join("")}function zn(e){return!0===e||Pn(e)&&!e.binned}function Rn(e){return"binned"===e||Pn(e)&&e.binned}function Pn(e){return a(e)}function Un(e){switch(e){case _e:case Te:case Qe:case He:case Ge:case Ve:case Ke:case Je:case Xe:case Ze:case Ye:return 6;default:return 10}}function Mn(e,t){const n=e&&e[t];return!!n&&(o(n)?P(n,e=>!!e.field):fn(n)||ln(n))}function Ln(e){return P(pt,t=>{if(Mn(e,t)){const n=e[t];if(o(n))return P(n,e=>!!e.aggregate);{const e=En(n);return e&&!!e.aggregate}}return!1})}function In(e,t){const n=[],i=[],r=[],o=[],a={};return Hn(e,(s,u)=>{if(fn(s)){const{field:c,aggregate:l,timeUnit:f,bin:d}=s,p=Se(s,["field","aggregate","timeUnit","bin"]);if(l||f||d){const e=Cn(s),h=e&&e.title,m=gn(s,{forAs:!0}),g=Object.assign({},h?[]:{title:wn(s,t,{allowDisabling:!0})},p,{field:m}),y="x"===u||"y"===u;if(l&&Oe(l)){const e={op:l,as:m};c&&(e.field=c),o.push(e)}else if(dn(s)&&zn(d)){if(i.push({bin:d,field:c,as:m}),n.push(gn(s,{binSuffix:"end"})),_n(s,u)&&n.push(gn(s,{binSuffix:"range"})),y){const e={field:m+"_end"};a[u+"2"]=e}g.bin="binned",yt(u)||(g.type="quantitative")}else if(f){r.push({timeUnit:f,field:c,as:m});const e=Kt(f,t.axis.shortTimeLabels).join(" ");!function(e){return!!vt[e]}(u)?y?g.axis=Object.assign({format:e},g.axis):"text"!==u&&"tooltip"!==u||(g.format=g.format||e):g.legend=Object.assign({format:e},g.legend)}l||n.push(m),a[u]=g}else n.push(c),a[u]=e[u]}else a[u]=e[u]}),{bins:i,timeUnits:r,aggregate:o,groupby:n,encoding:a}}function qn(e,t){return V(e).reduce((n,i)=>{if(!gt(i))return _t(Tt.invalidEncodingChannel(i)),n;if(!function(e,t,n){const i=kt(t,n);if(!i)return!1;if("binned"===i){const n=e["x2"===t?"x":"y"];return!(!fn(n)||!fn(e[t])||"binned"!==n.bin)}return!0}(e,i,t))return _t(Tt.incompatibleChannel(i,t)),n;if("size"===i&&"line"===t){const t=Dn(e[i]);if(t&&t.aggregate)return _t(Tt.LINE_WITH_VARYING_SIZE),n}if("color"===i&&("fill"in e||"stroke"in e))return _t(Tt.droppingColor("encoding",{fill:"fill"in e,stroke:"stroke"in e})),n;const r=e[i];if("detail"===i||"order"===i&&!o(r)&&!hn(r)||"tooltip"===i&&o(r))r&&(n[i]=(o(r)?r:[r]).reduce((e,t)=>(fn(t)?e.push(kn(t,i)):_t(Tt.emptyFieldDef(t,i)),e),[]));else{if("tooltip"===i&&null===r)n[i]=null;else if(!fn(r)&&!hn(r)&&!cn(r))return _t(Tt.emptyFieldDef(r,i)),n;n[i]=Sn(r,i)}return n},{})}function Wn(e){const t=[];for(const n of V(e))if(Mn(e,n)){const i=e[n];(o(i)?i:[i]).forEach(e=>{fn(e)?t.push(e):ln(e)&&t.push(e.condition)})}return t}function Hn(e,t,n){if(e)for(const i of V(e)){const r=e[i];o(r)?r.forEach(e=>{t.call(n,e,i)}):t.call(n,r,i)}}function Gn(e,t,n,i){return e?V(e).reduce((n,r)=>{const a=e[r];return o(a)?a.reduce((e,n)=>t.call(i,e,n,r),n):t.call(i,n,a,r)},n):n}function Vn(e,t,n,i=!0){return{tooltip:[...e.map(({fieldPrefix:e,titlePrefix:n})=>({field:e+t.field,type:t.type,title:n+(i?" of "+t.field:"")})),...Wn(n)]}}function Yn(e,t,n,i,r){const{scale:o,axis:a}=n;return({partName:u,mark:c,positionPrefix:l,endPositionPrefix:f,extraEncoding:d={}})=>{const p=a&&void 0!==a.title?void 0:void 0!==n.title?n.title:n.field;return Qn(e,u,r,{mark:c,encoding:Object.assign({[t]:Object.assign({field:l+"_"+n.field,type:n.type},p?{title:p}:{},o?{scale:o}:{},a?{axis:a}:{})},s(f)?{[t+"2"]:{field:f+"_"+n.field,type:n.type}}:{},i,d)})}}function Qn(e,t,n,i){const{clip:r,color:o,opacity:a}=e,s=e.type;return e[t]||void 0===e[t]&&n[t]?[Object.assign({},i,{mark:Object.assign({},n[t],r?{clip:r}:{},o?{color:o}:{},a?{opacity:a}:{},we(i.mark)?i.mark:{type:i.mark},{style:`${s}-${t}`},b(e[t])?{}:e[t])})]:[]}function Jn(e,t,n){const{encoding:i}=e,r="vertical"===t?"y":"x",o=i[r],a=i[r+"2"],s=i[r+"Error"],u=i[r+"Error2"];return{continuousAxisChannelDef:Xn(o,n),continuousAxisChannelDef2:Xn(a,n),continuousAxisChannelDefError:Xn(s,n),continuousAxisChannelDefError2:Xn(u,n),continuousAxis:r}}function Xn(e,t){if(fn(e)&&e&&e.aggregate){const{aggregate:n}=e,i=Se(e,["aggregate"]);return n!==t&&_t(Tt.errorBarContinuousAxisHasCustomizedAggregate(n,t)),i}return e}function Zn(e,t){const{mark:n,encoding:i}=e;if(fn(i.x)&&yn(i.x)){if(fn(i.y)&&yn(i.y)){if(void 0===i.x.aggregate&&i.y.aggregate===t)return"vertical";if(void 0===i.y.aggregate&&i.x.aggregate===t)return"horizontal";if(i.x.aggregate===t&&i.y.aggregate===t)throw new Error("Both x and y cannot have aggregate");return we(n)&&n.orient?n.orient:"vertical"}return"horizontal"}if(fn(i.y)&&yn(i.y))return"vertical";throw new Error("Need a valid continuous axis for "+t+"s")}const Kn="boxplot",ei=V({box:1,median:1,outliers:1,rule:1,ticks:1}),ti=new De(Kn,ii);function ni(e){return v(e)?"tukey":e}function ii(e,{config:t}){const{mark:n,encoding:i,selection:r,projection:o}=e,s=Se(e,["mark","encoding","selection","projection"]),u=we(n)?n:{type:n};r&&_t(Tt.selectionNotSupported("boxplot"));const c=u.extent||t.boxplot.extent,l=oe(u.size,t.boxplot.size),f=ni(c),{transform:d,continuousAxisChannelDef:p,continuousAxis:h,groupby:m,encodingWithoutContinuousAxis:g,ticksOrient:y}=function(e,t,n){const i=Zn(e,Kn),{continuousAxisChannelDef:r,continuousAxis:o}=Jn(e,i,Kn),a=r.field,s=ni(t),u=[...ri(a),{op:"median",field:a,as:"mid_box_"+a},{op:"min",field:a,as:("min-max"===s?"lower_whisker_":"min_")+a},{op:"max",field:a,as:("min-max"===s?"upper_whisker_":"max_")+a}],c="min-max"===s||"tukey"===s?[]:[{calculate:`datum["upper_box_${a}"] - datum["lower_box_${a}"]`,as:"iqr_"+a},{calculate:`min(datum["upper_box_${a}"] + datum["iqr_${a}"] * ${t}, datum["max_${a}"])`,as:"upper_whisker_"+a},{calculate:`max(datum["lower_box_${a}"] - datum["iqr_${a}"] * ${t}, datum["min_${a}"])`,as:"lower_whisker_"+a}],l=e.encoding,f=o,d=(l[f],Se(l,["symbol"==typeof f?f:f+""])),{bins:p,timeUnits:h,aggregate:m,groupby:g,encoding:y}=In(d,n);return{transform:[...p,...h,{aggregate:[...m,...u],groupby:g},...c],groupby:g,continuousAxisChannelDef:r,continuousAxis:o,encodingWithoutContinuousAxis:y,ticksOrient:"vertical"===i?"horizontal":"vertical"}}(e,c,t),{color:b,size:v}=g,x=Se(g,["color","size"]),A=e=>Yn(u,h,p,e,t.boxplot),w=A(x),C=A(g),F=A(Object.assign({},x,v?{size:v}:{})),E=Vn([{fieldPrefix:"min-max"===f?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:"min-max"===f?"lower_whisker_":"min_",titlePrefix:"Min"}],p,g),D={type:"tick",color:"black",opacity:1,orient:y},S="min-max"===f?E:Vn([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],p,g),k=[...w({partName:"rule",mark:"rule",positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:S}),...w({partName:"rule",mark:"rule",positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:S}),...w({partName:"ticks",mark:D,positionPrefix:"lower_whisker",extraEncoding:S}),...w({partName:"ticks",mark:D,positionPrefix:"upper_whisker",extraEncoding:S})],O=[..."tukey"!==f?k:[],...C({partName:"box",mark:Object.assign({type:"bar"},l?{size:l}:{}),positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:E}),...F({partName:"median",mark:Object.assign({type:"tick"},a(t.boxplot.median)&&t.boxplot.median.color?{color:t.boxplot.median.color}:{},l?{size:l}:{},{orient:y}),positionPrefix:"mid_box",extraEncoding:E})];let $;if("min-max"!==f){const e=`datum["lower_box_${p.field}"]`,n=`datum["upper_box_${p.field}"]`,i=`(${n} - ${e})`,r=`${e} - ${c} * ${i}`,o=`${n} + ${c} * ${i}`,a=`datum["${p.field}"]`,s={joinaggregate:ri(p.field),groupby:m};let l=void 0;"tukey"===f&&(l={transform:[{filter:`(${r} <= ${a}) && (${a} <= ${o})`},{aggregate:[{op:"min",field:p.field,as:"lower_whisker_"+p.field},{op:"max",field:p.field,as:"upper_whisker_"+p.field},{op:"min",field:"lower_box_"+p.field,as:"lower_box_"+p.field},{op:"max",field:"upper_box_"+p.field,as:"upper_box_"+p.field}],groupby:m}],layer:k});const d=Qn(u,"outliers",t.boxplot,{transform:[{filter:`(${a} < ${r}) || (${a} > ${o})`}],mark:"point",encoding:Object.assign({[h]:{field:p.field,type:p.type}},x)})[0];d&&l?$={transform:[s],layer:[d,l]}:d?($=d).transform.unshift(s):l&&($=l).transform.unshift(s)}return $?Object.assign({},s,{layer:[...$?[$]:[],{transform:d,layer:O}]}):Object.assign({},s,{transform:(s.transform||[]).concat(d),layer:O})}function ri(e){return[{op:"q1",field:e,as:"lower_box_"+e},{op:"q3",field:e,as:"upper_box_"+e}]}const oi="errorbar",ai=V({ticks:1,rule:1}),si=new De(oi,ui);function ui(e,{config:t}){const{transform:n,continuousAxisChannelDef:i,continuousAxis:r,encodingWithoutContinuousAxis:o,ticksOrient:a,markDef:s,outerSpec:u,tooltipEncoding:c}=li(e,oi,t),l=Yn(s,r,i,o,t.errorbar),f={type:"tick",orient:a};return Object.assign({},u,{transform:n,layer:[...l({partName:"ticks",mark:f,positionPrefix:"lower",extraEncoding:c}),...l({partName:"ticks",mark:f,positionPrefix:"upper",extraEncoding:c}),...l({partName:"rule",mark:"rule",positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:c})]})}function ci(e,t){const{encoding:n}=e;if(function(e){return(fn(e.x)||fn(e.y))&&!fn(e.x2)&&!fn(e.y2)&&!fn(e.xError)&&!fn(e.xError2)&&!fn(e.yError)&&!fn(e.yError2)}(n))return{orient:Zn(e,t),inputType:"raw"};const i=function(e){return fn(e.x2)||fn(e.y2)}(n),r=function(e){return fn(e.xError)||fn(e.xError2)||fn(e.yError)||fn(e.yError2)}(n),o=n.x,a=n.y;if(i){if(r)throw new Error(t+" cannot be both type aggregated-upper-lower and aggregated-error");const e=n.x2,i=n.y2;if(fn(e)&&fn(i))throw new Error(t+" cannot have both x2 and y2");if(fn(e)){if(fn(o)&&yn(o))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw new Error("Both x and x2 have to be quantitative in "+t)}if(fn(i)){if(fn(a)&&yn(a))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw new Error("Both y and y2 have to be quantitative in "+t)}throw new Error("No ranged axis")}{const e=n.xError,i=n.xError2,r=n.yError,s=n.yError2;if(fn(i)&&!fn(e))throw new Error(t+" cannot have xError2 without xError");if(fn(s)&&!fn(r))throw new Error(t+" cannot have yError2 without yError");if(fn(e)&&fn(r))throw new Error(t+" cannot have both xError and yError with both are quantiative");if(fn(e)){if(fn(o)&&yn(o))return{orient:"horizontal",inputType:"aggregated-error"};throw new Error("All x, xError, and xError2 (if exist) have to be quantitative")}if(fn(r)){if(fn(a)&&yn(a))return{orient:"vertical",inputType:"aggregated-error"};throw new Error("All y, yError, and yError2 (if exist) have to be quantitative")}throw new Error("No ranged axis")}}function li(e,t,n){const{mark:i,encoding:r,selection:o,projection:a}=e,s=Se(e,["mark","encoding","selection","projection"]),u=we(i)?i:{type:i};o&&_t(Tt.selectionNotSupported(t));const{orient:c,inputType:l}=ci(e,t),{continuousAxisChannelDef:f,continuousAxisChannelDef2:d,continuousAxisChannelDefError:p,continuousAxisChannelDefError2:h,continuousAxis:m}=Jn(e,c,t),{errorBarSpecificAggregate:g,postAggregateCalculates:y,tooltipSummary:b,tooltipTitleWithFieldName:v}=function(e,t,n,i,r,o,a,s){let u=[],c=[];const l=t.field;let f,d=!1;if("raw"===o){const t=e.center?e.center:e.extent?"iqr"===e.extent?"median":"mean":s.errorbar.center,n=e.extent?e.extent:"mean"===t?"stderr":"iqr";if("median"===t!=("iqr"===n)&&_t(Tt.errorBarCenterIsUsedWithWrongExtent(t,n,a)),"stderr"===n||"stdev"===n)u=[{op:n,field:l,as:"extent_"+l},{op:t,field:l,as:"center_"+l}],c=[{calculate:`datum["center_${l}"] + datum["extent_${l}"]`,as:"upper_"+l},{calculate:`datum["center_${l}"] - datum["extent_${l}"]`,as:"lower_"+l}],f=[{fieldPrefix:"center_",titlePrefix:ee(t)},{fieldPrefix:"upper_",titlePrefix:fi(t,n,"+")},{fieldPrefix:"lower_",titlePrefix:fi(t,n,"-")}],d=!0;else{let t,i,r;e.center&&e.extent&&_t(Tt.errorBarCenterIsNotNeeded(e.extent,a)),"ci"===n?(t="mean",i="ci0",r="ci1"):(t="median",i="q1",r="q3"),u=[{op:i,field:l,as:"lower_"+l},{op:r,field:l,as:"upper_"+l},{op:t,field:l,as:"center_"+l}],f=[{fieldPrefix:"upper_",titlePrefix:wn({field:l,aggregate:r,type:"quantitative"},s,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:wn({field:l,aggregate:i,type:"quantitative"},s,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:wn({field:l,aggregate:t,type:"quantitative"},s,{allowDisabling:!1})}]}}else{(e.center||e.extent)&&_t(Tt.errorBarCenterAndExtentAreNotNeeded(e.center,e.extent)),"aggregated-upper-lower"===o?(f=[],c=[{calculate:`datum["${n.field}"]`,as:"upper_"+l},{calculate:`datum["${l}"]`,as:"lower_"+l}]):"aggregated-error"===o&&(f=[{fieldPrefix:"",titlePrefix:l}],c=[{calculate:`datum["${l}"] + datum["${i.field}"]`,as:"upper_"+l}],r?c.push({calculate:`datum["${l}"] + datum["${r.field}"]`,as:"lower_"+l}):c.push({calculate:`datum["${l}"] - datum["${i.field}"]`,as:"lower_"+l}));for(const e of c)f.push({fieldPrefix:e.as.substring(0,6),titlePrefix:e.calculate.replace(new RegExp('datum\\[\\"',"g"),"").replace(new RegExp('\\"\\]',"g"),"")})}return{postAggregateCalculates:c,errorBarSpecificAggregate:u,tooltipSummary:f,tooltipTitleWithFieldName:d}}(u,f,d,p,h,l,t,n),x=m,A=(r[x],"x"===m?"x2":"y2"),w=(r[A],"x"===m?"xError":"yError"),C=(r[w],"x"===m?"xError2":"yError2"),F=(r[C],Se(r,["symbol"==typeof x?x:x+"","symbol"==typeof A?A:A+"","symbol"==typeof w?w:w+"","symbol"==typeof C?C:C+""])),{bins:E,timeUnits:D,aggregate:S,groupby:k,encoding:O}=In(F,n),$=[...S,...g],B="raw"!==l?[]:k,N=Vn(b,f,O,v);return{transform:[...s.transform||[],...E,...D,...$.length?[{aggregate:$,groupby:B}]:[],...y],groupby:B,continuousAxisChannelDef:f,continuousAxis:m,encodingWithoutContinuousAxis:O,ticksOrient:"vertical"===c?"horizontal":"vertical",markDef:u,outerSpec:s,tooltipEncoding:N}}function fi(e,t,n){return ee(e)+" "+n+" "+t}const di="errorband",pi=V({band:1,borders:1}),hi=new De(di,mi);function mi(e,{config:t}){const{transform:n,continuousAxisChannelDef:i,continuousAxis:r,encodingWithoutContinuousAxis:o,markDef:a,outerSpec:s,tooltipEncoding:u}=li(e,di,t),c=Yn(a,r,i,o,t.errorband),l=void 0!==e.encoding.x&&void 0!==e.encoding.y;let f={type:l?"area":"rect"},d={type:l?"line":"rule"};const p=Object.assign({},a.interpolate?{interpolate:a.interpolate}:{},a.tension&&a.interpolate?{interpolate:a.tension}:{});return l?(f=Object.assign({},f,p),d=Object.assign({},d,p)):a.interpolate?_t(Tt.errorBand1DNotSupport("interpolate")):a.tension&&_t(Tt.errorBand1DNotSupport("tension")),Object.assign({},s,{transform:n,layer:[...c({partName:"band",mark:f,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:u}),...c({partName:"borders",mark:d,positionPrefix:"lower",extraEncoding:u}),...c({partName:"borders",mark:d,positionPrefix:"upper",extraEncoding:u})]})}const gi={};function yi(e,t,n){const i=new De(e,t);gi[e]={normalizer:i,parts:n}}yi(Kn,ii,ei),yi(oi,ui,ai),yi(di,mi,pi);const bi=["shortTimeLabels"],vi=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength"],xi={clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},Ai=Object.assign({},xi,{opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,encode:1}),wi=Q(xi),Ci=Q(Ai);var Fi;!function(e){e.LINEAR="linear",e.LOG="log",e.POW="pow",e.SQRT="sqrt",e.SYMLOG="symlog",e.TIME="time",e.UTC="utc",e.QUANTILE="quantile",e.QUANTIZE="quantize",e.THRESHOLD="threshold",e.BIN_ORDINAL="bin-ordinal",e.ORDINAL="ordinal",e.POINT="point",e.BAND="band"}(Fi||(Fi={}));const Ei={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"},Di=V(Ei);function Si(e,t){const n=Ei[e],i=Ei[t];return n===i||"ordinal-position"===n&&"time"===i||"ordinal-position"===i&&"time"===n}const ki={linear:0,log:1,pow:1,sqrt:1,symlog:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0};function Oi(e){return ki[e]}const $i=["linear","log","pow","sqrt","symlog","time","utc"],Bi=x($i),Ni=x(["quantile","quantize","threshold"]),ji=x($i.concat(["quantile","quantize","threshold"])),_i=x(["ordinal","bin-ordinal","point","band"]);function Ti(e){return e in _i}function zi(e){return e in ji}function Ri(e){return e in Bi}function Pi(e){return e in Ni}const Ui={textXRangeStep:90,rangeStep:20,pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4};function Mi(e){return e&&e.selection}const Li=Q(Se({type:1,domain:1,range:1,rangeStep:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},["type","domain","range","rangeStep","scheme"]));!function(){const e={};for(const t of pt)for(const n of V(tn))for(const i of Di){const r=Gi(t,n);Hi(t,i)&&Wi(i,n)&&(e[r]=e[r]||[],e[r].push(i))}}();function Ii(e,t){switch(t){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":case"interpolate":return!R(["point","band","identity"],e);case"bins":return!R(["point","band","identity","ordinal"],e);case"round":return Ri(e)||"band"===e||"point"===e;case"padding":return Ri(e)||R(["point","band"],e);case"paddingOuter":case"rangeStep":return R(["point","band"],e);case"paddingInner":return"band"===e;case"clamp":return Ri(e);case"nice":return Ri(e)||"quantize"===e||"threshold"===e;case"exponent":return"pow"===e;case"base":return"log"===e;case"constant":return"symlog"===e;case"zero":return zi(e)&&!R(["log","time","utc","threshold","quantile"],e)}throw new Error(`Invalid scale property ${t}.`)}function qi(e,t){switch(t){case"interpolate":case"scheme":return ct(e)?void 0:Tt.cannotUseScalePropertyWithNonColor(e);case"type":case"bins":case"domain":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"rangeStep":case"reverse":case"round":case"clamp":case"zero":return}throw new Error(`Invalid scale property "${t}".`)}function Wi(e,t){return R([rn,an],t)?void 0===e||Ti(e):t===on?R([Fi.TIME,Fi.UTC,void 0],e):t!==nn||R([Fi.LOG,Fi.POW,Fi.SQRT,Fi.SYMLOG,Fi.QUANTILE,Fi.QUANTIZE,Fi.THRESHOLD,Fi.LINEAR,void 0],e)}function Hi(e,t){switch(e){case Re:case Pe:return Ri(t)||R(["band","point"],t);case Qe:case Ke:case Je:case Xe:case Ze:return Ri(t)||Pi(t)||R(["band","point"],t);case He:case Ge:case Ve:return"band"!==t;case Ye:return"ordinal"===t}return!1}function Gi(e,t){return e+"_"+t}const Vi="_vgsid_";function Yi(e){return"interval"===e.type}const Qi={single:{on:"click",fields:[Vi],resolve:"global",empty:"all"},multi:{on:"click",fields:[Vi],toggle:"event.shiftKey",resolve:"global",empty:"all"},interval:{on:"[mousedown, window:mouseup] > window:mousemove!",encodings:["x","y"],translate:"[mousedown, window:mouseup] > window:mousemove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global"}};function Ji(e){return void 0!==e.concat}function Xi(e){return void 0!==e.vconcat}function Zi(e){return void 0!==e.hconcat}function Ki(e){return void 0!==e.repeat}const er=Q({align:1,bounds:1,center:1,columns:1,spacing:1});function tr(e){const{anchor:t,frame:n,offset:i,orient:r,color:o}=e,a=Se(e,["anchor","frame","offset","orient","color"]);return{mark:Object.assign({},a,o?{fill:o}:{}),nonMark:Object.assign({},t?{anchor:t}:{},n?{frame:n}:{},i?{offset:i}:{},r?{orient:r}:{})}}const nr={padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",invalidValues:"filter",view:{width:200,height:200},mark:{color:"#4c78a8",tooltip:{content:"encoding"}},area:{},bar:{binSpacing:1,continuousBandSize:5},circle:{},geoshape:{},line:{},point:{},rect:{},rule:{color:"black"},square:{},text:{color:"black"},tick:{thickness:1},trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:Ui,projection:{},axis:{},axisX:{},axisY:{},axisLeft:{},axisRight:{},axisTop:{},axisBottom:{},axisBand:{},legend:{gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64},header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:Qi,style:{},title:{},facet:{spacing:20},repeat:{spacing:20},concat:{spacing:20}};function ir(e){return L(B(nr),e)}const rr=["view",...Ae],or=["padding","facet","concat","repeat","numberFormat","timeFormat","countTitle","header","stack","scale","selection","invalidValues","overlay"],ar=Object.assign({view:["width","height"]},{area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize"],line:["point"],text:["shortTimeLabels"],tick:["bandSize","thickness"]});function sr(e){e=B(e);for(const t of or)delete e[t];if(e.axis)for(const t of bi)delete e.axis[t];if(e.legend){for(const t of bi)delete e.legend[t];for(const t of vi)delete e.legend[t]}if(e.mark)for(const t of Fe)delete e.mark[t];for(const t of rr){for(const n of Fe)delete e[t][n];const n=ar[t];if(n)for(const i of n)delete e[t][i];ur(e,t)}for(const t of V(gi))delete e[t];ur(e,"title","group-title");for(const t in e)a(e[t])&&0===V(e[t]).length&&delete e[t];return V(e).length>0?e:void 0}function ur(e,t,n,i){const r="title"===t?tr(e.title).mark:i?e[t][i]:e[t];"view"===t&&(n="cell");const o=Object.assign({},r,e.style[t]);V(o).length>0&&(e.style[n||t]=o),i||delete e[t]}function cr(e){return void 0!==e.layer}class lr{map(e,t){return Wt(e)?this.mapFacet(e,t):Ki(e)?this.mapRepeat(e,t):Zi(e)?this.mapHConcat(e,t):Xi(e)?this.mapVConcat(e,t):Ji(e)?this.mapConcat(e,t):this.mapLayerOrUnit(e,t)}mapLayerOrUnit(e,t){if(cr(e))return this.mapLayer(e,t);if(Ee(e))return this.mapUnit(e,t);throw new Error(Tt.INVALID_SPEC)}mapLayer(e,t){return Object.assign({},e,{layer:e.layer.map(e=>this.mapLayerOrUnit(e,t))})}mapHConcat(e,t){return Object.assign({},e,{hconcat:e.hconcat.map(e=>this.map(e,t))})}mapVConcat(e,t){return Object.assign({},e,{vconcat:e.vconcat.map(e=>this.map(e,t))})}mapConcat(e,t){const{concat:n}=e,i=Se(e,["concat"]);return Object.assign({},i,{concat:n.map(e=>this.map(e,t))})}mapFacet(e,t){return Object.assign({},e,{spec:this.map(e.spec,t)})}mapRepeat(e,t){return Object.assign({},e,{spec:this.map(e.spec,t)})}}const fr={zero:1,center:1,normalize:1};const dr=[ce,ue,pe,fe,ye,be,le,he,me],pr=[ce,ue];function hr(e,t,n){const i=we(e)?e.type:e;if(!R(dr,i))return null;const r=function(e){const t=e.x,n=e.y;if(fn(t)&&fn(n))if("quantitative"===t.type&&"quantitative"===n.type){if(t.stack)return"x";if(n.stack)return"y";if(!!t.aggregate!=!!n.aggregate)return t.aggregate?"x":"y"}else{if("quantitative"===t.type)return"x";if("quantitative"===n.type)return"y"}else{if(fn(t)&&"quantitative"===t.type)return"x";if(fn(n)&&"quantitative"===n.type)return"y"}}(t);if(!r)return null;const a=t[r],s=pn(a)?gn(a,{}):void 0,u="x"===r?"y":"x",c=t[u],l=pn(c)?gn(c,{}):void 0,f=xt.reduce((e,n)=>{if("tooltip"!==n&&Mn(t,n)){const i=t[n];(o(i)?i:[i]).forEach(t=>{const i=Dn(t);if(i.aggregate)return;const r=pn(i)?gn(i,{}):void 0;(!r||r!==l&&r!==s)&&e.push({channel:n,fieldDef:i})})}return e},[]);if(0===f.length)return null;let d;return(d=void 0!==a.stack?a.stack:R(pr,i)?oe(n,"zero"):n)&&fr[d]?(a.scale&&a.scale.type&&a.scale.type!==Fi.LINEAR&&_t(Tt.cannotStackNonLinearScale(a.scale.type)),Mn(t,r===Re?Ue:Me)?(void 0!==a.stack&&_t(Tt.cannotStackRangedMark(r)),null):(a.aggregate&&!R(Ne,a.aggregate)&&_t(Tt.stackNonSummativeAggregate(a.aggregate)),{groupbyChannel:c?u:void 0,fieldChannel:r,impute:xe(i),stackBy:f,offset:d})):null}function mr(e){const t=Se(e,["point","line"]);return V(t).length>1?t:t.type}function gr(e){for(const t of["line","area","rule","trail"])e[t]&&(e=Object.assign({},e,{[t]:j(e[t],["point","line"])}));return e}function yr(e,t={},n){return"transparent"===e.point?{opacity:0}:e.point?a(e.point)?e.point:{}:void 0!==e.point?null:t.point||n.shape?a(t.point)?t.point:{}:void 0}function br(e,t={}){return e.line?!0===e.line?{}:e.line:void 0!==e.line?null:t.line?!0===t.line?{}:t.line:void 0}class vr{constructor(){this.name="path-overlay"}hasMatchingType(e,t){if(Ee(e)){const{mark:n,encoding:i}=e,r=we(n)?n:{type:n};switch(r.type){case"line":case"rule":case"trail":return!!yr(r,t[r.type],i);case"area":return!!yr(r,t[r.type],i)||!!br(r,t[r.type])}}return!1}run(e,t,n){const{config:i}=t,{selection:r,projection:o,encoding:a,mark:s}=e,u=Se(e,["selection","projection","encoding","mark"]),c=we(s)?s:{type:s},l=yr(c,i[c.type],a),f="area"===c.type&&br(c,i[c.type]),d=[Object.assign({},r?{selection:r}:{},{mark:mr(Object.assign({},c,"area"===c.type?{opacity:.7}:{})),encoding:j(a,["shape"])})],p=hr(c,a,i?i.stack:void 0);let h=a;if(p){const{fieldChannel:e,offset:t}=p;h=Object.assign({},a,{[e]:Object.assign({},a[e],t?{stack:t}:{})})}return f&&d.push(Object.assign({},o?{projection:o}:{},{mark:Object.assign({type:"line"},N(c,["clip","interpolate","tension"]),f),encoding:h})),l&&d.push(Object.assign({},o?{projection:o}:{},{mark:Object.assign({type:"point",opacity:1,filled:!0},N(c,["clip"]),l),encoding:h})),n(Object.assign({},u,{layer:d}),Object.assign({},t,{config:gr(i)}))}}class xr{constructor(){this.name="RuleForRangedLine"}hasMatchingType(e){if(Ee(e)){const{encoding:t,mark:n}=e;return!("line"!==n||!t.x2&&!t.y2)}return!1}run(e,t,n){const{encoding:i}=e;return _t(Tt.lineWithRange(!!i.x2,!!i.y2)),n(Object.assign({},e,{mark:"rule"}),t)}}function Ar(e){const{parentEncoding:t,encoding:n}=e;if(t&&n){const e=V(t).reduce((e,t)=>(n[t]&&e.push(t),e),[]);e.length>0&&_t(Tt.encodingOverridden(e))}const i=Object.assign({},t||{},n||{});return V(i).length>0?i:void 0}function wr(e){const{parentProjection:t,projection:n}=e;return t&&n&&_t(Tt.projectionOverridden({parentProjection:t,projection:n})),n||t}function Cr(e,t){return void 0===t&&(t=ir(e.config)),function(e,t={}){return Fr.map(e,{config:t})}(e,t)}const Fr=new class extends lr{constructor(){super(...arguments),this.nonFacetUnitNormalizers=[ti,si,hi,new vr,new xr]}map(e,t){if(Ee(e)){const n=Mn(e.encoding,_e),i=Mn(e.encoding,Te),r=Mn(e.encoding,ze);if(n||i||r)return this.mapFacetedUnit(e,t)}return super.map(e,t)}mapUnit(e,t){const{parentEncoding:n,parentProjection:i}=t;if(n||i)return this.mapUnitWithParentEncodingOrProjection(e,t);const r=this.mapLayerOrUnit.bind(this);for(const n of this.nonFacetUnitNormalizers)if(n.hasMatchingType(e,t.config))return n.run(e,t,r);return e}mapRepeat(e,t){const{repeat:n}=e;return!o(n)&&e.columns&&(e=j(e,["columns"]),_t(Tt.columnsNotSupportByRowCol("repeat"))),Object.assign({},e,{spec:this.map(e.spec,t)})}mapFacet(e,t){const{facet:n}=e;return qt(n)&&e.columns&&(e=j(e,["columns"]),_t(Tt.columnsNotSupportByRowCol("facet"))),super.mapFacet(e,t)}mapUnitWithParentEncodingOrProjection(e,t){const{encoding:n,projection:i}=e,{parentEncoding:r,parentProjection:o,config:a}=t,s=wr({parentProjection:o,projection:i}),u=Ar({parentEncoding:r,encoding:n});return this.mapUnit(Object.assign({},e,s?{projection:s}:{},u?{encoding:u}:{}),{config:a})}mapFacetedUnit(e,t){const n=e.encoding,{row:i,column:r,facet:o}=n,a=Se(n,["row","column","facet"]),{mark:s,width:u,projection:c,height:l,selection:f,encoding:d}=e,p=Se(e,["mark","width","projection","height","selection","encoding"]);return o&&(i||r)&&_t(Tt.facetChannelDropped([...i?[_e]:[],...r?[Te]:[]])),this.mapFacet(Object.assign({},p,{facet:i||r?Object.assign({},i?{row:i}:{},r?{column:r}:{}):o,spec:Object.assign({},c?{projection:c}:{},{mark:s},u?{width:u}:{},l?{height:l}:{},{encoding:a},f?{selection:f}:{})}),t)}mapLayer(e,t){var{parentEncoding:n,parentProjection:i}=t,r=Se(t,["parentEncoding","parentProjection"]);const{encoding:o,projection:a}=e,s=Se(e,["encoding","projection"]),u=Object.assign({},r,{parentEncoding:Ar({parentEncoding:n,encoding:o}),parentProjection:wr({parentProjection:i,projection:a})});return super.mapLayer(s,u)}};function Er(e){return s(e)?{type:e}:e||{}}const Dr=["background","padding"];function Sr(e){return Dr.reduce((t,n)=>(e&&void 0!==e[n]&&(t[n]=e[n]),t),{})}function kr(e){return!!e.url}function Or(e){return!!e.values}function $r(e){return!!e.name&&!kr(e)&&!Or(e)}const Br="main",Nr="raw";function jr(e){return e&&!!e.field&&void 0!==e.equal}function _r(e){return e&&!!e.field&&void 0!==e.lt}function Tr(e){return e&&!!e.field&&void 0!==e.lte}function zr(e){return e&&!!e.field&&void 0!==e.gt}function Rr(e){return e&&!!e.field&&void 0!==e.gte}function Pr(e){return!!(e&&e.field&&o(e.range)&&2===e.range.length)}function Ur(e){return e&&!!e.field&&(o(e.oneOf)||o(e.in))}function Mr(e){return Ur(e)||jr(e)||Pr(e)||_r(e)||zr(e)||Tr(e)||Rr(e)}function Lr(e,t){return Nn(e,{timeUnit:t,time:!0})}function Ir(e,t=!0){const{field:n,timeUnit:i}=e,r=i?"time("+Zt(i,n)+")":gn(e,{expr:"datum"});if(jr(e))return r+"==="+Lr(e.equal,i);if(_r(e)){return`${r}<${Lr(e.lt,i)}`}if(zr(e)){return`${r}>${Lr(e.gt,i)}`}if(Tr(e)){return`${r}<=${Lr(e.lte,i)}`}if(Rr(e)){return`${r}>=${Lr(e.gte,i)}`}if(Ur(e))return`indexof([${function(e,t){return e.map(e=>Lr(e,t))}(e.oneOf,i).join(",")}], ${r}) !== -1`;if(function(e){return e&&!!e.field&&void 0!==e.valid}(e))return e.valid?`${r}!==null&&!isNaN(${r})`:`${r}===null||isNaN(${r})`;if(Pr(e)){const n=e.range[0],o=e.range[1];if(null!==n&&null!==o&&t)return"inrange("+r+", ["+Lr(n,i)+", "+Lr(o,i)+"])";const a=[];return null!==n&&a.push(`${r} >= ${Lr(n,i)}`),null!==o&&a.push(`${r} <= ${Lr(o,i)}`),a.length>0?a.join(" && "):"true"}throw new Error(`Invalid field predicate: ${JSON.stringify(e)}`)}function qr(e){return Mr(e)&&e.timeUnit?Object.assign({},e,{timeUnit:en(e.timeUnit)}):e}function Wr(e){return void 0!==e.filter}function Hr(e){return void 0!==e.lookup}function Gr(e){return void 0!==e.sample}function Vr(e){return void 0!==e.window}function Yr(e){return void 0!==e.joinaggregate}function Qr(e){return void 0!==e.flatten}function Jr(e){return void 0!==e.calculate}function Xr(e){return!!e.bin}function Zr(e){return void 0!==e.impute}function Kr(e){return void 0!==e.timeUnit}function eo(e){return void 0!==e.aggregate}function to(e){return void 0!==e.stack}function no(e){return void 0!==e.fold}function io(e){return!!e.signal}function ro(e){return!!e.step}function oo(e){return!o(e)&&("field"in e&&"data"in e)}const ao=Q({opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeMiterLimit:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,cursor:1,href:1,tooltip:1,cornerRadius:1,x:1,y:1,x2:1,y2:1}),so=["domain","grid","labels","ticks","title"],uo={grid:"grid",gridColor:"grid",gridDash:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",domain:"main",domainColor:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontWeight:"main",labelLimit:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",maxExtent:"main",minExtent:"main",offset:"main",position:"main",tickColor:"main",tickExtra:"main",tickOffset:"both",tickOpacity:"main",tickRound:"main",ticks:"main",tickSize:"main",title:"main",titleAlign:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontWeight:"main",titleLimit:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",tickWidth:"both",tickCount:"both",values:"both",scale:"both",zindex:"both"},co={orient:1,bandPosition:1,domain:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,values:1,zindex:1},lo=Object.assign({},co,{encoding:1});const fo=Q(Object.assign({gridScale:1,scale:1},co,{encode:1}));function po(e,t,n,i={header:!1}){const r=e.combine(),{orient:a,scale:s,title:u,zindex:c}=r,l=Se(r,["orient","scale","title","zindex"]);if(V(l).forEach(e=>{const n=uo[e];n&&n!==t&&"both"!==n&&delete l[e]}),"grid"===t){if(!l.grid)return;if(l.encode){const{grid:e}=l.encode;l.encode=Object.assign({},e?{grid:e}:{}),0===V(l.encode).length&&delete l.encode}return Object.assign({scale:s,orient:a},l,{domain:!1,labels:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:oe(c,0)})}{if(!i.header&&e.mainExtracted)return;if(l.encode){for(const t of so)e.hasAxisPart(t)||delete l.encode[t];0===V(l.encode).length&&delete l.encode}const t=function(e,t){return o(e)?e.map(e=>Fn(e,t)).join(", "):e}(u,n);return Object.assign({scale:s,orient:a,grid:!1},t?{title:t}:{},l,{zindex:oe(c,1)})}}function ho(e){const t=e.component.axes,{x:n,y:i}=t;return n&&!i?[{name:"height",update:e.getSizeSignalRef("height").signal}]:i&&!n?[{name:"width",update:e.getSizeSignalRef("width").signal}]:[]}const mo={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontWeight:"fontWeight",titleLimit:"limit",titleOrient:"orient",titlePadding:"offset"},go={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelLimit:"limit",labelOrient:"orient",labelPadding:"offset"},yo=V(mo),bo=V(go),vo="mean";function xo(e){return!(!e||"count"!==e.op&&!e.field)}function Ao(e){return!!e&&o(e)}function wo(e,t,n,i,r){const o=[..."band"===r?["axisBand"]:[],"x"===n?"axisX":"axisY",...i?["axis"+i.substr(0,1).toUpperCase()+i.substr(1)]:[],"axis"];for(const n of o)if(t[n]&&void 0!==t[n][e])return t[n][e]}function Co(e,t){if(void 0!==e)return e=se(e),"top"===t||"bottom"===t?e<=45||315<=e?"top"===t?"bottom":"top":135<=e&&e<=225?"top"===t?"top":"bottom":"middle":e<=45||315<=e||135<=e&&e<=225?"middle":45<=e&&e<=135?"left"===t?"top":"bottom":"left"===t?"bottom":"top"}function Fo(e,t){if(void 0!==e)return e=se(e),"top"===t||"bottom"===t?e%180==0?"center":0<e&&e<180?"top"===t?"right":"left":"top"===t?"left":"right":(e+90)%180==0?"center":90<=e&&e<270?"left"===t?"left":"right":"left"===t?"right":"left"}function Eo(e){switch(e){case Re:return"bottom";case Pe:return"left"}throw new Error(Tt.INVALID_CHANNEL_FOR_AXIS)}function Do(e){return[].concat(e.type,e.style||[])}function So(e,t,n,{skipGeneralMarkConfig:i=!1}={}){return oe(ko(e,t,n.style),n[t.type][e],i?void 0:n.mark[e])}function ko(e,t,n){const i=Do(t);let r;for(const t of i){const i=n[t],o=e;i&&void 0!==i[o]&&(r=i[o])}return r}function Oo(e,t,n,i){const r=$o(e,t,i);if(zn(e.bin)){return{signal:jo(gn(e,{expr:n}),gn(e,{expr:n,binSuffix:"end"}),r,i)}}if("quantitative"===e.type)return{signal:`${Bo(gn(e,{expr:n,binSuffix:"range"}),r)}`};if(Bn(e)){const r=mn(e)&&e.scale&&e.scale.type===Fi.UTC;return{signal:_o(gn(e,{expr:n}),e.timeUnit,t,i.text.shortTimeLabels,i.timeFormat,r,!0)}}return{signal:`''+${gn(e,{expr:n})}`}}function $o(e,t,n){if(!Bn(e))return t||(e.type===nn?n.numberFormat:void 0)}function Bo(e,t){return`format(${e}, "${t||""}")`}function No(e,t,n){return Bo(e,t||n.numberFormat)}function jo(e,t,n,i){return`${e} === null || isNaN(${e}) ? "null" : ${No(e,n,i)} + " - " + ${No(t,n,i)}`}function _o(e,t,n,i,r,o,a=!1){return!t||n?(n=n||r)||a?`${o?"utc":"time"}Format(${e}, '${n}')`:void 0:function(e,t,n,i){if(!e)return;const r=Kt(e,n);let o="";return Xt(e,Ht.QUARTER)&&(o=`'Q' + quarter(${t})`),r.length>0&&(o&&(o+=" + ' ' + "),o+=i?`utcFormat(${t}, '${r.join(" ")}')`:`timeFormat(${t}, '${r.join(" ")}')`),o||void 0}(t,e,i,o)}function To(e,t){return(o(e)?e:[e]).reduce((e,n)=>(e.field.push(gn(n,t)),e.order.push(n.sort||"ascending"),e),{field:[],order:[]})}function zo(e,t){const n=[...e];return t.forEach(e=>{for(const t of n)if(_(t)===_(e))return;n.push(e)}),n}function Ro(e,t){return e!==t&&t?e?e+", "+t:t:e}function Po(e,t){if(o(e.value)&&o(t.value))return{explicit:e.explicit,value:zo(e.value,t.value)};if(!o(e.value)&&!o(t.value))return{explicit:e.explicit,value:Ro(e.value,t.value)};throw new Error("It should never reach here")}class Uo{constructor(e,t){this.debugName=t,this._children=[],this._parent=null,e&&(this.parent=e)}clone(){throw new Error("Cannot clone node")}hash(){return void 0===this._hash&&(this._hash=function(e){const t=++ae;return e?String(e)+t:t}()),this._hash}producedFields(){return new Set}dependentFields(){return new Set}get parent(){return this._parent}set parent(e){this._parent=e,e&&e.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(e,t){this._children.indexOf(e)>-1?console.warn("Attempt to add the same child twice."):void 0!==t?this._children.splice(t,0,e):this._children.push(e)}removeChild(e){const t=this._children.indexOf(e);return this._children.splice(t,1),t}remove(){let e=this._parent.removeChild(this);for(const t of this._children)t._parent=this._parent,this._parent.addChild(t,e++)}insertAsParentOf(e){const t=e.parent;t.removeChild(this),this.parent=t,e.parent=this}swapWithParent(){const e=this._parent,t=e.parent;for(const t of this._children)t.parent=e;this._children=[],e.removeChild(this),e.parent.removeChild(e),this.parent=t,e.parent=this}}class Mo extends Uo{constructor(e,t,n,i){super(e,t),this.type=n,this.refCounts=i,this._source=this._name=t,!this.refCounts||this._name in this.refCounts||(this.refCounts[this._name]=0)}clone(){const e=new this.constructor;return e.debugName="clone_"+this.debugName,e._source=this._source,e._name="clone_"+this._name,e.type=this.type,e.refCounts=this.refCounts,e.refCounts[e._name]=0,e}getSource(){return this.refCounts[this._name]++,this._source}isRequired(){return!!this.refCounts[this._name]}setSource(e){this._source=e}}var Lo,Io,qo,Wo,Ho,Go="RawCode",Vo="Literal",Yo="Property",Qo="Identifier",Jo="ArrayExpression",Xo="BinaryExpression",Zo="CallExpression",Ko="ConditionalExpression",ea="LogicalExpression",ta="MemberExpression",na="ObjectExpression",ia="UnaryExpression";function ra(e){this.type=e}ra.prototype.visit=function(e){var t,n,i;if(e(this))return 1;for(n=0,i=(t=function(e){switch(e.type){case Jo:return e.elements;case Xo:case ea:return[e.left,e.right];case Zo:var t=e.arguments.slice();return t.unshift(e.callee),t;case Ko:return[e.test,e.consequent,e.alternate];case ta:return[e.object,e.property];case na:return e.properties;case Yo:return[e.key,e.value];case ia:return[e.argument];case Qo:case Vo:case Go:default:return[]}}(this)).length;n<i;++n)if(t[n].visit(e))return 1};var oa=1,aa=2,sa=3,ua=4,ca=5,la=6,fa=7,da=8;(Lo={})[oa]="Boolean",Lo[aa]="<end>",Lo[sa]="Identifier",Lo[ua]="Keyword",Lo[ca]="Null",Lo[la]="Numeric",Lo[fa]="Punctuator",Lo[da]="String",Lo[9]="RegularExpression";var pa="ArrayExpression",ha="BinaryExpression",ma="CallExpression",ga="ConditionalExpression",ya="Identifier",ba="Literal",va="LogicalExpression",xa="MemberExpression",Aa="ObjectExpression",wa="Property",Ca="UnaryExpression",Fa="Unexpected token %0",Ea="Unexpected number",Da="Unexpected string",Sa="Unexpected identifier",ka="Unexpected reserved word",Oa="Unexpected end of input",$a="Invalid regular expression",Ba="Invalid regular expression: missing /",Na="Octal literals are not allowed in strict mode.",ja="Duplicate data property in object literal not allowed in strict mode",_a="ILLEGAL",Ta="Disabled.",za=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),Ra=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function Pa(e,t){if(!e)throw new Error("ASSERT: "+t)}function Ua(e){return e>=48&&e<=57}function Ma(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function La(e){return"01234567".indexOf(e)>=0}function Ia(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function qa(e){return 10===e||13===e||8232===e||8233===e}function Wa(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||92===e||e>=128&&za.test(String.fromCharCode(e))}function Ha(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||92===e||e>=128&&Ra.test(String.fromCharCode(e))}var Ga={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function Va(){for(var e;qo<Wo&&(Ia(e=Io.charCodeAt(qo))||qa(e));)++qo}function Ya(e){var t,n,i,r=0;for(n="u"===e?4:2,t=0;t<n;++t)qo<Wo&&Ma(Io[qo])?(i=Io[qo++],r=16*r+"0123456789abcdef".indexOf(i.toLowerCase())):ls({},Fa,_a);return String.fromCharCode(r)}function Qa(){var e,t,n,i;for(t=0,"}"===(e=Io[qo])&&ls({},Fa,_a);qo<Wo&&Ma(e=Io[qo++]);)t=16*t+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||"}"!==e)&&ls({},Fa,_a),t<=65535?String.fromCharCode(t):(n=55296+(t-65536>>10),i=56320+(t-65536&1023),String.fromCharCode(n,i))}function Ja(){var e,t;for(e=Io.charCodeAt(qo++),t=String.fromCharCode(e),92===e&&(117!==Io.charCodeAt(qo)&&ls({},Fa,_a),++qo,(e=Ya("u"))&&"\\"!==e&&Wa(e.charCodeAt(0))||ls({},Fa,_a),t=e);qo<Wo&&Ha(e=Io.charCodeAt(qo));)++qo,t+=String.fromCharCode(e),92===e&&(t=t.substr(0,t.length-1),117!==Io.charCodeAt(qo)&&ls({},Fa,_a),++qo,(e=Ya("u"))&&"\\"!==e&&Ha(e.charCodeAt(0))||ls({},Fa,_a),t+=e);return t}function Xa(){var e,t;return e=qo,{type:1===(t=92===Io.charCodeAt(qo)?Ja():function(){var e,t;for(e=qo++;qo<Wo;){if(92===(t=Io.charCodeAt(qo)))return qo=e,Ja();if(!Ha(t))break;++qo}return Io.slice(e,qo)}()).length?sa:Ga.hasOwnProperty(t)?ua:"null"===t?ca:"true"===t||"false"===t?oa:sa,value:t,start:e,end:qo}}function Za(){var e,t,n,i,r=qo,o=Io.charCodeAt(qo),a=Io[qo];switch(o){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++qo,{type:fa,value:String.fromCharCode(o),start:r,end:qo};default:if(61===(e=Io.charCodeAt(qo+1)))switch(o){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return qo+=2,{type:fa,value:String.fromCharCode(o)+String.fromCharCode(e),start:r,end:qo};case 33:case 61:return qo+=2,61===Io.charCodeAt(qo)&&++qo,{type:fa,value:Io.slice(r,qo),start:r,end:qo}}}return">>>="===(i=Io.substr(qo,4))?{type:fa,value:i,start:r,end:qo+=4}:">>>"===(n=i.substr(0,3))||"<<="===n||">>="===n?{type:fa,value:n,start:r,end:qo+=3}:a===(t=n.substr(0,2))[1]&&"+-<>&|".indexOf(a)>=0||"=>"===t?{type:fa,value:t,start:r,end:qo+=2}:"<>=!+-*%&|^/".indexOf(a)>=0?{type:fa,value:a,start:r,end:++qo}:void ls({},Fa,_a)}function Ka(){var e,t,n;if(Pa(Ua((n=Io[qo]).charCodeAt(0))||"."===n,"Numeric literal must start with a decimal digit or a decimal point"),t=qo,e="","."!==n){if(e=Io[qo++],n=Io[qo],"0"===e){if("x"===n||"X"===n)return++qo,function(e){for(var t="";qo<Wo&&Ma(Io[qo]);)t+=Io[qo++];return 0===t.length&&ls({},Fa,_a),Wa(Io.charCodeAt(qo))&&ls({},Fa,_a),{type:la,value:parseInt("0x"+t,16),start:e,end:qo}}(t);if(La(n))return function(e){for(var t="0"+Io[qo++];qo<Wo&&La(Io[qo]);)t+=Io[qo++];return(Wa(Io.charCodeAt(qo))||Ua(Io.charCodeAt(qo)))&&ls({},Fa,_a),{type:la,value:parseInt(t,8),octal:!0,start:e,end:qo}}(t);n&&Ua(n.charCodeAt(0))&&ls({},Fa,_a)}for(;Ua(Io.charCodeAt(qo));)e+=Io[qo++];n=Io[qo]}if("."===n){for(e+=Io[qo++];Ua(Io.charCodeAt(qo));)e+=Io[qo++];n=Io[qo]}if("e"===n||"E"===n)if(e+=Io[qo++],"+"!==(n=Io[qo])&&"-"!==n||(e+=Io[qo++]),Ua(Io.charCodeAt(qo)))for(;Ua(Io.charCodeAt(qo));)e+=Io[qo++];else ls({},Fa,_a);return Wa(Io.charCodeAt(qo))&&ls({},Fa,_a),{type:la,value:parseFloat(e),start:t,end:qo}}function es(){var e,t,n,i;return Ho=null,Va(),e=qo,t=function(){var e,t,n,i;for(Pa("/"===(e=Io[qo]),"Regular expression literal must start with a slash"),t=Io[qo++],n=!1,i=!1;qo<Wo;)if(t+=e=Io[qo++],"\\"===e)qa((e=Io[qo++]).charCodeAt(0))&&ls({},Ba),t+=e;else if(qa(e.charCodeAt(0)))ls({},Ba);else if(n)"]"===e&&(n=!1);else{if("/"===e){i=!0;break}"["===e&&(n=!0)}return i||ls({},Ba),{value:t.substr(1,t.length-2),literal:t}}(),n=function(){var e,t,n;for(t="",n="";qo<Wo&&Ha((e=Io[qo]).charCodeAt(0));)++qo,"\\"===e&&qo<Wo?ls({},Fa,_a):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&ls({},$a,n),{value:n,literal:t}}(),i=function(e,t){var n=e;t.indexOf("u")>=0&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,function(e,t){if(parseInt(t,16)<=1114111)return"x";ls({},$a)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{return new RegExp(e,t)}catch(e){return null}}(t.value,n.value),{literal:t.literal+n.literal,value:i,regex:{pattern:t.value,flags:n.value},start:e,end:qo}}function ts(){var e;return Va(),qo>=Wo?{type:aa,start:qo,end:qo}:Wa(e=Io.charCodeAt(qo))?Xa():40===e||41===e||59===e?Za():39===e||34===e?function(){var e,t,n,i,r="",o=!1;for(Pa("'"===(e=Io[qo])||'"'===e,"String literal must starts with a quote"),t=qo,++qo;qo<Wo;){if((n=Io[qo++])===e){e="";break}if("\\"===n)if((n=Io[qo++])&&qa(n.charCodeAt(0)))"\r"===n&&"\n"===Io[qo]&&++qo;else switch(n){case"u":case"x":"{"===Io[qo]?(++qo,r+=Qa()):r+=Ya(n);break;case"n":r+="\n";break;case"r":r+="\r";break;case"t":r+="\t";break;case"b":r+="\b";break;case"f":r+="\f";break;case"v":r+="\v";break;default:La(n)?(0!==(i="01234567".indexOf(n))&&(o=!0),qo<Wo&&La(Io[qo])&&(o=!0,i=8*i+"01234567".indexOf(Io[qo++]),"0123".indexOf(n)>=0&&qo<Wo&&La(Io[qo])&&(i=8*i+"01234567".indexOf(Io[qo++]))),r+=String.fromCharCode(i)):r+=n}else{if(qa(n.charCodeAt(0)))break;r+=n}}return""!==e&&ls({},Fa,_a),{type:da,value:r,octal:o,start:t,end:qo}}():46===e?Ua(Io.charCodeAt(qo+1))?Ka():Za():Ua(e)?Ka():Za()}function ns(){var e;return qo=(e=Ho).end,Ho=ts(),qo=e.end,e}function is(){var e;e=qo,Ho=ts(),qo=e}function rs(e,t,n){var i=new ra("||"===e||"&&"===e?va:ha);return i.operator=e,i.left=t,i.right=n,i}function os(e,t){var n=new ra(ma);return n.callee=e,n.arguments=t,n}function as(e){var t=new ra(ya);return t.name=e,t}function ss(e){var t=new ra(ba);return t.value=e.value,t.raw=Io.slice(e.start,e.end),e.regex&&("//"===t.raw&&(t.raw="/(?:)/"),t.regex=e.regex),t}function us(e,t,n){var i=new ra(xa);return i.computed="["===e,i.object=t,i.property=n,i.computed||(n.member=!0),i}function cs(e,t,n){var i=new ra(wa);return i.key=t,i.value=n,i.kind=e,i}function ls(e,t){var n,i=Array.prototype.slice.call(arguments,2),r=t.replace(/%(\d)/g,function(e,t){return Pa(t<i.length,"Message reference must be in range"),i[t]});throw(n=new Error(r)).index=qo,n.description=r,n}function fs(e){e.type===aa&&ls(e,Oa),e.type===la&&ls(e,Ea),e.type===da&&ls(e,Da),e.type===sa&&ls(e,Sa),e.type===ua&&ls(e,ka),ls(e,Fa,e.value)}function ds(e){var t=ns();t.type===fa&&t.value===e||fs(t)}function ps(e){return Ho.type===fa&&Ho.value===e}function hs(e){return Ho.type===ua&&Ho.value===e}function ms(){var e=[];for(qo=Ho.start,ds("[");!ps("]");)ps(",")?(ns(),e.push(null)):(e.push(Ss()),ps("]")||ds(","));return ns(),function(e){var t=new ra(pa);return t.elements=e,t}(e)}function gs(){var e;return qo=Ho.start,(e=ns()).type===da||e.type===la?(e.octal&&ls(e,Na),ss(e)):as(e.value)}function ys(){var e,t,n;return qo=Ho.start,(e=Ho).type===sa?(n=gs(),ds(":"),cs("init",n,Ss())):e.type!==aa&&e.type!==fa?(t=gs(),ds(":"),cs("init",t,Ss())):void fs(e)}function bs(){var e,t,n=[],i={},r=String;for(qo=Ho.start,ds("{");!ps("}");)t="$"+((e=ys()).key.type===ya?e.key.name:r(e.key.value)),Object.prototype.hasOwnProperty.call(i,t)?ls({},ja):i[t]=!0,n.push(e),ps("}")||ds(",");return ds("}"),function(e){var t=new ra(Aa);return t.properties=e,t}(n)}var vs={if:1,this:1};function xs(){var e,t,n;if(ps("("))return function(){var e;return ds("("),e=ks(),ds(")"),e}();if(ps("["))return ms();if(ps("{"))return bs();if(e=Ho.type,qo=Ho.start,e===sa||vs[Ho.value])n=as(ns().value);else if(e===da||e===la)Ho.octal&&ls(Ho,Na),n=ss(ns());else{if(e===ua)throw new Error(Ta);e===oa?((t=ns()).value="true"===t.value,n=ss(t)):e===ca?((t=ns()).value=null,n=ss(t)):ps("/")||ps("/=")?(n=ss(es()),is()):fs(ns())}return n}function As(){var e=[];if(ds("("),!ps(")"))for(;qo<Wo&&(e.push(Ss()),!ps(")"));)ds(",");return ds(")"),e}function ws(){var e;return qo=Ho.start,function(e){return e.type===sa||e.type===ua||e.type===oa||e.type===ca}(e=ns())||fs(e),as(e.value)}function Cs(){var e;return ds("["),e=ks(),ds("]"),e}function Fs(){var e=function(){var e;for(e=xs();;)if(ps("."))ds("."),e=us(".",e,ws());else if(ps("("))e=os(e,As());else{if(!ps("["))break;e=us("[",e,Cs())}return e}();if(Ho.type===fa&&(ps("++")||ps("--")))throw new Error(Ta);return e}function Es(){var e,t,n,i,r;if(Ho.type!==fa&&Ho.type!==ua)t=Fs();else{if(ps("++")||ps("--"))throw new Error(Ta);if(ps("+")||ps("-")||ps("~")||ps("!"))e=ns(),t=Es(),n=e.value,i=t,(r=new ra(Ca)).operator=n,r.argument=i,r.prefix=!0,t=r;else{if(hs("delete")||hs("void")||hs("typeof"))throw new Error(Ta);t=Fs()}}return t}function Ds(e){var t=0;if(e.type!==fa&&e.type!==ua)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11}return t}function Ss(){var e,t;return e=function(){var e,t,n,i,r,o,a,s,u,c;if(e=Ho,u=Es(),0===(r=Ds(i=Ho)))return u;for(i.prec=r,ns(),t=[e,Ho],o=[u,i,a=Es()];(r=Ds(Ho))>0;){for(;o.length>2&&r<=o[o.length-2].prec;)a=o.pop(),s=o.pop().value,u=o.pop(),t.pop(),n=rs(s,u,a),o.push(n);(i=ns()).prec=r,o.push(i),t.push(Ho),n=Es(),o.push(n)}for(n=o[c=o.length-1],t.pop();c>1;)t.pop(),n=rs(o[c-1].value,o[c-2],n),c-=2;return n}(),ps("?")&&(ns(),t=Ss(),ds(":"),e=function(e,t,n){var i=new ra(ga);return i.test=e,i.consequent=t,i.alternate=n,i}(e,t,Ss())),e}function ks(){var e=Ss();if(ps(","))throw new Error(Ta);return e}function Os(e){const t=function(e){qo=0,Wo=(Io=e).length,Ho=null,is();var t=ks();if(Ho.type!==aa)throw new Error("Unexpect token after expression.");return t}(e),n=new Set;return t.visit(e=>{"MemberExpression"===e.type&&function e(t){return"MemberExpression"===t.object.type?e(t.object):"datum"===t.object.name}(e)&&n.add(function e(t){const n=[];return"Identifier"===t.type?[t.name]:"Literal"===t.type?[t.value]:("MemberExpression"===t.type&&(n.push(...e(t.object)),n.push(...e(t.property))),n)}(e).slice(1).join("."))}),n}class $s extends Uo{constructor(e,t){super(e),this.transform=t,this._dependentFields=Os(this.transform.calculate)}clone(){return new $s(null,B(this.transform))}static parseAllForSortIndex(e,t){return t.forEachFieldDef((t,n)=>{if(mn(t)&&Ao(t.sort)){const{field:i,timeUnit:r}=t,o=t.sort,a=o.map((e,t)=>`${Ir({field:i,timeUnit:r,equal:e})} ? ${t} : `).join("")+o.length;e=new $s(e,{calculate:a,as:Bs(t,n,{forAs:!0})})}}),e}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return`Calculate ${T(this.transform)}`}}function Bs(e,t,n){return gn(e,Object.assign({prefix:t,suffix:"sort_index"},n||{}))}function Ns(e,t){return R(["top","bottom"],t)?"column":R(["left","right"],t)?"row":"row"===e?"row":"column"}function js(e,t,n,i){const r="row"===i?n.headerRow:"column"===i?n.headerColumn:n.headerFacet;return oe(t&&t.header?t.header[e]:void 0,r[e],n.header[e])}function _s(e,t,n,i){const r={};for(const o of e){const e=js(o,t,n,i);void 0!==e&&(r[o]=e)}return r}const Ts=["row","column"],zs=["header","footer"];function Rs(e,t){const n=e.component.layoutHeaders[t].title,i=e.config?e.config:void 0,r=e.component.layoutHeaders[t].facetFieldDef?e.component.layoutHeaders[t].facetFieldDef:void 0,{titleAnchor:o,titleAngle:a,titleOrient:s}=_s(["titleAnchor","titleAngle","titleOrient"],r,i,t),u=Ns(t,s);return{name:`${t}-title`,type:"group",role:`${u}-title`,title:Object.assign({text:n},"row"===t?{orient:"left"}:{},{style:"guide-title"},Us(a,u),Ps(u,a,o),Gs(i,r,t,yo,mo))}}function Ps(e,t,n="middle"){switch(n){case"start":return{align:"left"};case"end":return{align:"right"}}const i=Fo(t,"row"===e?"left":"top");return i?{align:i}:{}}function Us(e,t){const n=Co(e,"row"===t?"left":"top");return n?{baseline:n}:{}}function Ms(e,t){const n=e.component.layoutHeaders[t],i=[];for(const r of zs)if(n[r])for(const o of n[r])i.push(qs(e,t,r,n,o));return i}function Ls(e,t){const{sort:n}=e;return xo(n)?{field:gn(n,{expr:"datum"}),order:n.order||"ascending"}:o(n)?{field:Bs(e,t,{expr:"datum"}),order:"ascending"}:{field:gn(e,{expr:"datum"}),order:n||"ascending"}}function Is(e,t,n){const{format:i,labelAngle:r,labelAnchor:o,labelOrient:a}=_s(["format","labelAngle","labelAnchor","labelOrient"],e,n,t),s=Ns(t,a);return Object.assign({text:Oo(e,i,"parent",n)},"row"===t?{orient:"left"}:{},{style:"guide-label",frame:"group"},Us(r,s),Ps(s,r,o),Gs(n,e,t,bo,go))}function qs(e,t,n,i,r){if(r){let o=null;const{facetFieldDef:a}=i,s=e.config?e.config:void 0;if(a&&r.labels){const{labelOrient:e}=_s(["labelOrient"],a,s,t);("row"===t&&!R(["top","bottom"],e)||"column"===t&&!R(["left","right"],e))&&(o=Is(a,t,s))}const u=ef(e)&&!qt(e.facet),c=r.axes,l=c&&c.length>0;if(o||l){const s="row"===t?"height":"width";return Object.assign({name:e.getName(`${t}_${n}`),type:"group",role:`${t}-${n}`},i.facetFieldDef?{from:{data:e.getName(t+"_domain")},sort:Ls(a,t)}:{},l&&u?{from:{data:e.getName(`facet_domain_${t}`)}}:{},o?{title:o}:{},r.sizeSignal?{encode:{update:{[s]:r.sizeSignal}}}:{},l?{axes:c}:{})}}return null}const Ws={column:{start:0,end:1},row:{start:1,end:0}};function Hs(e,t){return Ws[t][e]}function Gs(e,t,n,i,r){const o={};for(const a of i){if(!r[a])continue;const i=js(a,t,e,n);void 0!==i&&(o[r[a]]=i)}return o}function Vs(e){return[...Ys(e,"width"),...Ys(e,"height")]}function Ys(e,t){const n="width"===t?"x":"y",i=e.component.layoutSize.get(t);if(!i||"merged"===i)return[];const r=e.getSizeSignalRef(t).signal;if("range-step"===i){const t=e.getScaleComponent(n);if(t){const i=t.get("type"),o=t.get("range");if(Ti(i)&&ro(o)){const i=e.scaleName(n);if(ef(e.parent)){if("independent"===e.parent.component.resolve.scale[n])return[Qs(i,o)]}return[Qs(i,o),{name:r,update:Js(i,t,`domain('${i}').length`)}]}}throw new Error("layout size is range step although there is no rangeStep.")}return[{name:r,value:i}]}function Qs(e,t){return{name:e+"_step",value:t.step}}function Js(e,t,n){const i=t.get("type"),r=t.get("padding"),o=oe(t.get("paddingOuter"),r);let a=t.get("paddingInner");return`bandspace(${n}, ${a="band"===i?void 0!==a?a:r:1}, ${o}) * ${e}_step`}function Xs(e,t,n){return Zs=t||eu,Ks=n||lu,du(e.trim()).map(pu)}var Zs,Ks,eu="view",tu="[",nu="]",iu="{",ru="}",ou=":",au=",",su="@",uu=">",cu=/[[\]{}]/,lu={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};function fu(e,t,n,i,r){for(var o,a=0,s=e.length;t<s;++t){if(o=e[t],!a&&o===n)return t;r&&r.indexOf(o)>=0?--a:i&&i.indexOf(o)>=0&&++a}return t}function du(e){for(var t=[],n=0,i=e.length,r=0;r<i;)r=fu(e,r,au,tu+iu,nu+ru),t.push(e.substring(n,r).trim()),n=++r;if(0===t.length)throw"Empty event selector: "+e;return t}function pu(e){return"["===e[0]?function(e){var t,n,i=e.length,r=1;if((r=fu(e,r,nu,tu,nu))===i)throw"Empty between selector: "+e;if(2!==(t=du(e.substring(1,r))).length)throw"Between selector must have two elements: "+e;if((e=e.slice(r+1).trim())[0]!==uu)throw"Expected '>' after between selector: "+e;if(t=t.map(pu),(n=pu(e.slice(1).trim())).between)return{between:t,stream:n};n.between=t;return n}(e):function(e){var t,n,i={source:Zs},r=[],o=[0,0],a=0,s=0,u=e.length,c=0;if(e[u-1]===ru){if(!((c=e.lastIndexOf(iu))>=0))throw"Unmatched right brace: "+e;try{o=function(e){var t=e.split(au);if(!e.length||t.length>2)throw e;return t.map(function(t){var n=+t;if(n!=n)throw e;return n})}(e.substring(c+1,u-1))}catch(t){throw"Invalid throttle specification: "+e}e=e.slice(0,c).trim(),u=e.length,c=0}if(!u)throw e;e[0]===su&&(a=++c);(t=fu(e,c,ou))<u&&(r.push(e.substring(s,t).trim()),s=c=++t);if((c=fu(e,c,tu))===u)r.push(e.substring(s,u).trim());else if(r.push(e.substring(s,c).trim()),n=[],(s=++c)===u)throw"Unmatched left bracket: "+e;for(;c<u;){if((c=fu(e,c,nu))===u)throw"Unmatched left bracket: "+e;if(n.push(e.substring(s,c).trim()),c<u-1&&e[++c]!==tu)throw"Expected left bracket: "+e;s=++c}if(!(u=r.length)||cu.test(r[u-1]))throw"Invalid event selector: "+e;u>1?(i.type=r[1],a?i.markname=r[0].slice(1):(l=r[0],Ks.hasOwnProperty(l)?i.marktype=r[0]:i.source=r[0])):i.type=r[0];var l;"!"===i.type.slice(-1)&&(i.consume=!0,i.type=i.type.slice(0,-1));null!=n&&(i.filter=n);o[0]&&(i.throttle=o[0]);o[1]&&(i.debounce=o[1]);return i}(e)}class hu extends Uo{constructor(e,t){super(e),this.formula=t}clone(){return new hu(null,B(this.formula))}static makeFromEncoding(e,t){const n=t.reduceFieldDef((e,t)=>{if(t.timeUnit){const n=gn(t,{forAs:!0});e[n]={as:n,timeUnit:t.timeUnit,field:t.field}}return e},{});return 0===V(n).length?null:new hu(e,n)}static makeFromTransform(e,t){return new hu(e,{[t.field]:{as:t.as,timeUnit:t.timeUnit,field:t.field}})}merge(e){this.formula=Object.assign({},this.formula,e.formula),e.remove()}producedFields(){return new Set(Y(this.formula).map(e=>e.as))}dependentFields(){return new Set(Y(this.formula).map(e=>e.field))}hash(){return`TimeUnit ${T(this.formula)}`}assemble(){return Y(this.formula).map(e=>({type:"formula",as:e.as,expr:Zt(e.timeUnit,e.field)}))}}const mu={has:e=>"interval"===e.type&&"global"===e.resolve&&e.bind&&"scales"===e.bind,parse:(e,t,n)=>{const i=X(n.name),r=n.scales=[];for(const t of n.project){const n=t.channel;if(!St(n))continue;const o=e.getScaleComponent(n),a=o?o.get("type"):void 0;if(o&&zi(a)){if(o.set("domainRaw",{signal:te(t.field,i)},!0),r.push(t),e.repeater&&e.repeater.row===e.repeater.column){e.getScaleComponent(n===Re?Pe:Re).set("domainRaw",{signal:te(t.field,i)},!0)}}else _t(Tt.SCALE_BINDINGS_CONTINUOUS)}},topLevelSignals:(e,t,n)=>{const i=t.scales.filter(e=>!n.filter(t=>t.name===e.signals.data).length);if(!e.parent||!i.length)return n;const r=n.filter(e=>e.name===t.name)[0],o=r.update;if(o.indexOf(Ou)>=0)r.update=`{${i.map(e=>`${u(e.field)}: ${e.signals.data}`).join(", ")}}`;else for(const e of i){const t=`, ${u(e.field)}: ${e.signals.data}`;o.indexOf(t)<0&&(r.update=o.substring(0,o.length-1)+t+"}")}return n.concat(i.map(e=>({name:e.signals.data})))},signals:(e,t,n)=>{if(e.parent)for(const e of t.scales){const t=n.filter(t=>t.name===e.signals.data)[0];t.push="outer",delete t.value,delete t.update}return n}};function gu(e,t){return`domain(${u(e.scaleName(t))})`}const yu="_tuple_fields";class bu extends Array{constructor(...e){super(...e),this.__proto__=bu.prototype,this.has={}}}const vu="_scale_trigger",xu={signals:(e,t)=>{const n=t.name,i=n+yu,r=mu.has(t),o=[],a=[],s=[];if(t.translate&&!r){const e=`!event.item || event.item.mark.name !== ${u(n+"_brush")}`;Au(t,(t,n)=>{const i=n.between[0].filter||(n.between[0].filter=[]);i.indexOf(e)<0&&i.push(e)})}t.project.forEach((n,i)=>{const r=n.channel;if(r!==Re&&r!==Pe)return void _t("Interval selections only support x and y encoding channels.");const c=t.init?t.init[i]:null,l=function(e,t,n,i){const r=n.channel,o=n.signals.visual,a=n.signals.data,s=mu.has(t),c=u(e.scaleName(r)),l=e.getScaleComponent(r),f=l?l.get("type"):void 0,d=e=>`scale(${c}, ${e})`,p=e.getSizeSignalRef(r===Re?"width":"height").signal,h=`${r}(unit)`,m=Au(t,(e,t)=>[...e,{events:t.between[0],update:`[${h}, ${h}]`},{events:t,update:`[${o}[0], clamp(${h}, 0, ${p})]`}]);return m.push({events:{signal:t.name+vu},update:zi(f)?`[${d(`${a}[0]`)}, ${d(`${a}[1]`)}]`:"[0, 0]"}),s?[{name:a,on:[]}]:[Object.assign({name:o},i?{init:Hu(i,d)}:{value:[]},{on:m}),Object.assign({name:a},i?{init:Hu(i)}:{},{on:[{events:{signal:o},update:`${o}[0] === ${o}[1] ? null : invert(${c}, ${o})`}]})]}(e,t,n,c),f=n.signals.data,d=n.signals.visual,p=u(e.scaleName(r)),h=zi(e.getScaleComponent(r).get("type"))?"+":"";o.push(...l),a.push(f),s.push({scaleName:e.scaleName(r),expr:`(!isArray(${f}) || `+`(${h}invert(${p}, ${d})[0] === ${h}${f}[0] && `+`${h}invert(${p}, ${d})[1] === ${h}${f}[1]))`})}),r||o.push({name:n+vu,value:{},on:[{events:s.map(e=>({scale:e.scaleName})),update:s.map(e=>e.expr).join(" && ")+` ? ${n+vu} : {}`}]});const c=t.init,l=`unit: ${Nu(e)}, fields: ${i}, values`;return o.concat(Object.assign({name:n+Du},c?{init:`{${l}: ${Hu(c)}}`}:{},{on:[{events:[{signal:a.join(" || ")}],update:a.join(" && ")+` ? {${l}: [${a}]} : null`}]}))},modifyExpr:(e,t)=>{return t.name+Du+", "+("global"===t.resolve?"true":`{unit: ${Nu(e)}}`)},marks:(e,t,n)=>{const i=t.name,{x:r,y:o}=t.project.has,a=`data(${u(t.name+Eu)})`;if(mu.has(t))return n;const s={x:void 0!==r?{signal:`${i}_x[0]`}:{value:0},y:void 0!==o?{signal:`${i}_y[0]`}:{value:0},x2:void 0!==r?{signal:`${i}_x[1]`}:{field:{group:"width"}},y2:void 0!==o?{signal:`${i}_y[1]`}:{field:{group:"height"}}};if("global"===t.resolve)for(const t of V(s))s[t]=[Object.assign({test:`${a}.length && ${a}[0].unit === ${Nu(e)}`},s[t]),{value:0}];const c=t.mark,{fill:l,fillOpacity:f}=c,d=Se(c,["fill","fillOpacity"]),p=V(d).reduce((e,t)=>(e[t]=[{test:[void 0!==r&&`${i}_x[0] !== ${i}_x[1]`,void 0!==o&&`${i}_y[0] !== ${i}_y[1]`].filter(e=>e).join(" && "),value:d[t]},{value:null}],e),{});return[{name:i+"_brush_bg",type:"rect",clip:!0,encode:{enter:{fill:{value:l},fillOpacity:{value:f}},update:s}},...n,{name:i+"_brush",type:"rect",clip:!0,encode:{enter:{fill:{value:"transparent"}},update:Object.assign({},s,p)}}]}};function Au(e,t){return e.events.reduce((e,n)=>n.between?t(e,n):(_t(`${n} is not an ordered event stream for interval selections`),e),[])}function wu(e,t){const n=t.name,i=n+yu,r=t.project,o="(item().isVoronoi ? datum.datum : datum)",a=r.map(t=>{const n=e.fieldDef(t.channel);return n&&n.bin?`[${te(e.vgField(t.channel,{}),o)}, `+`${te(e.vgField(t.channel,{binSuffix:"end"}),o)}]`:`${te(t.field,o)}`}).join(", "),s=`unit: ${Nu(e)}, fields: ${i}, values`,c=[{name:n+Du,on:[{events:t.events,update:`datum && item().mark.marktype !== 'group' ? {${s}: [${a}]} : null`,force:!0}]}];if(t.init){const e=t.init.map(e=>{const t=Hu(e);return`{${s}: ${t}}`});c.push({name:`${n}_init`,init:`modify(${u(t.name+Eu)}, [${e}])`})}return c}const Cu={signals:wu,modifyExpr:(e,t)=>{return t.name+Du+", "+("global"===t.resolve?"null":`{unit: ${Nu(e)}}`)}},Fu={signals:wu,modifyExpr:(e,t)=>{return t.name+Du+", "+("global"===t.resolve?"true":`{unit: ${Nu(e)}}`)}},Eu="_store",Du="_tuple",Su="_modify",ku="_selection_domain_",Ou="vlSelectionResolve",$u={single:Fu,multi:Cu,interval:xu};function Bu(e,t){const n=e.component.selection;for(const e in n)if(n.hasOwnProperty(e)){const i=n[e];t(i,$u[i.type])}}function Nu(e){let t=u(e.name);const n=function(e){let t=e.parent;for(;t&&!ef(t);)t=t.parent;return t}(e);if(n){const{facet:e}=n;for(const i of ft)e[i]&&(t+=` + '__facet_${i}_' + (${te(n.vgField(i),"facet")})`)}return t}function ju(e){let t=!1;return Bu(e,e=>{t=t||e.project.some(e=>e.field===Vi)}),t}const _u={has:e=>"interval"!==e.type&&e.nearest,marks:(e,t,n)=>{const{x:i,y:r}=t.project.has,o=e.mark;if(xe(o))return _t(Tt.nearestNotSupportForContinuous(o)),n;const a={name:e.getName("voronoi"),type:"path",from:{data:e.getName("marks")},encode:{update:Object.assign({fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0}},yc(e,{reactiveGeom:!0}))},transform:[{type:"voronoi",x:{expr:i||!i&&!r?"datum.datum.x || 0":"0"},y:{expr:r||!i&&!r?"datum.datum.y || 0":"0"},size:[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]}]};let s=0,u=!1;return n.forEach((t,n)=>{const i=t.name||"";i===e.component.mark[0].name?s=n:i.indexOf("voronoi")>=0&&(u=!0)}),u||n.splice(s+1,0,a),n}},Tu="_translate_anchor",zu="_translate_delta",Ru={has:e=>"interval"===e.type&&e.translate,signals:(e,t,n)=>{const i=t.name,r=mu.has(t),o=i+Tu,{x:a,y:s}=t.project.has;let u=Xs(t.translate,"scope");return r||(u=u.map(e=>(e.between[0].markname=i+"_brush",e))),n.push({name:o,value:{},on:[{events:u.map(e=>e.between[0]),update:"{x: x(unit), y: y(unit)"+(void 0!==a?", extent_x: "+(r?gu(e,Re):`slice(${a.signals.visual})`):"")+(void 0!==s?", extent_y: "+(r?gu(e,Pe):`slice(${s.signals.visual})`):"")+"}"}]},{name:i+zu,value:{},on:[{events:u,update:`{x: ${o}.x - x(unit), y: ${o}.y - y(unit)}`}]}),void 0!==a&&Pu(e,t,a,"width",n),void 0!==s&&Pu(e,t,s,"height",n),n}};function Pu(e,t,n,i,r){const o=t.name,a=o+Tu,s=o+zu,u=n.channel,c=mu.has(t),l=r.filter(e=>e.name===n.signals[c?"data":"visual"])[0],f=e.getSizeSignalRef(i).signal,d=e.getScaleComponent(u),p=d.get("type"),h=`${a}.extent_${u}`,m=`${c?"log"===p?"panLog":"pow"===p?"panPow":"panLinear":"panLinear"}(${h}, ${`${c&&u===Re?"-":""}${s}.${u} / `+(c?`${f}`:`span(${h})`)}`+(c&&"pow"===p?`, ${d.get("exponent")||1}`:"")+")";l.on.push({events:{signal:s},update:c?m:`clampRange(${m}, 0, ${f})`})}const Uu="_zoom_anchor",Mu="_zoom_delta",Lu={has:e=>"interval"===e.type&&e.zoom,signals:(e,t,n)=>{const i=t.name,r=mu.has(t),o=i+Mu,{x:a,y:s}=t.project.has,c=u(e.scaleName(Re)),l=u(e.scaleName(Pe));let f=Xs(t.zoom,"scope");return r||(f=f.map(e=>(e.markname=i+"_brush",e))),n.push({name:i+Uu,on:[{events:f,update:r?"{"+[c?`x: invert(${c}, x(unit))`:"",l?`y: invert(${l}, y(unit))`:""].filter(e=>!!e).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:o,on:[{events:f,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),void 0!==a&&Iu(e,t,a,"width",n),void 0!==s&&Iu(e,t,s,"height",n),n}};function Iu(e,t,n,i,r){const o=t.name,a=n.channel,s=mu.has(t),u=r.filter(e=>e.name===n.signals[s?"data":"visual"])[0],c=e.getSizeSignalRef(i).signal,l=e.getScaleComponent(a),f=l.get("type"),d=s?gu(e,a):u.name,p=o+Mu,h=`${s?"log"===f?"zoomLog":"pow"===f?"zoomPow":"zoomLinear":"zoomLinear"}(${d}, ${`${o}${Uu}.${a}`}, ${p}`+(s&&"pow"===f?`, ${l.get("exponent")||1}`:"")+")";u.on.push({events:{signal:p},update:s?h:`clampRange(${h}, 0, ${c})`})}const qu={project:{has:e=>!0,parse:(e,t,n)=>{const i=n.name,r=n.project||(n.project=new bu),a={},s={},u={},c=(e,t)=>{const n="visual"===t?e.channel:e.field;let r=X(`${i}_${n}`);for(let e=1;u[r];e++)r=X(`${i}_${n}_${e}`);return{[t]:u[r]=r}};if(!t.fields&&!t.encodings){const n=e.config.selection[t.type];if(t.init)for(const e of y(t.init))for(const i of V(e))mt(i)?(t.encodings||(t.encodings=[])).push(i):Yi(t)?(_t('Interval selections should be initialized using "x" and/or "y" keys.'),t.encodings=n.encodings):(t.fields||(t.fields=[])).push(i);else t.encodings=n.encodings,t.fields=n.fields}for(const e of t.fields||[]){const t={type:"E",field:e};t.signals=Object.assign({},c(t,"data")),r.push(t)}for(const i of t.encodings||[]){const t=e.fieldDef(i);if(t){let o=t.field;if(t.timeUnit&&(s[o=e.vgField(i)]={as:o,field:t.field,timeUnit:t.timeUnit}),!a[o]){let s="E";if("interval"===n.type){zi(e.getScaleComponent(i).get("type"))&&(s="R")}else t.bin&&(s="R-RE");const u={field:o,channel:i,type:s};u.signals=Object.assign({},c(u,"data"),c(u,"visual")),r.push(a[o]=u),r.has[i]=a[o]}}else _t(Tt.cannotProjectOnChannelWithoutField(i))}if(t.init)if(mu.has(n))_t(Tt.NO_INIT_SCALE_BINDINGS);else{function l(e){return r.map(t=>void 0!==e[t.channel]?e[t.channel]:e[t.field])}if(Yi(t))n.init=l(t.init);else{const e=o(t.init)?t.init:[t.init];n.init=e.map(l)}}V(s).length&&(r.timeUnit=new hu(null,s))},signals:(e,t,n)=>{const i=t.name+yu;return n.filter(e=>e.name===i).length?n:n.concat({name:i,value:t.project.map(e=>{return Se(e,["signals"])})})}},toggle:{has:e=>"multi"===e.type&&e.toggle,signals:(e,t,n)=>n.concat({name:t.name+"_toggle",value:!1,on:[{events:t.events,update:t.toggle}]}),modifyExpr:(e,t,n)=>{const i=t.name+Du,r=t.name+"_toggle";return`${r} ? null : ${i}, `+("global"===t.resolve?`${r} ? null : true, `:`${r} ? null : {unit: ${Nu(e)}}, `)+`${r} ? ${i} : null`}},scales:mu,translate:Ru,zoom:Lu,inputs:{has:e=>"single"===e.type&&"global"===e.resolve&&e.bind&&"scales"!==e.bind,topLevelSignals:(e,t,n)=>{const i=t.name,r=t.project,o=t.bind,a=t.init&&t.init[0],s=_u.has(t)?"(item().isVoronoi ? datum.datum : datum)":"datum";return r.forEach((e,r)=>{const u=X(`${i}_${e.field}`);n.filter(e=>e.name===u).length||n.unshift(Object.assign({name:u},a?{init:Hu(a[r])}:{value:null},{on:[{events:t.events,update:`datum && item().mark.marktype !== 'group' ? ${te(e.field,s)} : null`}],bind:o[e.field]||o[e.channel]||o}))}),n},signals:(e,t,n)=>{const i=t.name,r=t.project,o=n.filter(e=>e.name===i+Du)[0],a=i+yu,s=r.map(e=>X(`${i}_${e.field}`)),u=s.map(e=>`${e} !== null`).join(" && ");return s.length&&(o.update=`${u} ? {fields: ${a}, values: [${s.join(", ")}]} : null`),delete o.value,delete o.on,n}},nearest:_u};function Wu(e,t){for(const n in qu)qu[n].has(e)&&t(qu[n])}function Hu(e,t=l){if(o(e)){return`[${e.map(e=>Hu(e,t)).join(", ")}]`}return Rt(e)?t(It(e)):t(JSON.stringify(e))}function Gu(e,t){return Bu(e,(n,i)=>{t=i.marks?i.marks(e,n,t):t,Wu(n,i=>{i.marks&&(t=i.marks(e,n,t))})}),t}function Vu(e,t,n){const i=[];const r=Z(t,function(t){const r=X(t),o=e.getSelectionComponent(r,t),a=u(r+Eu);if(o.project.timeUnit){const t=n||e.component.data.raw,i=o.project.timeUnit.clone();t.parent?i.insertAsParentOf(t):t.parent=i}return"none"!==o.empty&&i.push(a),`vlSelectionTest(${a}, datum`+("global"===o.resolve?")":`, ${u(o.resolve)})`)});return(i.length?"!("+i.map(e=>`length(data(${e}))`).join(" || ")+") || ":"")+`(${r})`}function Yu(e,t,n){return Z(t,t=>s(t)?t:function(e){return e&&e.selection}(t)?Vu(e,t.selection,n):Ir(t))}function Qu(e){const{channel:t,channelDef:n,mark:i,scale:r}=e,o=rc(e);return fn(n)&&!Be(n.aggregate)&&r&&Ri(r.get("type"))&&!1===r.get("zero")?Ju({fieldDef:n,channel:t,mark:i,ref:o}):o}function Ju({fieldDef:e,channel:t,mark:n,ref:i}){return xe(n)?i:[Xu(e,t),i]}function Xu(e,t){const n=Zu(e,!0),i="x"===bt(t)?{value:0}:{field:{group:"height"}};return Object.assign({test:n},i)}function Zu(e,t=!0){return`${e=s(e)?e:gn(e,{expr:"datum"})} ${t?"===":"!=="} null ${t?"||":"&&"} ${t?"":"!"}isNaN(${e})`}function Ku(e,t){const n=t[e+"Offset"];if(n)return n}function ec({channel:e,fieldDef:t,scaleName:n,mark:i,side:r,offset:o}){return Ju({fieldDef:t,channel:e,mark:i,ref:tc(t,n,{binSuffix:"start"===r?void 0:"end"},o?{offset:o}:{})})}function tc(e,t,n,i){const r=Object.assign({},t?{scale:t}:{},{field:gn(e,n)});if(i){const{offset:e,band:t}=i;return Object.assign({},r,e?{offset:e}:{},t?{band:t}:{})}return r}function nc(e,t=!0){return{scale:e,band:t}}function ic({scaleName:e,fieldDef:t,fieldDef2:n,offset:i}){const r=gn(t,{expr:"datum"}),o=void 0!==n?gn(n,{expr:"datum"}):gn(t,{binSuffix:"end",expr:"datum"});return Object.assign({signal:`scale("${e}", (${r} + ${o}) / 2)`},i?{offset:i}:{})}function rc({channel:e,channelDef:t,channel2Def:n,scaleName:i,scale:r,stack:o,offset:a,defaultRef:s}){if(t){if(fn(t)){if(dn(t)){if(zn(t.bin))return R([Re,Pe],e)&&t.type===nn?o&&o.impute?tc(t,i,{binSuffix:"mid"},{offset:a}):ic({scaleName:i,fieldDef:t,offset:a}):tc(t,i,_n(t,e)?{binSuffix:"range"}:{},{offset:a});if(Rn(t.bin)){if(fn(n))return ic({scaleName:i,fieldDef:t,fieldDef2:n,offset:a});{const t=e===Re?Ue:Me;_t(Tt.channelRequiredForBinned(t))}}}if(r){const e=r.get("type");if(Ti(e))return tc(t,i,{binSuffix:"range"},"band"===e?{band:.5,offset:a}:{offset:a})}return tc(t,i,{},{offset:a})}if(hn(t)){const n=t.value,i=a?{offset:a}:{};return R(["x","x2"],e)&&"width"===n?Object.assign({field:{group:"width"}},i):R(["y","y2"],e)&&"height"===n?Object.assign({field:{group:"height"}},i):Object.assign({value:n},i)}}return"function"==typeof s?s():s}function oc(e,t,{reactiveGeom:n}){const i=[],r={};function o(o,a){const s=bt(a);a!==s&&(o=Object.assign({},o,{type:e[s].type}));const c=wn(o,t,{allowDisabling:!1}),l=ac(o,t,n?"datum.datum":"datum").signal;r[c]||i.push(`${u(c)}: ${l}`),r[c]=!0}return Hn(e,(e,t)=>{fn(e)?o(e,t):ln(e)&&o(e.condition,t)}),i.length?{signal:`{${i.join(", ")}}`}:void 0}function ac(e,t,n="datum"){if(e){if(hn(e))return{value:e.value};if(dn(e))return Oo(e,function(e){return(t=e)&&t.format&&e.format?e.format:(Cn(e)||{}).format;var t}(e),n,t)}}function sc(e){return Object.assign({},e,{mult:.5})}function uc({markDef:e,config:t,defaultRef:n,channel:i,scaleName:r,scale:o,mark:a,checkBarAreaWithoutZero:u}){return()=>{const c=bt(i),l=oe(e[i],So(i,e,t));if(void 0!==l)return{value:l};if(s(n)){if(r){const e=o.get("type");if(R([Fi.LOG,Fi.TIME,Fi.UTC],e))!u||"bar"!==a&&"area"!==a||_t(Tt.nonZeroScaleUsedWithLengthMark(a,c,{scaleType:e}));else{if(o.domainDefinitelyIncludesZero)return{scale:r,value:0};!u||"bar"!==a&&"area"!==a||_t(Tt.nonZeroScaleUsedWithLengthMark(a,c,{zeroFalse:!1===o.explicit.zero}))}}return"zeroOrMin"===n?"x"===c?{value:0}:{field:{group:"height"}}:"x"===c?{field:{group:"width"}}:{value:0}}return n}}function cc(e){return"transparent"!==e&&null!=e}function lc(e){const{markDef:t,encoding:n,config:i}=e,{filled:r,type:o}=t,a={fill:So("fill",t,i),stroke:So("stroke",t,i),color:So("color",t,i)},s=R(["bar","point","circle","square","geoshape"],o)?"transparent":void 0,u=oe(t.fill,a.fill,s),c=oe(t.stroke,a.stroke),l=r?"fill":"stroke",f=Object.assign({},u?{fill:{value:u}}:{},c?{stroke:{value:c}}:{});return n.fill||n.stroke?(t.color&&_t(Tt.droppingColor("property",{fill:"fill"in n,stroke:"stroke"in n})),Object.assign({},mc("fill",e,{defaultValue:oe(u,s)}),mc("stroke",e,{defaultValue:c}))):n.color?Object.assign({},f,mc("color",e,{vgChannel:l,defaultValue:oe(t[l],t.color,a[l],a.color,r?s:void 0)})):cc(t.fill)||cc(t.stroke)?(t.color&&_t(Tt.droppingColor("property",{fill:"fill"in t,stroke:"stroke"in t})),f):t.color?Object.assign({},f,{[l]:{value:t.color}}):cc(a.fill)||cc(a.stroke)?f:a.color?Object.assign({},s?{fill:{value:"transparent"}}:{},{[l]:{value:a.color}}):{}}function fc(e,t){const{fill:n,stroke:i}=lc(e);return Object.assign({},function(e,t){return ao.reduce((n,i)=>(void 0!==e[i]&&"ignore"!==t[i]&&(n[i]={value:e[i]}),n),{})}(e.markDef,t),dc(e,"fill",n),dc(e,"stroke",i),mc("opacity",e),mc("fillOpacity",e),mc("strokeOpacity",e),mc("strokeWidth",e),yc(e),bc(e,"href"))}function dc(e,t,n){const{config:i,mark:r}=e;if(i.invalidValues&&n&&!xe(r)){const i=pc(e,{invalid:!0,channels:Dt});if(i)return{[t]:[{test:i,value:null},...y(n)]}}return n?{[t]:n}:{}}function pc(e,{invalid:t=!1,channels:n}){const i=n.reduce((t,n)=>{const i=e.getScaleComponent(n);if(i){const r=i.get("type"),o=e.vgField(n,{expr:"datum"});o&&zi(r)&&(t[o]=!0)}return t},{}),r=V(i);if(r.length>0){const e=t?"||":"&&";return r.map(e=>Zu(e,t)).join(` ${e} `)}}function hc(e){if("filter"===e.config.invalidValues){const t=pc(e,{channels:["x","y"]});if(t)return{defined:{signal:t}}}return{}}function mc(e,t,n={}){const{markDef:i,encoding:r}=t,{vgChannel:o=e}=n,{defaultValue:a=i[o]}=n,s=n.defaultRef||(void 0!==a?{value:a}:void 0),u=r[e];return gc(t,u,o,n=>rc({channel:e,channelDef:n,scaleName:t.scaleName(e),scale:t.getScaleComponent(e),stack:null,defaultRef:s}))}function gc(e,t,n,i){const r=t&&t.condition,a=i(t);if(r){return{[n]:[...(o(r)?r:[r]).map(t=>{const n=i(t),r=function(e){return e.selection}(t)?Vu(e,t.selection):Yu(e,t.test);return Object.assign({test:r},n)}),...void 0!==a?[a]:[]]}}return void 0!==a?{[n]:a}:{}}function yc(e,t={}){const{encoding:n,markDef:i,config:r}=e,u=n.tooltip;return o(u)?{tooltip:oc({tooltip:u},r,t)}:gc(e,u,"tooltip",o=>{const u=ac(o,e.config);if(u)return u;if(null===o)return;const c=oe(i.tooltip,So("tooltip",i,r));return s(c)?{value:c}:a(c)?"encoding"===c.content?oc(n,r,t):{signal:"datum"}:void 0})}function bc(e,t="text"){const n=e.encoding[t];return gc(e,n,t,t=>ac(t,e.config))}function vc(e,t,n){const i=n.scaleName(t),r="x"===t?"width":"height";if(n.encoding.size||void 0!==n.markDef.size){if(n.markDef.orient){const o={[t+"c"]:tc(e,i,{},{band:.5})};if(Dn(n.encoding.size))return Object.assign({},o,mc("size",n,{vgChannel:r}));if(hn(n.encoding.size))return Object.assign({},o,mc("size",n,{vgChannel:r}));if(void 0!==n.markDef.size)return Object.assign({},o,{[r]:{value:n.markDef.size}})}else _t(Tt.cannotApplySizeToNonOrientedMark(n.markDef.type))}return{[t]:tc(e,i,{binSuffix:"range"},{}),[r]:nc(i)}}function xc({fieldDef:e,fieldDef2:t,channel:n,scaleName:i,mark:r,spacing:o=0,reverse:a}){const s={x:a?o:0,x2:a?0:o,y:a?0:o,y2:a?o:0},u=n===Re?Ue:Me;return zn(e.bin)?{[u]:ec({channel:n,fieldDef:e,scaleName:i,mark:r,side:"start",offset:s[`${n}2`]}),[n]:ec({channel:n,fieldDef:e,scaleName:i,mark:r,side:"end",offset:s[n]})}:Rn(e.bin)&&fn(t)?{[u]:tc(e,i,{},{offset:s[`${n}2`]}),[n]:tc(t,i,{},{offset:s[n]})}:void _t(Tt.channelRequiredForBinned(u))}function Ac(e,t,n,i){const{encoding:r,mark:o,markDef:a,config:s,stack:u}=t,c=r[e],l=r[e===Re?Ue:Me],f=t.scaleName(e),d=t.getScaleComponent(e),p=Ku(e,t.markDef);return{[i||e]:c||!r.latitude&&!r.longitude?function(e){const{channel:t,channelDef:n,scaleName:i,stack:r,offset:o}=e;return fn(n)&&r&&t===r.fieldChannel?tc(n,i,{suffix:"end"},{offset:o}):Qu(e)}({channel:e,channelDef:c,channel2Def:l,scaleName:f,scale:d,stack:u,mark:o,offset:p,defaultRef:uc({markDef:a,config:s,defaultRef:n,channel:e,scaleName:f,scale:d,mark:o,checkBarAreaWithoutZero:!l})}):{field:t.getName(e)}}}function wc(e,t,n){const{encoding:i,mark:r,markDef:o,stack:a,config:s}=e,u="x2"===n?"x":"y",c=i[u],l=e.scaleName(u),f=e.getScaleComponent(u),d=Ku(n,e.markDef),p=c||!i.latitude&&!i.longitude?function({channel:e,channelDef:t,channel2Def:n,scaleName:i,scale:r,stack:o,mark:a,offset:s,defaultRef:u}){return fn(t)&&o&&e.charAt(0)===o.fieldChannel.charAt(0)?tc(t,i,{suffix:"start"},{offset:s}):Qu({channel:e,channelDef:n,scaleName:i,scale:r,stack:o,mark:a,offset:s,defaultRef:u})}({channel:n,channelDef:c,channel2Def:i[n],scaleName:l,scale:f,stack:a,mark:r,offset:d,defaultRef:uc({markDef:o,config:s,defaultRef:t,channel:n,scaleName:l,scale:f,mark:r,checkBarAreaWithoutZero:!i[n]})}):{field:e.getName(n)};return{[n]:p}}function Cc(e,t){return V(e).reduce((n,i)=>{const r=e[i];return Object.assign({},n,gc(t,r,i,e=>({value:e.value})))},{})}function Fc(e,t){if(rf(t)||ef(t))return"shared";if(nf(t)||tf(t))return R(wt,e)?"independent":"shared";throw new Error("invalid model type for resolve")}function Ec(e,t){const n=e.scale[t],i=R(wt,t)?"axis":"legend";return"independent"===n?("shared"===e[i][t]&&_t(Tt.independentScaleMeansIndependentGuide(t)),"independent"):e[i][t]||"shared"}class Dc{constructor(e={},t={}){this.explicit=e,this.implicit=t}clone(){return new Dc(B(this.explicit),B(this.implicit))}combine(){return Object.assign({},this.explicit,this.implicit)}get(e){return oe(this.explicit[e],this.implicit[e])}getWithExplicit(e){return void 0!==this.explicit[e]?{explicit:!0,value:this.explicit[e]}:void 0!==this.implicit[e]?{explicit:!1,value:this.implicit[e]}:{explicit:!1,value:void 0}}setWithExplicit(e,t){void 0!==t.value&&this.set(e,t.value,t.explicit)}set(e,t,n){return delete this[n?"implicit":"explicit"][e],this[n?"explicit":"implicit"][e]=t,this}copyKeyFromSplit(e,t){void 0!==t.explicit[e]?this.set(e,t.explicit[e],!0):void 0!==t.implicit[e]&&this.set(e,t.implicit[e],!1)}copyKeyFromObject(e,t){void 0!==t[e]&&this.set(e,t[e],!0)}copyAll(e){for(const t of V(e.combine())){const n=e.getWithExplicit(t);this.setWithExplicit(t,n)}}}function Sc(e){return{explicit:!0,value:e}}function kc(e){return{explicit:!1,value:e}}function Oc(e){return(t,n,i,r)=>{const o=e(t.value,n.value);return o>0?t:o<0?n:$c(t,n,i,r)}}function $c(e,t,n,i){return e.explicit&&t.explicit&&_t(Tt.mergeConflictingProperty(n,i,e.value,t.value)),e}function Bc(e,t,n,i,r=$c){return void 0===e||void 0===e.value?t:e.explicit&&!t.explicit?e:t.explicit&&!e.explicit?t:_(e.value)===_(t.value)?e:r(e,t,n,i)}class Nc extends Dc{}function jc(e){const{legend:t}=e;return oe(t.type,_c(e))}function _c({channel:e,timeUnit:t,scaleType:n,alwaysReturn:i}){if(ct(e)){if(R(["quarter","month","day"],t))return"symbol";if(Ri(n))return i?"gradient":void 0}return i?"symbol":void 0}function Tc({legend:e,legendConfig:t,timeUnit:n,channel:i,scaleType:r}){const o=oe(e.orient,t.orient,"right"),a=jc({legend:e,channel:i,timeUnit:n,scaleType:r,alwaysReturn:!0});return oe(e.direction,t[a?"gradientDirection":"symbolDirection"],function(e,t){switch(e){case"top":case"bottom":return"horizontal";case"left":case"right":case"none":case void 0:return;default:return"gradient"===t?"horizontal":void 0}}(o,a))}function zc(e,t,n,i){return{signal:`clamp(${e.getSizeSignalRef(t).signal}, ${n}, ${i})`}}function Rc(e,t,n){const i=t.getScaleComponent(n).get("type");return oe(e.get("type"),_c({channel:n,scaleType:i,alwaysReturn:!0}))}function Pc(e){return Mc(e,(e,t)=>Math.max(e,t.value))}function Uc(e){return Mc(e,(e,t)=>oe(e,t.value))}function Mc(e,t){return function(e){return!!e&&!!e.condition&&(o(e.condition)||hn(e.condition))}(e)?(o(e.condition)?e.condition:[e.condition]).reduce(t,e.value):hn(e)?e.value:void 0}var Lc=Object.freeze({symbols:function(e,t,n,i,r){if("symbol"!==Rc(r,n,i))return;let a=Object.assign({},function(e,t,n){for(const i of n){const n=So(i,t.markDef,t.config);void 0!==n&&(e[i]={value:n})}return e}({},n,Ce),lc(n));switch(n.mark){case ce:case me:case he:a.shape={value:"square"};break;case ye:case be:a.shape={value:n.mark}}const{markDef:s,encoding:u,config:c}=n,l=s.filled,f=Pc(u.opacity)||s.opacity;if(a.fill)if("fill"===i||l&&i===He)delete a.fill;else if(a.fill.field)r.get("symbolFillColor")?delete a.fill:(a.fill={value:c.legend.symbolBaseFillColor||"black"},a.fillOpacity={value:f||1});else if(o(a.fill)){const e=Uc(u.fill||u.color)||s.fill||l&&s.color;e&&(a.fill={value:e})}if(a.stroke)if("stroke"===i||!l&&i===He)delete a.stroke;else if(a.stroke.field)delete a.stroke;else if(o(a.stroke)){const e=oe(Uc(u.stroke||u.color),s.stroke,l?s.color:void 0);e&&(a.stroke={value:e})}if(i!==Ye){const e=Uc(u.shape)||s.shape;e&&(a.shape={value:e})}return i!==Je&&f&&(a.opacity={value:f}),a=Object.assign({},a,t),V(a).length>0?a:void 0},gradient:function(e,t,n,i,r){if("gradient"!==Rc(r,n,i))return;let o={};const a=Pc(n.encoding.opacity)||n.markDef.opacity;return a&&(o.opacity={value:a}),o=Object.assign({},o,t),V(o).length>0?o:void 0},labels:function(e,t,n,i,r){const o=n.legend(i),a=n.config;let s={};if(Bn(e)){const r=n.getScaleComponent(i).get("type")===Fi.UTC,s=_o("datum.value",e.timeUnit,o.format,a.legend.shortTimeLabels,a.timeFormat,r);t=Object.assign({},s?{text:{signal:s}}:{},t)}return s=Object.assign({},s,t),V(s).length>0?s:void 0}});function Ic(e){Kl(e)?e.component.legends=function(e){const{encoding:t}=e;return[He,Ge,Ve,Ke,Qe,Ye,Je,Xe,Ze].reduce((n,i)=>{const r=t[i];return!e.legend(i)||!e.getScaleComponent(i)||fn(r)&&i===Ye&&r.type===sn||(n[i]=function(e,t){const n=e.fieldDef(t),i=e.legend(t),r=new Nc({},function(e,t){const n=e.scaleName(He);if("color"===t)return e.markDef.filled?{fill:n}:{stroke:n};return{[t]:e.scaleName(t)}}(e,t));for(const o of wi){const a=Wc(o,i,t,e);if(void 0!==a){const t=qc(a,o,i,n);(t||void 0===e.config.legend[o])&&r.set(o,a,t)}}const o=i.encoding||{},a=["labels","legend","title","symbols","gradient"].reduce((i,a)=>{const s=Cc(o[a]||{},e),u=Lc[a]?Lc[a](n,s,e,t,r):s;return void 0!==u&&V(u).length>0&&(i[a]={update:u}),i},{});V(a).length>0&&r.set("encode",a,!!i.encoding);return r}(e,i)),n},{})}(e):e.component.legends=function(e){const{legends:t,resolve:n}=e.component;for(const i of e.children)Ic(i),V(i.component.legends).forEach(r=>{n.legend[r]=Ec(e.component.resolve,r),"shared"===n.legend[r]&&(t[r]=Hc(t[r],i.component.legends[r]),t[r]||(n.legend[r]="independent",delete t[r]))});return V(t).forEach(t=>{for(const i of e.children)i.component.legends[t]&&"shared"===n.legend[t]&&delete i.component.legends[t]}),t}(e)}function qc(e,t,n,i){switch(t){case"values":return!!n.values;case"title":if("title"===t&&e===i.title)return!0}return e===n[t]}function Wc(e,t,n,i){const{encoding:r,mark:o}=i,a=Dn(r[n]),s=i.config.legend,{timeUnit:u}=a,c=i.getScaleComponent(n).get("type");switch(e){case"format":return $o(a,t.format,i.config);case"title":return wn(a,i.config,{allowDisabling:!0})||void 0;case"type":return jc({legend:t,channel:n,timeUnit:u,scaleType:c,alwaysReturn:!1});case"direction":return Tc({legend:t,legendConfig:s,timeUnit:u,channel:n,scaleType:c});case"labelOverlap":return oe(t.labelOverlap,function(e){if(R(["quantile","threshold","log"],e))return"greedy"}(c));case"gradientLength":return oe(t.gradientLength,s.gradientLength,function({legend:e,legendConfig:t,model:n,channel:i,scaleType:r}){const{gradientHorizontalMaxLength:o,gradientHorizontalMinLength:a,gradientVerticalMaxLength:s,gradientVerticalMinLength:u}=t;if("horizontal"===Tc({legend:e,legendConfig:t,channel:i,scaleType:r})){const i=oe(e.orient,t.orient);return"top"===i||"bottom"===i?zc(n,"width",a,o):a}return zc(n,"height",u,s)}({model:i,legend:t,legendConfig:s,channel:n,scaleType:c}));case"symbolType":return oe(t.symbolType,function(e){return"line"===e?"stroke":"circle"}(o));case"values":return function(e,t){const n=e.values;if(n)return jn(t,n)}(t,a)}return t[e]}function Hc(e,t){if(!e)return t.clone();const n=e.getWithExplicit("orient"),i=t.getWithExplicit("orient");if(n.explicit&&i.explicit&&n.value!==i.value)return;let r=!1;for(const n of Ci){const i=Bc(e.getWithExplicit(n),t.getWithExplicit(n),n,"legend",(e,t)=>{switch(n){case"symbolType":return Gc(e,t);case"title":return Po(e,t);case"type":return r=!0,kc("symbol")}return $c(e,t,n,"legend")});e.setWithExplicit(n,i)}return r&&(((e.implicit||{}).encode||{}).gradient&&K(e.implicit,["encode","gradient"]),((e.explicit||{}).encode||{}).gradient&&K(e.explicit,["encode","gradient"])),e}function Gc(e,t){return"circle"===t.value?t:e}function Vc(e){const t=e.component.legends,n={};for(const i of V(t)){const r=e.getScaleComponent(i),o=_(r.domains);if(n[o])for(const e of n[o]){Hc(e,t[i])||n[o].push(t[i])}else n[o]=[t[i].clone()]}return M(Y(n)).map(e=>{const t=e.combine();if(t.encode&&t.encode.symbols){const e=t.encode.symbols.update;!e.fill||"transparent"===e.fill.value||e.stroke||t.stroke||(e.stroke={value:"transparent"}),t.fill&&delete e.fill}return t})}function Yc(e){return rf(e)||nf(e)||tf(e)?function(e){return e.children.reduce((e,t)=>e.concat(t.assembleProjections()),Qc(e))}(e):Qc(e)}function Qc(e){const t=e.component.projection;if(!t||t.merged)return[];const n=t.combine(),{name:i}=n,r=Se(n,["name"]),o={signal:`[${t.size.map(e=>e.signal).join(", ")}]`},a=t.data.reduce((t,n)=>{const i=io(n)?n.signal:`data('${e.lookupDataSource(n)}')`;return R(t,i)||t.push(i),t},[]);if(a.length<=0)throw new Error("Projection's fit didn't find any data sources");return[Object.assign({name:i,size:o,fit:{signal:a.length>1?`[${a.join(", ")}]`:a[0]}},r)]}const Jc=["type","clipAngle","clipExtent","center","rotate","precision","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];class Xc extends Dc{constructor(e,t,n,i){super(Object.assign({},t),{name:e}),this.specifiedProjection=t,this.size=n,this.data=i,this.merged=!1}}function Zc(e){Kl(e)?e.component.projection=function(e){const{specifiedProjection:t,config:n,hasProjection:i}=e;if(i){const i=[];return[[Ie,Le],[We,qe]].forEach(t=>{(e.channelHasField(t[0])||e.channelHasField(t[1]))&&i.push({signal:e.getName(`geojson_${i.length}`)})}),e.channelHasField(Ye)&&e.fieldDef(Ye).type===sn&&i.push({signal:e.getName(`geojson_${i.length}`)}),0===i.length&&i.push(e.requestDataName(Br)),new Xc(e.projectionName(!0),Object.assign({},n.projection||{},t||{}),[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")],i)}return}(e):e.component.projection=function(e){if(0===e.children.length)return;let t;const n=U(e.children,e=>{Zc(e);const n=e.component.projection;if(n){if(t){const e=function(e,t){const n=U(Jc,n=>!e.explicit.hasOwnProperty(n)&&!t.explicit.hasOwnProperty(n)||!(!e.explicit.hasOwnProperty(n)||!t.explicit.hasOwnProperty(n)||_(e.get(n))!==_(t.get(n))));if(_(e.size)===_(t.size)){if(n)return e;if(_(e.explicit)===_({}))return t;if(_(t.explicit)===_({}))return e}return null}(t,n);return e&&(t=e),!!e}return t=n,!0}return!0});if(t&&n){const n=e.projectionName(!0),i=new Xc(n,t.specifiedProjection,t.size,B(t.data));return e.children.forEach(e=>{e.component.projection&&(i.data.push(...e.component.projection.data),e.renameProjection(e.component.projection.get("name"),n),e.component.projection.merged=!0)}),i}return}(e)}class Kc extends Uo{constructor(e){super(null);const t=(e=e||{name:"source"}).format?Object.assign({},j(e.format,["parse"])):{};if(Or(e))this._data={values:e.values};else if(kr(e)){if(this._data={url:e.url},!t.type){let n=/(?:\.([^.]+))?$/.exec(e.url)[1];R(["json","csv","tsv","dsv","topojson"],n)||(n="json"),t.type=n}}else $r(e)&&(this._data={});e.name&&(this._name=e.name),t&&V(t).length>0&&(this._data.format=t)}get data(){return this._data}hasName(){return!!this._name}get dataName(){return this._name}set dataName(e){this._name=e}set parent(e){throw new Error("Source nodes have to be roots.")}remove(){throw new Error("Source nodes are roots and cannot be removed.")}hash(){throw new Error("Cannot hash sources")}assemble(){return Object.assign({name:this._name},this._data,{transform:[]})}}function el(e){for(const t of e){for(const e of t.children)if(e.parent!==t)return console.error("Dataflow graph is inconsistent.",t,e),!1;if(!el(t.children))return!1}return!0}class tl{constructor(){this._mutated=!1}setMutated(){this._mutated=!0}get mutatedFlag(){return this._mutated}}class nl extends tl{constructor(){super(),this._continue=!1}setContinue(){this._continue=!0}get continueFlag(){return this._continue}get flags(){return{continueFlag:this.continueFlag,mutatedFlag:this.mutatedFlag}}set flags({continueFlag:e,mutatedFlag:t}){e&&this.setContinue(),t&&this.setMutated()}reset(){}optimizeNextFromLeaves(e){if(e instanceof Kc)return!1;const t=e.parent,{continueFlag:n}=this.run(e);return n&&this.optimizeNextFromLeaves(t),this.mutatedFlag}}class il extends tl{}function rl(e,t,n,i){if(dn(n)&&zn(n.bin))e.add(gn(n,{})),e.add(gn(n,{binSuffix:"end"})),_n(n,t)&&e.add(gn(n,{binSuffix:"range"}));else if(function(e){switch(e){case Le:case qe:case Ie:case We:return!0}return!1}(t)){const n=function(e){switch(e){case Le:return"y";case qe:return"y2";case Ie:return"x";case We:return"x2"}}(t);e.add(i.getName(n))}else e.add(gn(n));return e}class ol extends Uo{constructor(e,t,n){super(e),this.dimensions=t,this.measures=n}clone(){return new ol(null,new Set(this.dimensions),B(this.measures))}get groupBy(){return this.dimensions}static makeFromEncoding(e,t){let n=!1;t.forEachFieldDef(e=>{e.aggregate&&(n=!0)});const i={},r=new Set;return n?(t.forEachFieldDef((e,n)=>{const{aggregate:o,field:a}=e;o?"count"===o?(i["*"]=i["*"]||{},i["*"].count=new Set([gn(e,{forAs:!0})])):(i[a]=i[a]||{},i[a][o]=new Set([gn(e,{forAs:!0})]),St(n)&&"unaggregated"===t.scaleDomain(n)&&(i[a].min=new Set([gn({field:a,aggregate:"min"},{forAs:!0})]),i[a].max=new Set([gn({field:a,aggregate:"max"},{forAs:!0})]))):rl(r,n,e,t)}),r.size+V(i).length===0?null:new ol(e,r,i)):null}static makeFromTransform(e,t){const n=new Set,i={};for(const e of t.aggregate){const{op:t,field:n,as:r}=e;t&&("count"===t?(i["*"]=i["*"]||{},i["*"].count=new Set([r||gn(e,{forAs:!0})])):(i[n]=i[n]||{},i[n][t]=new Set([r||gn(e,{forAs:!0})])))}for(const e of t.groupby||[])n.add(e);return n.size+V(i).length===0?null:new ol(e,n,i)}merge(e){return function(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}(this.dimensions,e.dimensions)?(function(e,t){for(const n of V(t)){const i=t[n];for(const t of V(i))n in e?e[n][t]=new Set([...e[n][t]||[],...i[t]]):e[n]={[t]:i[t]}}}(this.measures,e.measures),!0):(function(...e){jt.debug.apply(jt,arguments)}("different dimensions, cannot merge"),!1)}addDimensions(e){e.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...V(this.measures)])}producedFields(){const e=new Set;for(const t of V(this.measures))for(const n of V(this.measures[t])){const i=this.measures[t][n];0===i.size?e.add(`${n}_${t}`):i.forEach(e.add,e)}return e}hash(){return`Aggregate ${T({dimensions:this.dimensions,measures:this.measures})}`}assemble(){const e=[],t=[],n=[];for(const i of V(this.measures))for(const r of V(this.measures[i]))for(const o of this.measures[i][r])n.push(o),e.push(r),t.push("*"===i?null:ne(i));return{type:"aggregate",groupby:[...this.dimensions],ops:e,fields:t,as:n}}}function al(e,t,n){let i;i=function(e){return"as"in e}(e)?s(e.as)?[e.as,`${e.as}_end`]:[e.as[0],e.as[1]]:[gn(e,{forAs:!0}),gn(e,{binSuffix:"end",forAs:!0})];const r=On(t,void 0)||{},o=function(e,t){return`${Tn(e)}_${t}`}(r,e.field),{signal:a,extentSignal:u}=function(e,t){return{signal:e.getName(`${t}_bins`),extentSignal:e.getName(`${t}_extent`)}}(n,o);return{key:o,binComponent:Object.assign({bin:r,field:e.field,as:i},a?{signal:a}:{},u?{extentSignal:u}:{})}}class sl extends Uo{constructor(e,t){super(e),this.bins=t}clone(){return new sl(null,B(this.bins))}static makeFromEncoding(e,t){const n=t.reduceFieldDef((e,n,i)=>{if(dn(n)&&zn(n.bin)){const{key:r,binComponent:o}=al(n,n.bin,t);e[r]=Object.assign({},o,e[r],function(e,t,n,i){if(_n(t,n)){const r=Kl(e)&&(e.axis(n)||e.legend(n))||{},o=gn(t,{expr:"datum"}),a=gn(t,{expr:"datum",binSuffix:"end"});return{formulaAs:gn(t,{binSuffix:"range",forAs:!0}),formula:jo(o,a,r.format,i)}}return{}}(t,n,i,t.config))}return e},{});return 0===V(n).length?null:new sl(e,n)}static makeFromTransform(e,t,n){const{key:i,binComponent:r}=al(t,t.bin,n);return new sl(e,{[i]:r})}merge(e,t){for(const n of V(e.bins))n in this.bins?t.renameSignal(e.bins[n].signal,this.bins[n].signal):this.bins[n]=e.bins[n];for(const t of e.children)e.removeChild(t),t.parent=this;e.remove()}producedFields(){return new Set(M(Y(this.bins).map(e=>e.as)))}dependentFields(){return new Set(Y(this.bins).map(e=>e.field))}hash(){return`Bin ${T(this.bins)}`}assemble(){return M(Y(this.bins).map(e=>{const t=[],n=Object.assign({type:"bin",field:e.field,as:e.as,signal:e.signal},e.bin);return!e.bin.extent&&e.extentSignal&&(t.push({type:"extent",field:e.field,signal:e.extentSignal}),n.extent={signal:e.extentSignal}),t.push(n),e.formula&&t.push({type:"formula",expr:e.formula,as:e.formulaAs}),t}))}}class ul extends Uo{constructor(e,t,n,i){super(e),this.model=t,this.name=n,this.data=i;for(const e of ft){const n=t.facet[e];if(n){const{bin:i,sort:r}=n;this[e]=Object.assign({name:t.getName(`${e}_domain`),fields:[gn(n),...zn(i)?[gn(n,{binSuffix:"end"})]:[]]},xo(r)?{sortField:r}:o(r)?{sortIndexField:Bs(n,e)}:{})}}this.childModel=t.child}hash(){let e="Facet";for(const t of ft)this[t]&&(e+=` ${t.charAt(0)}:${T(this[t])}`);return e}get fields(){const e=[];for(const t of ft)this[t]&&this[t].fields&&e.push(...this[t].fields);return e}getSource(){return this.name}getChildIndependentFieldsWithStep(){const e={};for(const t of["x","y"]){const n=this.childModel.component.scales[t];if(n&&!n.merged){const i=n.get("type"),r=n.get("range");if(Ti(i)&&ro(r)){const n=Tl(zl(this.childModel,t));n?e[t]=n:_t("Unknown field for ${channel}.  Cannot calculate view size.")}}}return e}assembleRowColumnHeaderData(e,t,n){const i={row:"y",column:"x"}[e],r=[],o=[],a=[];n&&n[i]&&(t?(r.push(`distinct_${n[i]}`),o.push("max")):(r.push(n[i]),o.push("distinct")),a.push(`distinct_${n[i]}`));const{sortField:s,sortIndexField:u}=this[e];if(s){const{op:e=vo,field:t}=s;r.push(t),o.push(e),a.push(gn(s,{forAs:!0}))}else u&&(r.push(u),o.push("max"),a.push(u));return{name:this[e].name,source:t||this.data,transform:[Object.assign({type:"aggregate",groupby:this[e].fields},r.length?{fields:r,ops:o,as:a}:{})]}}assembleFacetHeaderData(e){const{columns:t}=this.model.layout,{layoutHeaders:n}=this.model.component,i=[],r={};for(const e of Ts){for(const t of zs){const i=n[e]&&n[e][t]||[];for(const t of i)if(t.axes&&t.axes.length>0){r[e]=!0;break}}if(r[e]){const n=`length(data("${this.facet.name}"))`,r="row"===e?t?{signal:`ceil(${n} / ${t})`}:1:t?{signal:`min(${n}, ${t})`}:{signal:n};i.push({name:`${this.facet.name}_${e}`,transform:[{type:"sequence",start:0,stop:r}]})}}const{row:o,column:a}=r;return(o||a)&&i.unshift(this.assembleRowColumnHeaderData("facet",null,e)),i}assemble(){const e=[];let t=null;const n=this.getChildIndependentFieldsWithStep(),{column:i,row:r,facet:o}=this;if(i&&r&&(n.x||n.y)){t=`cross_${this.column.name}_${this.row.name}`;const i=[].concat(n.x||[],n.y||[]),r=i.map(()=>"distinct");e.push({name:t,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:i,ops:r}]})}for(const i of[Te,_e])this[i]&&e.push(this.assembleRowColumnHeaderData(i,t,n));if(o){const t=this.assembleFacetHeaderData(n);t&&e.push(...t)}return e}}class cl extends Uo{constructor(e,t,n){super(e),this.model=t,this.filter=n,this.expr=Yu(this.model,this.filter,this),this._dependentFields=Os(this.expr)}clone(){return new cl(null,this.model,B(this.filter))}dependentFields(){return this._dependentFields}assemble(){return{type:"filter",expr:this.expr}}hash(){return`Filter ${this.expr}`}}function ll(e){return"'"===e[0]&&"'"===e[e.length-1]||'"'===e[0]&&'"'===e[e.length-1]?e.slice(1,-1):e}class fl extends Uo{clone(){return new fl(null,B(this._parse))}constructor(e,t){super(e),this._parse=t}hash(){return`Parse ${T(this._parse)}`}static makeExplicit(e,t,n){let i={};const r=t.data;return r&&r.format&&r.format.parse&&(i=r.format.parse),this.makeWithAncestors(e,i,{},n)}static makeImplicitFromFilterTransform(e,t,n){const i={};return function e(t,n){if(k(t))e(t.not,n);else if(S(t))for(const i of t.and)e(i,n);else if(D(t))for(const i of t.or)e(i,n);else n(t)}(t.filter,e=>{if(Mr(e)){let t=null;jr(e)?t=e.equal:Pr(e)?t=e.range[0]:Ur(e)&&(t=(e.oneOf||e.in)[0]),t&&(Rt(t)?i[e.field]="date":v(t)?i[e.field]="number":s(t)&&(i[e.field]="string")),e.timeUnit&&(i[e.field]="date")}}),0===V(i).length?null:this.makeWithAncestors(e,{},i,n)}static makeImplicitFromEncoding(e,t,n){const i={};function r(e){var t;Bn(e)?i[e.field]="date":function(e){return"quantitative"===e.type||zn(e.bin)}(e)&&((t=e.aggregate)&&R(["min","max"],t))?i[e.field]="number":re(e.field)>1?e.field in i||(i[e.field]="flatten"):mn(e)&&xo(e.sort)&&re(e.sort.field)>1&&(e.sort.field in i||(i[e.sort.field]="flatten"))}return(Kl(t)||ef(t))&&t.forEachFieldDef((e,n)=>{if(dn(e))r(e);else{const i=bt(n);if(i===n)throw new Error(`Non-secondary channel ${n} must have type in its field definition ${JSON.stringify(e)}`);{const n=t.fieldDef(i);r(Object.assign({},e,{type:n.type}))}}}),this.makeWithAncestors(e,{},i,n)}static makeWithAncestors(e,t,n,i){for(const e of V(n)){const t=i.getWithExplicit(e);void 0!==t.value&&(t.explicit||t.value===n[e]||"derived"===t.value||"flatten"===n[e]?delete n[e]:_t(Tt.differentParse(e,n[e],t.value)))}for(const e of V(t)){const n=i.get(e);void 0!==n&&(n===t[e]?delete t[e]:_t(Tt.differentParse(e,t[e],n)))}const r=new Dc(t,n);i.copyAll(r);const o={};for(const e of V(r.combine())){const t=r.get(e);null!==t&&(o[e]=t)}return 0===V(o).length||i.parseNothing?null:new fl(e,o)}get parse(){return this._parse}merge(e){this._parse=Object.assign({},this._parse,e.parse),e.remove()}assembleFormatParse(){const e={};for(const t of V(this._parse)){const n=this._parse[t];1===re(t)&&(e[t]=n)}return e}producedFields(){return new Set(V(this._parse))}dependentFields(){return new Set(V(this._parse))}assembleTransforms(e=!1){return V(this._parse).filter(t=>!e||re(t)>1).map(e=>{const t=function(e,t){const n=te(e);if("number"===t)return`toNumber(${n})`;if("boolean"===t)return`toBoolean(${n})`;if("string"===t)return`toString(${n})`;if("date"===t)return`toDate(${n})`;if("flatten"===t)return n;if(0===t.indexOf("date:"))return`timeParse(${n},'${ll(t.slice(5,t.length))}')`;if(0===t.indexOf("utc:"))return`utcParse(${n},'${ll(t.slice(4,t.length))}')`;return _t(Tt.unrecognizedParse(t)),null}(e,this._parse[e]);return t?{type:"formula",expr:t,as:ie(e)}:null}).filter(e=>null!==e)}}class dl extends Uo{constructor(e,t){super(e),this.transform=t}clone(){return new dl(null,B(this.transform))}addDimensions(e){this.transform.groupby=q(this.transform.groupby.concat(e),e=>e)}dependentFields(){const e=new Set;return this.transform.groupby.forEach(t=>e.add(t)),this.transform.joinaggregate.map(e=>e.field).filter(e=>void 0!==e).forEach(t=>e.add(t)),e}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(e){return e.as||gn(e)}hash(){return`JoinAggregateTransform ${T(this.transform)}`}assemble(){const e=[],t=[],n=[];for(const i of this.transform.joinaggregate)t.push(i.op),n.push(this.getDefaultName(i)),e.push(void 0===i.field?null:i.field);const i=this.transform.groupby;return Object.assign({type:"joinaggregate",as:n,ops:t,fields:e},void 0!==i?{groupby:i}:{})}}class pl extends Uo{clone(){return new pl(null,B(this._stack))}constructor(e,t){super(e),this._stack=t}static makeFromTransform(e,t){const{stack:n,groupby:i,as:r,offset:a="zero"}=t,u=[],c=[];if(void 0!==t.sort)for(const e of t.sort)u.push(e.field),c.push(oe(e.order,"ascending"));const l={field:u,order:c};let f;return f=function(e){return o(e)&&e.every(e=>s(e))&&e.length>1}(r)?r:s(r)?[r,r+"_end"]:[t.stack+"_start",t.stack+"_end"],new pl(e,{stackField:n,groupby:i,offset:a,sort:l,facetby:[],as:f})}static makeFromEncoding(e,t){const n=t.stack,{encoding:i}=t;if(!n)return null;let r;if(n.groupbyChannel){r=Dn(i[n.groupbyChannel])}const a=function(e){return e.stack.stackBy.reduce((e,t)=>{const n=gn(t.fieldDef);return n&&e.push(n),e},[])}(t),s=t.encoding.order;let u;return u=o(s)||fn(s)?To(s):a.reduce((e,t)=>(e.field.push(t),e.order.push("descending"),e),{field:[],order:[]}),new pl(e,{dimensionFieldDef:r,stackField:t.vgField(n.fieldChannel),facetby:[],stackby:a,sort:u,offset:n.offset,impute:n.impute,as:[t.vgField(n.fieldChannel,{suffix:"start",forAs:!0}),t.vgField(n.fieldChannel,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(e){this._stack.facetby.push(...e)}dependentFields(){const e=new Set;e.add(this._stack.stackField),this.getGroupbyFields().forEach(e.add),this._stack.facetby.forEach(e.add);const t=this._stack.sort.field;return o(t)?t.forEach(e.add):e.add(t),e}producedFields(){return new Set(this._stack.as)}hash(){return`Stack ${T(this._stack)}`}getGroupbyFields(){const{dimensionFieldDef:e,impute:t,groupby:n}=this._stack;return e?e.bin?t?[gn(e,{binSuffix:"mid"})]:[gn(e,{}),gn(e,{binSuffix:"end"})]:[gn(e)]:n||[]}assemble(){const e=[],{facetby:t,dimensionFieldDef:n,stackField:i,stackby:r,sort:o,offset:a,impute:s,as:u}=this._stack;return s&&n&&(n.bin&&e.push({type:"formula",expr:"("+gn(n,{expr:"datum"})+"+"+gn(n,{expr:"datum",binSuffix:"end"})+")/2",as:gn(n,{binSuffix:"mid",forAs:!0})}),e.push({type:"impute",field:i,groupby:[...r,...t],key:gn(n,{binSuffix:"mid"}),method:"value",value:0})),e.push({type:"stack",groupby:[...this.getGroupbyFields(),...t],field:i,sort:o,as:u,offset:a}),e}}class hl extends Uo{constructor(e,t){super(e),this.transform=t}clone(){return new hl(null,B(this.transform))}addDimensions(e){this.transform.groupby=q(this.transform.groupby.concat(e),e=>e)}dependentFields(){const e=new Set;return this.transform.groupby.forEach(t=>e.add(t)),this.transform.sort.forEach(t=>e.add(t.field)),this.transform.window.map(e=>e.field).filter(e=>void 0!==e).forEach(t=>e.add(t)),e}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(e){return e.as||gn(e)}hash(){return`WindowTransform ${T(this.transform)}`}assemble(){const e=[],t=[],n=[],i=[];for(const r of this.transform.window)t.push(r.op),n.push(this.getDefaultName(r)),i.push(void 0===r.param?null:r.param),e.push(void 0===r.field?null:r.field);const r=this.transform.frame,o=this.transform.groupby;if(r&&null===r[0]&&null===r[1]&&t.every(e=>Oe(e)))return Object.assign({type:"joinaggregate",as:n,ops:t,fields:e},void 0!==o?{groupby:o}:{});const a=[],s=[];if(void 0!==this.transform.sort)for(const e of this.transform.sort)a.push(e.field),s.push(e.order||"ascending");const u={field:a,order:s},c=this.transform.ignorePeers;return Object.assign({type:"window",params:i,as:n,ops:t,fields:e,sort:u},void 0!==c?{ignorePeers:c}:{},void 0!==o?{groupby:o}:{},void 0!==r?{frame:r}:{})}}class ml extends nl{run(e){const t=e.parent;if(e instanceof fl){if(t instanceof Kc)return this.flags;if(t.numChildren()>1)return this.setContinue(),this.flags;if(t instanceof fl)this.setMutated(),t.merge(e);else{if(G(t.producedFields(),e.dependentFields()))return this.setContinue(),this.flags;this.setMutated(),e.swapWithParent()}}return this.setContinue(),this.flags}}class gl extends il{mergeNodes(e,t){const n=t.shift();for(const i of t)e.removeChild(i),i.parent=n,i.remove()}run(e){const t=e.children.map(e=>e.hash()),n={};for(let i=0;i<t.length;i++)void 0===n[t[i]]?n[t[i]]=[e.children[i]]:n[t[i]].push(e.children[i]);for(const t of V(n))n[t].length>1&&(this.setMutated(),this.mergeNodes(e,n[t]));for(const t of e.children)this.run(t);return this.mutatedFlag}}class yl extends nl{run(e){return e instanceof Mo||e.numChildren()>0||e instanceof ul?this.flags:(this.setMutated(),e.remove(),this.flags)}}class bl extends nl{constructor(){super(...arguments),this.fields=new Set}run(e){if(this.setContinue(),e instanceof hu){const t=e.producedFields();W(t,this.fields)?(this.setMutated(),e.remove()):this.fields=new Set([...this.fields,...t])}return this.flags}reset(){this.fields.clear()}}function vl(e){if(e instanceof ul)if(1!==e.numChildren()||e.children[0]instanceof Mo){const n=e.model.component.data.main;!function e(t){if(t instanceof Mo&&t.type===Br&&1===t.numChildren()){const n=t.children[0];n instanceof ul||(n.swapWithParent(),e(t))}}(n);const i=(t=e,function e(n){if(!(n instanceof ul)){const i=n.clone();if(i instanceof Mo){const e=Fl+i.getSource();i.setSource(e),t.model.component.data.outputNodes[e]=i}else(i instanceof ol||i instanceof pl||i instanceof hl||i instanceof dl)&&i.addDimensions(t.fields);return M(n.children.map(e)).forEach(e=>e.parent=i),[i]}return M(n.children.map(e))}),r=M(e.children.map(i));for(const e of r)e.parent=n}else{const t=e.children[0];(t instanceof ol||t instanceof pl||t instanceof hl||t instanceof dl)&&t.addDimensions(e.fields),t.swapWithParent(),vl(e)}else e.children.map(vl);var t}class xl extends il{run(e){e instanceof Mo&&!e.isRequired()&&(this.setMutated(),e.remove());for(const t of e.children)this.run(t);return this.mutatedFlag}}class Al extends nl{run(e){const t=e.parent,n=t.children.filter(e=>e instanceof fl);if(n.length>1){const e={};for(const t of n){const n=t.parse;for(const t of V(n))void 0===e[t]?e[t]=n[t]:e[t]!==n[t]&&delete e[t]}if(0!==V(e).length){this.setMutated();const i=new fl(t,e);for(const r of n){for(const t of V(e))delete r.parse[t];t.removeChild(r),r.parent=i,0===V(r.parse).length&&r.remove()}}}return this.setContinue(),this.flags}}class wl extends nl{run(e){const t=e.parent,n=t.children.filter(e=>e instanceof ol),i={};for(const e of n){const t=T(V(e.groupBy).sort());t in i||(i[t]=[]),i[t].push(e)}for(const e of V(i)){const n=i[e];if(n.length>1){const e=n.pop();for(const i of n)e.merge(i)&&(t.removeChild(i),i.parent=e,i.remove(),this.setMutated())}}return this.setContinue(),this.flags}}class Cl extends nl{constructor(e){super(),this.model=e}run(e){const t=e.parent,n=!(t instanceof Kc||t instanceof cl||t instanceof fl),i=[],r=[];for(const e of t.children)e instanceof sl&&(n&&!G(t.producedFields(),e.dependentFields())?i.push(e):r.push(e));if(i.length>0){const e=i.pop();for(const t of i)e.merge(t,this.model);this.setMutated(),t instanceof sl?t.merge(e,this.model):e.swapWithParent()}if(r.length>1){const e=r.pop();for(const t of r)e.merge(t,this.model);this.setMutated()}return this.setContinue(),this.flags}}const Fl="scale_",El=5;function Dl(e){const t=[];return e.forEach(function e(n){0===n.numChildren()?t.push(n):n.children.forEach(e)}),t}function Sl(e){return e}function kl(e,t,n){return t.map(t=>{if(e instanceof nl){const n=e.optimizeNextFromLeaves(t);return e.reset(),n}return e.run(t)}).some(Sl)||n}function Ol(e,t){let n=e.sources,i=!1;return i=kl(new xl,n,i),n=n.filter(e=>e.numChildren()>0),i=kl(new yl,Dl(n),i),n=n.filter(e=>e.numChildren()>0),i=kl(new ml,Dl(n),i),i=kl(new Cl(t),Dl(n),i),i=kl(new bl,Dl(n),i),i=kl(new Al,Dl(n),i),i=kl(new wl,Dl(n),i),i=kl(new gl,n,i),e.sources=n,i}class $l{constructor(e){Object.defineProperty(this,"signal",{enumerable:!0,get:e})}static fromName(e,t){return new $l(()=>e(t))}}function Bl(e){Kl(e)?function(e){const t=e.specifiedScales,n=e.component.scales;V(n).forEach(i=>{const r=t[i],o=r?r.domain:void 0,a=function(e,t){const n=e.getScaleComponent(t).get("type"),i=function(e,t,n,i){if("unaggregated"===e){const{valid:e,reason:i}=_l(t,n);if(!e)return void _t(i)}else if(void 0===e&&i.useUnaggregatedDomain){const{valid:e}=_l(t,n);if(e)return"unaggregated"}return e}(e.scaleDomain(t),e.fieldDef(t),n,e.config.scale);i!==e.scaleDomain(t)&&(e.specifiedScales[t]=Object.assign({},e.specifiedScales[t],{domain:i}));if("x"===t&&e.channelHasField("x2"))return e.channelHasField("x")?Nl(n,i,e,"x").concat(Nl(n,i,e,"x2")):Nl(n,i,e,"x2");if("y"===t&&e.channelHasField("y2"))return e.channelHasField("y")?Nl(n,i,e,"y").concat(Nl(n,i,e,"y2")):Nl(n,i,e,"y2");return Nl(n,i,e,t)}(e,i),s=n[i];if(s.domains=a,Mi(o)&&s.set("domainRaw",{signal:ku+T(o)},!0),e.component.data.isFaceted){let t=e;for(;!ef(t)&&t.parent;)t=t.parent;const n=t.component.resolve.scale[i];if("shared"===n)for(const e of a)oo(e)&&(e.data=Fl+e.data.replace(Fl,""))}})}(e):function(e){for(const t of e.children)Bl(t);const t=e.component.scales;V(t).forEach(n=>{let i,r=null;for(const t of e.children){const e=t.component.scales[n];if(e){i=void 0===i?e.domains:i.concat(e.domains);const t=e.get("domainRaw");r&&t&&r.signal!==t.signal&&_t("The same selection must be used to override scale domains in a layered view."),r=t}}t[n].domains=i,r&&t[n].set("domainRaw",r,!0)})}(e)}function Nl(e,t,n,i){const r=n.fieldDef(i);if(t&&"unaggregated"!==t&&!Mi(t)){const{type:e,timeUnit:n}=r;return"temporal"===e||n?function(e,t,n){return e.map(e=>({signal:`{data: ${Nn(e,{timeUnit:n,type:t})}}`}))}(t,e,n):[t]}const o=n.stack;if(o&&i===o.fieldChannel){if("normalize"===o.offset)return[[0,1]];const e=n.requestDataName(Br);return[{data:e,field:n.vgField(i,{suffix:"start"})},{data:e,field:n.vgField(i,{suffix:"end"})}]}const s=St(i)?function(e,t,n){if(!Ti(n))return;const i=e.fieldDef(t),r=i.sort;if(Ao(r))return{op:"min",field:Bs(i,t),order:"ascending"};const o=null!==e.stack;if(xo(r))return jl(r,o);if(function(e){return!!e&&!!e.encoding}(r)){const{encoding:t,order:n}=r,{aggregate:i,field:a}=e.fieldDef(t),s={op:i,field:a,order:n};return jl(s,o)}if("descending"===r)return{op:"min",field:e.vgField(t),order:"descending"};if(R(["ascending",void 0],r))return!0;return}(n,i,e):void 0;if("unaggregated"===t){const e=n.requestDataName(Br),{field:t}=r;return[{data:e,field:gn({field:t,aggregate:"min"})},{data:e,field:gn({field:t,aggregate:"max"})}]}if(zn(r.bin)){if(Ti(e))return"bin-ordinal"===e?[]:[{data:J(s)?n.requestDataName(Br):n.requestDataName(Nr),field:n.vgField(i,_n(r,i)?{binSuffix:"range"}:{}),sort:!0!==s&&a(s)?s:{field:n.vgField(i,{}),op:"min"}}];if(zn(r.bin)){const e=n.getName(gn(r,{suffix:"bins"}));return[new $l(()=>{const t=n.getSignalName(e);return`[${t}.start, ${t}.stop]`})]}return[{data:n.requestDataName(Br),field:n.vgField(i,{})}]}return s?[{data:J(s)?n.requestDataName(Br):n.requestDataName(Nr),field:n.vgField(i),sort:s}]:[{data:n.requestDataName(Br),field:n.vgField(i)}]}function jl(e,t){const{op:n,field:i,order:r}=e;return Object.assign({op:n||(t?"sum":vo)},i?{field:ne(i)}:{},r?{order:r}:{})}function _l(e,t){return e.aggregate?je[e.aggregate]?"quantitative"===e.type&&"log"===t?{valid:!1,reason:Tt.unaggregatedDomainWithLogScale(e)}:{valid:!0}:{valid:!1,reason:Tt.unaggregateDomainWithNonSharedDomainOp(e.aggregate)}:{valid:!1,reason:Tt.unaggregateDomainHasNoEffectForRawField(e)}}function Tl(e){if(oo(e)&&s(e.field))return e.field;if(function(e){return!o(e)&&"fields"in e&&!("data"in e)}(e)){let t;for(const n of e.fields)if(oo(n)&&s(n.field))if(t){if(t!==n.field)return _t("Detected faceted independent scales that union domain of multiple fields from different data sources.  We will use the first field.  The result view size may be incorrect."),t}else t=n.field;return _t("Detected faceted independent scales that union domain of identical fields from different source detected.  We will assume that this is the same field from a different fork of the same data source.  However, if this is not case, the result view size maybe incorrect."),t}if(function(e){return!o(e)&&"fields"in e&&"data"in e}(e)){_t("Detected faceted independent scales that union domain of multiple fields from the same data source.  We will use the first field.  The result view size may be incorrect.");const t=e.fields[0];return s(t)?t:void 0}}function zl(e,t){return function(e){const t=q(e.map(e=>oo(e)?Se(e,["sort"]):e),T),n=q(e.map(e=>{if(oo(e)){const t=e.sort;return void 0===t||J(t)||("count"===t.op&&delete t.field,"ascending"===t.order&&delete t.order),t}}).filter(e=>void 0!==e),T);if(0===t.length)return;if(1===t.length){const t=e[0];if(oo(t)&&n.length>0){let e=n[0];return n.length>1&&(_t(Tt.MORE_THAN_ONE_SORT),e=!0),Object.assign({},t,{sort:e})}return t}const i=q(n.map(e=>J(e)?e:"count"===e.op?e:(_t(Tt.domainSortDropped(e)),!0)),T);let r;1===i.length?r=i[0]:i.length>1&&(_t(Tt.MORE_THAN_ONE_SORT),r=!0);const o=q(e.map(e=>oo(e)?e.data:null),e=>e);if(1===o.length&&null!==o[0])return Object.assign({data:o[0],fields:t.map(e=>e.field)},r?{sort:r}:{});return Object.assign({fields:t},r?{sort:r}:{})}(e.component.scales[t].domains.map(t=>(oo(t)&&(t.data=e.lookupDataSource(t.data)),t)))}function Rl(e){return V(e.component.scales).reduce((t,n)=>{const i=e.component.scales[n];if(i.merged)return t;const r=i.combine();let{domainRaw:o}=r;const{name:a,type:s,domainRaw:c,range:l}=r,f=Se(r,["name","type","domainRaw","range"]),d=function(e,t,n){if(("x"===n||"y"===n)&&ro(e))return{step:{signal:t+"_step"}};return e}(r.range,a,n);o&&function(e){return e.signal.indexOf(ku)>=0}(o)&&(o=function(e,t){const n=JSON.parse(t.signal.replace(ku,"")),i=X(n.selection),r=n.encoding;let o=n.field,a=e.component.selection&&e.component.selection[i];if(!a){if(a=e.getSelectionComponent(i,n.selection),r||o){if(r&&!o){const e=a.project.filter(e=>e.channel===r);!e.length||e.length>1?(o=a.project[0].field,_t((e.length?"Multiple ":"No ")+`matching ${u(r)} encoding found for selection ${u(n.selection)}. `+`Using "field": ${u(o)}.`)):o=e[0].field}}else o=a.project[0].field,a.project.length>1&&_t('A "field" or "encoding" must be specified when using a selection as a scale domain. '+`Using "field": ${u(o)}.`);return{signal:te(o,i)}}return _t('Use "bind": "scales" to setup a binding for scales and selections within the same view.'),{signal:"null"}}(e,o));const p=zl(e,n);return t.push(Object.assign({name:a,type:s},p?{domain:p}:{},o?{domainRaw:o}:{},{range:d},f)),t},[])}class Pl extends Dc{constructor(e,t){super({},{name:e}),this.merged=!1,this.domains=[],this.setWithExplicit("type",t)}get domainDefinitelyIncludesZero(){if(!1!==this.get("zero"))return!0;const e=this.domains;return!!o(e)&&P(e,e=>o(e)&&2===e.length&&e[0]<=0&&e[1]>=0)}}const Ul=["range","rangeStep","scheme"];function Ml(e){return"x"===e?"width":"y"===e?"height":void 0}function Ll(e){const t=e.component.scales;Dt.forEach(n=>{const i=t[n];if(!i)return;const r=e.getScaleComponent(n),a=e.specifiedScales[n],s=e.fieldDef(n),u=Ml(n);let c=u?!!e.component.layoutSize.get(u):void 0;const l=r.get("type"),f=R(["point","band"],l)||!!a.rangeStep;u&&e.fit&&!c&&f&&(_t(Tt.CANNOT_FIX_RANGE_STEP_WITH_FIT),c=!0);const d=function(e){const t=[];for(const n of wt){const i=Il(e,n);void 0!==i&&t.push(i)}return t}(e),p=function(e,t,n,i,r,a,s,u,c,l,f){const d=c||null===r.rangeStep;for(const t of Ul)if(void 0!==r[t]){const i=Ii(n,t),o=qi(e,t);if(i)if(o)_t(o);else switch(t){case"range":return Sc(r[t]);case"scheme":return Sc(ql(r[t]));case"rangeStep":const n=r[t];if(null!==n){if(!c)return Sc({step:n});_t(Tt.rangeStepDropped(e))}}else _t(Tt.scalePropertyNotWorkWithScaleType(n,t,e))}return kc(function(e,t,n,i,r,a,s,u,c,l,f){switch(e){case Re:case Pe:if(R(["point","band"],n)&&!l)if(e===Re&&"text"===s){if(r.scale.textXRangeStep)return{step:r.scale.textXRangeStep}}else if(r.scale.rangeStep)return{step:r.scale.rangeStep};return e===Pe&&zi(n)?[$l.fromName(t,u),0]:[0,$l.fromName(t,u)];case Qe:const d=function(e,t,n){if(t)return 0;switch(e){case"bar":case"tick":return n.scale.minBandSize;case"line":case"trail":case"rule":return n.scale.minStrokeWidth;case"text":return n.scale.minFontSize;case"point":case"square":case"circle":return n.scale.minSize}throw new Error(Tt.incompatibleChannel("size",e))}(s,a,r),p=function(e,t,n){const i=n.scale;switch(e){case"bar":case"tick":if(void 0!==n.scale.maxBandSize)return n.scale.maxBandSize;const r=Hl(t,n.scale);return v(r)?r-1:new $l(()=>`${r.signal} - 1`);case"line":case"trail":case"rule":return n.scale.maxStrokeWidth;case"text":return n.scale.maxFontSize;case"point":case"square":case"circle":if(n.scale.maxSize)return n.scale.maxSize;const o=Hl(t,i);return v(o)?Math.pow(Wl*o,2):new $l(()=>`pow(${Wl} * ${o.signal}, 2)`)}throw new Error(Tt.incompatibleChannel("size",e))}(s,c,r);return Pi(n)?function(e,t,n){const i=()=>{const i=io(t)?t.signal:t,r=`(${i} - ${e}) / (${n} - 1)`;return`sequence(${e}, ${t} + ${r}, ${r})`};return io(t)?new $l(i):{signal:i()}}(d,p,function(e,t,n,i){switch(e){case"quantile":return t.scale.quantileCount;case"quantize":return t.scale.quantizeCount;case"threshold":return void 0!==n&&o(n)?n.length+1:(_t(Tt.domainRequiredForThresholdScale(i)),3)}}(n,r,f,e)):[d,p];case Ke:return[r.scale.minStrokeWidth,r.scale.maxStrokeWidth];case Ye:return"symbol";case He:case Ge:case Ve:return"ordinal"===n?"nominal"===i?"category":"ordinal":"rect"===s||"geoshape"===s?"heatmap":"ramp";case Je:case Xe:case Ze:return[r.scale.minOpacity,r.scale.maxOpacity]}throw new Error(`Scale range undefined for channel ${e}`)}(e,t,n,i,a,s,u,l,f,d,r.domain))}(n,e.getSignalName.bind(e),l,s.type,a,e.config,i.get("zero"),e.mark,c,e.getName(u),d);i.setWithExplicit("range",p)})}function Il(e,t){const n=e.getScaleComponent(t);if(!n)return;const i=n.get("type"),r=e.fieldDef(t);if(Ti(i)){const e=n&&n.get("range");if(e&&ro(e)&&v(e.step))return e.step}else if(r&&r.bin&&zn(r.bin)){const n=e.getName(gn(r,{suffix:"bins"})),i=Ml(t),o=e.getName(i);return new $l(()=>{const t=e.getSignalName(n),i=`(${t}.stop - ${t}.start) / ${t}.step`;return`${e.getSignalName(o)} / (${i})`})}}function ql(e){return function(e){return e&&!!e.name}(e)?Object.assign({scheme:e.name},j(e,["name"])):{scheme:e}}const Wl=.95;function Hl(e,t){if(e.length>0){let t=1/0;for(const n of e)io(n)?t=void 0:void 0!==t&&n<t&&(t=n);return void 0!==t?t:new $l(()=>{return`min(${e.map(e=>io(e)?e.signal:e).join(", ")})`})}return t.rangeStep?t.rangeStep:21}function Gl(e,t){Kl(e)?function(e,t){const n=e.component.scales;V(n).forEach(i=>{const r=e.specifiedScales[i],a=n[i],s=e.getScaleComponent(i),u=e.fieldDef(i),c=e.config,l=r[t],f=s.get("type"),d=Ii(f,t),p=qi(i,t);if(void 0!==l&&(d?p&&_t(p):_t(Tt.scalePropertyNotWorkWithScaleType(f,t,i))),d&&void 0===p)if(void 0!==l)a.copyKeyFromObject(t,r);else{const n=function(e,t,n,i,r,a,s,u,c,l){const f=l.scale;switch(e){case"bins":return function(e,t,n){const i=t.bin;if(zn(i)){const n=e.getName(gn(t,{suffix:"bins"}));return new $l(()=>e.getSignalName(n))}if(Rn(i)&&Pn(i)&&void 0!==i.step)return{step:i.step};return}(t,i);case"interpolate":return function(e){if(R([He,Ge,Ve],e))return"hcl";return}(n);case"nice":return function(e,t,n){if(n.bin||R([Fi.TIME,Fi.UTC],e))return;return!!R([Re,Pe],t)||void 0}(r,n,i);case"padding":return function(e,t,n,i,r,o){if(R([Re,Pe],e)){if(Ri(t)){if(void 0!==n.continuousPadding)return n.continuousPadding;const{type:t,orient:a}=r;if("bar"===t&&!i.bin&&("vertical"===a&&"x"===e||"horizontal"===a&&"y"===e))return o.continuousBandSize}if(t===Fi.POINT)return n.pointPadding}return}(n,r,f,i,c,l.bar);case"paddingInner":return function(e,t,n,i){if(void 0!==e)return;if(R([Re,Pe],t)){const{bandPaddingInner:e,barBandPaddingInner:t,rectBandPaddingInner:r}=i;return oe(e,"bar"===n?t:r)}return}(a,n,c.type,f);case"paddingOuter":return function(e,t,n,i,r,o){if(void 0!==e)return;if(R([Re,Pe],t)&&n===Fi.BAND){const{bandPaddingOuter:e,barBandPaddingOuter:t,rectBandPaddingOuter:n}=o;return oe(e,"bar"===i?t:n,r/2)}return}(a,n,r,c.type,s,f);case"reverse":return function(e,t){if(zi(e)&&"descending"===t)return!0;return}(r,i.sort);case"zero":return function(e,t,n,i,r){if(n&&"unaggregated"!==n&&zi(r)){if(o(n)){const e=n[0],t=n[n.length-1];if(e<=0&&t>=0)return!0}return!1}if("size"===e&&"quantitative"===t.type&&!Pi(r))return!0;if(!t.bin&&R([Re,Pe],e)){const{orient:t,type:n}=i;return!R(["bar","area","line","trail"],n)||!("horizontal"===t&&"y"===e||"vertical"===t&&"x"===e)}return!1}(n,i,u,c,r)}return f[e]}(t,e,i,u,s.get("type"),s.get("padding"),s.get("paddingInner"),r.domain,e.markDef,c);void 0!==n&&a.set(t,n,!1)}})}(e,t):Yl(e,t)}function Vl(e){Kl(e)?Ll(e):Yl(e,"range")}function Yl(e,t){const n=e.component.scales;for(const n of e.children)"range"===t?Vl(n):Gl(n,t);V(n).forEach(i=>{let r;for(const n of e.children){const e=n.component.scales[i];if(e){r=Bc(r,e.getWithExplicit(t),t,"scale",Oc((e,n)=>{switch(t){case"range":return e.step&&n.step?e.step-n.step:0}return 0}))}}n[i].setWithExplicit(t,r)})}function Ql(e,t,n,i,r){const o=function(e,t,n,i,r){switch(t.type){case"nominal":case"ordinal":if(ct(e)||"discrete"===Ot(e))return"shape"===e&&"ordinal"===t.type&&_t(Tt.discreteChannelCannotEncode(e,"ordinal")),"ordinal";if(R(["x","y"],e)){if(R(["rect","bar","rule"],n))return"band";if("bar"===n)return"band"}return"point";case"temporal":return ct(e)?"time":"discrete"===Ot(e)?(_t(Tt.discreteChannelCannotEncode(e,"temporal")),"ordinal"):"time";case"quantitative":return ct(e)?zn(t.bin)?"bin-ordinal":"linear":"discrete"===Ot(e)?(_t(Tt.discreteChannelCannotEncode(e,"quantitative")),"ordinal"):"linear";case"geojson":return}throw new Error(Tt.invalidFieldType(t.type))}(t,n,i),{type:a}=e;return St(t)?void 0!==a?Hi(t,a)?Wi(a,n.type)?a:(_t(Tt.scaleTypeNotWorkWithFieldDef(a,o)),o):(_t(Tt.scaleTypeNotWorkWithChannel(t,a,o)),o):o:null}function Jl(e){Kl(e)?e.component.scales=function(e){const{encoding:t,config:n,mark:i}=e;return Dt.reduce((r,o)=>{let a,s;const u=t[o];if(fn(u)&&i===ve&&o===Ye&&u.type===sn)return r;if(fn(u)?(a=u,s=u.scale):ln(u)&&(a=u.condition,s=u.condition.scale),a&&null!==s&&!1!==s){const t=Ql(s=s||{},o,a,i,n.scale);r[o]=new Pl(e.scaleName(o+"",!0),{value:t,explicit:s.type===t})}return r},{})}(e):e.component.scales=function(e){const t=e.component.scales={},n={},i=e.component.resolve;for(const t of e.children)Jl(t),V(t.component.scales).forEach(r=>{if(i.scale[r]=i.scale[r]||Fc(r,e),"shared"===i.scale[r]){const e=n[r],o=t.component.scales[r].getWithExplicit("type");e?Si(e.value,o.value)?n[r]=Bc(e,o,"type","scale",Xl):(i.scale[r]="independent",delete n[r]):n[r]=o}});return V(n).forEach(i=>{const r=e.scaleName(i,!0),o=n[i];t[i]=new Pl(r,o);for(const t of e.children){const e=t.component.scales[i];e&&(t.renameScale(e.get("name"),r),e.merged=!0)}}),t}(e)}const Xl=Oc((e,t)=>Oi(e)-Oi(t));class Zl{constructor(){this.nameMap={}}rename(e,t){this.nameMap[e]=t}has(e){return void 0!==this.nameMap[e]}get(e){for(;this.nameMap[e]&&e!==this.nameMap[e];)e=this.nameMap[e];return e}}function Kl(e){return e&&"unit"===e.type}function ef(e){return e&&"facet"===e.type}function tf(e){return e&&"repeat"===e.type}function nf(e){return e&&"concat"===e.type}function rf(e){return e&&"layer"===e.type}class of{constructor(e,t,n,i,r,a,u,c){this.type=t,this.parent=n,this.config=r,this.repeater=a,this.view=c,this.children=[],this.correctDataNames=(e=>(e.from&&e.from.data&&(e.from.data=this.lookupDataSource(e.from.data)),e.from&&e.from.facet&&e.from.facet.data&&(e.from.facet.data=this.lookupDataSource(e.from.facet.data)),e)),this.parent=n,this.config=r,this.repeater=a,this.name=e.name||i,this.title=s(e.title)?{text:e.title}:e.title,this.scaleNameMap=n?n.scaleNameMap:new Zl,this.projectionNameMap=n?n.projectionNameMap:new Zl,this.signalNameMap=n?n.signalNameMap:new Zl,this.data=e.data,this.description=e.description,this.transforms=(e.transform||[]).map(e=>Wr(e)?{filter:O(e.filter,qr)}:e),this.layout=Ee(e)||cr(e)?{}:function(e,t,n){const i=n[t],r={},{spacing:a,columns:s}=i;void 0!==a&&(r.spacing=a),void 0!==s&&(Wt(e)&&!qt(e.facet)||Ki(e)&&o(e.repeat)||Ji(e))&&(r.columns=s);for(const t of er)if(void 0!==e[t])if("spacing"===t){const n=e[t];r[t]=v(n)?n:{row:n.row||a,column:n.column||a}}else r[t]=e[t];return r}(e,t,r),this.component={data:{sources:n?n.component.data.sources:[],outputNodes:n?n.component.data.outputNodes:{},outputNodeRefCounts:n?n.component.data.outputNodeRefCounts:{},isFaceted:Wt(e)||n&&n.component.data.isFaceted&&!e.data},layoutSize:new Dc,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:Object.assign({scale:{},axis:{},legend:{}},u?B(u):{}),selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}initSize(e){const{width:t,height:n}=e;t&&this.component.layoutSize.set("width",t,!0),n&&this.component.layoutSize.set("height",n,!0)}parse(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSizeSignal(),this.parseSelections(),this.parseProjection(),this.parseData(),this.parseAxesAndHeaders(),this.parseLegends(),this.parseMarkGroup()}parseScale(){!function(e){Jl(e),Bl(e);for(const t of Li)Gl(e,t);Vl(e)}(this)}parseProjection(){Zc(this)}renameTopLevelLayoutSizeSignal(){"width"!==this.getName("width")&&this.renameSignal(this.getName("width"),"width"),"height"!==this.getName("height")&&this.renameSignal(this.getName("height"),"height")}parseLegends(){Ic(this)}assembleGroupStyle(){if("unit"===this.type||"layer"===this.type)return this.view&&this.view.style||"cell"}assembleEncodeFromView(e){const t=Se(e,["style"]),n={};for(const e in t)if(t.hasOwnProperty(e)){const i=t[e];void 0!==i&&(n[e]={value:i})}return n}assembleGroupEncodeEntry(e){let t=void 0;return this.view&&(t=this.assembleEncodeFromView(this.view)),e||"unit"!==this.type&&"layer"!==this.type?t:Object.assign({width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")},t||{})}assembleLayout(){if(!this.layout)return;const e=this.layout,{spacing:t}=e,n=Se(e,["spacing"]),{component:i,config:r}=this,o=function(e,t){const n={};for(const i of ft){const r=e[i];if(r&&r.facetFieldDef){const{titleAnchor:e,titleOrient:o}=_s(["titleAnchor","titleOrient"],r.facetFieldDef,t,i),a=Ns(i,o),s=Hs(e,a);void 0!==s&&(n[a]=s)}}return V(n).length>0?n:void 0}(i.layoutHeaders,r);return Object.assign({padding:t},this.assembleDefaultLayout(),n,o?{titleBand:o}:{})}assembleDefaultLayout(){return{}}assembleHeaderMarks(){const{layoutHeaders:e}=this.component;let t=[];for(const n of ft)e[n].title&&t.push(Rs(this,n));for(const e of Ts)t=t.concat(Ms(this,e));return t}assembleAxes(){return function(e,t){const{x:n=[],y:i=[]}=e;return[...n.map(e=>po(e,"main",t)),...n.map(e=>po(e,"grid",t)),...i.map(e=>po(e,"main",t)),...i.map(e=>po(e,"grid",t))].filter(e=>e)}(this.component.axes,this.config)}assembleLegends(){return Vc(this)}assembleProjections(){return Yc(this)}assembleTitle(){const e=this.title||{},{encoding:t}=e,n=Se(e,["encoding"]),i=Object.assign({},tr(this.config.title).nonMark,n,t?{encode:{update:t}}:{});if(i.text)return R(["unit","layer"],this.type)?R(["middle",void 0],i.anchor)&&(i.frame=i.frame||"group"):i.anchor=i.anchor||"start",V(i).length>0?i:void 0}assembleGroup(e=[]){const t={};(e=e.concat(this.assembleSignals())).length>0&&(t.signals=e);const n=this.assembleLayout();n&&(t.layout=n),t.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());const i=!this.parent||ef(this.parent)?function e(t){return rf(t)||nf(t)||tf(t)?t.children.reduce((t,n)=>t.concat(e(n)),Rl(t)):Rl(t)}(this):[];i.length>0&&(t.scales=i);const r=this.assembleAxes();r.length>0&&(t.axes=r);const o=this.assembleLegends();return o.length>0&&(t.legends=o),t}hasDescendantWithFieldOnChannel(e){for(const t of this.children)if(Kl(t)){if(t.channelHasField(e))return!0}else if(t.hasDescendantWithFieldOnChannel(e))return!0;return!1}getName(e){return X((this.name?this.name+"_":"")+e)}requestDataName(e){const t=this.getName(e),n=this.component.data.outputNodeRefCounts;return n[t]=(n[t]||0)+1,t}getSizeSignalRef(e){if(ef(this.parent)){const t="width"===e?"x":"y",n=this.component.scales[t];if(n&&!n.merged){const e=n.get("type"),i=n.get("range");if(Ti(e)&&ro(i)){const e=n.get("name"),i=Tl(zl(this,t));if(i){return{signal:Js(e,n,gn({aggregate:"distinct",field:i},{expr:"datum"}))}}return _t("Unknown field for ${channel}.  Cannot calculate view size."),null}}}return{signal:this.signalNameMap.get(this.getName(e))}}lookupDataSource(e){const t=this.component.data.outputNodes[e];return t?t.getSource():e}getSignalName(e){return this.signalNameMap.get(e)}renameSignal(e,t){this.signalNameMap.rename(e,t)}renameScale(e,t){this.scaleNameMap.rename(e,t)}renameProjection(e,t){this.projectionNameMap.rename(e,t)}scaleName(e,t){return t?this.getName(e):gt(e)&&St(e)&&this.component.scales[e]||this.scaleNameMap.has(this.getName(e))?this.scaleNameMap.get(this.getName(e)):void 0}projectionName(e){return e?this.getName("projection"):this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection"))?this.projectionNameMap.get(this.getName("projection")):void 0}getScaleComponent(e){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale().  Make sure you have called parseScale or use parseUnitModelWithScale().");const t=this.component.scales[e];return t&&!t.merged?t:this.parent?this.parent.getScaleComponent(e):void 0}getSelectionComponent(e,t){let n=this.component.selection[e];if(!n&&this.parent&&(n=this.parent.getSelectionComponent(e,t)),!n)throw new Error(Tt.selectionNotFound(t));return n}}class af extends of{vgField(e,t={}){const n=this.fieldDef(e);if(n)return gn(n,t)}reduceFieldDef(e,t,n){return Gn(this.getMapping(),(t,n,i)=>{const r=En(n);return r?e(t,r,i):t},t,n)}forEachFieldDef(e,t){Hn(this.getMapping(),(t,n)=>{const i=En(t);i&&e(i,n)},t)}}class sf extends Uo{constructor(e,t){super(e),this.transform=t,this.transform=B(t);const{flatten:n,as:i=[]}=this.transform;this.transform.as=n.map((e,t)=>i[t]||e)}clone(){return new sf(this.parent,B(this.transform))}producedFields(){return new Set(this.transform.as)}hash(){return`FlattenTransform ${T(this.transform)}`}assemble(){const{flatten:e,as:t}=this.transform;return{type:"flatten",fields:e,as:t}}}class uf extends Uo{constructor(e,t){super(e),this.transform=t,this.transform=B(t);const n=this.transform.as||[void 0,void 0];this.transform.as=[n[0]||"key",n[1]||"value"]}clone(){return new uf(null,B(this.transform))}producedFields(){return new Set(this.transform.as)}hash(){return`FoldTransform ${T(this.transform)}`}assemble(){const{fold:e,as:t}=this.transform;return{type:"fold",fields:e,as:t}}}class cf extends Uo{constructor(e,t,n,i){super(e),this.fields=t,this.geojson=n,this.signal=i}clone(){return new cf(null,B(this.fields),this.geojson,this.signal)}static parseAll(e,t){let n=0;if([[Ie,Le],[We,qe]].forEach(i=>{const r=i.map(e=>t.channelHasField(e)?t.fieldDef(e).field:void 0);(r[0]||r[1])&&(e=new cf(e,r,null,t.getName(`geojson_${n++}`)))}),t.channelHasField(Ye)){const i=t.fieldDef(Ye);i.type===sn&&(e=new cf(e,null,i.field,t.getName(`geojson_${n++}`)))}return e}assemble(){return Object.assign({type:"geojson"},this.fields?{fields:this.fields}:{},this.geojson?{geojson:this.geojson}:{},{signal:this.signal})}}class lf extends Uo{constructor(e,t,n,i){super(e),this.projection=t,this.fields=n,this.as=i}clone(){return new lf(null,this.projection,B(this.fields),B(this.as))}static parseAll(e,t){return t.projectionName()?([[Ie,Le],[We,qe]].forEach(n=>{const i=n.map(e=>t.channelHasField(e)?t.fieldDef(e).field:void 0),r=n[0]===We?"2":"";(i[0]||i[1])&&(e=new lf(e,t.projectionName(),i,[t.getName("x"+r),t.getName("y"+r)]))}),e):e}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class ff extends Uo{clone(){return new ff(null)}constructor(e){super(e)}producedFields(){return new Set([Vi])}assemble(){return{type:"identifier",as:Vi}}}function df(e,t){const{config:n,encoding:i,markDef:r}=e,o=r.orient,a=i.size,s="x"===t?"horizontal"===o:"vertical"===o,u="x"===t?"x2":"y2",c=i[t],l=i[u],f=e.scaleName(t),d=e.getScaleComponent(t),p=oe(r.binSpacing,n.bar.binSpacing),h=d?d.get("reverse"):void 0;if(fn(c)&&Rn(c.bin))return xc({fieldDef:c,fieldDef2:l,channel:t,mark:"bar",scaleName:f,spacing:p,reverse:h});if(s||l)return Object.assign({},Ac(t,e,"zeroOrMin"),wc(e,"zeroOrMin",u));if(fn(c)){const n=d.get("type");if(zn(c.bin)&&!a&&!Ti(n))return xc({fieldDef:c,channel:t,scaleName:f,mark:"bar",spacing:p,reverse:h});if(n===Fi.BAND)return vc(c,t,e)}return function(e,t,n,i){const r="x"===e?"xc":"yc",o="x"===e?"width":"height";return Object.assign({},Ac(e,t,n,r),mc("size",t,{defaultRef:i,vgChannel:o}))}(t,e,Object.assign({},sc("x"===t?e.width:e.height)),function(e,t,n,i){if(void 0!==e.size)return{value:e.size};const r=So("size",e,i,{skipGeneralMarkConfig:!0});if(void 0!==r)return{value:r};if(n){const e=n.get("type");if("point"!==e&&"band"!==e)return{value:i.bar.continuousBandSize};if(void 0!==i.bar.discreteBandSize)return{value:i.bar.discreteBandSize};if(e!==Fi.POINT)return nc(t);{const e=n.get("range");if(ro(e)&&v(e.step))return{value:e.step-1};_t(Tt.BAR_WITH_POINT_SCALE_AND_RANGESTEP_NULL)}}return{value:oe(i.bar.discreteBandSize,i.scale.rangeStep?i.scale.rangeStep-1:void 0,20)}}(r,f,d,n))}function pf(e,t){const{config:n,markDef:i,width:r,height:o}=e;return Object.assign({},fc(e,{size:"include",orient:"ignore"}),Ac("x",e,sc(r)),Ac("y",e,sc(o)),mc("size",e,{defaultValue:So("size",i,n)}),function(e,t,n){if(n)return{shape:{value:n}};return mc("shape",e,{defaultValue:So("shape",e.markDef,t)})}(e,n,t))}function hf(e,t){const n="x"===t?"x2":"y2",i=e.encoding[t],r=e.encoding[n],o=e.getScaleComponent(t),a=o?o.get("type"):void 0,s=e.scaleName(t);if(fn(i)&&(zn(i.bin)||Rn(i.bin)))return xc({fieldDef:i,fieldDef2:r,channel:t,mark:"rect",scaleName:s,spacing:0,reverse:o.get("reverse")});if(fn(i)&&o&&Ti(a)){if(a===Fi.BAND)return vc(i,t,e);throw new Error(Tt.scaleTypeNotWorkWithMark(de,a))}return Object.assign({},Ac(t,e,"zeroOrMax"),wc(e,"zeroOrMin",n))}function mf(e){const{config:t,markDef:n}=e,i=n.orient,r=e.getScaleComponent("horizontal"===i?"x":"y");if(void 0!==n.size)return n.size;if(void 0!==t.tick.bandSize)return t.tick.bandSize;{const e=r?r.get("range"):void 0,n=e&&ro(e)?e.step:t.scale.rangeStep;if("number"!=typeof n)throw new Error("Function does not handle non-numeric rangeStep");return 3*n/4}}const gf={area:{vgMark:"area",encodeEntry:e=>Object.assign({},fc(e,{size:"ignore",orient:"include"}),Ac("x",e,"zeroOrMin"),Ac("y",e,"zeroOrMin"),wc(e,"zeroOrMin","horizontal"===e.markDef.orient?"x2":"y2"),hc(e))},bar:{vgMark:"rect",encodeEntry:e=>Object.assign({},fc(e,{size:"ignore",orient:"ignore"}),df(e,"x"),df(e,"y"))},circle:{vgMark:"symbol",encodeEntry:e=>pf(e,"circle")},geoshape:{vgMark:"shape",encodeEntry:e=>Object.assign({},fc(e,{size:"ignore",orient:"ignore"})),postEncodingTransform:e=>{const{encoding:t}=e,n=t.shape;return[Object.assign({type:"geoshape",projection:e.projectionName()},n&&fn(n)&&n.type===sn?{field:gn(n,{expr:"datum"})}:{})]}},line:{vgMark:"line",encodeEntry:e=>{const{width:t,height:n}=e;return Object.assign({},fc(e,{size:"ignore",orient:"ignore"}),Ac("x",e,sc(t)),Ac("y",e,sc(n)),mc("size",e,{vgChannel:"strokeWidth"}),hc(e))}},point:{vgMark:"symbol",encodeEntry:e=>pf(e)},rect:{vgMark:"rect",encodeEntry:e=>Object.assign({},fc(e,{size:"ignore",orient:"ignore"}),hf(e,"x"),hf(e,"y"))},rule:{vgMark:"rule",encodeEntry:e=>{const{markDef:t,width:n,height:i}=e,r=t.orient;return e.encoding.x||e.encoding.y||e.encoding.latitude||e.encoding.longitude?Object.assign({},fc(e,{size:"ignore",orient:"ignore"}),Ac("x",e,"horizontal"===r?"zeroOrMin":sc(n)),Ac("y",e,"vertical"===r?"zeroOrMin":sc(i)),"vertical"!==r?wc(e,"zeroOrMax","x2"):{},"horizontal"!==r?wc(e,"zeroOrMax","y2"):{},mc("size",e,{vgChannel:"strokeWidth",defaultValue:t.size})):{}}},square:{vgMark:"symbol",encodeEntry:e=>pf(e,"square")},text:{vgMark:"text",encodeEntry:e=>{const{config:t,encoding:n,width:i,height:r,markDef:o}=e,a=oe(o.fontSize,o.size,ko("fontSize",o,t.style),ko("size",o,t.style),t[o.type].fontSize,t[o.type].size);return Object.assign({},fc(e,{size:"ignore",orient:"ignore"}),Ac("x",e,sc(i)),Ac("y",e,sc(r)),bc(e),mc("size",e,{defaultValue:a,vgChannel:"fontSize"}),function(e,t){if(void 0!==t)return{[e]:{value:t}}}("align",function(e,t,n){if(void 0===(e.align||So("align",e,n)))return"center";return}(e.markDef,0,t)))}},tick:{vgMark:"rect",encodeEntry:e=>{const{config:t,markDef:n,width:i,height:r}=e,o=n.orient,a="horizontal"===o?"width":"height",s="horizontal"===o?"height":"width";return Object.assign({},fc(e,{size:"ignore",orient:"ignore"}),Ac("x",e,sc(i),"xc"),Ac("y",e,sc(r),"yc"),mc("size",e,{defaultValue:mf(e),vgChannel:a}),{[s]:{value:oe(n.thickness,t.tick.thickness)}})}},trail:{vgMark:"trail",encodeEntry:e=>{const{width:t,height:n}=e;return Object.assign({},fc(e,{size:"include",orient:"ignore"}),Ac("x",e,sc(t)),Ac("y",e,sc(n)),mc("size",e),hc(e))}}};function yf(e){return R([le,ue,ge],e.mark)?function(e){const t=xf(e.mark,e.encoding),n=vf(e,{fromPrefix:t.length>0?bf:""});return t.length>0?[{name:e.getName("pathgroup"),type:"group",from:{facet:{name:bf+e.requestDataName(Br),data:e.requestDataName(Br),groupby:t}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:n}]:n}(e):vf(e)}const bf="faceted_path_";function vf(e,t={fromPrefix:""}){const n=e.mark,i=oe(e.markDef.clip,function(e){const t=e.getScaleComponent("x"),n=e.getScaleComponent("y");return!!(t&&t.get("domainRaw")||n&&n.get("domainRaw"))}(e)),r=Do(e.markDef),a=e.encoding.key,s=function(e){const{encoding:t,stack:n,mark:i,markDef:r,config:a}=e,s=t.order;if(!(!o(s)&&hn(s)&&z(s.value)||!s&&z(r.order)||z(So("order",r,a)))){if((o(s)||fn(s))&&!n)return To(s,{expr:"datum"});if(xe(i)){const n=t["horizontal"===r.orient?"y":"x"];if(fn(n)){const t=n.sort;return{field:xo(t)?gn({aggregate:Ln(e.encoding)?t.op:void 0,field:t.field},{expr:"datum"}):gn(n,{binSuffix:e.stack&&e.stack.impute?"mid":void 0,expr:"datum"}),order:"descending"}}}}}(e),u=gf[n].postEncodingTransform?gf[n].postEncodingTransform(e):null;return[Object.assign({name:e.getName("marks"),type:gf[n].vgMark},i?{clip:!0}:{},r?{style:r}:{},a?{key:{field:a.field}}:{},s?{sort:s}:{},{from:{data:t.fromPrefix+e.requestDataName(Br)},encode:{update:gf[n].encodeEntry(e)}},u?{transform:u}:{})]}function xf(e,t){return V(t).reduce((n,i)=>{switch(i){case"x":case"y":case"order":case"href":case"x2":case"y2":case"latitude":case"longitude":case"latitude2":case"longitude2":case"text":case"shape":case"tooltip":return n;case"detail":case"key":const r=t[i];return(o(r)||fn(r))&&(o(r)?r:[r]).forEach(e=>{e.aggregate||n.push(gn(e,{}))}),n;case"size":if("trail"===e)return n;case"color":case"fill":case"stroke":case"opacity":case"fillOpacity":case"strokeOpacity":case"strokeWidth":const a=Dn(t[i]);return a&&!a.aggregate&&n.push(gn(a,{})),n;default:throw new Error(`Bug: Channel ${i} unimplemented for line mark`)}},[])}class Af extends Uo{constructor(e,t){super(e),this.transform=t}clone(){return new Af(null,B(this.transform))}producedFields(){return new Set([this.transform.impute])}processSequence(e){const{start:t=0,stop:n,step:i}=e;return{signal:`sequence(${[t,n,...i?[i]:[]].join(",")})`}}static makeFromTransform(e,t){return new Af(e,t)}static makeFromEncoding(e,t){const n=t.encoding,i=n.x,r=n.y;if(fn(i)&&fn(r)){const o=i.impute?i:r.impute?r:void 0;if(void 0===o)return;const a=i.impute?r:r.impute?i:void 0,{method:s,value:u,frame:c,keyvals:l}=o.impute,f=xf(t.mark,n);return new Af(e,Object.assign({impute:o.field,key:a.field},s?{method:s}:{},void 0!==u?{value:u}:{},c?{frame:c}:{},void 0!==l?{keyvals:l}:{},f.length?{groupby:f}:{}))}return null}hash(){return`Impute ${T(this.transform)}`}assemble(){const{impute:e,key:t,keyvals:n,method:i,groupby:r,value:o,frame:a=[null,null]}=this.transform,s=Object.assign({type:"impute",field:e,key:t},n?{keyvals:(u=n,u&&void 0!==u.start&&void 0!==u.stop?this.processSequence(n):n)}:{},{method:"value"},r?{groupby:r}:{},{value:null});var u;let c;if(i&&"value"!==i){c=[Object.assign({type:"window",as:[`imputed_${e}_value`],ops:[i],fields:[e],frame:a,ignorePeers:!1},r?{groupby:r}:{}),{type:"formula",expr:`datum.${e} === null ? datum.imputed_${e}_value : datum.${e}`,as:e}]}else{c=[{type:"formula",expr:`datum.${e} === null ? ${o} : datum.${e}`,as:e}]}return[s,...c]}}class wf extends Dc{constructor(e={},t={},n=!1){super(e,t),this.explicit=e,this.implicit=t,this.parseNothing=n}clone(){const e=super.clone();return e.parseNothing=this.parseNothing,e}}class Cf extends Uo{constructor(e,t,n){super(e),this.transform=t,this.secondary=n}clone(){return new Cf(null,B(this.transform),this.secondary)}static make(e,t,n,i){const r=t.component.data.sources;let o=Lf(n.from.data,r);o||(o=new Kc(n.from.data),r.push(o));const a=t.getName(`lookup_${i}`),s=new Mo(o,a,"lookup",t.component.data.outputNodeRefCounts);return t.component.data.outputNodes[a]=s,new Cf(e,n,s.getSource())}producedFields(){return new Set(this.transform.from.fields||(this.transform.as instanceof Array?this.transform.as:[this.transform.as]))}hash(){return`Lookup ${T({transform:this.transform,secondary:this.secondary})}`}assemble(){let e;if(this.transform.from.fields)e=Object.assign({values:this.transform.from.fields},this.transform.as?{as:this.transform.as instanceof Array?this.transform.as:[this.transform.as]}:{});else{let t=this.transform.as;s(t)||(_t(Tt.NO_FIELDS_NEEDS_AS),t="_lookup"),e={as:[t]}}return Object.assign({type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup]},e,this.transform.default?{default:this.transform.default}:{})}}class Ff extends Uo{constructor(e,t){super(e),this.transform=t}clone(){return new Ff(null,B(this.transform))}hash(){return`SampleTransform ${T(this.transform)}`}assemble(){return{type:"sample",size:this.transform.sample}}}function Ef(e){let t=0;return function n(i,r){i instanceof Kc&&!kr(i.data)&&(e.push(r),r={name:null,source:r.name,transform:[]});if(i instanceof fl&&(i.parent instanceof Kc&&!r.source?(r.format=Object.assign({},r.format||{},{parse:i.assembleFormatParse()}),r.transform.push(...i.assembleTransforms(!0))):r.transform.push(...i.assembleTransforms())),i instanceof ul)return r.name||(r.name=`data_${t++}`),!r.source||r.transform.length>0?(e.push(r),i.data=r.name):i.data=r.source,void i.assemble().forEach(t=>e.push(t));(i instanceof cl||i instanceof $s||i instanceof lf||i instanceof cf||i instanceof ol||i instanceof Cf||i instanceof hl||i instanceof dl||i instanceof uf||i instanceof sf||i instanceof ff||i instanceof Ff)&&r.transform.push(i.assemble()),(i instanceof sl||i instanceof hu||i instanceof Af||i instanceof pl)&&(r.transform=r.transform.concat(i.assemble())),i instanceof Mo&&(r.source&&0===r.transform.length?i.setSource(r.source):i.parent instanceof Mo?i.setSource(r.name):(r.name||(r.name=`data_${t++}`),i.setSource(r.name),1===i.numChildren()&&(e.push(r),r={name:null,source:r.name,transform:[]})));switch(i.numChildren()){case 0:i instanceof Mo&&(!r.source||r.transform.length>0)&&e.push(r);break;case 1:n(i.children[0],r);break;default:r.name||(r.name=`data_${t++}`);let o=r.name;!r.source||r.transform.length>0?e.push(r):o=r.source,i.children.forEach(e=>{n(e,{name:null,source:o,transform:[]})})}}}function Df(e,t){if(e.channelHasField(t)){const n=e.facet[t],i=js("title",null,e.config,t);let r=wn(n,e.config,{allowDisabling:!0,includeDefault:void 0===i||!!i});e.child.component.layoutHeaders[t].title&&(r+=" / "+e.child.component.layoutHeaders[t].title,e.child.component.layoutHeaders[t].title=null);const o=R(["bottom","right"],js("labelOrient",n,e.config,t))?"footer":"header";e.component.layoutHeaders[t]={title:r,facetFieldDef:n,[o]:"facet"===t?[]:[Sf(e,t,!0)]}}}function Sf(e,t,n){const i="row"===t?"height":"width";return{labels:n,sizeSignal:e.child.component.layoutSize.get(i)?e.child.getSizeSignalRef(i):void 0,axes:[]}}function kf(e,t){const{child:n}=e;if(n.component.axes[t]){const{layoutHeaders:r,resolve:o}=e.component;if(o.axis[t]=Ec(o,t),"shared"===o.axis[t]){const o="x"===t?"column":"row",a=r[o];for(const r of n.component.axes[t]){const t="top"===(i=r.get("orient"))||"left"===i?"header":"footer";a[t]=a[t]||[Sf(e,o,!1)];const n=po(r,"main",e.config,{header:!0});a[t][0].axes.push(n),r.mainExtracted=!0}}}var i}function Of(e){Nf(e);const t=e.component.layoutSize;t.setWithExplicit("width",jf(e,"width")),t.setWithExplicit("height",jf(e,"height"))}const $f=Of,Bf={vconcat:"width",hconcat:"height"};function Nf(e){for(const t of e.children)t.parseLayoutSize()}function jf(e,t){const n="width"===t?"x":"y",i=e.component.resolve;let r;for(const o of e.children){const e=o.component.layoutSize.getWithExplicit(t),a=i.scale[n];if("independent"===a&&"range-step"===e.value){r=void 0;break}if(r){if("independent"===a&&r.value!==e.value){r=void 0;break}r=Bc(r,e,t,"")}else r=e}if(r){for(const n of e.children)e.renameSignal(n.getName(t),e.getName(t)),n.component.layoutSize.set(t,"merged",!1);return r}return{explicit:!1,value:void 0}}function _f(e,t){const n="width"===t?"x":"y",i=e.config,r=e.getScaleComponent(n);if(r){const e=r.get("type"),n=r.get("range");return Ti(e)&&ro(n)?"range-step":i.view[t]}return e.hasProjection?i.view[t]:"width"===t&&"text"===e.mark?i.scale.textXRangeStep:i.scale.rangeStep||Ui.rangeStep}function Tf(e,t){return(n=e.field)&&!s(n)&&"repeat"in n?e.field.repeat in t?Object.assign({},e,{field:t[e.field.repeat]}):void _t(Tt.noSuchRepeatedValue(e.field.repeat)):e;var n}function zf(e,t){if(void 0!==(e=Tf(e,t))){if(null===e)return null;if(function(e){return dn(e)&&!!e.sort}(e)&&xo(e.sort)){const n=Tf(e.sort,t);e=Object.assign({},e,n?{sort:n}:{})}return e}}function Rf(e,t){if(!fn(e)){if(ln(e)){const n=zf(e.condition,t);if(n)return Object.assign({},e,{condition:n});return Se(e,["condition"])}return e}{const n=zf(e,t);if(n)return n;if(cn(e))return{condition:e.condition}}}function Pf(e,t){const n={};for(const i in e)if(e.hasOwnProperty(i)){const r=e[i];if(o(r))n[i]=r.map(e=>Rf(e,t)).filter(e=>e);else{const e=Rf(r,t);void 0!==e&&(n[i]=e)}}return n}function Uf(e,t,n){return gn(t,Object.assign({suffix:`by_${gn(e)}`},n||{}))}class Mf extends af{constructor(e,t,n,i,r){super(e,"facet",t,n,r,i,e.resolve),this.child=td(e.spec,this,this.getName("child"),void 0,i,r,!1),this.children=[this.child];const o=function(e,t){return qt(e)?Pf(e,t):zf(e,t)}(e.facet,i);this.facet=this.initFacet(o)}initFacet(e){return qt(e)?Gn(e,(e,t,n)=>R([_e,Te],n)?void 0===t.field?(_t(Tt.emptyFieldDef(t,n)),e):(e[n]=Sn(t,n),e):(_t(Tt.incompatibleChannel(n,"facet")),e),{}):{facet:Sn(e,"facet")}}channelHasField(e){return!!this.facet[e]}fieldDef(e){return this.facet[e]}parseData(){this.component.data=If(this),this.child.parseData()}parseLayoutSize(){Nf(this)}parseSelections(){this.child.parseSelections(),this.component.selection=this.child.component.selection}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders(),function(e){for(const t of ft)Df(e,t);kf(e,"x"),kf(e,"y")}(this)}assembleSelectionTopLevelSignals(e){return this.child.assembleSelectionTopLevelSignals(e)}assembleSignals(){return this.child.assembleSignals(),[]}assembleSelectionData(e){return this.child.assembleSelectionData(e)}getHeaderLayoutMixins(){const e={};for(const t of ft)for(const n of zs){const i=this.component.layoutHeaders[t],r=i[n],{facetFieldDef:o}=i;if(o){const n=js("titleOrient",o,this.config,t);if(R(["right","bottom"],n)){const i=Ns(t,n);e.titleAnchor=e.titleAnchor||{},e.titleAnchor[i]="end"}}if(r&&r[0]){const r="row"===t?"height":"width",o="header"===n?"headerBand":"footerBand";"facet"===t||this.child.component.layoutSize.get(r)||(e[o]=e[o]||{},e[o][t]=.5),i.title&&(e.offset=e.offset||{},e.offset["row"===t?"rowTitle":"columnTitle"]=10)}}return e}assembleDefaultLayout(){const{column:e,row:t}=this.facet,n=e?this.columnDistinctSignal():t?1:void 0;let i="all";return(t||"independent"!==this.component.resolve.scale.x)&&(e||"independent"!==this.component.resolve.scale.y)||(i="none"),Object.assign({},this.getHeaderLayoutMixins(),n?{columns:n}:{},{bounds:"full",align:i})}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof Mf)){return{signal:`length(data('${this.getName("column_domain")}'))`}}}assembleGroup(e){return this.parent&&this.parent instanceof Mf?Object.assign({},this.channelHasField("column")?{encode:{update:{columns:{field:gn(this.facet.column,{prefix:"distinct"})}}}}:{},super.assembleGroup(e)):super.assembleGroup(e)}getCardinalityAggregateForChild(){const e=[],t=[],n=[];if(this.child instanceof Mf){if(this.child.channelHasField("column")){const i=gn(this.child.facet.column);e.push(i),t.push("distinct"),n.push(`distinct_${i}`)}}else for(const i of["x","y"]){const r=this.child.component.scales[i];if(r&&!r.merged){const o=r.get("type"),a=r.get("range");if(Ti(o)&&ro(a)){const r=Tl(zl(this.child,i));r?(e.push(r),t.push("distinct"),n.push(`distinct_${r}`)):_t("Unknown field for ${channel}.  Cannot calculate view size.")}}}return{fields:e,ops:t,as:n}}assembleFacet(){const{name:e,data:t}=this.component.data.facetRoot,{row:n,column:i}=this.facet,{fields:r,ops:a,as:s}=this.getCardinalityAggregateForChild(),u=[];for(const e of ft){const t=this.facet[e];if(t){u.push(gn(t));const{sort:c}=t;if(xo(c)){const{field:e,op:o=vo}=c,u=Uf(t,c);n&&i?(r.push(u),a.push("max"),s.push(u)):(r.push(e),a.push(o),s.push(u))}else if(o(c)){const n=Bs(t,e);r.push(n),a.push("max"),s.push(n)}}}const c=!!n&&!!i;return Object.assign({name:e,data:t,groupby:u},c||r.length?{aggregate:Object.assign({},c?{cross:c}:{},r.length?{fields:r,ops:a,as:s}:{})}:{})}facetSortFields(e){const{facet:t}=this,n=t[e];return n?xo(n.sort)?[Uf(n,n.sort,{expr:"datum"})]:o(n.sort)?[Bs(n,e,{expr:"datum"})]:[gn(n,{expr:"datum"})]:[]}facetSortOrder(e){const{facet:t}=this,n=t[e];if(n){const{sort:e}=n;return[(xo(e)?e.order:!o(e)&&e)||"ascending"]}return[]}assembleLabelTitle(){const{facet:e,config:t}=this;if(e.facet)return Is(e.facet,"facet",t);const n={row:["top","bottom"],column:["left","right"]};for(const i of Ts)if(e[i]){const r=js("labelOrient",e[i],t,i);if(R(n[i],r))return Is(e[i],i,t)}}assembleMarks(){const{child:e}=this,t=function(e){const t=[],n=Ef(t);return e.children.forEach(t=>n(t,{source:e.name,name:null,transform:[]})),t}(this.component.data.facetRoot),n=e.assembleGroupEncodeEntry(!1),i=this.assembleLabelTitle()||e.assembleTitle(),r=e.assembleGroupStyle();return[Object.assign({name:this.getName("cell"),type:"group"},i?{title:i}:{},r?{style:r}:{},{from:{facet:this.assembleFacet()},sort:{field:M(ft.map(e=>this.facetSortFields(e))),order:M(ft.map(e=>this.facetSortOrder(e)))}},t.length>0?{data:t}:{},n?{encode:{update:n}}:{},e.assembleGroup(function(e,t){if(e.component.selection&&V(e.component.selection).length){const n=u(e.getName("cell"));t.unshift({name:"facet",value:{},on:[{events:Xs("mousemove","scope"),update:`isTuple(facet) ? facet : group(${n}).datum`}]})}return t}(this,[])))]}getMapping(){return this.facet}}function Lf(e,t){for(const n of t){const t=n.data;if(Or(e)&&Or(t)){const i=e.values,r=t.values;if($(i,r))return n}else if(kr(e)&&kr(t)){if(e.url===t.url)return n}else if($r(e)&&e.name===n.dataName)return n}return null}function If(e){let t=function(e,t){if(e.data||!e.parent){const n=Lf(e.data,t);if(n)return n.data.format=L({},e.data.format,n.data.format),n;{const n=new Kc(e.data);return t.push(n),n}}return e.parent.component.data.facetRoot?e.parent.component.data.facetRoot:e.parent.component.data.main}(e,e.component.data.sources);const{outputNodes:n,outputNodeRefCounts:i}=e.component.data,r=e.parent?e.parent.component.data.ancestorParse.clone():new wf;e.data&&e.data.format&&null===e.data.format.parse&&(r.parseNothing=!0),t=fl.makeExplicit(t,e,r)||t,ju(e)&&(Kl(e)||rf(e))&&(t=new ff(t));const o=e.parent&&rf(e.parent);(Kl(e)||ef(e))&&o&&(t=sl.makeFromEncoding(t,e)||t),e.transforms.length>0&&(t=function(e,t,n){let i=0;for(const r of t.transforms){let o,a=void 0;if(Jr(r))o=e=new $s(e,r),a="derived";else if(Wr(r))o=e=fl.makeImplicitFromFilterTransform(e,r,n)||e,e=new cl(e,t,r.filter);else if(Xr(r))o=e=sl.makeFromTransform(e,r,t),a="number";else if(Kr(r))o=e=hu.makeFromTransform(e,r),a="date",void 0===n.getWithExplicit(r.field).value&&(e=new fl(e,{[r.field]:a}),n.set(r.field,a,!1));else if(eo(r))o=e=ol.makeFromTransform(e,r),a="number",ju(t)&&(e=new ff(e));else if(Hr(r))o=e=Cf.make(e,t,r,i++),a="derived";else if(Vr(r))o=e=new hl(e,r),a="number";else if(Yr(r))o=e=new dl(e,r),a="number";else if(to(r))o=e=pl.makeFromTransform(e,r),a="derived";else if(no(r))o=e=new uf(e,r),a="derived";else if(Qr(r))o=e=new sf(e,r),a="derived";else if(Gr(r))e=new Ff(e,r);else{if(!Zr(r)){_t(Tt.invalidTransformIgnored(r));continue}o=e=Af.makeFromTransform(e,r),a="derived"}if(o&&void 0!==a)for(const e of o.producedFields())n.set(e,a,!1)}return e}(t,e,r)),t=fl.makeImplicitFromEncoding(t,e,r)||t,Kl(e)&&(t=cf.parseAll(t,e),t=lf.parseAll(t,e)),(Kl(e)||ef(e))&&(o||(t=sl.makeFromEncoding(t,e)||t),t=hu.makeFromEncoding(t,e)||t,t=$s.parseAllForSortIndex(t,e));const a=e.getName(Nr),s=new Mo(t,a,Nr,i);if(n[a]=s,t=s,Kl(e)){const n=ol.makeFromEncoding(t,e);n&&(t=n,ju(e)&&(t=new ff(t))),t=Af.makeFromEncoding(t,e)||t,t=pl.makeFromEncoding(t,e)||t}const u=e.getName(Br),c=new Mo(t,u,Br,i);n[u]=c,t=c;let l=null;if(ef(e)){const i=e.getName("facet");t=function(e,t){const{row:n,column:i}=t;if(n&&i){let t=null;for(const r of[n,i])if(xo(r.sort)){const{field:n,op:i=vo}=r.sort;e=t=new dl(e,{joinaggregate:[{op:i,field:n,as:Uf(r,r.sort,{forAs:!0})}],groupby:[gn(r)]})}return t}return null}(t=$s.parseAllForSortIndex(t,e),e.facet)||t,l=new ul(t,e,i,c.getSource()),n[i]=l,t=l}return Object.assign({},e.component.data,{outputNodes:n,outputNodeRefCounts:i,raw:s,main:c,facetRoot:l,ancestorParse:r})}class qf extends of{constructor(e,t,n,i,r,o,a){super(e,t,n,i,r,o,a)}parseData(){this.component.data=If(this),this.children.forEach(e=>{e.parseData()})}parseSelections(){this.component.selection={};for(const e of this.children)e.parseSelections(),V(e.component.selection).forEach(t=>{this.component.selection[t]=e.component.selection[t]})}parseMarkGroup(){for(const e of this.children)e.parseMarkGroup()}parseAxesAndHeaders(){for(const e of this.children)e.parseAxesAndHeaders()}assembleSelectionTopLevelSignals(e){return this.children.reduce((e,t)=>t.assembleSelectionTopLevelSignals(e),e)}assembleSignals(){return this.children.forEach(e=>e.assembleSignals()),[]}assembleLayoutSignals(){return this.children.reduce((e,t)=>[...e,...t.assembleLayoutSignals()],Vs(this))}assembleSelectionData(e){return this.children.reduce((e,t)=>t.assembleSelectionData(e),e)}assembleMarks(){return this.children.map(e=>{const t=e.assembleTitle(),n=e.assembleGroupStyle(),i=e.assembleGroupEncodeEntry(!1);return Object.assign({type:"group",name:e.getName("group")},t?{title:t}:{},n?{style:n}:{},i?{encode:{update:i}}:{},e.assembleGroup())})}}class Wf extends qf{constructor(e,t,n,i,r){super(e,"concat",t,n,r,i,e.resolve),e.resolve&&e.resolve.axis&&("shared"===e.resolve.axis.x||"shared"===e.resolve.axis.y)&&_t(Tt.CONCAT_CANNOT_SHARE_AXIS),this.concatType=Xi(e)?"vconcat":Zi(e)?"hconcat":"concat",this.children=this.getChildren(e).map((e,t)=>td(e,this,this.getName("concat_"+t),void 0,i,r,!1))}getChildren(e){return Xi(e)?e.vconcat:Zi(e)?e.hconcat:e.concat}parseLayoutSize(){!function(e){Nf(e);const t=e.component.layoutSize,n=Bf[e.concatType];n&&t.setWithExplicit(n,jf(e,n))}(this)}parseAxisGroup(){return null}assembleDefaultLayout(){return Object.assign({},"vconcat"===this.concatType?{columns:1}:{},{bounds:"full",align:"each"})}}class Hf extends Dc{constructor(e={},t={},n=!1){super(),this.explicit=e,this.implicit=t,this.mainExtracted=n}clone(){return new Hf(B(this.explicit),B(this.implicit),this.mainExtracted)}hasAxisPart(e){return"axis"===e||("grid"===e||"title"===e?!!this.get(e):!(!1===(t=this.get(e))||null===t));var t}}const Gf={bottom:"top",top:"bottom",left:"right",right:"left"};function Vf(e,t){if(!e)return t.map(e=>e.clone());{if(e.length!==t.length)return;const n=e.length;for(let i=0;i<n;i++){const n=e[i],r=t[i];if(!!n!=!!r)return;if(n&&r){const t=n.getWithExplicit("orient"),o=r.getWithExplicit("orient");if(t.explicit&&o.explicit&&t.value!==o.value)return;e[i]=Yf(n,r)}}}return e}function Yf(e,t){for(const n of fo){const i=Bc(e.getWithExplicit(n),t.getWithExplicit(n),n,"axis",(e,t)=>{switch(n){case"title":return Po(e,t);case"gridScale":return{explicit:e.explicit,value:oe(e.value,t.value)}}return $c(e,t,n,"axis")});e.setWithExplicit(n,i)}return e}function Qf(e,t){const n="x"===t?"x2":"y2",i=e.fieldDef(t),r=e.fieldDef(n),o=i?i.title:void 0,a=r?r.title:void 0;return o&&a?Ro(o,a):o||(a||(void 0!==o?o:void 0!==a?a:void 0))}function Jf(e,t){const n=t.axis(e),i=new Hf;fo.forEach(r=>{const o=function(e,t,n,i){const r=i.fieldDef(n),o=function(e,t,n,i){if(void 0!==t.labelAngle)return se(t.labelAngle);{const t=wo("labelAngle",e.config,n,Eo(n),e.getScaleComponent(n).get("type"));return void 0!==t?se(t):n===Re&&R([an,rn],i.type)?270:void 0}}(i,t,n,r),a=oe(t.orient,Eo(n));switch(e){case"scale":return i.scaleName(n);case"gridScale":return function(e,t){const n="x"===t?"y":"x";if(e.getScaleComponent(n))return e.scaleName(n)}(i,n);case"format":return $o(r,t.format,i.config);case"grid":if(Rn(i.fieldDef(n).bin))return!1;{const e=i.getScaleComponent(n).get("type");return oe(t.grid,function(e,t){return!Ti(e)&&!zn(t.bin)}(e,r))}case"labelAlign":return oe(t.labelAlign,Fo(o,a));case"labelAngle":return o;case"labelBaseline":return oe(t.labelBaseline,Co(o,a));case"labelFlush":return oe(t.labelFlush,function(e,t){if("x"===t&&R(["quantitative","temporal"],e.type))return!0}(r,n));case"labelOverlap":{const e=i.getScaleComponent(n).get("type");return oe(t.labelOverlap,function(e,t){if("nominal"!==e.type)return"log"!==t||"greedy"}(r,e))}case"orient":return a;case"tickCount":{const e=i.getScaleComponent(n).get("type"),o=i.scaleName(n),a="x"===n?"width":"y"===n?"height":void 0,s=a?i.getSizeSignalRef(a):void 0;return oe(t.tickCount,function({fieldDef:e,scaleType:t,size:n,scaleName:i,specifiedAxis:r={}}){if(!Ti(t)&&"log"!==t&&!R(["month","hours","day","quarter"],e.timeUnit))return zn(e.bin)?{signal:`ceil(${n.signal}/10)`}:{signal:`ceil(${n.signal}/40)`}}({fieldDef:r,scaleType:e,size:s,scaleName:o,specifiedAxis:t}))}case"title":const s="x"===n?"x2":"y2",u=i.fieldDef(s);return oe(t.title,Qf(i,n),zo([un(r)],u?[un(u)]:[]));case"values":return function(e,t,n,i){const r=e.values;if(r)return jn(n,r)}(t,0,r)}return s=e,lo[s]?t[e]:void 0;var s}(r,n,e,t);if(void 0!==o){const a=function(e,t,n,i,r){switch(t){case"titleAngle":case"labelAngle":return e===se(n[t]);case"values":return!!n.values;case"encode":return!!n.encoding||!!n.labelAngle;case"title":if(e===Qf(i,r))return!0}return e===n[t]}(o,r,n,t,e),s=wo(r,t.config,e,i.get("orient"),t.getScaleComponent(e).get("type"));a||void 0===s?i.set(r,o,a):R(["grid","orient"],r)&&s&&i.set(r,s,!1)}});const r=n.encoding||{},o=so.reduce((n,o)=>{if(!i.hasAxisPart(o))return n;const a=Cc(r[o]||{},t),s="labels"===o?function(e,t,n,i){const r=e.fieldDef(t)||("x"===t?e.fieldDef("x2"):"y"===t?e.fieldDef("y2"):void 0),o=e.axis(t),a=e.config;let s={};if(Bn(r)){const n=e.getScaleComponent(t).get("type")===Fi.UTC,i=_o("datum.value",r.timeUnit,o.format,a.axis.shortTimeLabels,null,n);i&&(s.text={signal:i})}return s=Object.assign({},s,n),0===V(s).length?void 0:s}(t,e,a,i.get("orient")):a;return void 0!==s&&V(s).length>0&&(n[o]={update:s}),n},{});return V(o).length>0&&i.set("encode",o,!!n.encoding||void 0!==n.labelAngle),i}function Xf(e,t,n){const i=we(e)?Object.assign({},e):{type:e},r=i.orient||So("orient",i,n);return i.orient=function(e,t,n){switch(e){case fe:case ye:case be:case he:case de:return}const{x:i,y:r,x2:o,y2:a}=t;switch(e){case ce:if(fn(i)&&Rn(i.bin))return"vertical";if(fn(r)&&Rn(r.bin))return"horizontal";if(a||o){if(n)return n;if(!o&&fn(i)&&i.type===nn&&!zn(i.bin))return"horizontal";if(!a&&fn(r)&&r.type===nn&&!zn(r.bin))return"vertical"}case pe:if(o&&a)return;case ue:if(a)return fn(r)&&Rn(r.bin)?"horizontal":"vertical";if(o)return fn(i)&&Rn(i.bin)?"vertical":"horizontal";if(e===pe){if(t.x&&!t.y)return"vertical";if(t.y&&!t.x)return"horizontal"}case le:case me:const s=fn(t.x)&&yn(t.x),u=fn(t.y)&&yn(t.y);if(s&&!u)return"tick"!==e?"horizontal":"vertical";if(!s&&u)return"tick"!==e?"vertical":"horizontal";if(s&&u){const i=t.x,r=t.y,o=i.type===on,a=r.type===on;return o&&!a?"tick"!==e?"vertical":"horizontal":!o&&a?"tick"!==e?"horizontal":"vertical":!i.aggregate&&r.aggregate?"tick"!==e?"vertical":"horizontal":i.aggregate&&!r.aggregate?"tick"!==e?"horizontal":"vertical":n||"vertical"}return n||void 0}return"vertical"}(i.type,t,r),void 0!==r&&r!==i.orient&&_t(Tt.orientOverridden(i.orient,r)),void 0===oe(i.opacity,So("opacity",i,n))&&(i.opacity=function(e,t){if(R([fe,me,ye,be],e)&&!Ln(t))return.7;return}(i.type,t)),void 0===i.filled&&(i.filled=function(e,t){const n=So("filled",e,t),i=e.type;return oe(n,i!==fe&&i!==le&&i!==pe)}(i,n)),void 0===(i.cursor||So("cursor",i,n))&&(i.cursor=function(e,t,n){if(t.href||e.href||So("href",e,n))return"pointer";return e.cursor}(i,t,n)),i}class Zf extends af{constructor(e,t,n,i={},r,o,a){super(e,"unit",t,n,o,r,void 0,e.view),this.fit=a,this.specifiedScales={},this.specifiedAxes={},this.specifiedLegends={},this.specifiedProjection={},this.selection={},this.children=[],this.initSize(Object.assign({},i,e.width?{width:e.width}:{},e.height?{height:e.height}:{}));const s=we(e.mark)?e.mark.type:e.mark,u=this.encoding=qn(function(e,t){return Pf(e,t)}(e.encoding||{},r),s);this.markDef=Xf(e.mark,u,o),this.stack=hr(s,u,this.config.stack),this.specifiedScales=this.initScales(s,u),this.specifiedAxes=this.initAxes(u),this.specifiedLegends=this.initLegend(u),this.specifiedProjection=e.projection,this.selection=e.selection}get hasProjection(){const{encoding:e}=this,t=this.mark===ve,n=e&&st.some(t=>fn(e[t]));return t||n}scaleDomain(e){const t=this.specifiedScales[e];return t?t.domain:void 0}axis(e){return this.specifiedAxes[e]}legend(e){return this.specifiedLegends[e]}initScales(e,t){return Dt.reduce((e,n)=>{let i,r;const o=t[n];return fn(o)?(i=o,r=o.scale):ln(o)&&(i=o.condition,r=o.condition.scale),i&&(e[n]=r||{}),e},{})}initAxes(e){return[Re,Pe].reduce((t,n)=>{const i=e[n];if(fn(i)||n===Re&&fn(e.x2)||n===Pe&&fn(e.y2)){const e=fn(i)?i.axis:null;null!==e&&(t[n]=Object.assign({},e))}return t},{})}initLegend(e){return Ft.reduce((t,n)=>{const i=e[n];if(i){const e=fn(i)?i.legend:ln(i)?i.condition.legend:null;null!==e&&!1!==e&&function(e){switch(e){case He:case Ge:case Ve:case Qe:case Ye:case Je:return!0;case Xe:case Ze:case Ke:return!1}}(n)&&(t[n]=Object.assign({},e))}return t},{})}parseData(){this.component.data=If(this)}parseLayoutSize(){!function(e){const t=e.component.layoutSize;if(!t.explicit.width){const n=_f(e,"width");t.set("width",n,!1)}if(!t.explicit.height){const n=_f(e,"height");t.set("height",n,!1)}}(this)}parseSelections(){this.component.selection=function(e,t){const n={},i=e.config.selection;t&&(t=B(t));for(let r in t){if(!t.hasOwnProperty(r))continue;const o=t[r],a=Se(i[o.type],["fields","encodings"]);for(const e in a)"encodings"===e&&o.fields||"fields"===e&&o.encodings||("mark"===e&&(o[e]=Object.assign({},a[e],o[e])),void 0!==o[e]&&!0!==o[e]||(o[e]=a[e]||o[e]));const u=n[r=X(r)]=Object.assign({},o,{name:r,events:s(o.on)?Xs(o.on,"scope"):o.on});Wu(u,t=>{t.parse&&t.parse(e,o,u)})}return n}(this,this.selection)}parseMarkGroup(){this.component.mark=yf(this)}parseAxesAndHeaders(){var e;this.component.axes=(e=this,wt.reduce((t,n)=>(e.component.scales[n]&&e.axis(n)&&(t[n]=[Jf(n,e)]),t),{}))}assembleSelectionTopLevelSignals(e){return function(e,t){let n=!1;Bu(e,(i,r)=>{const o=i.name,a=u(o+Eu);t.filter(e=>e.name===o).length||t.push({name:i.name,update:`${Ou}(${a}`+("global"===i.resolve?")":`, ${u(i.resolve)})`)}),n=!0,r.topLevelSignals&&(t=r.topLevelSignals(e,i,t)),Wu(i,n=>{n.topLevelSignals&&(t=n.topLevelSignals(e,i,t))})}),n&&(t.filter(e=>"unit"===e.name).length||t.unshift({name:"unit",value:{},on:[{events:"mousemove",update:"isTuple(group()) ? group() : unit"}]}));return t}(this,e)}assembleSignals(){return[...ho(this),...(e=this,t=[],Bu(e,(n,i)=>{const r=n.name;let o=i.modifyExpr(e,n);t.push(...i.signals(e,n)),Wu(n,i=>{i.signals&&(t=i.signals(e,n,t)),i.modifyExpr&&(o=i.modifyExpr(e,n,o))}),t.push({name:r+Su,update:`modify(${u(n.name+Eu)}, ${o})`})}),t)];var e,t}assembleSelectionData(e){return function(e,t){return Bu(e,e=>{t.filter(t=>t.name===e.name+Eu).length||t.push({name:e.name+Eu})}),t}(this,e)}assembleLayout(){return null}assembleLayoutSignals(){return Vs(this)}assembleMarks(){let e=this.component.mark||[];return this.parent&&rf(this.parent)||(e=Gu(this,e)),e.map(this.correctDataNames)}getMapping(){return this.encoding}toSpec(e,t){const n=B(this.encoding);let i;return i={mark:this.markDef,encoding:n},e||(i.config=B(this.config)),t||(i.data=B(this.data)),i}get mark(){return this.markDef.type}channelHasField(e){return Mn(this.encoding,e)}fieldDef(e){return Dn(this.encoding[e])}}class Kf extends of{constructor(e,t,n,i,r,o,a){super(e,"layer",t,n,o,r,e.resolve,e.view);const s=Object.assign({},i,e.width?{width:e.width}:{},e.height?{height:e.height}:{});this.initSize(s),this.children=e.layer.map((e,t)=>{if(cr(e))return new Kf(e,this,this.getName("layer_"+t),s,r,o,a);if(Ee(e))return new Zf(e,this,this.getName("layer_"+t),s,r,o,a);throw new Error(Tt.INVALID_SPEC)})}parseData(){this.component.data=If(this);for(const e of this.children)e.parseData()}parseLayoutSize(){Of(this)}parseSelections(){this.component.selection={};for(const e of this.children)e.parseSelections(),V(e.component.selection).forEach(t=>{this.component.selection[t]=e.component.selection[t]})}parseMarkGroup(){for(const e of this.children)e.parseMarkGroup()}parseAxesAndHeaders(){!function(e){const{axes:t,resolve:n}=e.component,i={top:0,bottom:0,right:0,left:0};for(const i of e.children){i.parseAxesAndHeaders();for(const r of V(i.component.axes))n.axis[r]=Ec(e.component.resolve,r),"shared"===n.axis[r]&&(t[r]=Vf(t[r],i.component.axes[r]),t[r]||(n.axis[r]="independent",delete t[r]))}for(const r of[Re,Pe]){for(const o of e.children)if(o.component.axes[r]){if("independent"===n.axis[r]){t[r]=(t[r]||[]).concat(o.component.axes[r]);for(const e of o.component.axes[r]){const{value:t,explicit:n}=e.getWithExplicit("orient");if(i[t]>0&&!n){const n=Gf[t];i[t]>i[n]&&e.set("orient",n,!1)}i[t]++}}delete o.component.axes[r]}if("independent"===n.axis[r]&&t[r]&&t[r].length>1)for(const e of t[r])e.get("grid")&&!e.explicit.grid&&(e.implicit.grid=!1)}}(this)}assembleSelectionTopLevelSignals(e){return this.children.reduce((e,t)=>t.assembleSelectionTopLevelSignals(e),e)}assembleSignals(){return this.children.reduce((e,t)=>e.concat(t.assembleSignals()),ho(this))}assembleLayoutSignals(){return this.children.reduce((e,t)=>e.concat(t.assembleLayoutSignals()),Vs(this))}assembleSelectionData(e){return this.children.reduce((e,t)=>t.assembleSelectionData(e),e)}assembleTitle(){let e=super.assembleTitle();if(e)return e;for(const t of this.children)if(e=t.assembleTitle())return e}assembleLayout(){return null}assembleMarks(){return function(e,t){for(const n of e.children)Kl(n)&&(t=Gu(n,t));return t}(this,M(this.children.map(e=>e.assembleMarks())))}assembleLegends(){return this.children.reduce((e,t)=>e.concat(t.assembleLegends()),Vc(this))}}class ed extends qf{constructor(e,t,n,i,r){super(e,"repeat",t,n,r,i,e.resolve),e.resolve&&e.resolve.axis&&("shared"===e.resolve.axis.x||"shared"===e.resolve.axis.y)&&_t(Tt.REPEAT_CANNOT_SHARE_AXIS),this.repeat=e.repeat,this.children=this._initChildren(e,this.repeat,i,r)}_initChildren(e,t,n,i){const r=[],a=!o(t)&&t.row||[n?n.row:null],s=!o(t)&&t.column||[n?n.column:null],u=o(t)&&t||[n?n.repeat:null];for(const t of u)for(const n of a)for(const o of s){const a=(t?`__repeat_repeat_${t}`:"")+(n?`__repeat_row_${n}`:"")+(o?`__repeat_column_${o}`:""),s={repeat:t,row:n,column:o};r.push(td(e.spec,this,this.getName("child"+a),void 0,s,i,!1))}return r}parseLayoutSize(){$f(this)}assembleDefaultLayout(){const{repeat:e}=this,t=o(e)?void 0:e.column?e.column.length:1;return Object.assign({},t?{columns:t}:{},{bounds:"full",align:"all"})}}function td(e,t,n,i,r,o,a){if(Wt(e))return new Mf(e,t,n,r,o);if(cr(e))return new Kf(e,t,n,i,r,o,a);if(Ee(e))return new Zf(e,t,n,i,r,o,a);if(Ki(e))return new ed(e,t,n,r,o);if(function(e){return Xi(e)||Zi(e)||Ji(e)}(e))return new Wf(e,t,n,r,o);throw new Error(Tt.INVALID_SPEC)}const nd=new class extends lr{mapUnit(e,{config:t}){if(e.encoding){const{encoding:n,transform:i}=e,{bins:r,timeUnits:o,aggregate:a,groupby:s,encoding:u}=In(n,t),c=[...i||[],...r,...o,...a.length?[{aggregate:a,groupby:s}]:[]];return Object.assign({},e,c.length>0?{transform:c}:{},{encoding:u})}return e}};const id=t;e.compile=function(e,t={}){var n;t.logger&&(n=t.logger,jt=n),t.fieldTitle&&An(t.fieldTitle);try{const n=ir(L({},t.config,e.config)),i=Cr(e,n),r=function(e,t,n=!0){const i=Object.assign({type:"pad"},Er(t),Er(e));return"fit"===i.type&&(n||(_t(Tt.FIT_NON_SINGLE),i.type="pad")),i}(e.autosize,n.autosize,cr(i)||Ee(i)),o=td(i,null,"",void 0,void 0,n,"fit"===r.type);return o.parse(),function(e,t){el(e.sources);let n=0,i=0;for(let i=0;i<El&&Ol(e,t);i++)n++;e.sources.map(vl);for(let n=0;n<El&&Ol(e,t);n++)i++;el(e.sources),Math.max(n,i)===El&&_t(`Maximum optimization runs(${El}) reached.`)}(o.component.data,o),function(e,t,n={},i){const r=e.config?sr(e.config):void 0,o=[].concat(e.assembleSelectionData([]),function(e,t){const n=[],i=Ef(n);let r=0;e.sources.forEach(e=>{e.hasName()||(e.dataName=`source_${r++}`);const t=e.assemble();i(e,t)}),n.forEach(e=>{0===e.transform.length&&delete e.transform});let o=0;for(let e=0;e<n.length;e++){const t=n[e];0!==(t.transform||[]).length||t.source||n.splice(o++,0,n.splice(e,1)[0])}for(const t of n)for(const n of t.transform||[])"lookup"===n.type&&(n.from=e.outputNodes[n.from].getSource());for(const e of n)e.name in t&&(e.values=t[e.name]);return n}(e.component.data,n)),a=e.assembleProjections(),s=e.assembleTitle(),u=e.assembleGroupStyle(),c=e.assembleGroupEncodeEntry(!0);let l=e.assembleLayoutSignals();return l=l.filter(e=>"width"!==e.name&&"height"!==e.name||void 0===e.value||(t[e.name]=+e.value,!1)),{spec:Object.assign({$schema:"https://vega.github.io/schema/vega/v5.json"},e.description?{description:e.description}:{},t,s?{title:s}:{},u?{style:u}:{},c?{encode:{update:c}}:{},{data:o},a.length>0?{projections:a}:{},e.assembleGroup([...l,...e.assembleSelectionTopLevelSignals([])]),r?{config:r}:{},i?{usermeta:i}:{})}}(o,function(e,t,n){return Object.assign({autosize:1===V(n).length&&n.type?n.type:n},Sr(t),Sr(e))}(e,n,r),e.datasets,e.usermeta)}finally{t.logger&&(jt=$t),t.fieldTitle&&An(vn)}},e.extractTransforms=function(e,t){return nd.map(e,{config:t})},e.normalize=Cr,e.version=id,Object.defineProperty(e,"__esModule",{value:!0})});
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("vega"),require("vega-lite")):"function"==typeof define&&define.amd?define(["vega","vega-lite"],t):(e=e||self).vegaEmbed=t(e.vega,e.vl)}(this,function(e,t){"use strict";var n="http://www.w3.org/1999/xhtml",r={svg:"http://www.w3.org/2000/svg",xhtml:n,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function i(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),r.hasOwnProperty(t)?{space:r[t],local:e}:e}function o(e){var t=i(e);return(t.local?function(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}:function(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===n&&t.documentElement.namespaceURI===n?t.createElement(e):t.createElementNS(r,e)}})(t)}function a(){}function s(e){return null==e?a:function(){return this.querySelector(e)}}function l(){return[]}function c(e){return new Array(e.length)}function u(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}u.prototype={constructor:u,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var f="$";function p(e,t,n,r,i,o){for(var a,s=0,l=t.length,c=o.length;s<c;++s)(a=t[s])?(a.__data__=o[s],r[s]=a):n[s]=new u(e,o[s]);for(;s<l;++s)(a=t[s])&&(i[s]=a)}function h(e,t,n,r,i,o,a){var s,l,c,p={},h=t.length,d=o.length,g=new Array(h);for(s=0;s<h;++s)(l=t[s])&&(g[s]=c=f+a.call(l,l.__data__,s,t),c in p?i[s]=l:p[c]=l);for(s=0;s<d;++s)(l=p[c=f+a.call(e,o[s],s,o)])?(r[s]=l,l.__data__=o[s],p[c]=null):n[s]=new u(e,o[s]);for(s=0;s<h;++s)(l=t[s])&&p[g[s]]===l&&(i[s]=l)}function d(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function g(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function m(e){return e.trim().split(/^|\s+/)}function v(e){return e.classList||new b(e)}function b(e){this._node=e,this._names=m(e.getAttribute("class")||"")}function y(e,t){for(var n=v(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function w(e,t){for(var n=v(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function x(){this.textContent=""}function _(){this.innerHTML=""}function S(){this.nextSibling&&this.parentNode.appendChild(this)}function k(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function C(){return null}function E(){var e=this.parentNode;e&&e.removeChild(this)}function A(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function j(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}b.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var O={},z=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(O={mouseenter:"mouseover",mouseleave:"mouseout"}));function N(e,t,n){return e=P(e,t,n),function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}function P(e,t,n){return function(r){var i=z;z=r;try{e.call(this,this.__data__,t,n)}finally{z=i}}}function T(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,o=t.length;r<o;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?t.length=i:delete this.__on}}}function $(e,t,n){var r=O.hasOwnProperty(e.type)?N:P;return function(i,o,a){var s,l=this.__on,c=r(t,o,a);if(l)for(var u=0,f=l.length;u<f;++u)if((s=l[u]).type===e.type&&s.name===e.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=c,s.capture=n),void(s.value=t);this.addEventListener(e.type,c,n),s={type:e.type,name:e.name,value:t,listener:c,capture:n},l?l.push(s):this.__on=[s]}}function F(e,t,n){var r=g(e),i=r.CustomEvent;"function"==typeof i?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}var I=[null];function W(e,t){this._groups=e,this._parents=t}function L(){return new W([[document.documentElement]],I)}W.prototype=L.prototype={constructor:W,select:function(e){"function"!=typeof e&&(e=s(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,a,l=t[i],c=l.length,u=r[i]=new Array(c),f=0;f<c;++f)(o=l[f])&&(a=e.call(o,o.__data__,f,l))&&("__data__"in o&&(a.__data__=o.__data__),u[f]=a);return new W(r,this._parents)},selectAll:function(e){var t;"function"!=typeof e&&(e=null==(t=e)?l:function(){return this.querySelectorAll(t)});for(var n=this._groups,r=n.length,i=[],o=[],a=0;a<r;++a)for(var s,c=n[a],u=c.length,f=0;f<u;++f)(s=c[f])&&(i.push(e.call(s,s.__data__,f,c)),o.push(s));return new W(i,o)},filter:function(e){var t;"function"!=typeof e&&(t=e,e=function(){return this.matches(t)});for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o)for(var a,s=n[o],l=s.length,c=i[o]=[],u=0;u<l;++u)(a=s[u])&&e.call(a,a.__data__,u,s)&&c.push(a);return new W(i,this._parents)},data:function(e,t){if(!e)return m=new Array(this.size()),u=-1,this.each(function(e){m[++u]=e}),m;var n,r=t?h:p,i=this._parents,o=this._groups;"function"!=typeof e&&(n=e,e=function(){return n});for(var a=o.length,s=new Array(a),l=new Array(a),c=new Array(a),u=0;u<a;++u){var f=i[u],d=o[u],g=d.length,m=e.call(f,f&&f.__data__,u,i),v=m.length,b=l[u]=new Array(v),y=s[u]=new Array(v);r(f,d,b,y,c[u]=new Array(g),m,t);for(var w,x,_=0,S=0;_<v;++_)if(w=b[_]){for(_>=S&&(S=_+1);!(x=y[S])&&++S<v;);w._next=x||null}}return(s=new W(s,i))._enter=l,s._exit=c,s},enter:function(){return new W(this._enter||this._groups.map(c),this._parents)},exit:function(){return new W(this._exit||this._groups.map(c),this._parents)},join:function(e,t,n){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof e?e(r):r.append(e+""),null!=t&&(i=t(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(e){for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l,c=t[s],u=n[s],f=c.length,p=a[s]=new Array(f),h=0;h<f;++h)(l=c[h]||u[h])&&(p[h]=l);for(;s<r;++s)a[s]=t[s];return new W(a,this._parents)},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,i=e[t],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=d);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],l=s.length,c=i[o]=new Array(l),u=0;u<l;++u)(a=s[u])&&(c[u]=a);c.sort(t)}return new W(i,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){var e=new Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var e=0;return this.each(function(){++e}),e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i,o=t[n],a=0,s=o.length;a<s;++a)(i=o[a])&&e.call(i,i.__data__,a,o);return this},attr:function(e,t){var n=i(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?function(e){return function(){this.removeAttributeNS(e.space,e.local)}}:function(e){return function(){this.removeAttribute(e)}}:"function"==typeof t?n.local?function(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}:function(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}:n.local?function(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}:function(e,t){return function(){this.setAttribute(e,t)}})(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?function(e){return function(){this.style.removeProperty(e)}}:"function"==typeof t?function(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}:function(e,t,n){return function(){this.style.setProperty(e,t,n)}})(e,t,null==n?"":n)):function(e,t){return e.style.getPropertyValue(t)||g(e).getComputedStyle(e,null).getPropertyValue(t)}(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?function(e){return function(){delete this[e]}}:"function"==typeof t?function(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}:function(e,t){return function(){this[e]=t}})(e,t)):this.node()[e]},classed:function(e,t){var n=m(e+"");if(arguments.length<2){for(var r=v(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof t?function(e,t){return function(){(t.apply(this,arguments)?y:w)(this,e)}}:t?function(e){return function(){y(this,e)}}:function(e){return function(){w(this,e)}})(n,t))},text:function(e){return arguments.length?this.each(null==e?x:("function"==typeof e?function(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}:function(e){return function(){this.textContent=e}})(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?_:("function"==typeof e?function(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}:function(e){return function(){this.innerHTML=e}})(e)):this.node().innerHTML},raise:function(){return this.each(S)},lower:function(){return this.each(k)},append:function(e){var t="function"==typeof e?e:o(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(e,t){var n="function"==typeof e?e:o(e),r=null==t?C:"function"==typeof t?t:s(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(E)},clone:function(e){return this.select(e?j:A)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,i,o=function(e){return e.trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}})}(e+""),a=o.length;if(!(arguments.length<2)){for(s=t?$:T,null==n&&(n=!1),r=0;r<a;++r)this.each(s(o[r],t,n));return this}var s=this.node().__on;if(s)for(var l,c=0,u=s.length;c<u;++c)for(r=0,l=s[c];r<a;++r)if((i=o[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"==typeof t?function(e,t){return function(){return F(this,e,t.apply(this,arguments))}}:function(e,t){return function(){return F(this,e,t)}})(e,t))}};var B="4.0.0";function D(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})}var R=/("(?:[^\\"]|\\.)*")|[:,]/g,V=function(e,t){var n,r,i;return t=t||{},n=JSON.stringify([1],void 0,void 0===t.indent?2:t.indent).slice(2,-3),r=""===n?1/0:void 0===t.maxLength?80:t.maxLength,i=t.replacer,function e(t,o,a){var s,l,c,u,f,p,h,d,g,m,v,b;if(t&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0===(v=JSON.stringify(t,i)))return v;if(h=r-o.length-a,v.length<=h&&(g=v.replace(R,function(e,t){return t||e+" "})).length<=h)return g;if(null!=i&&(t=JSON.parse(v),i=void 0),"object"==typeof t&&null!==t){if(d=o+n,c=[],l=0,Array.isArray(t))for(m="[",s="]",h=t.length;l<h;l++)c.push(e(t[l],d,l===h-1?0:1)||"null");else for(m="{",s="}",h=(p=Object.keys(t)).length;l<h;l++)u=p[l],f=JSON.stringify(u)+": ",void 0!==(b=e(t[u],d,f.length+(l===h-1?0:1)))&&c.push(f+b);if(c.length>0)return[m,n+c.join(",\n"+d),s].join("\n"+o)}return v}(e,"",0)};function M(e,t){return e(t={exports:{}},t.exports),t.exports}var q,X=M(function(e,t){var n;t=e.exports=J,n="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},t.SEMVER_SPEC_VERSION="2.0.0";var r=256,i=Number.MAX_SAFE_INTEGER||9007199254740991,o=t.re=[],a=t.src=[],s=0,l=s++;a[l]="0|[1-9]\\d*";var c=s++;a[c]="[0-9]+";var u=s++;a[u]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var f=s++;a[f]="("+a[l]+")\\.("+a[l]+")\\.("+a[l]+")";var p=s++;a[p]="("+a[c]+")\\.("+a[c]+")\\.("+a[c]+")";var h=s++;a[h]="(?:"+a[l]+"|"+a[u]+")";var d=s++;a[d]="(?:"+a[c]+"|"+a[u]+")";var g=s++;a[g]="(?:-("+a[h]+"(?:\\."+a[h]+")*))";var m=s++;a[m]="(?:-?("+a[d]+"(?:\\."+a[d]+")*))";var v=s++;a[v]="[0-9A-Za-z-]+";var b=s++;a[b]="(?:\\+("+a[v]+"(?:\\."+a[v]+")*))";var y=s++,w="v?"+a[f]+a[g]+"?"+a[b]+"?";a[y]="^"+w+"$";var x="[v=\\s]*"+a[p]+a[m]+"?"+a[b]+"?",_=s++;a[_]="^"+x+"$";var S=s++;a[S]="((?:<|>)?=?)";var k=s++;a[k]=a[c]+"|x|X|\\*";var C=s++;a[C]=a[l]+"|x|X|\\*";var E=s++;a[E]="[v=\\s]*("+a[C]+")(?:\\.("+a[C]+")(?:\\.("+a[C]+")(?:"+a[g]+")?"+a[b]+"?)?)?";var A=s++;a[A]="[v=\\s]*("+a[k]+")(?:\\.("+a[k]+")(?:\\.("+a[k]+")(?:"+a[m]+")?"+a[b]+"?)?)?";var j=s++;a[j]="^"+a[S]+"\\s*"+a[E]+"$";var O=s++;a[O]="^"+a[S]+"\\s*"+a[A]+"$";var z=s++;a[z]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var N=s++;a[N]="(?:~>?)";var P=s++;a[P]="(\\s*)"+a[N]+"\\s+",o[P]=new RegExp(a[P],"g");var T=s++;a[T]="^"+a[N]+a[E]+"$";var $=s++;a[$]="^"+a[N]+a[A]+"$";var F=s++;a[F]="(?:\\^)";var I=s++;a[I]="(\\s*)"+a[F]+"\\s+",o[I]=new RegExp(a[I],"g");var W=s++;a[W]="^"+a[F]+a[E]+"$";var L=s++;a[L]="^"+a[F]+a[A]+"$";var B=s++;a[B]="^"+a[S]+"\\s*("+x+")$|^$";var D=s++;a[D]="^"+a[S]+"\\s*("+w+")$|^$";var R=s++;a[R]="(\\s*)"+a[S]+"\\s*("+x+"|"+a[E]+")",o[R]=new RegExp(a[R],"g");var V=s++;a[V]="^\\s*("+a[E]+")\\s+-\\s+("+a[E]+")\\s*$";var M=s++;a[M]="^\\s*("+a[A]+")\\s+-\\s+("+a[A]+")\\s*$";var q=s++;a[q]="(<|>)?=?\\s*\\*";for(var X=0;X<35;X++)n(X,a[X]),o[X]||(o[X]=new RegExp(a[X]));function H(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof J)return e;if("string"!=typeof e)return null;if(e.length>r)return null;if(!(t.loose?o[_]:o[y]).test(e))return null;try{return new J(e,t)}catch(e){return null}}function J(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof J){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>r)throw new TypeError("version is longer than "+r+" characters");if(!(this instanceof J))return new J(e,t);n("SemVer",e,t),this.options=t,this.loose=!!t.loose;var a=e.trim().match(t.loose?o[_]:o[y]);if(!a)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+a[1],this.minor=+a[2],this.patch=+a[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");a[4]?this.prerelease=a[4].split(".").map(function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<i)return t}return e}):this.prerelease=[],this.build=a[5]?a[5].split("."):[],this.format()}t.parse=H,t.valid=function(e,t){var n=H(e,t);return n?n.version:null},t.clean=function(e,t){var n=H(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null},t.SemVer=J,J.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},J.prototype.toString=function(){return this.version},J.prototype.compare=function(e){return n("SemVer.compare",this.version,this.options,e),e instanceof J||(e=new J(e,this.options)),this.compareMain(e)||this.comparePre(e)},J.prototype.compareMain=function(e){return e instanceof J||(e=new J(e,this.options)),G(this.major,e.major)||G(this.minor,e.minor)||G(this.patch,e.patch)},J.prototype.comparePre=function(e){if(e instanceof J||(e=new J(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var r=this.prerelease[t],i=e.prerelease[t];if(n("prerelease compare",t,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return G(r,i)}while(++t)},J.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);-1===n&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},t.inc=function(e,t,n,r){"string"==typeof n&&(r=n,n=void 0);try{return new J(e,n).inc(t,r).version}catch(e){return null}},t.diff=function(e,t){if(Q(e,t))return null;var n=H(e),r=H(t);if(n.prerelease.length||r.prerelease.length){for(var i in n)if(("major"===i||"minor"===i||"patch"===i)&&n[i]!==r[i])return"pre"+i;return"prerelease"}for(var i in n)if(("major"===i||"minor"===i||"patch"===i)&&n[i]!==r[i])return i},t.compareIdentifiers=G;var U=/^[0-9]+$/;function G(e,t){var n=U.test(e),r=U.test(t);return n&&r&&(e=+e,t=+t),n&&!r?-1:r&&!n?1:e<t?-1:e>t?1:0}function Y(e,t,n){return new J(e,n).compare(new J(t,n))}function Z(e,t,n){return Y(e,t,n)>0}function K(e,t,n){return Y(e,t,n)<0}function Q(e,t,n){return 0===Y(e,t,n)}function ee(e,t,n){return 0!==Y(e,t,n)}function te(e,t,n){return Y(e,t,n)>=0}function ne(e,t,n){return Y(e,t,n)<=0}function re(e,t,n,r){var i;switch(t){case"===":"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),i=e===n;break;case"!==":"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),i=e!==n;break;case"":case"=":case"==":i=Q(e,n,r);break;case"!=":i=ee(e,n,r);break;case">":i=Z(e,n,r);break;case">=":i=te(e,n,r);break;case"<":i=K(e,n,r);break;case"<=":i=ne(e,n,r);break;default:throw new TypeError("Invalid operator: "+t)}return i}function ie(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof ie){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof ie))return new ie(e,t);n("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===oe?this.value="":this.value=this.operator+this.semver.version,n("comp",this)}t.rcompareIdentifiers=function(e,t){return G(t,e)},t.major=function(e,t){return new J(e,t).major},t.minor=function(e,t){return new J(e,t).minor},t.patch=function(e,t){return new J(e,t).patch},t.compare=Y,t.compareLoose=function(e,t){return Y(e,t,!0)},t.rcompare=function(e,t,n){return Y(t,e,n)},t.sort=function(e,n){return e.sort(function(e,r){return t.compare(e,r,n)})},t.rsort=function(e,n){return e.sort(function(e,r){return t.rcompare(e,r,n)})},t.gt=Z,t.lt=K,t.eq=Q,t.neq=ee,t.gte=te,t.lte=ne,t.cmp=re,t.Comparator=ie;var oe={};function ae(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof ae)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new ae(e.raw,t);if(e instanceof ie)return new ae(e.value,t);if(!(this instanceof ae))return new ae(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(function(e){return this.parseRange(e.trim())},this).filter(function(e){return e.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function se(e){return!e||"x"===e.toLowerCase()||"*"===e}function le(e,t,n,r,i,o,a,s,l,c,u,f,p){return((t=se(n)?"":se(r)?">="+n+".0.0":se(i)?">="+n+"."+r+".0":">="+t)+" "+(s=se(l)?"":se(c)?"<"+(+l+1)+".0.0":se(u)?"<"+l+"."+(+c+1)+".0":f?"<="+l+"."+c+"."+u+"-"+f:"<="+s)).trim()}function ce(e,t,r){for(var i=0;i<e.length;i++)if(!e[i].test(t))return!1;if(r||(r={}),t.prerelease.length&&!r.includePrerelease){for(i=0;i<e.length;i++)if(n(e[i].semver),e[i].semver!==oe&&e[i].semver.prerelease.length>0){var o=e[i].semver;if(o.major===t.major&&o.minor===t.minor&&o.patch===t.patch)return!0}return!1}return!0}function ue(e,t,n){try{t=new ae(t,n)}catch(e){return!1}return t.test(e)}function fe(e,t,n,r){var i,o,a,s,l;switch(e=new J(e,r),t=new ae(t,r),n){case">":i=Z,o=ne,a=K,s=">",l=">=";break;case"<":i=K,o=te,a=Z,s="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(ue(e,t,r))return!1;for(var c=0;c<t.set.length;++c){var u=t.set[c],f=null,p=null;if(u.forEach(function(e){e.semver===oe&&(e=new ie(">=0.0.0")),f=f||e,p=p||e,i(e.semver,f.semver,r)?f=e:a(e.semver,p.semver,r)&&(p=e)}),f.operator===s||f.operator===l)return!1;if((!p.operator||p.operator===s)&&o(e,p.semver))return!1;if(p.operator===l&&a(e,p.semver))return!1}return!0}ie.prototype.parse=function(e){var t=this.options.loose?o[B]:o[D],n=e.match(t);if(!n)throw new TypeError("Invalid comparator: "+e);this.operator=n[1],"="===this.operator&&(this.operator=""),n[2]?this.semver=new J(n[2],this.options.loose):this.semver=oe},ie.prototype.toString=function(){return this.value},ie.prototype.test=function(e){return n("Comparator.test",e,this.options.loose),this.semver===oe||("string"==typeof e&&(e=new J(e,this.options)),re(e,this.operator,this.semver,this.options))},ie.prototype.intersects=function(e,t){if(!(e instanceof ie))throw new TypeError("a Comparator is required");var n;if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return n=new ae(e.value,t),ue(this.value,n,t);if(""===e.operator)return n=new ae(this.value,t),ue(e.semver,n,t);var r=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),i=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),o=this.semver.version===e.semver.version,a=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),s=re(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),l=re(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return r||i||o&&a||s||l},t.Range=ae,ae.prototype.format=function(){return this.range=this.set.map(function(e){return e.join(" ").trim()}).join("||").trim(),this.range},ae.prototype.toString=function(){return this.range},ae.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var r=t?o[M]:o[V];e=e.replace(r,le),n("hyphen replace",e),e=e.replace(o[R],"$1$2$3"),n("comparator trim",e,o[R]),e=(e=(e=e.replace(o[P],"$1~")).replace(o[I],"$1^")).split(/\s+/).join(" ");var i=t?o[B]:o[D],a=e.split(" ").map(function(e){return function(e,t){return n("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map(function(e){return function(e,t){n("caret",e,t),t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1});var r=t.loose?o[L]:o[W];return e.replace(r,function(t,r,i,o,a){var s;return n("caret",e,t,r,i,o,a),se(r)?s="":se(i)?s=">="+r+".0.0 <"+(+r+1)+".0.0":se(o)?s="0"===r?">="+r+"."+i+".0 <"+r+"."+(+i+1)+".0":">="+r+"."+i+".0 <"+(+r+1)+".0.0":a?(n("replaceCaret pr",a),"-"!==a.charAt(0)&&(a="-"+a),s="0"===r?"0"===i?">="+r+"."+i+"."+o+a+" <"+r+"."+i+"."+(+o+1):">="+r+"."+i+"."+o+a+" <"+r+"."+(+i+1)+".0":">="+r+"."+i+"."+o+a+" <"+(+r+1)+".0.0"):(n("no pr"),s="0"===r?"0"===i?">="+r+"."+i+"."+o+" <"+r+"."+i+"."+(+o+1):">="+r+"."+i+"."+o+" <"+r+"."+(+i+1)+".0":">="+r+"."+i+"."+o+" <"+(+r+1)+".0.0"),n("caret return",s),s})}(e,t)}).join(" ")}(e,t),n("caret",e),e=function(e,t){return e.trim().split(/\s+/).map(function(e){return function(e,t){t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1});var r=t.loose?o[$]:o[T];return e.replace(r,function(t,r,i,o,a){var s;return n("tilde",e,t,r,i,o,a),se(r)?s="":se(i)?s=">="+r+".0.0 <"+(+r+1)+".0.0":se(o)?s=">="+r+"."+i+".0 <"+r+"."+(+i+1)+".0":a?(n("replaceTilde pr",a),"-"!==a.charAt(0)&&(a="-"+a),s=">="+r+"."+i+"."+o+a+" <"+r+"."+(+i+1)+".0"):s=">="+r+"."+i+"."+o+" <"+r+"."+(+i+1)+".0",n("tilde return",s),s})}(e,t)}).join(" ")}(e,t),n("tildes",e),e=function(e,t){return n("replaceXRanges",e,t),e.split(/\s+/).map(function(e){return function(e,t){e=e.trim(),t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1});var r=t.loose?o[O]:o[j];return e.replace(r,function(t,r,i,o,a,s){n("xRange",e,t,r,i,o,a,s);var l=se(i),c=l||se(o),u=c||se(a),f=u;return"="===r&&f&&(r=""),l?t=">"===r||"<"===r?"<0.0.0":"*":r&&f?(c&&(o=0),u&&(a=0),">"===r?(r=">=",c?(i=+i+1,o=0,a=0):u&&(o=+o+1,a=0)):"<="===r&&(r="<",c?i=+i+1:o=+o+1),t=r+i+"."+o+"."+a):c?t=">="+i+".0.0 <"+(+i+1)+".0.0":u&&(t=">="+i+"."+o+".0 <"+i+"."+(+o+1)+".0"),n("xRange return",t),t})}(e,t)}).join(" ")}(e,t),n("xrange",e),e=function(e,t){return n("replaceStars",e,t),e.trim().replace(o[q],"")}(e,t),n("stars",e),e}(e,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(a=a.filter(function(e){return!!e.match(i)})),a=a.map(function(e){return new ie(e,this.options)},this)},ae.prototype.intersects=function(e,t){if(!(e instanceof ae))throw new TypeError("a Range is required");return this.set.some(function(n){return n.every(function(n){return e.set.some(function(e){return e.every(function(e){return n.intersects(e,t)})})})})},t.toComparators=function(e,t){return new ae(e,t).set.map(function(e){return e.map(function(e){return e.value}).join(" ").trim().split(" ")})},ae.prototype.test=function(e){if(!e)return!1;"string"==typeof e&&(e=new J(e,this.options));for(var t=0;t<this.set.length;t++)if(ce(this.set[t],e,this.options))return!0;return!1},t.satisfies=ue,t.maxSatisfying=function(e,t,n){var r=null,i=null;try{var o=new ae(t,n)}catch(e){return null}return e.forEach(function(e){o.test(e)&&(r&&-1!==i.compare(e)||(i=new J(r=e,n)))}),r},t.minSatisfying=function(e,t,n){var r=null,i=null;try{var o=new ae(t,n)}catch(e){return null}return e.forEach(function(e){o.test(e)&&(r&&1!==i.compare(e)||(i=new J(r=e,n)))}),r},t.validRange=function(e,t){try{return new ae(e,t).range||"*"}catch(e){return null}},t.ltr=function(e,t,n){return fe(e,t,"<",n)},t.gtr=function(e,t,n){return fe(e,t,">",n)},t.outside=fe,t.prerelease=function(e,t){var n=H(e,t);return n&&n.prerelease.length?n.prerelease:null},t.intersects=function(e,t,n){return e=new ae(e,n),t=new ae(t,n),e.intersects(t)},t.coerce=function(e){if(e instanceof J)return e;if("string"!=typeof e)return null;var t=e.match(o[z]);return null==t?null:H((t[1]||"0")+"."+(t[2]||"0")+"."+(t[3]||"0"))}}),H=(X.SEMVER_SPEC_VERSION,X.re,X.src,X.parse,X.valid,X.clean,X.SemVer,X.inc,X.diff,X.compareIdentifiers,X.rcompareIdentifiers,X.major,X.minor,X.patch,X.compare,X.compareLoose,X.rcompare,X.sort,X.rsort,X.gt,X.lt,X.eq,X.neq,X.gte,X.lte,X.cmp,X.Comparator,X.Range,X.toComparators,X.satisfies),J=(X.maxSatisfying,X.minSatisfying,X.validRange,X.ltr,X.gtr,X.outside,X.prerelease,X.intersects,X.coerce,M(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=/\/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(e).slice(1,3);return{library:t[0],version:t[1]}}})),U=(q=J)&&q.__esModule&&Object.prototype.hasOwnProperty.call(q,"default")?q.default:q;const G={background:"#fff",arc:{fill:"#4572a7"},area:{fill:"#4572a7"},line:{stroke:"#4572a7",strokeWidth:2},path:{stroke:"#4572a7"},rect:{fill:"#4572a7"},shape:{stroke:"#4572a7"},symbol:{fill:"#4572a7",strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:["#4572a7","#aa4643","#8aa453","#71598e","#4598ae","#d98445","#94aace","#d09393","#b9cc98","#a99cbc"]}},Y={group:{fill:"#e5e5e5"},arc:{fill:"#000"},area:{fill:"#000"},line:{stroke:"#000"},path:{stroke:"#000"},rect:{fill:"#000"},shape:{stroke:"#000"},symbol:{fill:"#000",size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:["#000000","#7F7F7F","#1A1A1A","#999999","#333333","#B0B0B0","#4D4D4D","#C9C9C9","#666666","#DCDCDC"]}},Z={background:"#f9f9f9",arc:{fill:"#ab5787"},area:{fill:"#ab5787"},line:{stroke:"#ab5787"},path:{stroke:"#ab5787"},rect:{fill:"#ab5787"},shape:{stroke:"#ab5787"},symbol:{fill:"#ab5787",size:30},axis:{domainColor:"#979797",domainWidth:.5,gridWidth:.2,labelColor:"#979797",tickColor:"#979797",tickWidth:.2,titleColor:"#979797"},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:["#ab5787","#51b2e5","#703c5c","#168dd9","#d190b6","#00609f","#d365ba","#154866","#666666","#c4c4c4"]}},K={background:"#fff",arc:{fill:"#3e5c69"},area:{fill:"#3e5c69"},line:{stroke:"#3e5c69"},path:{stroke:"#3e5c69"},rect:{fill:"#3e5c69"},shape:{stroke:"#3e5c69"},symbol:{fill:"#3e5c69"},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:["#3e5c69","#6793a6","#182429","#0570b0","#3690c0","#74a9cf","#a6bddb","#e2ddf2"]}},Q={background:"#333",title:{color:"#fff"},style:{"guide-label":{fill:"#fff"},"guide-title":{fill:"#fff"}},axis:{domainColor:"#fff",gridColor:"#888",tickColor:"#fff"}},ee={arc:{fill:"#30a2da"},area:{fill:"#30a2da"},axisBand:{grid:!1},axisBottom:{domain:!1,domainColor:"#333",domainWidth:3,grid:!0,gridColor:"#cbcbcb",gridWidth:1,labelColor:"#999",labelFontSize:10,labelPadding:4,tickColor:"#cbcbcb",tickSize:10,titleFontSize:14,titlePadding:10},axisLeft:{domainColor:"#cbcbcb",domainWidth:1,grid:!0,gridColor:"#cbcbcb",gridWidth:1,labelColor:"#999",labelFontSize:10,labelPadding:4,tickColor:"#cbcbcb",tickSize:10,ticks:!0,titleFontSize:14,titlePadding:10},axisRight:{domainColor:"#333",domainWidth:1,grid:!0,gridColor:"#cbcbcb",gridWidth:1,labelColor:"#999",labelFontSize:10,labelPadding:4,tickColor:"#cbcbcb",tickSize:10,ticks:!0,titleFontSize:14,titlePadding:10},axisTop:{domain:!1,domainColor:"#333",domainWidth:3,grid:!0,gridColor:"#cbcbcb",gridWidth:1,labelColor:"#999",labelFontSize:10,labelPadding:4,tickColor:"#cbcbcb",tickSize:10,titleFontSize:14,titlePadding:10},background:"#f0f0f0",group:{fill:"#f0f0f0"},legend:{labelColor:"#333",labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:"#333",titleFontSize:14,titlePadding:10},line:{stroke:"#30a2da",strokeWidth:2},path:{stroke:"#30a2da",strokeWidth:.5},rect:{fill:"#30a2da"},range:{category:["#30a2da","#fc4f30","#e5ae38","#6d904f","#8b8b8b","#b96db8","#ff9e27","#56cc60","#52d2ca","#52689e","#545454","#9fe4f8"],diverging:["#cc0020","#e77866","#f6e7e1","#d6e8ed","#91bfd9","#1d78b5"],heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},symbol:{filled:!0,shape:"circle"},shape:{stroke:"#30a2da"},style:{bar:{binSpacing:2,fill:"#30a2da",stroke:null}},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},te="Benton Gothic Bold, sans",ne={"category-6":["#ec8431","#829eb1","#c89d29","#3580b1","#adc839","#ab7fb4"],"fire-7":["#fbf2c7","#f9e39c","#f8d36e","#f4bb6a","#e68a4f","#d15a40","#ab4232"],"fireandice-6":["#e68a4f","#f4bb6a","#f9e39c","#dadfe2","#a6b7c6","#849eae"],"ice-7":["#edefee","#dadfe2","#c4ccd2","#a6b7c6","#849eae","#607785","#47525d"]},re={background:"#ffffff",title:{anchor:"start",font:te,fontColor:"#000000",fontSize:22,fontWeight:"normal"},arc:{fill:"#82c6df"},area:{fill:"#82c6df"},line:{stroke:"#82c6df",strokeWidth:2},path:{stroke:"#82c6df"},rect:{fill:"#82c6df"},shape:{stroke:"#82c6df"},symbol:{fill:"#82c6df",size:30},axis:{labelFont:"Benton Gothic, sans",labelFontSize:11.5,labelFontWeight:"normal",titleFont:te,titleFontSize:13,titleFontWeight:"normal"},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:"Benton Gothic, sans",labelFontSize:11.5,symbolType:"square",titleFont:te,titleFontSize:13,titleFontWeight:"normal"},range:{category:ne["category-6"],diverging:ne["fireandice-6"],heatmap:ne["fire-7"],ordinal:ne["fire-7"],ramp:ne["fire-7"]}};var ie=Object.freeze({excel:G,ggplot2:Y,quartz:Z,vox:K,dark:Q,fivethirtyeight:ee,latimes:re}),oe="#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black; }\n  #vg-tooltip-element.visible {\n    visibility: visible; }\n  #vg-tooltip-element h2 {\n    margin-top: 0;\n    margin-bottom: 10px;\n    font-size: 13px; }\n  #vg-tooltip-element table {\n    border-spacing: 0; }\n    #vg-tooltip-element table tr {\n      border: none; }\n      #vg-tooltip-element table tr td {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        padding-top: 2px;\n        padding-bottom: 2px; }\n        #vg-tooltip-element table tr td.key {\n          color: #808080;\n          max-width: 150px;\n          text-align: right;\n          padding-right: 4px; }\n        #vg-tooltip-element table tr td.value {\n          display: block;\n          max-width: 300px;\n          max-height: 7em;\n          text-align: left; }\n  #vg-tooltip-element.dark-theme {\n    background-color: rgba(32, 32, 32, 0.9);\n    border: 1px solid #f5f5f5;\n    color: white; }\n    #vg-tooltip-element.dark-theme td.key {\n      color: #bfbfbf; }\n";const ae="vg-tooltip-element",se={offsetX:10,offsetY:10,id:ae,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;")},maxDepth:2};function le(e,t,n){return e.fields=t||[],e.fname=n,e}function ce(e){throw Error(e)}var ue=Array.isArray;function fe(e){return e===Object(e)}function pe(e){return"string"==typeof e}function he(e){return ue(e)?"["+e.map(he)+"]":fe(e)||pe(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}var de=[],ge=(function(e,t){var n=function(e){var t,n,r,i=[],o=null,a=0,s=e.length,l="";function c(){i.push(l+e.substring(t,n)),l="",t=n+1}for(e+="",t=n=0;n<s;++n)if("\\"===(r=e[n]))l+=e.substring(t,n),t=++n;else if(r===o)c(),o=null,a=-1;else{if(o)continue;t===a&&'"'===r?(t=n+1,o=r):t===a&&"'"===r?(t=n+1,o=r):"."!==r||a?"["===r?(n>t&&c(),a=t=n+1):"]"===r&&(a||ce("Access path missing open bracket: "+e),a>0&&c(),a=0,t=n+1):n>t?c():t=n+1}return a&&ce("Access path missing closing bracket: "+e),o&&ce("Access path missing closing quote: "+e),n>t&&(n++,c()),i}(e),r="return _["+n.map(he).join("][")+"];";le(Function("_",r),[e=1===n.length?n[0]:e],t||e)}("id"),le(function(e){return e},de,"identity"),le(function(){return 0},de,"zero"),le(function(){return 1},de,"one"),le(function(){return!0},de,"true"),le(function(){return!1},de,"false"),function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]])}return n});function me(e,t){return JSON.stringify(e,function(e){const t=[];return function(n,r){if("object"!=typeof r||null===r)return r;const i=t.indexOf(this)+1;return t.length=i,t.length>e?"[Object]":t.indexOf(r)>=0?"[Circular]":(t.push(r),r)}}(t))}class ve{constructor(e){this.options=Object.assign({},se,e);const t=this.options.id;if(this.call=this.tooltip_handler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const e=document.createElement("style");e.setAttribute("id",this.options.styleId),e.innerHTML=function(e){if(!/^[A-Za-z]+[-:.\w]*$/.test(e))throw new Error("Invalid HTML ID");return oe.toString().replace(ae,e)}(t);const n=document.head;n.childNodes.length>0?n.insertBefore(e,n.childNodes[0]):n.appendChild(e)}this.el=document.getElementById(t),this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",t),this.el.classList.add("vg-tooltip"),document.body.appendChild(this.el))}tooltip_handler(e,t,n,r){if(null==r||""===r)return void this.el.classList.remove("visible",`${this.options.theme}-theme`);this.el.innerHTML=function(e,t,n){if(ue(e))return`[${e.map(e=>t(pe(e)?e:me(e,n))).join(", ")}]`;if(fe(e)){let r="";const i=e,{title:o}=i,a=ge(i,["title"]);o&&(r+=`<h2>${t(o)}</h2>`);const s=Object.keys(a);if(s.length>0){r+="<table>";for(const e of s){let i=a[e];fe(i)&&(i=me(i,n)),r+=`<tr><td class="key">${t(e)}:</td><td class="value">${t(i)}</td></tr>`}r+="</table>"}return r||"{}"}return t(e)}(r,this.options.sanitize,this.options.maxDepth),this.el.classList.add("visible",`${this.options.theme}-theme`);const{x:i,y:o}=function(e,t,n,r){let i=e.clientX+n;i+t.width>window.innerWidth&&(i=+e.clientX-n-t.width);let o=e.clientY+r;return o+t.height>window.innerHeight&&(o=+e.clientY-r-t.height),{x:i,y:o}}(t,this.el.getBoundingClientRect(),this.options.offsetX,this.options.offsetY);this.el.setAttribute("style",`top: ${o}px; left: ${i}px`)}}var be='.vega-embed {\n  position: relative;\n  display: inline-block;\n  padding-right: 38px; }\n  .vega-embed details:not([open]) > :not(summary) {\n    display: none !important; }\n  .vega-embed summary {\n    list-style: none;\n    display: flex;\n    position: absolute;\n    top: 0;\n    right: 0;\n    padding: 6px;\n    z-index: 1000;\n    background: white;\n    box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);\n    color: #1b1e23;\n    border: 1px solid #aaa;\n    border-radius: 999px;\n    opacity: 0.2;\n    transition: opacity 0.4s ease-in;\n    outline: none;\n    cursor: pointer; }\n    .vega-embed summary::-webkit-details-marker {\n      display: none; }\n  .vega-embed details[open] summary {\n    opacity: 0.7; }\n  .vega-embed:hover summary,\n  .vega-embed:focus summary {\n    opacity: 1 !important;\n    transition: opacity 0.2s ease; }\n  .vega-embed .vega-actions {\n    position: absolute;\n    top: 35px;\n    right: -9px;\n    display: flex;\n    flex-direction: column;\n    padding-bottom: 8px;\n    padding-top: 8px;\n    border-radius: 4px;\n    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);\n    border: 1px solid #d9d9d9;\n    background: white;\n    animation-duration: 0.15s;\n    animation-name: scale-in;\n    animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5); }\n    .vega-embed .vega-actions a {\n      padding: 8px 16px;\n      font-family: sans-serif;\n      font-size: 14px;\n      font-weight: 600;\n      white-space: nowrap;\n      color: #434a56;\n      text-decoration: none; }\n      .vega-embed .vega-actions a:hover {\n        background-color: #f7f7f9;\n        color: black; }\n    .vega-embed .vega-actions::before, .vega-embed .vega-actions::after {\n      content: "";\n      display: inline-block;\n      position: absolute; }\n    .vega-embed .vega-actions::before {\n      left: auto;\n      right: 14px;\n      top: -16px;\n      border: 8px solid #0000;\n      border-bottom-color: #d9d9d9; }\n    .vega-embed .vega-actions::after {\n      left: auto;\n      right: 15px;\n      top: -14px;\n      border: 7px solid #0000;\n      border-bottom-color: #fff; }\n\n.vega-embed-wrapper {\n  max-width: 100%;\n  overflow: scroll;\n  padding-right: 14px; }\n\n@keyframes scale-in {\n  from {\n    opacity: 0;\n    transform: scale(0.6); }\n  to {\n    opacity: 1;\n    transform: scale(1); } }\n';function ye(e,...t){for(const n of t)e=we(e,n);return e}function we(t,n){if("object"!=typeof n||null===n)return t;for(const r in n)n.hasOwnProperty(r)&&void 0!==n[r]&&("object"!=typeof n[r]||e.isArray(n[r])||null===n[r]?t[r]=n[r]:"object"!=typeof t[r]||null===t[r]?t[r]=ye(e.isArray(n[r].constructor)?[]:{},n[r]):ye(t[r],n[r]));return t}String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return this.substr(!t||t<0?0:+t,e.length)===e});const xe=e,_e=t,Se={vega:"Vega","vega-lite":"Vega-Lite"},ke={vega:xe.version,"vega-lite":_e?_e.version:"not available"},Ce={vega:(e,t)=>e,"vega-lite":(e,t)=>_e.compile(e,{config:t}).spec},Ee='\n<svg viewBox="0 0 16 16" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" width="14" height="14">\n  <circle r="2" cy="8" cx="2"></circle>\n  <circle r="2" cy="8" cx="8"></circle>\n  <circle r="2" cy="8" cx="14"></circle>\n</svg>',Ae={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"};function je(e,t,n,r){const i=`<html><head>${t}</head><body><pre><code class="json">`,o=`</code></pre>${n}</body></html>`,a=window.open("");a.document.write(i+e+o),a.document.title=`${Se[r]} JSON Source`}function Oe(e,t,n={}){return D(this,void 0,void 0,function*(){const r=(n=n||{}).patch||n.onBeforeParse,i=!0===n.actions||!1===n.actions?n.actions:ye({},{export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},n.actions||{}),o=Object.assign({},Ae,n.i18n),a=(s=n.loader)&&"load"in s?n.loader:xe.loader(n.loader);var s;const l=n.renderer||"canvas",c=n.logLevel||xe.Warn;if(xe.isString(t)){const r=yield a.load(t);return Oe(e,JSON.parse(r),n)}let u=n.config||{};if(xe.isString(u)){const r=yield a.load(u);return Oe(e,t,Object.assign({},n,{config:JSON.parse(r)}))}if(!1!==n.defaultStyle){const e="vega-embed-style";if(!document.getElementById(e)){const t=document.createElement("style");t.id=e,t.innerText=void 0===n.defaultStyle||!0===n.defaultStyle?be.toString():n.defaultStyle,document.head.appendChild(t)}}n.theme&&(u=ye({},ie[n.theme],u));const f=function(e,t){if(e.$schema){const n=U(e.$schema);t&&t!==n.library&&console.warn(`The given visualization spec is written in ${Se[n.library]}, but mode argument sets ${Se[t]||t}.`);const r=n.library;return H(ke[r],`^${n.version.slice(1)}`)||console.warn(`The input spec uses ${r} ${n.version}, but the current version of ${Se[r]} is ${ke[r]}.`),r}return"mark"in e||"encoding"in e||"layer"in e||"hconcat"in e||"vconcat"in e||"facet"in e||"repeat"in e?"vega-lite":"marks"in e||"signals"in e||"scales"in e||"axes"in e?"vega":t||"vega"}(t,n.mode);let p=Ce[f](t,u);if("vega-lite"===f&&p.$schema){const e=U(p.$schema);H(ke.vega,`^${e.version.slice(1)}`)||console.warn(`The compiled spec uses Vega ${e.version}, but current version is ${ke.vega}.`)}const h=(d=e,"string"==typeof d?new W([[document.querySelector(d)]],[document.documentElement]):new W([[d]],I)).classed("vega-embed",!0).html("");var d;if(r)if(r instanceof Function)p=r(p);else if(xe.isString(r)){const e=yield a.load(r);p=ye(p,JSON.parse(e))}else p=ye(p,r);const g=xe.parse(p,"vega-lite"===f?{}:u),m=new xe.View(g,{loader:a,logLevel:c,renderer:l});if(!1!==n.tooltip){let e;e="function"==typeof n.tooltip?n.tooltip:new ve(!0===n.tooltip?{}:n.tooltip).call,m.tooltip(e)}let v=n.hover;if(void 0===v&&(v="vega-lite"!==f),v){const{hoverSet:e,updateSet:t}="boolean"==typeof v?{}:v;m.hover(e,t)}if(n&&(n.width&&m.width(n.width),n.height&&m.height(n.height),n.padding&&m.padding(n.padding)),yield m.initialize(e).runAsync(),!1!==i){let e=h;if(!1!==n.defaultStyle){const t=e=h.append("details").attr("title",o.CLICK_TO_VIEW_ACTIONS);t.insert("summary").html(Ee);const n=t.node();document.addEventListener("click",e=>{n.contains(e.target)||n.removeAttribute("open")})}const r=e.insert("div").attr("class","vega-actions");if(!0===i||!1!==i.export)for(const e of["svg","png"])if(!0===i||!0===i.export||i.export[e]){const t=o[`${e.toUpperCase()}_ACTION`];r.append("a").text(t).attr("href","#").attr("target","_blank").attr("download",`visualization.${e}`).on("mousedown",function(){m.toImageURL(e,n.scaleFactor).then(e=>{this.href=e}).catch(e=>{throw e}),z.preventDefault()})}if(!0!==i&&!1===i.source||r.append("a").text(o.SOURCE_ACTION).attr("href","#").on("mousedown",()=>{je(V(t),n.sourceHeader||"",n.sourceFooter||"",f),z.preventDefault()}),"vega-lite"!==f||!0!==i&&!1===i.compiled||r.append("a").text(o.COMPILED_ACTION).attr("href","#").on("mousedown",()=>{je(V(p),n.sourceHeader||"",n.sourceFooter||"","vega"),z.preventDefault()}),!0===i||!1!==i.editor){const e=n.editorUrl||"https://vega.github.io/editor/";r.append("a").text(o.EDITOR_ACTION).attr("href","#").on("mousedown",()=>{!function(e,t,n){const r=e.open(t),i=250;let o=~~(1e4/i);e.addEventListener("message",function t(n){n.source===r&&(o=0,e.removeEventListener("message",t,!1))},!1),setTimeout(function e(){o<=0||(r.postMessage(n,"*"),setTimeout(e,i),o-=1)},i)}(window,e,{config:u,mode:f,renderer:l,spec:V(t)}),z.preventDefault()})}}return{view:m,spec:t,vgSpec:p}})}function ze(e,t={}){return D(this,void 0,void 0,function*(){const n=document.createElement("div");n.classList.add("vega-embed-wrapper");const r=document.createElement("div");n.appendChild(r);const i=!0===t.actions||!1===t.actions?t.actions:Object.assign({export:!0,source:!1,compiled:!0,editor:!0},t.actions||{}),o=yield Oe(r,e,Object.assign({actions:i},t||{}));return n.value=o.view,n})}const Ne=(...t)=>t.length>1&&(e.isString(t[0])&&!function(e){return e.startsWith("http://")||e.startsWith("https://")||e.startsWith("//")}(t[0])||function(e){return e instanceof L||"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName}(t[0])||3===t.length)?Oe(t[0],t[1],t[2]):ze(t[0],t[1]);return Ne.vl=_e,Ne.container=ze,Ne.embed=Oe,Ne.vega=xe,Ne.default=Oe,Ne.version=B,Ne});

/** @license React v16.3.2
 * react.production.min.js
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
            ;(function(p,h){"object"===typeof exports&&"undefined"!==typeof module?module.exports=h():"function"===typeof define&&define.amd?define(h):p.React=h()})(this,function(){function p(a){for(var b=arguments.length-1,e="http://reactjs.org/docs/error-decoder.html?invariant\x3d"+a,c=0;c<b;c++)e+="\x26args[]\x3d"+encodeURIComponent(arguments[c+1]);O(!1,"Minified React error #"+a+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",
e)}function h(a){return function(){return a}}function q(a,b,e){this.props=a;this.context=b;this.refs=D;this.updater=e||E}function F(){}function v(a,b,e){this.props=a;this.context=b;this.refs=D;this.updater=e||E}function G(a,b,e){var c=void 0,f={},k=null,d=null;if(null!=b)for(c in void 0!==b.ref&&(d=b.ref),void 0!==b.key&&(k=""+b.key),b)H.call(b,c)&&!I.hasOwnProperty(c)&&(f[c]=b[c]);var g=arguments.length-2;if(1===g)f.children=e;else if(1<g){for(var m=Array(g),l=0;l<g;l++)m[l]=arguments[l+2];f.children=
m}if(a&&a.defaultProps)for(c in g=a.defaultProps,g)void 0===f[c]&&(f[c]=g[c]);return{$$typeof:r,type:a,key:k,ref:d,props:f,_owner:w.current}}function x(a){return"object"===typeof a&&null!==a&&a.$$typeof===r}function P(a){var b={"\x3d":"\x3d0",":":"\x3d2"};return"$"+(""+a).replace(/[=:]/g,function(a){return b[a]})}function J(a,b,e,c){if(u.length){var f=u.pop();f.result=a;f.keyPrefix=b;f.func=e;f.context=c;f.count=0;return f}return{result:a,keyPrefix:b,func:e,context:c,count:0}}function K(a){a.result=
null;a.keyPrefix=null;a.func=null;a.context=null;a.count=0;10>u.length&&u.push(a)}function t(a,b,e,c){var f=typeof a;if("undefined"===f||"boolean"===f)a=null;var k=!1;if(null===a)k=!0;else switch(f){case "string":case "number":k=!0;break;case "object":switch(a.$$typeof){case r:case Q:k=!0}}if(k)return e(c,a,""===b?"."+y(a,0):b),1;k=0;b=""===b?".":b+":";if(Array.isArray(a))for(var d=0;d<a.length;d++){f=a[d];var g=b+y(f,d);k+=t(f,g,e,c)}else if(null===a||"undefined"===typeof a?g=null:(g=L&&a[L]||a["@@iterator"],
g="function"===typeof g?g:null),"function"===typeof g)for(a=g.call(a),d=0;!(f=a.next()).done;)f=f.value,g=b+y(f,d++),k+=t(f,g,e,c);else"object"===f&&(e=""+a,p("31","[object Object]"===e?"object with keys {"+Object.keys(a).join(", ")+"}":e,""));return k}function y(a,b){return"object"===typeof a&&null!==a&&null!=a.key?P(a.key):b.toString(36)}function R(a,b,e){a.func.call(a.context,b,a.count++)}function S(a,b,e){var c=a.result,f=a.keyPrefix;a=a.func.call(a.context,b,a.count++);Array.isArray(a)?z(a,c,
e,A.thatReturnsArgument):null!=a&&(x(a)&&(b=f+(!a.key||b&&b.key===a.key?"":(""+a.key).replace(M,"$\x26/")+"/")+e,a={$$typeof:r,type:a.type,key:b,ref:a.ref,props:a.props,_owner:a._owner}),c.push(a))}function z(a,b,e,c,f){var d="";null!=e&&(d=(""+e).replace(M,"$\x26/")+"/");b=J(b,d,c,f);null==a||t(a,"",S,b);K(b)}var N=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable,B=function(){try{if(!Object.assign)return!1;var a=new String("abc");a[5]="de";if("5"===
Object.getOwnPropertyNames(a)[0])return!1;var b={};for(a=0;10>a;a++)b["_"+String.fromCharCode(a)]=a;if("0123456789"!==Object.getOwnPropertyNames(b).map(function(a){return b[a]}).join(""))return!1;var e={};"abcdefghijklmnopqrst".split("").forEach(function(a){e[a]=a});return"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},e)).join("")?!1:!0}catch(c){return!1}}()?Object.assign:function(a,b){if(null===a||void 0===a)throw new TypeError("Object.assign cannot be called with null or undefined");var e=
Object(a);for(var c,f=1;f<arguments.length;f++){var d=Object(arguments[f]);for(var h in d)T.call(d,h)&&(e[h]=d[h]);if(N){c=N(d);for(var g=0;g<c.length;g++)U.call(d,c[g])&&(e[c[g]]=d[c[g]])}}return e},d="function"===typeof Symbol&&Symbol["for"],r=d?Symbol["for"]("react.element"):60103,Q=d?Symbol["for"]("react.portal"):60106,n=d?Symbol["for"]("react.fragment"):60107,C=d?Symbol["for"]("react.strict_mode"):60108,V=d?Symbol["for"]("react.provider"):60109,W=d?Symbol["for"]("react.context"):60110,X=d?Symbol["for"]("react.async_mode"):
60111,Y=d?Symbol["for"]("react.forward_ref"):60112,L="function"===typeof Symbol&&Symbol.iterator,O=function(a,b,e,c,f,d,h,g){if(!a){if(void 0===b)a=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var k=[e,c,f,d,h,g],l=0;a=Error(b.replace(/%s/g,function(){return k[l++]}));a.name="Invariant Violation"}a.framesToPop=1;throw a;}},D={};d=function(){};d.thatReturns=h;d.thatReturnsFalse=h(!1);d.thatReturnsTrue=h(!0);
d.thatReturnsNull=h(null);d.thatReturnsThis=function(){return this};d.thatReturnsArgument=function(a){return a};var A=d,E={isMounted:function(a){return!1},enqueueForceUpdate:function(a,b,e){},enqueueReplaceState:function(a,b,e,c){},enqueueSetState:function(a,b,e,c){}};q.prototype.isReactComponent={};q.prototype.setState=function(a,b){"object"!==typeof a&&"function"!==typeof a&&null!=a?p("85"):void 0;this.updater.enqueueSetState(this,a,b,"setState")};q.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,
a,"forceUpdate")};F.prototype=q.prototype;d=v.prototype=new F;d.constructor=v;B(d,q.prototype);d.isPureReactComponent=!0;var w={current:null},H=Object.prototype.hasOwnProperty,I={key:!0,ref:!0,__self:!0,__source:!0},M=/\/+/g,u=[];n={Children:{map:function(a,b,e){if(null==a)return a;var c=[];z(a,c,null,b,e);return c},forEach:function(a,b,e){if(null==a)return a;b=J(null,null,b,e);null==a||t(a,"",R,b);K(b)},count:function(a,b){return null==a?0:t(a,"",A.thatReturnsNull,null)},toArray:function(a){var b=
[];z(a,b,null,A.thatReturnsArgument);return b},only:function(a){x(a)?void 0:p("143");return a}},createRef:function(){return{current:null}},Component:q,PureComponent:v,createContext:function(a,b){void 0===b&&(b=null);a={$$typeof:W,_calculateChangedBits:b,_defaultValue:a,_currentValue:a,_changedBits:0,Provider:null,Consumer:null};a.Provider={$$typeof:V,_context:a};return a.Consumer=a},forwardRef:function(a){return{$$typeof:Y,render:a}},Fragment:n,StrictMode:C,unstable_AsyncMode:X,createElement:G,cloneElement:function(a,
b,e){null===a||void 0===a?p("267",a):void 0;var c=void 0,d=B({},a.props),k=a.key,h=a.ref,g=a._owner;if(null!=b){void 0!==b.ref&&(h=b.ref,g=w.current);void 0!==b.key&&(k=""+b.key);var m=void 0;a.type&&a.type.defaultProps&&(m=a.type.defaultProps);for(c in b)H.call(b,c)&&!I.hasOwnProperty(c)&&(d[c]=void 0===b[c]&&void 0!==m?m[c]:b[c])}c=arguments.length-2;if(1===c)d.children=e;else if(1<c){m=Array(c);for(var l=0;l<c;l++)m[l]=arguments[l+2];d.children=m}return{$$typeof:r,type:a.type,key:k,ref:h,props:d,
_owner:g}},createFactory:function(a){var b=G.bind(null,a);b.type=a;return b},isValidElement:x,version:"16.3.2",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:w,assign:B}};n=(C=Object.freeze({default:n}))&&n||C;return n["default"]?n["default"]:n});

!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react")):"function"==typeof define&&define.amd?define(["react"],e):"object"==typeof exports?exports.createReactClass=e(require("react")):t.createReactClass=e(t.React)}(this,function(t){return function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=2)}([function(t,e,n){"use strict";function o(t){return t}function r(t,e,n){function r(t,e){var n=N.hasOwnProperty(e)?N[e]:null;b.hasOwnProperty(e)&&s("OVERRIDE_BASE"===n,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",e),t&&s("DEFINE_MANY"===n||"DEFINE_MANY_MERGED"===n,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",e)}function u(t,n){if(n){s("function"!=typeof n,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),s(!e(n),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var o=t.prototype,i=o.__reactAutoBindPairs;n.hasOwnProperty(c)&&g.mixins(t,n.mixins);for(var a in n)if(n.hasOwnProperty(a)&&a!==c){var u=n[a],p=o.hasOwnProperty(a);if(r(p,a),g.hasOwnProperty(a))g[a](t,u);else{var l=N.hasOwnProperty(a),E="function"==typeof u,m=E&&!l&&!p&&!1!==n.autobind;if(m)i.push(a,u),o[a]=u;else if(p){var h=N[a];s(l&&("DEFINE_MANY_MERGED"===h||"DEFINE_MANY"===h),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",h,a),"DEFINE_MANY_MERGED"===h?o[a]=f(o[a],u):"DEFINE_MANY"===h&&(o[a]=d(o[a],u))}else o[a]=u}}}else;}function p(t,e){if(e)for(var n in e){var o=e[n];if(e.hasOwnProperty(n)){var r=n in g;s(!r,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n);var i=n in t;if(i){var a=_.hasOwnProperty(n)?_[n]:null;return s("DEFINE_MANY_MERGED"===a,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n),void(t[n]=f(t[n],o))}t[n]=o}}}function l(t,e){s(t&&e&&"object"==typeof t&&"object"==typeof e,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var n in e)e.hasOwnProperty(n)&&(s(void 0===t[n],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n),t[n]=e[n]);return t}function f(t,e){return function(){var n=t.apply(this,arguments),o=e.apply(this,arguments);if(null==n)return o;if(null==o)return n;var r={};return l(r,n),l(r,o),r}}function d(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function E(t,e){var n=e.bind(t);return n}function m(t){for(var e=t.__reactAutoBindPairs,n=0;n<e.length;n+=2){var o=e[n],r=e[n+1];t[o]=E(t,r)}}function h(t){var e=o(function(t,o,r){this.__reactAutoBindPairs.length&&m(this),this.props=t,this.context=o,this.refs=a,this.updater=r||n,this.state=null;var i=this.getInitialState?this.getInitialState():null;s("object"==typeof i&&!Array.isArray(i),"%s.getInitialState(): must return an object or null",e.displayName||"ReactCompositeComponent"),this.state=i});e.prototype=new I,e.prototype.constructor=e,e.prototype.__reactAutoBindPairs=[],y.forEach(u.bind(null,e)),u(e,v),u(e,t),u(e,D),e.getDefaultProps&&(e.defaultProps=e.getDefaultProps()),s(e.prototype.render,"createClass(...): Class specification must implement a `render` method.");for(var r in N)e.prototype[r]||(e.prototype[r]=null);return e}var y=[],N={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},_={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},g={displayName:function(t,e){t.displayName=e},mixins:function(t,e){if(e)for(var n=0;n<e.length;n++)u(t,e[n])},childContextTypes:function(t,e){t.childContextTypes=i({},t.childContextTypes,e)},contextTypes:function(t,e){t.contextTypes=i({},t.contextTypes,e)},getDefaultProps:function(t,e){t.getDefaultProps?t.getDefaultProps=f(t.getDefaultProps,e):t.getDefaultProps=e},propTypes:function(t,e){t.propTypes=i({},t.propTypes,e)},statics:function(t,e){p(t,e)},autobind:function(){}},v={componentDidMount:function(){this.__isMounted=!0}},D={componentWillUnmount:function(){this.__isMounted=!1}},b={replaceState:function(t,e){this.updater.enqueueReplaceState(this,t,e)},isMounted:function(){return!!this.__isMounted}},I=function(){};return i(I.prototype,t.prototype,b),h}var i=n(5),a=n(3),s=n(4),c="mixins";t.exports=r},function(e,n){e.exports=t},function(t,e,n){"use strict";var o=n(1),r=n(0);if(void 0===o)throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var i=(new o.Component).updater;t.exports=r(o.Component,o.isValidElement,i)},function(t,e,n){"use strict";var o={};t.exports=o},function(t,e,n){"use strict";function o(t,e,n,o,i,a,s,c){if(r(e),!t){var u;if(void 0===e)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var p=[n,o,i,a,s,c],l=0;u=new Error(e.replace(/%s/g,function(){return p[l++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}}var r=function(t){};t.exports=o},function(t,e,n){"use strict";function o(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(t){o[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,s,c=o(t),u=1;u<arguments.length;u++){n=Object(arguments[u]);for(var p in n)i.call(n,p)&&(c[p]=n[p]);if(r){s=r(n);for(var l=0;l<s.length;l++)a.call(n,s[l])&&(c[s[l]]=n[s[l]])}}return c}}])});
/** @license React v16.3.2
 * react-dom.production.min.js
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/*
 Modernizr 3.0.0pre (Custom Build) | MIT
*/
            ;(function(pa,l){"object"===typeof exports&&"undefined"!==typeof module?module.exports=l(require("react")):"function"===typeof define&&define.amd?define(["react"],l):pa.ReactDOM=l(pa.React)})(this,function(pa){function l(a){for(var b=arguments.length-1,c="http://reactjs.org/docs/error-decoder.html?invariant\x3d"+a,d=0;d<b;d++)c+="\x26args[]\x3d"+encodeURIComponent(arguments[d+1]);ze(!1,"Minified React error #"+a+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",
c)}function Ec(){if(bb)for(var a in va){var b=va[a],c=bb.indexOf(a);-1<c?void 0:l("96",a);if(!ea[c]){b.extractEvents?void 0:l("97",a);ea[c]=b;c=b.eventTypes;for(var d in c){var e=void 0;var f=c[d],g=b,h=d;Gb.hasOwnProperty(h)?l("99",h):void 0;Gb[h]=f;var k=f.phasedRegistrationNames;if(k){for(e in k)k.hasOwnProperty(e)&&Fc(k[e],g,h);e=!0}else f.registrationName?(Fc(f.registrationName,g,h),e=!0):e=!1;e?void 0:l("98",d,a)}}}}function Fc(a,b,c){qa[a]?l("100",a):void 0;qa[a]=b;cb[a]=b.eventTypes[c].dependencies}
function Gc(a){bb?l("101"):void 0;bb=Array.prototype.slice.call(a);Ec()}function Hc(a){var b=!1,c;for(c in a)if(a.hasOwnProperty(c)){var d=a[c];va.hasOwnProperty(c)&&va[c]===d||(va[c]?l("102",c):void 0,va[c]=d,b=!0)}b&&Ec()}function db(a){return function(){return a}}function Ic(a,b,c,d){b=a.type||"unknown-event";a.currentTarget=Jc(d);z.invokeGuardedCallbackAndCatchFirstError(b,c,void 0,a);a.currentTarget=null}function wa(a,b){null==b?l("30"):void 0;if(null==a)return b;if(Array.isArray(a)){if(Array.isArray(b))return a.push.apply(a,
b),a;a.push(b);return a}return Array.isArray(b)?[a].concat(b):[a,b]}function X(a,b,c){Array.isArray(a)?a.forEach(b,c):a&&b.call(c,a)}function Hb(a,b){var c=a.stateNode;if(!c)return null;var d=Ib(c);if(!d)return null;c=d[b];a:switch(b){case "onClick":case "onClickCapture":case "onDoubleClick":case "onDoubleClickCapture":case "onMouseDown":case "onMouseDownCapture":case "onMouseMove":case "onMouseMoveCapture":case "onMouseUp":case "onMouseUpCapture":(d=!d.disabled)||(a=a.type,d=!("button"===a||"input"===
a||"select"===a||"textarea"===a));a=!d;break a;default:a=!1}if(a)return null;c&&"function"!==typeof c?l("231",b,typeof c):void 0;return c}function Jb(a,b){null!==a&&(fa=wa(fa,a));a=fa;fa=null;a&&(b?X(a,Ae):X(a,Be),fa?l("95"):void 0,z.rethrowCaughtError())}function Kc(a,b,c,d){for(var e=null,f=0;f<ea.length;f++){var g=ea[f];g&&(g=g.extractEvents(a,b,c,d))&&(e=wa(e,g))}Jb(e,!1)}function Ca(a){if(a[P])return a[P];for(;!a[P];)if(a.parentNode)a=a.parentNode;else return null;a=a[P];return 5===a.tag||6===
a.tag?a:null}function xa(a){if(5===a.tag||6===a.tag)return a.stateNode;l("33")}function Lc(a){return a[ha]||null}function Q(a){do a=a["return"];while(a&&5!==a.tag);return a?a:null}function Mc(a,b,c){for(var d=[];a;)d.push(a),a=Q(a);for(a=d.length;0<a--;)b(d[a],"captured",c);for(a=0;a<d.length;a++)b(d[a],"bubbled",c)}function Nc(a,b,c){if(b=Hb(a,c.dispatchConfig.phasedRegistrationNames[b]))c._dispatchListeners=wa(c._dispatchListeners,b),c._dispatchInstances=wa(c._dispatchInstances,a)}function Ce(a){a&&
a.dispatchConfig.phasedRegistrationNames&&Mc(a._targetInst,Nc,a)}function De(a){if(a&&a.dispatchConfig.phasedRegistrationNames){var b=a._targetInst;b=b?Q(b):null;Mc(b,Nc,a)}}function Kb(a,b,c){a&&c&&c.dispatchConfig.registrationName&&(b=Hb(a,c.dispatchConfig.registrationName))&&(c._dispatchListeners=wa(c._dispatchListeners,b),c._dispatchInstances=wa(c._dispatchInstances,a))}function Ee(a){a&&a.dispatchConfig.registrationName&&Kb(a._targetInst,null,a)}function ya(a){X(a,Ce)}function Oc(a,b,c,d){if(c&&
d)a:{var e=c;for(var f=d,g=0,h=e;h;h=Q(h))g++;h=0;for(var k=f;k;k=Q(k))h++;for(;0<g-h;)e=Q(e),g--;for(;0<h-g;)f=Q(f),h--;for(;g--;){if(e===f||e===f.alternate)break a;e=Q(e);f=Q(f)}e=null}else e=null;f=e;for(e=[];c&&c!==f;){g=c.alternate;if(null!==g&&g===f)break;e.push(c);c=Q(c)}for(c=[];d&&d!==f;){g=d.alternate;if(null!==g&&g===f)break;c.push(d);d=Q(d)}for(d=0;d<e.length;d++)Kb(e[d],"bubbled",a);for(a=c.length;0<a--;)Kb(c[a],"captured",b)}function Pc(){!Lb&&R.canUseDOM&&(Lb="textContent"in document.documentElement?
"textContent":"innerText");return Lb}function Qc(){if(H._fallbackText)return H._fallbackText;var a,b=H._startText,c=b.length,d,e=Rc(),f=e.length;for(a=0;a<c&&b[a]===e[a];a++);var g=c-a;for(d=1;d<=g&&b[c-d]===e[f-d];d++);H._fallbackText=e.slice(a,1<d?1-d:void 0);return H._fallbackText}function Rc(){return"value"in H._root?H._root.value:H._root[Pc()]}function I(a,b,c,d){this.dispatchConfig=a;this._targetInst=b;this.nativeEvent=c;a=this.constructor.Interface;for(var e in a)a.hasOwnProperty(e)&&((b=a[e])?
this[e]=b(c):"target"===e?this.target=d:this[e]=c[e]);this.isDefaultPrevented=(null!=c.defaultPrevented?c.defaultPrevented:!1===c.returnValue)?M.thatReturnsTrue:M.thatReturnsFalse;this.isPropagationStopped=M.thatReturnsFalse;return this}function Fe(a,b,c,d){if(this.eventPool.length){var e=this.eventPool.pop();this.call(e,a,b,c,d);return e}return new this(a,b,c,d)}function Ge(a){a instanceof this?void 0:l("223");a.destructor();10>this.eventPool.length&&this.eventPool.push(a)}function Sc(a){a.eventPool=
[];a.getPooled=Fe;a.release=Ge}function Tc(a,b){switch(a){case "topKeyUp":return-1!==He.indexOf(b.keyCode);case "topKeyDown":return 229!==b.keyCode;case "topKeyPress":case "topMouseDown":case "topBlur":return!0;default:return!1}}function Uc(a){a=a.detail;return"object"===typeof a&&"data"in a?a.data:null}function Ie(a,b){switch(a){case "topCompositionEnd":return Uc(b);case "topKeyPress":if(32!==b.which)return null;Vc=!0;return Wc;case "topTextInput":return a=b.data,a===Wc&&Vc?null:a;default:return null}}
function Je(a,b){if(ia)return"topCompositionEnd"===a||!Mb&&Tc(a,b)?(a=Qc(),H._root=null,H._startText=null,H._fallbackText=null,ia=!1,a):null;switch(a){case "topPaste":return null;case "topKeyPress":if(!(b.ctrlKey||b.altKey||b.metaKey)||b.ctrlKey&&b.altKey){if(b.char&&1<b.char.length)return b.char;if(b.which)return String.fromCharCode(b.which)}return null;case "topCompositionEnd":return Xc?null:b.data;default:return null}}function Yc(a){if(a=Zc(a)){eb&&"function"===typeof eb.restoreControlledState?
void 0:l("194");var b=Ib(a.stateNode);eb.restoreControlledState(a.stateNode,a.type,b)}}function $c(a){za?ra?ra.push(a):ra=[a]:za=a}function ad(){return null!==za||null!==ra}function bd(){if(za){var a=za,b=ra;ra=za=null;Yc(a);if(b)for(a=0;a<b.length;a++)Yc(b[a])}}function cd(a,b){if(Nb)return a(b);Nb=!0;try{return dd(a,b)}finally{Nb=!1,ad()&&(ed(),bd())}}function fd(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return"input"===b?!!Ke[a.type]:"textarea"===b?!0:!1}function Ob(a){a=a.target||window;
a.correspondingUseElement&&(a=a.correspondingUseElement);return 3===a.nodeType?a.parentNode:a}function Pb(a,b){if(!R.canUseDOM||b&&!("addEventListener"in document))return!1;a="on"+a;b=a in document;b||(b=document.createElement("div"),b.setAttribute(a,"return;"),b="function"===typeof b[a]);return b}function gd(a){var b=a.type;return(a=a.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===b||"radio"===b)}function Le(a){var b=gd(a)?"checked":"value",c=Object.getOwnPropertyDescriptor(a.constructor.prototype,
b),d=""+a[b];if(!a.hasOwnProperty(b)&&"function"===typeof c.get&&"function"===typeof c.set)return Object.defineProperty(a,b,{configurable:!0,get:function(){return c.get.call(this)},set:function(a){d=""+a;c.set.call(this,a)}}),Object.defineProperty(a,b,{enumerable:c.enumerable}),{getValue:function(){return d},setValue:function(a){d=""+a},stopTracking:function(){a._valueTracker=null;delete a[b]}}}function fb(a){a._valueTracker||(a._valueTracker=Le(a))}function hd(a){if(!a)return!1;var b=a._valueTracker;
if(!b)return!0;var c=b.getValue();var d="";a&&(d=gd(a)?a.checked?"true":"false":a.value);a=d;return a!==c?(b.setValue(a),!0):!1}function Da(a){if(null===a||"undefined"===typeof a)return null;a=id&&a[id]||a["@@iterator"];return"function"===typeof a?a:null}function Ia(a){a=a.type;if("function"===typeof a)return a.displayName||a.name;if("string"===typeof a)return a;switch(a){case Y:return"ReactFragment";case ja:return"ReactPortal";case jd:return"ReactCall";case kd:return"ReactReturn"}if("object"===typeof a&&
null!==a)switch(a.$$typeof){case ld:return a=a.render.displayName||a.render.name||"",""!==a?"ForwardRef("+a+")":"ForwardRef"}return null}function Qb(a){var b="";do{a:switch(a.tag){case 0:case 1:case 2:case 5:var c=a._debugOwner,d=a._debugSource;var e=Ia(a);var f=null;c&&(f=Ia(c));c=d;e="\n    in "+(e||"Unknown")+(c?" (at "+c.fileName.replace(/^.*[\\\/]/,"")+":"+c.lineNumber+")":f?" (created by "+f+")":"");break a;default:e=""}b+=e;a=a["return"]}while(a);return b}function Me(a){if(md.hasOwnProperty(a))return!0;
if(nd.hasOwnProperty(a))return!1;if(Ne.test(a))return md[a]=!0;nd[a]=!0;return!1}function Oe(a,b,c,d){if(null!==c&&0===c.type)return!1;switch(typeof b){case "function":case "symbol":return!0;case "boolean":if(d)return!1;if(null!==c)return!c.acceptsBooleans;a=a.toLowerCase().slice(0,5);return"data-"!==a&&"aria-"!==a;default:return!1}}function Pe(a,b,c,d){if(null===b||"undefined"===typeof b||Oe(a,b,c,d))return!0;if(null!==c)switch(c.type){case 3:return!b;case 4:return!1===b;case 5:return isNaN(b);case 6:return isNaN(b)||
1>b}return!1}function J(a,b,c,d,e){this.acceptsBooleans=2===b||3===b||4===b;this.attributeName=d;this.attributeNamespace=e;this.mustUseProperty=c;this.propertyName=a;this.type=b}function Rb(a,b,c,d){var e=F.hasOwnProperty(b)?F[b]:null;var f=null!==e?0===e.type:d?!1:!(2<b.length)||"o"!==b[0]&&"O"!==b[0]||"n"!==b[1]&&"N"!==b[1]?!1:!0;f||(Pe(b,c,e,d)&&(c=null),d||null===e?Me(b)&&(null===c?a.removeAttribute(b):a.setAttribute(b,""+c)):e.mustUseProperty?a[e.propertyName]=null===c?3===e.type?!1:"":c:(b=
e.attributeName,d=e.attributeNamespace,null===c?a.removeAttribute(b):(e=e.type,c=3===e||4===e&&!0===c?"":""+c,d?a.setAttributeNS(d,b,c):a.setAttribute(b,c))))}function Sb(a,b){var c=b.checked;return A({},b,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=c?c:a._wrapperState.initialChecked})}function od(a,b){var c=null==b.defaultValue?"":b.defaultValue,d=null!=b.checked?b.checked:b.defaultChecked;c=Tb(null!=b.value?b.value:c);a._wrapperState={initialChecked:d,initialValue:c,controlled:"checkbox"===
b.type||"radio"===b.type?null!=b.checked:null!=b.value}}function pd(a,b){b=b.checked;null!=b&&Rb(a,"checked",b,!1)}function Ub(a,b){pd(a,b);var c=Tb(b.value);if(null!=c)if("number"===b.type){if(0===c&&""===a.value||a.value!=c)a.value=""+c}else a.value!==""+c&&(a.value=""+c);b.hasOwnProperty("value")?Vb(a,b.type,c):b.hasOwnProperty("defaultValue")&&Vb(a,b.type,Tb(b.defaultValue));null==b.checked&&null!=b.defaultChecked&&(a.defaultChecked=!!b.defaultChecked)}function qd(a,b){if(b.hasOwnProperty("value")||
b.hasOwnProperty("defaultValue"))""===a.value&&(a.value=""+a._wrapperState.initialValue),a.defaultValue=""+a._wrapperState.initialValue;b=a.name;""!==b&&(a.name="");a.defaultChecked=!a.defaultChecked;a.defaultChecked=!a.defaultChecked;""!==b&&(a.name=b)}function Vb(a,b,c){if("number"!==b||a.ownerDocument.activeElement!==a)null==c?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+c&&(a.defaultValue=""+c)}function Tb(a){switch(typeof a){case "boolean":case "number":case "object":case "string":case "undefined":return a;
default:return""}}function rd(a,b,c){a=I.getPooled(sd.change,a,b,c);a.type="change";$c(c);ya(a);return a}function Qe(a){Jb(a,!1)}function gb(a){var b=xa(a);if(hd(b))return a}function Re(a,b){if("topChange"===a)return b}function td(){Ja&&(Ja.detachEvent("onpropertychange",ud),Ka=Ja=null)}function ud(a){"value"===a.propertyName&&gb(Ka)&&(a=rd(Ka,a,Ob(a)),cd(Qe,a))}function Se(a,b,c){"topFocus"===a?(td(),Ja=b,Ka=c,Ja.attachEvent("onpropertychange",ud)):"topBlur"===a&&td()}function Te(a,b){if("topSelectionChange"===
a||"topKeyUp"===a||"topKeyDown"===a)return gb(Ka)}function Ue(a,b){if("topClick"===a)return gb(b)}function Ve(a,b){if("topInput"===a||"topChange"===a)return gb(b)}function We(a){var b=this.nativeEvent;return b.getModifierState?b.getModifierState(a):(a=Xe[a])?!!b[a]:!1}function Wb(a){return We}function vd(a,b){return a===b?0!==a||0!==b||1/a===1/b:a!==a&&b!==b}function La(a){var b=a;if(a.alternate)for(;b["return"];)b=b["return"];else{if(0!==(b.effectTag&2))return 1;for(;b["return"];)if(b=b["return"],
0!==(b.effectTag&2))return 1}return 3===b.tag?2:3}function Ye(a){return(a=a._reactInternalFiber)?2===La(a):!1}function wd(a){2!==La(a)?l("188"):void 0}function xd(a){var b=a.alternate;if(!b)return b=La(a),3===b?l("188"):void 0,1===b?null:a;for(var c=a,d=b;;){var e=c["return"],f=e?e.alternate:null;if(!e||!f)break;if(e.child===f.child){for(var g=e.child;g;){if(g===c)return wd(e),a;if(g===d)return wd(e),b;g=g.sibling}l("188")}if(c["return"]!==d["return"])c=e,d=f;else{g=!1;for(var h=e.child;h;){if(h===
c){g=!0;c=e;d=f;break}if(h===d){g=!0;d=e;c=f;break}h=h.sibling}if(!g){for(h=f.child;h;){if(h===c){g=!0;c=f;d=e;break}if(h===d){g=!0;d=f;c=e;break}h=h.sibling}g?void 0:l("189")}}c.alternate!==d?l("190"):void 0}3!==c.tag?l("188"):void 0;return c.stateNode.current===c?a:b}function yd(a){a=xd(a);if(!a)return null;for(var b=a;;){if(5===b.tag||6===b.tag)return b;if(b.child)b.child["return"]=b,b=b.child;else{if(b===a)break;for(;!b.sibling;){if(!b["return"]||b["return"]===a)return null;b=b["return"]}b.sibling["return"]=
b["return"];b=b.sibling}}return null}function Ze(a){a=xd(a);if(!a)return null;for(var b=a;;){if(5===b.tag||6===b.tag)return b;if(b.child&&4!==b.tag)b.child["return"]=b,b=b.child;else{if(b===a)break;for(;!b.sibling;){if(!b["return"]||b["return"]===a)return null;b=b["return"]}b.sibling["return"]=b["return"];b=b.sibling}}return null}function hb(a){var b=a.keyCode;"charCode"in a?(a=a.charCode,0===a&&13===b&&(a=13)):a=b;10===a&&(a=13);return 32<=a||13===a?a:0}function zd(a,b){var c=a[0].toUpperCase()+
a.slice(1),d="on"+c;c="top"+c;b={phasedRegistrationNames:{bubbled:d,captured:d+"Capture"},dependencies:[c],isInteractive:b};Ad[a]=b;Xb[c]=b}function $e(a){var b=a.targetInst;do{if(!b){a.ancestors.push(b);break}var c;for(c=b;c["return"];)c=c["return"];c=3!==c.tag?null:c.stateNode.containerInfo;if(!c)break;a.ancestors.push(b);b=Ca(c)}while(b);for(c=0;c<a.ancestors.length;c++)b=a.ancestors[c],Kc(a.topLevelType,b,a.nativeEvent,Ob(a.nativeEvent))}function Yb(a){Ma=!!a}function y(a,b,c){if(!c)return null;
a=(Bd(a)?Cd:ib).bind(null,a);c.addEventListener(b,a,!1)}function S(a,b,c){if(!c)return null;a=(Bd(a)?Cd:ib).bind(null,a);c.addEventListener(b,a,!0)}function Cd(a,b){Dd(ib,a,b)}function ib(a,b){if(Ma){var c=Ob(b);c=Ca(c);null!==c&&"number"===typeof c.tag&&2!==La(c)&&(c=null);if(jb.length){var d=jb.pop();d.topLevelType=a;d.nativeEvent=b;d.targetInst=c;a=d}else a={topLevelType:a,nativeEvent:b,targetInst:c,ancestors:[]};try{cd($e,a)}finally{a.topLevelType=null,a.nativeEvent=null,a.targetInst=null,a.ancestors.length=
0,10>jb.length&&jb.push(a)}}}function kb(a,b){var c={};c[a.toLowerCase()]=b.toLowerCase();c["Webkit"+a]="webkit"+b;c["Moz"+a]="moz"+b;c["ms"+a]="MS"+b;c["O"+a]="o"+b.toLowerCase();return c}function lb(a){if(Zb[a])return Zb[a];if(!T[a])return a;var b=T[a],c;for(c in b)if(b.hasOwnProperty(c)&&c in Ed)return Zb[a]=b[c];return a}function Fd(a){Object.prototype.hasOwnProperty.call(a,mb)||(a[mb]=af++,Gd[a[mb]]={});return Gd[a[mb]]}function Hd(a,b){return a&&b?a===b?!0:Id(a)?!1:Id(b)?Hd(a,b.parentNode):
"contains"in a?a.contains(b):a.compareDocumentPosition?!!(a.compareDocumentPosition(b)&16):!1:!1}function Jd(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Kd(a,b){var c=Jd(a);a=0;for(var d;c;){if(3===c.nodeType){d=a+c.textContent.length;if(a<=b&&d>=b)return{node:c,offset:b-a};a=d}a:{for(;c;){if(c.nextSibling){c=c.nextSibling;break a}c=c.parentNode}c=void 0}c=Jd(c)}}function $b(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return b&&("input"===b&&"text"===a.type||"textarea"===b||"true"===
a.contentEditable)}function Ld(a,b){if(ac||null==ka||ka!==bc())return null;var c=ka;"selectionStart"in c&&$b(c)?c={start:c.selectionStart,end:c.selectionEnd}:window.getSelection?(c=window.getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}):c=void 0;return Na&&cc(Na,c)?null:(Na=c,a=I.getPooled(Md.select,dc,a,b),a.type="select",a.target=ka,ya(a),a)}function sa(a,b,c,d){this.tag=a;this.key=c;this.stateNode=this.type=null;this.sibling=
this.child=this["return"]=null;this.index=0;this.ref=null;this.pendingProps=b;this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=d;this.effectTag=0;this.lastEffect=this.firstEffect=this.nextEffect=null;this.expirationTime=0;this.alternate=null}function nb(a,b,c){var d=a.alternate;null===d?(d=new sa(a.tag,b,a.key,a.mode),d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=b,d.effectTag=0,d.nextEffect=null,d.firstEffect=null,d.lastEffect=null);d.expirationTime=
c;d.child=a.child;d.memoizedProps=a.memoizedProps;d.memoizedState=a.memoizedState;d.updateQueue=a.updateQueue;d.sibling=a.sibling;d.index=a.index;d.ref=a.ref;return d}function ec(a,b,c){var d=a.type,e=a.key;a=a.props;var f=void 0;if("function"===typeof d)f=d.prototype&&d.prototype.isReactComponent?2:0;else if("string"===typeof d)f=5;else switch(d){case Y:return ob(a.children,b,c,e);case bf:f=11;b|=3;break;case cf:f=11;b|=2;break;case jd:f=7;break;case kd:f=9;break;default:if("object"===typeof d&&
null!==d)switch(d.$$typeof){case df:f=13;break;case ef:f=12;break;case ld:f=14;break;default:if("number"===typeof d.tag)return b=d,b.pendingProps=a,b.expirationTime=c,b;l("130",null==d?d:typeof d,"")}else l("130",null==d?d:typeof d,"")}b=new sa(f,a,e,b);b.type=d;b.expirationTime=c;return b}function ob(a,b,c,d){a=new sa(10,a,d,b);a.expirationTime=c;return a}function fc(a,b,c){a=new sa(6,a,null,b);a.expirationTime=c;return a}function gc(a,b,c){b=new sa(4,null!==a.children?a.children:[],a.key,b);b.expirationTime=
c;b.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation};return b}function Nd(a){return function(b){try{return a(b)}catch(c){}}}function ff(a){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var b=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(b.isDisabled||!b.supportsFiber)return!0;try{var c=b.inject(a);hc=Nd(function(a){return b.onCommitFiberRoot(c,a)});ic=Nd(function(a){return b.onCommitFiberUnmount(c,a)})}catch(d){}return!0}function Od(a){"function"===
typeof hc&&hc(a)}function Pd(a){"function"===typeof ic&&ic(a)}function Qd(a){return{baseState:a,expirationTime:0,first:null,last:null,callbackList:null,hasForceUpdate:!1,isInitialized:!1,capturedValues:null}}function pb(a,b){null===a.last?a.first=a.last=b:(a.last.next=b,a.last=b);if(0===a.expirationTime||a.expirationTime>b.expirationTime)a.expirationTime=b.expirationTime}function jc(a){kc=lc=null;var b=a.alternate,c=a.updateQueue;null===c&&(c=a.updateQueue=Qd(null));null!==b?(a=b.updateQueue,null===
a&&(a=b.updateQueue=Qd(null))):a=null;kc=c;lc=a!==c?a:null}function Oa(a,b){jc(a);a=kc;var c=lc;null===c?pb(a,b):null===a.last||null===c.last?(pb(a,b),pb(c,b)):(pb(a,b),c.last=b)}function Rd(a,b,c,d){a=a.partialState;return"function"===typeof a?a.call(b,c,d):a}function qb(a,b,c,d,e,f){null!==a&&a.updateQueue===c&&(c=b.updateQueue={baseState:c.baseState,expirationTime:c.expirationTime,first:c.first,last:c.last,isInitialized:c.isInitialized,capturedValues:c.capturedValues,callbackList:null,hasForceUpdate:!1});
c.expirationTime=0;c.isInitialized?a=c.baseState:(a=c.baseState=b.memoizedState,c.isInitialized=!0);for(var g=!0,h=c.first,k=!1;null!==h;){var l=h.expirationTime;if(l>f){var m=c.expirationTime;if(0===m||m>l)c.expirationTime=l;k||(k=!0,c.baseState=a)}else{k||(c.first=h.next,null===c.first&&(c.last=null));if(h.isReplace)a=Rd(h,d,a,e),g=!0;else if(l=Rd(h,d,a,e))a=g?A({},a,l):A(a,l),g=!1;h.isForced&&(c.hasForceUpdate=!0);null!==h.callback&&(l=c.callbackList,null===l&&(l=c.callbackList=[]),l.push(h));
null!==h.capturedValue&&(l=c.capturedValues,null===l?c.capturedValues=[h.capturedValue]:l.push(h.capturedValue))}h=h.next}null!==c.callbackList?b.effectTag|=32:null!==c.first||c.hasForceUpdate||null!==c.capturedValues||(b.updateQueue=null);k||(c.baseState=a);return a}function Sd(a,b){var c=a.callbackList;if(null!==c)for(a.callbackList=null,a=0;a<c.length;a++){var d=c[a],e=d.callback;d.callback=null;"function"!==typeof e?l("191",e):void 0;e.call(b)}}function Pa(a,b,c){a=c.ref;if(null!==a&&"function"!==
typeof a&&"object"!==typeof a){if(c._owner){c=c._owner;var d=void 0;c&&(2!==c.tag?l("110"):void 0,d=c.stateNode);d?void 0:l("147",a);var e=""+a;if(null!==b&&null!==b.ref&&b.ref._stringRef===e)return b.ref;b=function(a){var b=d.refs===la?d.refs={}:d.refs;null===a?delete b[e]:b[e]=a};b._stringRef=e;return b}"string"!==typeof a?l("148"):void 0;c._owner?void 0:l("254",a)}return a}function rb(a,b){"textarea"!==a.type&&l("31","[object Object]"===Object.prototype.toString.call(b)?"object with keys {"+Object.keys(b).join(", ")+
"}":b,"")}function Td(a){function b(b,c){if(a){var d=b.lastEffect;null!==d?(d.nextEffect=c,b.lastEffect=c):b.firstEffect=b.lastEffect=c;c.nextEffect=null;c.effectTag=8}}function c(c,d){if(!a)return null;for(;null!==d;)b(c,d),d=d.sibling;return null}function d(a,b){for(a=new Map;null!==b;)null!==b.key?a.set(b.key,b):a.set(b.index,b),b=b.sibling;return a}function e(a,b,c){a=nb(a,b,c);a.index=0;a.sibling=null;return a}function f(b,c,d){b.index=d;if(!a)return c;d=b.alternate;if(null!==d)return d=d.index,
d<c?(b.effectTag=2,c):d;b.effectTag=2;return c}function g(b){a&&null===b.alternate&&(b.effectTag=2);return b}function h(a,b,c,d){if(null===b||6!==b.tag)return b=fc(c,a.mode,d),b["return"]=a,b;b=e(b,c,d);b["return"]=a;return b}function k(a,b,c,d){if(null!==b&&b.type===c.type)return d=e(b,c.props,d),d.ref=Pa(a,b,c),d["return"]=a,d;d=ec(c,a.mode,d);d.ref=Pa(a,b,c);d["return"]=a;return d}function D(a,b,c,d){if(null===b||4!==b.tag||b.stateNode.containerInfo!==c.containerInfo||b.stateNode.implementation!==
c.implementation)return b=gc(c,a.mode,d),b["return"]=a,b;b=e(b,c.children||[],d);b["return"]=a;return b}function m(a,b,c,d,f){if(null===b||10!==b.tag)return b=ob(c,a.mode,d,f),b["return"]=a,b;b=e(b,c,d);b["return"]=a;return b}function w(a,b,c){if("string"===typeof b||"number"===typeof b)return b=fc(""+b,a.mode,c),b["return"]=a,b;if("object"===typeof b&&null!==b){switch(b.$$typeof){case sb:return c=ec(b,a.mode,c),c.ref=Pa(a,null,b),c["return"]=a,c;case ja:return b=gc(b,a.mode,c),b["return"]=a,b}if(tb(b)||
Da(b))return b=ob(b,a.mode,c,null),b["return"]=a,b;rb(a,b)}return null}function p(a,b,c,d){var e=null!==b?b.key:null;if("string"===typeof c||"number"===typeof c)return null!==e?null:h(a,b,""+c,d);if("object"===typeof c&&null!==c){switch(c.$$typeof){case sb:return c.key===e?c.type===Y?m(a,b,c.props.children,d,e):k(a,b,c,d):null;case ja:return c.key===e?D(a,b,c,d):null}if(tb(c)||Da(c))return null!==e?null:m(a,b,c,d,null);rb(a,c)}return null}function G(a,b,c,d,e){if("string"===typeof d||"number"===typeof d)return a=
a.get(c)||null,h(b,a,""+d,e);if("object"===typeof d&&null!==d){switch(d.$$typeof){case sb:return a=a.get(null===d.key?c:d.key)||null,d.type===Y?m(b,a,d.props.children,e,d.key):k(b,a,d,e);case ja:return a=a.get(null===d.key?c:d.key)||null,D(b,a,d,e)}if(tb(d)||Da(d))return a=a.get(c)||null,m(b,a,d,e,null);rb(b,d)}return null}function v(e,m,h,C){for(var x=null,g=null,t=m,r=m=0,q=null;null!==t&&r<h.length;r++){t.index>r?(q=t,t=null):q=t.sibling;var n=p(e,t,h[r],C);if(null===n){null===t&&(t=q);break}a&&
t&&null===n.alternate&&b(e,t);m=f(n,m,r);null===g?x=n:g.sibling=n;g=n;t=q}if(r===h.length)return c(e,t),x;if(null===t){for(;r<h.length;r++)if(t=w(e,h[r],C))m=f(t,m,r),null===g?x=t:g.sibling=t,g=t;return x}for(t=d(e,t);r<h.length;r++)if(q=G(t,e,r,h[r],C)){if(a&&null!==q.alternate)t["delete"](null===q.key?r:q.key);m=f(q,m,r);null===g?x=q:g.sibling=q;g=q}a&&t.forEach(function(a){return b(e,a)});return x}function C(e,m,h,C){var g=Da(h);"function"!==typeof g?l("150"):void 0;h=g.call(h);null==h?l("151"):
void 0;for(var x=g=null,t=m,r=m=0,q=null,n=h.next();null!==t&&!n.done;r++,n=h.next()){t.index>r?(q=t,t=null):q=t.sibling;var k=p(e,t,n.value,C);if(null===k){t||(t=q);break}a&&t&&null===k.alternate&&b(e,t);m=f(k,m,r);null===x?g=k:x.sibling=k;x=k;t=q}if(n.done)return c(e,t),g;if(null===t){for(;!n.done;r++,n=h.next())n=w(e,n.value,C),null!==n&&(m=f(n,m,r),null===x?g=n:x.sibling=n,x=n);return g}for(t=d(e,t);!n.done;r++,n=h.next())if(n=G(t,e,r,n.value,C),null!==n){if(a&&null!==n.alternate)t["delete"](null===
n.key?r:n.key);m=f(n,m,r);null===x?g=n:x.sibling=n;x=n}a&&t.forEach(function(a){return b(e,a)});return g}return function(a,d,f,m){"object"===typeof f&&null!==f&&f.type===Y&&null===f.key&&(f=f.props.children);var h="object"===typeof f&&null!==f;if(h)switch(f.$$typeof){case sb:a:{var x=f.key;for(h=d;null!==h;){if(h.key===x)if(10===h.tag?f.type===Y:h.type===f.type){c(a,h.sibling);d=e(h,f.type===Y?f.props.children:f.props,m);d.ref=Pa(a,h,f);d["return"]=a;a=d;break a}else{c(a,h);break}else b(a,h);h=h.sibling}f.type===
Y?(d=ob(f.props.children,a.mode,m,f.key),d["return"]=a,a=d):(m=ec(f,a.mode,m),m.ref=Pa(a,d,f),m["return"]=a,a=m)}return g(a);case ja:a:{for(h=f.key;null!==d;){if(d.key===h)if(4===d.tag&&d.stateNode.containerInfo===f.containerInfo&&d.stateNode.implementation===f.implementation){c(a,d.sibling);d=e(d,f.children||[],m);d["return"]=a;a=d;break a}else{c(a,d);break}else b(a,d);d=d.sibling}d=gc(f,a.mode,m);d["return"]=a;a=d}return g(a)}if("string"===typeof f||"number"===typeof f)return f=""+f,null!==d&&6===
d.tag?(c(a,d.sibling),d=e(d,f,m),d["return"]=a,a=d):(c(a,d),d=fc(f,a.mode,m),d["return"]=a,a=d),g(a);if(tb(f))return v(a,d,f,m);if(Da(f))return C(a,d,f,m);h&&rb(a,f);if("undefined"===typeof f)switch(a.tag){case 2:case 1:m=a.type,l("152",m.displayName||m.name||"Component")}return c(a,d)}}function Ud(a,b){var c=b.source;null===b.stack&&Qb(c);null!==c&&Ia(c);b=b.value;null!==a&&2===a.tag&&Ia(a);try{b&&b.suppressReactErrorLogging||console.error(b)}catch(d){d&&d.suppressReactErrorLogging||console.error(d)}}
function hf(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:ja,key:null==d?null:""+d,children:a,containerInfo:b,implementation:c}}function jf(a){var b="";pa.Children.forEach(a,function(a){null==a||"string"!==typeof a&&"number"!==typeof a||(b+=a)});return b}function mc(a,b){a=A({children:void 0},b);if(b=jf(b.children))a.children=b;return a}function O(a,b,c,d){a=a.options;if(b){b={};for(var e=0;e<c.length;e++)b["$"+c[e]]=!0;for(c=0;c<a.length;c++)e=b.hasOwnProperty("$"+
a[c].value),a[c].selected!==e&&(a[c].selected=e),e&&d&&(a[c].defaultSelected=!0)}else{c=""+c;b=null;for(e=0;e<a.length;e++){if(a[e].value===c){a[e].selected=!0;d&&(a[e].defaultSelected=!0);return}null!==b||a[e].disabled||(b=a[e])}null!==b&&(b.selected=!0)}}function Vd(a,b){var c=b.value;a._wrapperState={initialValue:null!=c?c:b.defaultValue,wasMultiple:!!b.multiple}}function nc(a,b){null!=b.dangerouslySetInnerHTML?l("91"):void 0;return A({},b,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}
function Wd(a,b){var c=b.value;null==c&&(c=b.defaultValue,b=b.children,null!=b&&(null!=c?l("92"):void 0,Array.isArray(b)&&(1>=b.length?void 0:l("93"),b=b[0]),c=""+b),null==c&&(c=""));a._wrapperState={initialValue:""+c}}function Xd(a,b){var c=b.value;null!=c&&(c=""+c,c!==a.value&&(a.value=c),null==b.defaultValue&&(a.defaultValue=c));null!=b.defaultValue&&(a.defaultValue=b.defaultValue)}function Yd(a){switch(a){case "svg":return"http://www.w3.org/2000/svg";case "math":return"http://www.w3.org/1998/Math/MathML";
default:return"http://www.w3.org/1999/xhtml"}}function oc(a,b){return null==a||"http://www.w3.org/1999/xhtml"===a?Yd(b):"http://www.w3.org/2000/svg"===a&&"foreignObject"===b?"http://www.w3.org/1999/xhtml":a}function Zd(a,b,c){a=a.style;for(var d in b)if(b.hasOwnProperty(d)){c=0===d.indexOf("--");var e=d;var f=b[d];e=null==f||"boolean"===typeof f||""===f?"":c||"number"!==typeof f||0===f||Qa.hasOwnProperty(e)&&Qa[e]?(""+f).trim():f+"px";"float"===d&&(d="cssFloat");c?a.setProperty(d,e):a[d]=e}}function pc(a,
b,c){b&&(kf[a]&&(null!=b.children||null!=b.dangerouslySetInnerHTML?l("137",a,c()):void 0),null!=b.dangerouslySetInnerHTML&&(null!=b.children?l("60"):void 0,"object"===typeof b.dangerouslySetInnerHTML&&"__html"in b.dangerouslySetInnerHTML?void 0:l("61")),null!=b.style&&"object"!==typeof b.style?l("62",c()):void 0)}function qc(a,b){if(-1===a.indexOf("-"))return"string"===typeof b.is;switch(a){case "annotation-xml":case "color-profile":case "font-face":case "font-face-src":case "font-face-uri":case "font-face-format":case "font-face-name":case "missing-glyph":return!1;
default:return!0}}function U(a,b){a=9===a.nodeType||11===a.nodeType?a:a.ownerDocument;var c=Fd(a);b=cb[b];for(var d=0;d<b.length;d++){var e=b[d];c.hasOwnProperty(e)&&c[e]||("topScroll"===e?S("topScroll","scroll",a):"topFocus"===e||"topBlur"===e?(S("topFocus","focus",a),S("topBlur","blur",a),c.topBlur=!0,c.topFocus=!0):"topCancel"===e?(Pb("cancel",!0)&&S("topCancel","cancel",a),c.topCancel=!0):"topClose"===e?(Pb("close",!0)&&S("topClose","close",a),c.topClose=!0):$d.hasOwnProperty(e)&&y(e,$d[e],a),
c[e]=!0)}}function ae(a,b,c,d){c=9===c.nodeType?c:c.ownerDocument;"http://www.w3.org/1999/xhtml"===d&&(d=Yd(a));"http://www.w3.org/1999/xhtml"===d?"script"===a?(a=c.createElement("div"),a.innerHTML="\x3cscript\x3e\x3c/script\x3e",a=a.removeChild(a.firstChild)):a="string"===typeof b.is?c.createElement(a,{is:b.is}):c.createElement(a):a=c.createElementNS(d,a);return a}function be(a,b){return(9===b.nodeType?b:b.ownerDocument).createTextNode(a)}function ce(a,b,c,d){var e=qc(b,c);switch(b){case "iframe":case "object":y("topLoad",
"load",a);var f=c;break;case "video":case "audio":for(f in Z)Z.hasOwnProperty(f)&&y(f,Z[f],a);f=c;break;case "source":y("topError","error",a);f=c;break;case "img":case "image":case "link":y("topError","error",a);y("topLoad","load",a);f=c;break;case "form":y("topReset","reset",a);y("topSubmit","submit",a);f=c;break;case "details":y("topToggle","toggle",a);f=c;break;case "input":od(a,c);f=Sb(a,c);y("topInvalid","invalid",a);U(d,"onChange");break;case "option":f=mc(a,c);break;case "select":Vd(a,c);f=
A({},c,{value:void 0});y("topInvalid","invalid",a);U(d,"onChange");break;case "textarea":Wd(a,c);f=nc(a,c);y("topInvalid","invalid",a);U(d,"onChange");break;default:f=c}pc(b,f,Ra);var g=f,h;for(h in g)if(g.hasOwnProperty(h)){var k=g[h];"style"===h?Zd(a,k,Ra):"dangerouslySetInnerHTML"===h?(k=k?k.__html:void 0,null!=k&&de(a,k)):"children"===h?"string"===typeof k?("textarea"!==b||""!==k)&&ub(a,k):"number"===typeof k&&ub(a,""+k):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==
h&&(qa.hasOwnProperty(h)?null!=k&&U(d,h):null!=k&&Rb(a,h,k,e))}switch(b){case "input":fb(a);qd(a,c);break;case "textarea":fb(a);c=a.textContent;c===a._wrapperState.initialValue&&(a.value=c);break;case "option":null!=c.value&&a.setAttribute("value",c.value);break;case "select":a.multiple=!!c.multiple;b=c.value;null!=b?O(a,!!c.multiple,b,!1):null!=c.defaultValue&&O(a,!!c.multiple,c.defaultValue,!0);break;default:"function"===typeof f.onClick&&(a.onclick=M)}}function ee(a,b,c,d,e){var f=null;switch(b){case "input":c=
Sb(a,c);d=Sb(a,d);f=[];break;case "option":c=mc(a,c);d=mc(a,d);f=[];break;case "select":c=A({},c,{value:void 0});d=A({},d,{value:void 0});f=[];break;case "textarea":c=nc(a,c);d=nc(a,d);f=[];break;default:"function"!==typeof c.onClick&&"function"===typeof d.onClick&&(a.onclick=M)}pc(b,d,Ra);b=a=void 0;var g=null;for(a in c)if(!d.hasOwnProperty(a)&&c.hasOwnProperty(a)&&null!=c[a])if("style"===a){var h=c[a];for(b in h)h.hasOwnProperty(b)&&(g||(g={}),g[b]="")}else"dangerouslySetInnerHTML"!==a&&"children"!==
a&&"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(qa.hasOwnProperty(a)?f||(f=[]):(f=f||[]).push(a,null));for(a in d){var k=d[a];h=null!=c?c[a]:void 0;if(d.hasOwnProperty(a)&&k!==h&&(null!=k||null!=h))if("style"===a)if(h){for(b in h)!h.hasOwnProperty(b)||k&&k.hasOwnProperty(b)||(g||(g={}),g[b]="");for(b in k)k.hasOwnProperty(b)&&h[b]!==k[b]&&(g||(g={}),g[b]=k[b])}else g||(f||(f=[]),f.push(a,g)),g=k;else"dangerouslySetInnerHTML"===a?(k=k?k.__html:void 0,h=h?
h.__html:void 0,null!=k&&h!==k&&(f=f||[]).push(a,""+k)):"children"===a?h===k||"string"!==typeof k&&"number"!==typeof k||(f=f||[]).push(a,""+k):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&(qa.hasOwnProperty(a)?(null!=k&&U(e,a),f||h===k||(f=[])):(f=f||[]).push(a,k))}g&&(f=f||[]).push("style",g);return f}function fe(a,b,c,d,e){"input"===c&&"radio"===e.type&&null!=e.name&&pd(a,e);qc(c,d);d=qc(c,e);for(var f=0;f<b.length;f+=2){var g=b[f],h=b[f+1];"style"===g?Zd(a,h,Ra):"dangerouslySetInnerHTML"===
g?de(a,h):"children"===g?ub(a,h):Rb(a,g,h,d)}switch(c){case "input":Ub(a,e);break;case "textarea":Xd(a,e);break;case "select":a._wrapperState.initialValue=void 0,b=a._wrapperState.wasMultiple,a._wrapperState.wasMultiple=!!e.multiple,c=e.value,null!=c?O(a,!!e.multiple,c,!1):b!==!!e.multiple&&(null!=e.defaultValue?O(a,!!e.multiple,e.defaultValue,!0):O(a,!!e.multiple,e.multiple?[]:"",!1))}}function ge(a,b,c,d,e){switch(b){case "iframe":case "object":y("topLoad","load",a);break;case "video":case "audio":for(var f in Z)Z.hasOwnProperty(f)&&
y(f,Z[f],a);break;case "source":y("topError","error",a);break;case "img":case "image":case "link":y("topError","error",a);y("topLoad","load",a);break;case "form":y("topReset","reset",a);y("topSubmit","submit",a);break;case "details":y("topToggle","toggle",a);break;case "input":od(a,c);y("topInvalid","invalid",a);U(e,"onChange");break;case "select":Vd(a,c);y("topInvalid","invalid",a);U(e,"onChange");break;case "textarea":Wd(a,c),y("topInvalid","invalid",a),U(e,"onChange")}pc(b,c,Ra);d=null;for(var g in c)c.hasOwnProperty(g)&&
(f=c[g],"children"===g?"string"===typeof f?a.textContent!==f&&(d=["children",f]):"number"===typeof f&&a.textContent!==""+f&&(d=["children",""+f]):qa.hasOwnProperty(g)&&null!=f&&U(e,g));switch(b){case "input":fb(a);qd(a,c);break;case "textarea":fb(a);b=a.textContent;b===a._wrapperState.initialValue&&(a.value=b);break;case "select":case "option":break;default:"function"===typeof c.onClick&&(a.onclick=M)}return d}function he(a,b){return a.nodeValue!==b}function Sa(a){this._expirationTime=B.computeUniqueAsyncExpiration();
this._root=a;this._callbacks=this._next=null;this._hasChildren=this._didComplete=!1;this._children=null;this._defer=!0}function ma(){this._callbacks=null;this._didCommit=!1;this._onCommit=this._onCommit.bind(this)}function aa(a,b,c){this._internalRoot=B.createContainer(a,b,c)}function rc(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType&&(8!==a.nodeType||" react-mount-point-unstable "!==a.nodeValue))}function ie(a,b){switch(a){case "button":case "input":case "select":case "textarea":return!!b.autoFocus}return!1}
function lf(a,b){b||(b=a?9===a.nodeType?a.documentElement:a.firstChild:null,b=!(!b||1!==b.nodeType||!b.hasAttribute("data-reactroot")));if(!b)for(var c;c=a.lastChild;)a.removeChild(c);return new aa(a,!1,b)}function vb(a,b,c,d,e){rc(c)?void 0:l("200");var f=c._reactRootContainer;if(f){if("function"===typeof e){var g=e;e=function(){var a=B.getPublicRootInstance(f._internalRoot);g.call(a)}}null!=a?f.legacy_renderSubtreeIntoContainer(a,b,e):f.render(b,e)}else{f=c._reactRootContainer=lf(c,d);if("function"===
typeof e){var h=e;e=function(){var a=B.getPublicRootInstance(f._internalRoot);h.call(a)}}B.unbatchedUpdates(function(){null!=a?f.legacy_renderSubtreeIntoContainer(a,b,e):f.render(b,e)})}return B.getPublicRootInstance(f._internalRoot)}function je(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;rc(b)?void 0:l("200");return hf(a,b,null,c)}var ze=function(a,b,c,d,e,f,g,h){if(!a){if(void 0===b)a=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");
else{var k=[c,d,e,f,g,h],l=0;a=Error(b.replace(/%s/g,function(){return k[l++]}));a.name="Invariant Violation"}a.framesToPop=1;throw a;}};pa?void 0:l("227");var mf=function(a,b,c,d,e,f,g,h,k){this._hasCaughtError=!1;this._caughtError=null;var l=Array.prototype.slice.call(arguments,3);try{b.apply(c,l)}catch(m){this._caughtError=m,this._hasCaughtError=!0}},z={_caughtError:null,_hasCaughtError:!1,_rethrowError:null,_hasRethrowError:!1,invokeGuardedCallback:function(a,b,c,d,e,f,g,h,l){mf.apply(z,arguments)},
invokeGuardedCallbackAndCatchFirstError:function(a,b,c,d,e,f,g,h,l){z.invokeGuardedCallback.apply(this,arguments);if(z.hasCaughtError()){var k=z.clearCaughtError();z._hasRethrowError||(z._hasRethrowError=!0,z._rethrowError=k)}},rethrowCaughtError:function(){return nf.apply(z,arguments)},hasCaughtError:function(){return z._hasCaughtError},clearCaughtError:function(){if(z._hasCaughtError){var a=z._caughtError;z._caughtError=null;z._hasCaughtError=!1;return a}l("198")}},nf=function(){if(z._hasRethrowError){var a=
z._rethrowError;z._rethrowError=null;z._hasRethrowError=!1;throw a;}},bb=null,va={},ea=[],Gb={},qa={},cb={},of=Object.freeze({plugins:ea,eventNameDispatchConfigs:Gb,registrationNameModules:qa,registrationNameDependencies:cb,possibleRegistrationNames:null,injectEventPluginOrder:Gc,injectEventPluginsByName:Hc}),ba=function(){};ba.thatReturns=db;ba.thatReturnsFalse=db(!1);ba.thatReturnsTrue=db(!0);ba.thatReturnsNull=db(null);ba.thatReturnsThis=function(){return this};ba.thatReturnsArgument=function(a){return a};
var M=ba,Ib=null,Zc=null,Jc=null,fa=null,ke=function(a,b){if(a){var c=a._dispatchListeners,d=a._dispatchInstances;if(Array.isArray(c))for(var e=0;e<c.length&&!a.isPropagationStopped();e++)Ic(a,b,c[e],d[e]);else c&&Ic(a,b,c,d);a._dispatchListeners=null;a._dispatchInstances=null;a.isPersistent()||a.constructor.release(a)}},Ae=function(a){return ke(a,!0)},Be=function(a){return ke(a,!1)},sc={injectEventPluginOrder:Gc,injectEventPluginsByName:Hc},pf=Object.freeze({injection:sc,getListener:Hb,runEventsInBatch:Jb,
runExtractedEventsInBatch:Kc}),le=Math.random().toString(36).slice(2),P="__reactInternalInstance$"+le,ha="__reactEventHandlers$"+le,me=Object.freeze({precacheFiberNode:function(a,b){b[P]=a},getClosestInstanceFromNode:Ca,getInstanceFromNode:function(a){a=a[P];return!a||5!==a.tag&&6!==a.tag?null:a},getNodeFromInstance:xa,getFiberCurrentPropsFromNode:Lc,updateFiberProps:function(a,b){a[ha]=b}}),qf=Object.freeze({accumulateTwoPhaseDispatches:ya,accumulateTwoPhaseDispatchesSkipTarget:function(a){X(a,De)},
accumulateEnterLeaveDispatches:Oc,accumulateDirectDispatches:function(a){X(a,Ee)}}),wb=!("undefined"===typeof window||!window.document||!window.document.createElement),R={canUseDOM:wb,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:wb&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:wb&&!!window.screen,isInWorker:!wb},Lb=null,H={_root:null,_startText:null,_fallbackText:null},A=pa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.assign,ne="dispatchConfig _targetInst nativeEvent isDefaultPrevented isPropagationStopped _dispatchListeners _dispatchInstances".split(" "),
rf={type:null,target:null,currentTarget:M.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};A(I.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():"unknown"!==typeof a.returnValue&&(a.returnValue=!1),this.isDefaultPrevented=M.thatReturnsTrue)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():
"unknown"!==typeof a.cancelBubble&&(a.cancelBubble=!0),this.isPropagationStopped=M.thatReturnsTrue)},persist:function(){this.isPersistent=M.thatReturnsTrue},isPersistent:M.thatReturnsFalse,destructor:function(){var a=this.constructor.Interface,b;for(b in a)this[b]=null;for(a=0;a<ne.length;a++)this[ne[a]]=null}});I.Interface=rf;I.extend=function(a){function b(){return c.apply(this,arguments)}var c=this,d=function(){};d.prototype=c.prototype;d=new d;A(d,b.prototype);b.prototype=d;b.prototype.constructor=
b;b.Interface=A({},c.Interface,a);b.extend=c.extend;Sc(b);return b};Sc(I);var sf=I.extend({data:null}),tf=I.extend({data:null}),He=[9,13,27,32],Mb=R.canUseDOM&&"CompositionEvent"in window,Ta=null;R.canUseDOM&&"documentMode"in document&&(Ta=document.documentMode);var uf=R.canUseDOM&&"TextEvent"in window&&!Ta,Xc=R.canUseDOM&&(!Mb||Ta&&8<Ta&&11>=Ta),Wc=String.fromCharCode(32),ca={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["topCompositionEnd",
"topKeyPress","topTextInput","topPaste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"topBlur topCompositionEnd topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"topBlur topCompositionStart topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",
captured:"onCompositionUpdateCapture"},dependencies:"topBlur topCompositionUpdate topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")}},Vc=!1,ia=!1,vf={eventTypes:ca,extractEvents:function(a,b,c,d){var e=void 0;var f=void 0;if(Mb)b:{switch(a){case "topCompositionStart":e=ca.compositionStart;break b;case "topCompositionEnd":e=ca.compositionEnd;break b;case "topCompositionUpdate":e=ca.compositionUpdate;break b}e=void 0}else ia?Tc(a,c)&&(e=ca.compositionEnd):"topKeyDown"===a&&229===c.keyCode&&(e=
ca.compositionStart);e?(Xc&&(ia||e!==ca.compositionStart?e===ca.compositionEnd&&ia&&(f=Qc()):(H._root=d,H._startText=Rc(),ia=!0)),e=sf.getPooled(e,b,c,d),f?e.data=f:(f=Uc(c),null!==f&&(e.data=f)),ya(e),f=e):f=null;(a=uf?Ie(a,c):Je(a,c))?(b=tf.getPooled(ca.beforeInput,b,c,d),b.data=a,ya(b)):b=null;return null===f?b:null===b?f:[f,b]}},eb=null,za=null,ra=null,oe={injectFiberControlledHostComponent:function(a){eb=a}},wf=Object.freeze({injection:oe,enqueueStateRestore:$c,needsStateRestore:ad,restoreStateIfNeeded:bd}),
dd=function(a,b){return a(b)},Dd=function(a,b,c){return a(b,c)},ed=function(){},Nb=!1,Ke={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},tc=pa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,V="function"===typeof Symbol&&Symbol["for"],sb=V?Symbol["for"]("react.element"):60103,jd=V?Symbol["for"]("react.call"):60104,kd=V?Symbol["for"]("react.return"):60105,ja=V?Symbol["for"]("react.portal"):
60106,Y=V?Symbol["for"]("react.fragment"):60107,cf=V?Symbol["for"]("react.strict_mode"):60108,df=V?Symbol["for"]("react.provider"):60109,ef=V?Symbol["for"]("react.context"):60110,bf=V?Symbol["for"]("react.async_mode"):60111,ld=V?Symbol["for"]("react.forward_ref"):60112,id="function"===typeof Symbol&&Symbol.iterator,Ne=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,
nd={},md={},F={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){F[a]=new J(a,0,!1,a,null)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var b=a[0];F[b]=new J(b,1,!1,a[1],null)});["contentEditable","draggable","spellCheck","value"].forEach(function(a){F[a]=new J(a,2,!1,a.toLowerCase(),null)});["autoReverse",
"externalResourcesRequired","preserveAlpha"].forEach(function(a){F[a]=new J(a,2,!1,a,null)});"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){F[a]=new J(a,3,!1,a.toLowerCase(),null)});["checked","multiple","muted","selected"].forEach(function(a){F[a]=new J(a,3,!0,a.toLowerCase(),null)});["capture","download"].forEach(function(a){F[a]=
new J(a,4,!1,a.toLowerCase(),null)});["cols","rows","size","span"].forEach(function(a){F[a]=new J(a,6,!1,a.toLowerCase(),null)});["rowSpan","start"].forEach(function(a){F[a]=new J(a,5,!1,a.toLowerCase(),null)});var uc=/[\-:]([a-z])/g,vc=function(a){return a[1].toUpperCase()};"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var b=
a.replace(uc,vc);F[b]=new J(b,1,!1,a,null)});"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var b=a.replace(uc,vc);F[b]=new J(b,1,!1,a,"http://www.w3.org/1999/xlink")});["xml:base","xml:lang","xml:space"].forEach(function(a){var b=a.replace(uc,vc);F[b]=new J(b,1,!1,a,"http://www.w3.org/XML/1998/namespace")});F.tabIndex=new J("tabIndex",1,!1,"tabindex",null);var sd={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},
dependencies:"topBlur topChange topClick topFocus topInput topKeyDown topKeyUp topSelectionChange".split(" ")}},Ja=null,Ka=null,wc=!1;R.canUseDOM&&(wc=Pb("input")&&(!document.documentMode||9<document.documentMode));var xf={eventTypes:sd,_isInputEventSupported:wc,extractEvents:function(a,b,c,d){var e=b?xa(b):window,f=void 0,g=void 0,h=e.nodeName&&e.nodeName.toLowerCase();"select"===h||"input"===h&&"file"===e.type?f=Re:fd(e)?wc?f=Ve:(f=Te,g=Se):(h=e.nodeName)&&"input"===h.toLowerCase()&&("checkbox"===
e.type||"radio"===e.type)&&(f=Ue);if(f&&(f=f(a,b)))return rd(f,c,d);g&&g(a,e,b);"topBlur"===a&&null!=b&&(a=b._wrapperState||e._wrapperState)&&a.controlled&&"number"===e.type&&Vb(e,"number",e.value)}},Ua=I.extend({view:null,detail:null}),Xe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},Va=Ua.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Wb,button:null,buttons:null,relatedTarget:function(a){return a.relatedTarget||
(a.fromElement===a.srcElement?a.toElement:a.fromElement)}}),xc={mouseEnter:{registrationName:"onMouseEnter",dependencies:["topMouseOut","topMouseOver"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["topMouseOut","topMouseOver"]}},yf={eventTypes:xc,extractEvents:function(a,b,c,d){if("topMouseOver"===a&&(c.relatedTarget||c.fromElement)||"topMouseOut"!==a&&"topMouseOver"!==a)return null;var e=d.window===d?d:(e=d.ownerDocument)?e.defaultView||e.parentWindow:window;"topMouseOut"===a?(a=b,
b=(b=c.relatedTarget||c.toElement)?Ca(b):null):a=null;if(a===b)return null;var f=null==a?e:xa(a);e=null==b?e:xa(b);var g=Va.getPooled(xc.mouseLeave,a,c,d);g.type="mouseleave";g.target=f;g.relatedTarget=e;c=Va.getPooled(xc.mouseEnter,b,c,d);c.type="mouseenter";c.target=e;c.relatedTarget=f;Oc(g,c,a,b);return[g,c]}},bc=function(a){a=a||("undefined"!==typeof document?document:void 0);if("undefined"===typeof a)return null;try{return a.activeElement||a.body}catch(b){return a.body}},zf=Object.prototype.hasOwnProperty,
cc=function(a,b){if(vd(a,b))return!0;if("object"!==typeof a||null===a||"object"!==typeof b||null===b)return!1;var c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++)if(!zf.call(b,c[d])||!vd(a[c[d]],b[c[d]]))return!1;return!0},Af=I.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Bf=I.extend({clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Cf=Ua.extend({relatedTarget:null}),Df={Esc:"Escape",Spacebar:" ",
Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ef={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",
120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ff=Ua.extend({key:function(a){if(a.key){var b=Df[a.key]||a.key;if("Unidentified"!==b)return b}return"keypress"===a.type?(a=hb(a),13===a?"Enter":String.fromCharCode(a)):"keydown"===a.type||"keyup"===a.type?Ef[a.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Wb,charCode:function(a){return"keypress"===a.type?hb(a):0},keyCode:function(a){return"keydown"===
a.type||"keyup"===a.type?a.keyCode:0},which:function(a){return"keypress"===a.type?hb(a):"keydown"===a.type||"keyup"===a.type?a.keyCode:0}}),Gf=Va.extend({dataTransfer:null}),Hf=Ua.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Wb}),If=I.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),Jf=Va.extend({deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in
a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:null,deltaMode:null}),Ad={},Xb={};"blur cancel click close contextMenu copy cut doubleClick dragEnd dragStart drop focus input invalid keyDown keyPress keyUp mouseDown mouseUp paste pause play rateChange reset seeked submit touchCancel touchEnd touchStart volumeChange".split(" ").forEach(function(a){zd(a,!0)});"abort animationEnd animationIteration animationStart canPlay canPlayThrough drag dragEnter dragExit dragLeave dragOver durationChange emptied encrypted ended error load loadedData loadedMetadata loadStart mouseMove mouseOut mouseOver playing progress scroll seeking stalled suspend timeUpdate toggle touchMove transitionEnd waiting wheel".split(" ").forEach(function(a){zd(a,
!1)});var pe={eventTypes:Ad,isInteractiveTopLevelEventType:function(a){a=Xb[a];return void 0!==a&&!0===a.isInteractive},extractEvents:function(a,b,c,d){var e=Xb[a];if(!e)return null;switch(a){case "topKeyPress":if(0===hb(c))return null;case "topKeyDown":case "topKeyUp":a=Ff;break;case "topBlur":case "topFocus":a=Cf;break;case "topClick":if(2===c.button)return null;case "topDoubleClick":case "topMouseDown":case "topMouseMove":case "topMouseUp":case "topMouseOut":case "topMouseOver":case "topContextMenu":a=
Va;break;case "topDrag":case "topDragEnd":case "topDragEnter":case "topDragExit":case "topDragLeave":case "topDragOver":case "topDragStart":case "topDrop":a=Gf;break;case "topTouchCancel":case "topTouchEnd":case "topTouchMove":case "topTouchStart":a=Hf;break;case "topAnimationEnd":case "topAnimationIteration":case "topAnimationStart":a=Af;break;case "topTransitionEnd":a=If;break;case "topScroll":a=Ua;break;case "topWheel":a=Jf;break;case "topCopy":case "topCut":case "topPaste":a=Bf;break;default:a=
I}b=a.getPooled(e,b,c,d);ya(b);return b}},Bd=pe.isInteractiveTopLevelEventType,jb=[],Ma=!0,Kf=Object.freeze({get _enabled(){return Ma},setEnabled:Yb,isEnabled:function(){return Ma},trapBubbledEvent:y,trapCapturedEvent:S,dispatchEvent:ib}),T={animationend:kb("Animation","AnimationEnd"),animationiteration:kb("Animation","AnimationIteration"),animationstart:kb("Animation","AnimationStart"),transitionend:kb("Transition","TransitionEnd")},Zb={},Ed={};R.canUseDOM&&(Ed=document.createElement("div").style,
"AnimationEvent"in window||(delete T.animationend.animation,delete T.animationiteration.animation,delete T.animationstart.animation),"TransitionEvent"in window||delete T.transitionend.transition);var $d={topAnimationEnd:lb("animationend"),topAnimationIteration:lb("animationiteration"),topAnimationStart:lb("animationstart"),topBlur:"blur",topCancel:"cancel",topChange:"change",topClick:"click",topClose:"close",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",
topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoad:"load",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",
topPaste:"paste",topScroll:"scroll",topSelectionChange:"selectionchange",topTextInput:"textInput",topToggle:"toggle",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:lb("transitionend"),topWheel:"wheel"},Z={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",
topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},Gd={},af=0,mb="_reactListenersID"+(""+Math.random()).slice(2),Id=function(a){var b=(a?a.ownerDocument||a:document).defaultView||window;return!!(a&&("function"===typeof b.Node?a instanceof b.Node:"object"===typeof a&&
"number"===typeof a.nodeType&&"string"===typeof a.nodeName))&&3==a.nodeType},Lf=R.canUseDOM&&"documentMode"in document&&11>=document.documentMode,Md={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"topBlur topContextMenu topFocus topKeyDown topKeyUp topMouseDown topMouseUp topSelectionChange".split(" ")}},ka=null,dc=null,Na=null,ac=!1,Mf={eventTypes:Md,extractEvents:function(a,b,c,d){var e=d.window===d?d.document:9===d.nodeType?d:d.ownerDocument,f;if(!(f=
!e)){a:{e=Fd(e);f=cb.onSelect;for(var g=0;g<f.length;g++){var h=f[g];if(!e.hasOwnProperty(h)||!e[h]){e=!1;break a}}e=!0}f=!e}if(f)return null;e=b?xa(b):window;switch(a){case "topFocus":if(fd(e)||"true"===e.contentEditable)ka=e,dc=b,Na=null;break;case "topBlur":Na=dc=ka=null;break;case "topMouseDown":ac=!0;break;case "topContextMenu":case "topMouseUp":return ac=!1,Ld(c,d);case "topSelectionChange":if(Lf)break;case "topKeyDown":case "topKeyUp":return Ld(c,d)}return null}};sc.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin TapEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" "));
(function(a){Ib=a.getFiberCurrentPropsFromNode;Zc=a.getInstanceFromNode;Jc=a.getNodeFromInstance})(me);sc.injectEventPluginsByName({SimpleEventPlugin:pe,EnterLeaveEventPlugin:yf,ChangeEventPlugin:xf,SelectEventPlugin:Mf,BeforeInputEventPlugin:vf});var la={},hc=null,ic=null;new Set;var kc=void 0,lc=void 0,Nf=function(a,b,c,d,e){function f(a,b,c,d,e,f){if(null===b||null!==a.updateQueue&&a.updateQueue.hasForceUpdate)return!0;var m=a.stateNode;a=a.type;return"function"===typeof m.shouldComponentUpdate?
m.shouldComponentUpdate(c,e,f):a.prototype&&a.prototype.isPureReactComponent?!cc(b,c)||!cc(d,e):!0}function g(a,b){b.updater=v;a.stateNode=b;b._reactInternalFiber=a}function h(a,b,c,d){a=b.state;"function"===typeof b.componentWillReceiveProps&&b.componentWillReceiveProps(c,d);"function"===typeof b.UNSAFE_componentWillReceiveProps&&b.UNSAFE_componentWillReceiveProps(c,d);b.state!==a&&v.enqueueReplaceState(b,b.state,null)}function l(a,b,c,d){a=a.type;if("function"===typeof a.getDerivedStateFromProps)return a.getDerivedStateFromProps.call(null,
c,d)}var D=a.cacheContext,m=a.getMaskedContext,w=a.getUnmaskedContext,p=a.isContextConsumer,G=a.hasContextChanged,v={isMounted:Ye,enqueueSetState:function(a,d,e){a=a._reactInternalFiber;e=void 0===e?null:e;var f=c(a);Oa(a,{expirationTime:f,partialState:d,callback:e,isReplace:!1,isForced:!1,capturedValue:null,next:null});b(a,f)},enqueueReplaceState:function(a,d,e){a=a._reactInternalFiber;e=void 0===e?null:e;var f=c(a);Oa(a,{expirationTime:f,partialState:d,callback:e,isReplace:!0,isForced:!1,capturedValue:null,
next:null});b(a,f)},enqueueForceUpdate:function(a,d){a=a._reactInternalFiber;d=void 0===d?null:d;var e=c(a);Oa(a,{expirationTime:e,partialState:null,callback:d,isReplace:!1,isForced:!0,capturedValue:null,next:null});b(a,e)}};return{adoptClassInstance:g,callGetDerivedStateFromProps:l,constructClassInstance:function(a,b){var c=a.type,d=w(a),e=p(a),f=e?m(a,d):la;c=new c(b,f);var h=null!==c.state&&void 0!==c.state?c.state:null;g(a,c);a.memoizedState=h;b=l(a,c,b,h);null!==b&&void 0!==b&&(a.memoizedState=
A({},a.memoizedState,b));e&&D(a,d,f);return c},mountClassInstance:function(a,b){var c=a.type,d=a.alternate,e=a.stateNode,f=a.pendingProps,h=w(a);e.props=f;e.state=a.memoizedState;e.refs=la;e.context=m(a,h);"function"===typeof c.getDerivedStateFromProps||"function"===typeof e.getSnapshotBeforeUpdate||"function"!==typeof e.UNSAFE_componentWillMount&&"function"!==typeof e.componentWillMount||(c=e.state,"function"===typeof e.componentWillMount&&e.componentWillMount(),"function"===typeof e.UNSAFE_componentWillMount&&
e.UNSAFE_componentWillMount(),c!==e.state&&v.enqueueReplaceState(e,e.state,null),c=a.updateQueue,null!==c&&(e.state=qb(d,a,c,e,f,b)));"function"===typeof e.componentDidMount&&(a.effectTag|=4)},resumeMountClassInstance:function(a,b){var c=a.type,g=a.stateNode;g.props=a.memoizedProps;g.state=a.memoizedState;var k=a.memoizedProps,v=a.pendingProps,p=g.context,x=w(a);x=m(a,x);(c="function"===typeof c.getDerivedStateFromProps||"function"===typeof g.getSnapshotBeforeUpdate)||"function"!==typeof g.UNSAFE_componentWillReceiveProps&&
"function"!==typeof g.componentWillReceiveProps||(k!==v||p!==x)&&h(a,g,v,x);p=a.memoizedState;b=null!==a.updateQueue?qb(null,a,a.updateQueue,g,v,b):p;var r=void 0;k!==v&&(r=l(a,g,v,b));if(null!==r&&void 0!==r){b=null===b||void 0===b?r:A({},b,r);var q=a.updateQueue;null!==q&&(q.baseState=A({},q.baseState,r))}if(!(k!==v||p!==b||G()||null!==a.updateQueue&&a.updateQueue.hasForceUpdate))return"function"===typeof g.componentDidMount&&(a.effectTag|=4),!1;(k=f(a,k,v,p,b,x))?(c||"function"!==typeof g.UNSAFE_componentWillMount&&
"function"!==typeof g.componentWillMount||("function"===typeof g.componentWillMount&&g.componentWillMount(),"function"===typeof g.UNSAFE_componentWillMount&&g.UNSAFE_componentWillMount()),"function"===typeof g.componentDidMount&&(a.effectTag|=4)):("function"===typeof g.componentDidMount&&(a.effectTag|=4),d(a,v),e(a,b));g.props=v;g.state=b;g.context=x;return k},updateClassInstance:function(a,b,c){var g=b.type,k=b.stateNode;k.props=b.memoizedProps;k.state=b.memoizedState;var v=b.memoizedProps,p=b.pendingProps,
C=k.context,r=w(b);r=m(b,r);(g="function"===typeof g.getDerivedStateFromProps||"function"===typeof k.getSnapshotBeforeUpdate)||"function"!==typeof k.UNSAFE_componentWillReceiveProps&&"function"!==typeof k.componentWillReceiveProps||(v!==p||C!==r)&&h(b,k,p,r);C=b.memoizedState;c=null!==b.updateQueue?qb(a,b,b.updateQueue,k,p,c):C;var q=void 0;v!==p&&(q=l(b,k,p,c));if(null!==q&&void 0!==q){c=null===c||void 0===c?q:A({},c,q);var n=b.updateQueue;null!==n&&(n.baseState=A({},n.baseState,q))}if(!(v!==p||
C!==c||G()||null!==b.updateQueue&&b.updateQueue.hasForceUpdate))return"function"!==typeof k.componentDidUpdate||v===a.memoizedProps&&C===a.memoizedState||(b.effectTag|=4),"function"!==typeof k.getSnapshotBeforeUpdate||v===a.memoizedProps&&C===a.memoizedState||(b.effectTag|=2048),!1;(q=f(b,v,p,C,c,r))?(g||"function"!==typeof k.UNSAFE_componentWillUpdate&&"function"!==typeof k.componentWillUpdate||("function"===typeof k.componentWillUpdate&&k.componentWillUpdate(p,c,r),"function"===typeof k.UNSAFE_componentWillUpdate&&
k.UNSAFE_componentWillUpdate(p,c,r)),"function"===typeof k.componentDidUpdate&&(b.effectTag|=4),"function"===typeof k.getSnapshotBeforeUpdate&&(b.effectTag|=2048)):("function"!==typeof k.componentDidUpdate||v===a.memoizedProps&&C===a.memoizedState||(b.effectTag|=4),"function"!==typeof k.getSnapshotBeforeUpdate||v===a.memoizedProps&&C===a.memoizedState||(b.effectTag|=2048),d(b,p),e(b,c));k.props=p;k.state=c;k.context=r;return q}}},tb=Array.isArray,xb=Td(!0),yc=Td(!1),Qf=function(a,b,c,d,e,f,g){function h(a,
b,c){k(a,b,c,b.expirationTime)}function k(a,b,c,d){b.child=null===a?yc(b,null,c,d):xb(b,a.child,c,d)}function D(a,b){var c=b.ref;if(null===a&&null!==c||null!==a&&a.ref!==c)b.effectTag|=128}function m(a,b,c,d,e,f){D(a,b);if(!c&&!e)return d&&n(b,!1),v(a,b);c=b.stateNode;tc.current=b;var m=e?null:c.render();b.effectTag|=1;e&&(k(a,b,null,f),b.child=null);k(a,b,m,f);b.memoizedState=c.state;b.memoizedProps=c.props;d&&n(b,!0);return b.child}function w(a){var b=a.stateNode;b.pendingContext?q(a,b.pendingContext,
b.pendingContext!==b.context):b.context&&q(a,b.context,!1);y(a,b.containerInfo)}function p(a,b,c,d){var e=a.child;for(null!==e&&(e["return"]=a);null!==e;){switch(e.tag){case 12:var f=e.stateNode|0;if(e.type===b&&0!==(f&c)){for(f=e;null!==f;){var m=f.alternate;if(0===f.expirationTime||f.expirationTime>d)f.expirationTime=d,null!==m&&(0===m.expirationTime||m.expirationTime>d)&&(m.expirationTime=d);else if(null!==m&&(0===m.expirationTime||m.expirationTime>d))m.expirationTime=d;else break;f=f["return"]}f=
null}else f=e.child;break;case 13:f=e.type===a.type?null:e.child;break;default:f=e.child}if(null!==f)f["return"]=e;else for(f=e;null!==f;){if(f===a){f=null;break}e=f.sibling;if(null!==e){f=e;break}f=f["return"]}e=f}}function G(a,b,c){var d=b.type._context,e=b.pendingProps,f=b.memoizedProps;if(!Aa()&&f===e)return b.stateNode=0,z(b),v(a,b);var m=e.value;b.memoizedProps=e;if(null===f)m=1073741823;else if(f.value===e.value){if(f.children===e.children)return b.stateNode=0,z(b),v(a,b);m=0}else{var g=f.value;
if(g===m&&(0!==g||1/g===1/m)||g!==g&&m!==m){if(f.children===e.children)return b.stateNode=0,z(b),v(a,b);m=0}else if(m="function"===typeof d._calculateChangedBits?d._calculateChangedBits(g,m):1073741823,m|=0,0===m){if(f.children===e.children)return b.stateNode=0,z(b),v(a,b)}else p(b,d,m,c)}b.stateNode=m;z(b);h(a,b,e.children);return b.child}function v(a,b){null!==a&&b.child!==a.child?l("153"):void 0;if(null!==b.child){a=b.child;var c=nb(a,a.pendingProps,a.expirationTime);b.child=c;for(c["return"]=
b;null!==a.sibling;)a=a.sibling,c=c.sibling=nb(a,a.pendingProps,a.expirationTime),c["return"]=b;c.sibling=null}return b.child}var C=a.shouldSetTextContent,x=a.shouldDeprioritizeSubtree,t=b.pushHostContext,y=b.pushHostContainer,z=d.pushProvider,B=c.getMaskedContext,F=c.getUnmaskedContext,Aa=c.hasContextChanged,r=c.pushContextProvider,q=c.pushTopLevelContextObject,n=c.invalidateContextProvider,gf=e.enterHydrationState,E=e.resetHydrationState,qe=e.tryToClaimNextHydratableInstance;a=Nf(c,f,g,function(a,
b){a.memoizedProps=b},function(a,b){a.memoizedState=b});var Of=a.adoptClassInstance,Pf=a.callGetDerivedStateFromProps,H=a.constructClassInstance,re=a.mountClassInstance,I=a.resumeMountClassInstance,J=a.updateClassInstance;return{beginWork:function(a,b,c){if(0===b.expirationTime||b.expirationTime>c){switch(b.tag){case 3:w(b);break;case 2:r(b);break;case 4:y(b,b.stateNode.containerInfo);break;case 13:z(b)}return null}switch(b.tag){case 0:null!==a?l("155"):void 0;var d=b.type,e=b.pendingProps,f=F(b);
f=B(b,f);d=d(e,f);b.effectTag|=1;"object"===typeof d&&null!==d&&"function"===typeof d.render&&void 0===d.$$typeof?(f=b.type,b.tag=2,b.memoizedState=null!==d.state&&void 0!==d.state?d.state:null,"function"===typeof f.getDerivedStateFromProps&&(e=Pf(b,d,e,b.memoizedState),null!==e&&void 0!==e&&(b.memoizedState=A({},b.memoizedState,e))),e=r(b),Of(b,d),re(b,c),a=m(a,b,!0,e,!1,c)):(b.tag=1,h(a,b,d),b.memoizedProps=e,a=b.child);return a;case 1:return e=b.type,c=b.pendingProps,Aa()||b.memoizedProps!==c?
(d=F(b),d=B(b,d),e=e(c,d),b.effectTag|=1,h(a,b,e),b.memoizedProps=c,a=b.child):a=v(a,b),a;case 2:e=r(b);null===a?null===b.stateNode?(H(b,b.pendingProps),re(b,c),d=!0):d=I(b,c):d=J(a,b,c);f=!1;var g=b.updateQueue;null!==g&&null!==g.capturedValues&&(f=d=!0);return m(a,b,d,e,f,c);case 3:a:if(w(b),d=b.updateQueue,null!==d){f=b.memoizedState;e=qb(a,b,d,null,null,c);b.memoizedState=e;d=b.updateQueue;if(null!==d&&null!==d.capturedValues)d=null;else if(f===e){E();a=v(a,b);break a}else d=e.element;f=b.stateNode;
(null===a||null===a.child)&&f.hydrate&&gf(b)?(b.effectTag|=2,b.child=yc(b,null,d,c)):(E(),h(a,b,d));b.memoizedState=e;a=b.child}else E(),a=v(a,b);return a;case 5:a:{t(b);null===a&&qe(b);e=b.type;g=b.memoizedProps;d=b.pendingProps;f=null!==a?a.memoizedProps:null;if(!Aa()&&g===d){if(g=b.mode&1&&x(e,d))b.expirationTime=1073741823;if(!g||1073741823!==c){a=v(a,b);break a}}g=d.children;C(e,d)?g=null:f&&C(e,f)&&(b.effectTag|=16);D(a,b);1073741823!==c&&b.mode&1&&x(e,d)?(b.expirationTime=1073741823,b.memoizedProps=
d,a=null):(h(a,b,g),b.memoizedProps=d,a=b.child)}return a;case 6:return null===a&&qe(b),b.memoizedProps=b.pendingProps,null;case 8:b.tag=7;case 7:return e=b.pendingProps,Aa()||b.memoizedProps!==e||(e=b.memoizedProps),d=e.children,b.stateNode=null===a?yc(b,b.stateNode,d,c):xb(b,a.stateNode,d,c),b.memoizedProps=e,b.stateNode;case 9:return null;case 4:return y(b,b.stateNode.containerInfo),e=b.pendingProps,Aa()||b.memoizedProps!==e?(null===a?b.child=xb(b,null,e,c):h(a,b,e),b.memoizedProps=e,a=b.child):
a=v(a,b),a;case 14:return c=b.type.render,c=c(b.pendingProps,b.ref),h(a,b,c),b.memoizedProps=c,b.child;case 10:return c=b.pendingProps,Aa()||b.memoizedProps!==c?(h(a,b,c),b.memoizedProps=c,a=b.child):a=v(a,b),a;case 11:return c=b.pendingProps.children,Aa()||null!==c&&b.memoizedProps!==c?(h(a,b,c),b.memoizedProps=c,a=b.child):a=v(a,b),a;case 13:return G(a,b,c);case 12:a:{d=b.type;f=b.pendingProps;g=b.memoizedProps;e=d._currentValue;var n=d._changedBits;if(Aa()||0!==n||g!==f){b.memoizedProps=f;var q=
f.unstable_observedBits;if(void 0===q||null===q)q=1073741823;b.stateNode=q;if(0!==(n&q))p(b,d,n,c);else if(g===f){a=v(a,b);break a}c=f.children;c=c(e);h(a,b,c);a=b.child}else a=v(a,b)}return a;default:l("156")}}}},Rf=function(a,b,c,d,e){function f(a){a.effectTag|=4}var g=a.createInstance,h=a.createTextInstance,k=a.appendInitialChild,D=a.finalizeInitialChildren,m=a.prepareUpdate,w=a.persistence,p=b.getRootHostContainer,G=b.popHostContext,v=b.getHostContext,C=b.popHostContainer,x=c.popContextProvider,
t=c.popTopLevelContextObject,y=d.popProvider,z=e.prepareToHydrateHostInstance,B=e.prepareToHydrateHostTextInstance,A=e.popHydrationState,F=void 0,r=void 0,q=void 0;a.mutation?(F=function(a){},r=function(a,b,c,d,e,m,g,h){(b.updateQueue=c)&&f(b)},q=function(a,b,c,d){c!==d&&f(b)}):w?l("235"):l("236");return{completeWork:function(a,b,c){var d=b.pendingProps;switch(b.tag){case 1:return null;case 2:return x(b),a=b.stateNode,d=b.updateQueue,null!==d&&null!==d.capturedValues&&(b.effectTag&=-65,"function"===
typeof a.componentDidCatch?b.effectTag|=256:d.capturedValues=null),null;case 3:C(b);t(b);d=b.stateNode;d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null);if(null===a||null===a.child)A(b),b.effectTag&=-3;F(b);a=b.updateQueue;null!==a&&null!==a.capturedValues&&(b.effectTag|=256);return null;case 5:G(b);c=p();var e=b.type;if(null!==a&&null!=b.stateNode){var n=a.memoizedProps,w=b.stateNode,E=v();w=m(w,e,n,d,c,E);r(a,b,w,e,n,d,c,E);a.ref!==b.ref&&(b.effectTag|=128)}else{if(!d)return null===
b.stateNode?l("166"):void 0,null;a=v();if(A(b))z(b,c,a)&&f(b);else{n=g(e,d,c,a,b);a:for(E=b.child;null!==E;){if(5===E.tag||6===E.tag)k(n,E.stateNode);else if(4!==E.tag&&null!==E.child){E.child["return"]=E;E=E.child;continue}if(E===b)break;for(;null===E.sibling;){if(null===E["return"]||E["return"]===b)break a;E=E["return"]}E.sibling["return"]=E["return"];E=E.sibling}D(n,e,d,c,a)&&f(b);b.stateNode=n}null!==b.ref&&(b.effectTag|=128)}return null;case 6:if(a&&null!=b.stateNode)q(a,b,a.memoizedProps,d);
else{if("string"!==typeof d)return null===b.stateNode?l("166"):void 0,null;a=p();c=v();A(b)?B(b)&&f(b):b.stateNode=h(d,a,c,b)}return null;case 7:(d=b.memoizedProps)?void 0:l("165");b.tag=8;e=[];a:for((n=b.stateNode)&&(n["return"]=b);null!==n;){if(5===n.tag||6===n.tag||4===n.tag)l("247");else if(9===n.tag)e.push(n.pendingProps.value);else if(null!==n.child){n.child["return"]=n;n=n.child;continue}for(;null===n.sibling;){if(null===n["return"]||n["return"]===b)break a;n=n["return"]}n.sibling["return"]=
n["return"];n=n.sibling}n=d.handler;d=n(d.props,e);b.child=xb(b,null!==a?a.child:null,d,c);return b.child;case 8:return b.tag=7,null;case 9:return null;case 14:return null;case 10:return null;case 11:return null;case 4:return C(b),F(b),null;case 13:return y(b),null;case 12:return null;case 0:l("167");default:l("156")}}}},Sf=function(a,b,c,d,e){var f=a.popHostContainer,g=a.popHostContext,h=b.popContextProvider,k=b.popTopLevelContextObject,l=c.popProvider;return{throwException:function(a,b,c){b.effectTag|=
512;b.firstEffect=b.lastEffect=null;b={value:c,source:b,stack:Qb(b)};do{switch(a.tag){case 3:jc(a);a.updateQueue.capturedValues=[b];a.effectTag|=1024;return;case 2:if(c=a.stateNode,0===(a.effectTag&64)&&null!==c&&"function"===typeof c.componentDidCatch&&!e(c)){jc(a);c=a.updateQueue;var d=c.capturedValues;null===d?c.capturedValues=[b]:d.push(b);a.effectTag|=1024;return}}a=a["return"]}while(null!==a)},unwindWork:function(a){switch(a.tag){case 2:h(a);var b=a.effectTag;return b&1024?(a.effectTag=b&-1025|
64,a):null;case 3:return f(a),k(a),b=a.effectTag,b&1024?(a.effectTag=b&-1025|64,a):null;case 5:return g(a),null;case 4:return f(a),null;case 13:return l(a),null;default:return null}},unwindInterruptedWork:function(a){switch(a.tag){case 2:h(a);break;case 3:f(a);k(a);break;case 5:g(a);break;case 4:f(a);break;case 13:l(a)}}}},Tf=function(a,b,c,d,e,f){function g(a){var c=a.ref;if(null!==c)if("function"===typeof c)try{c(null)}catch(n){b(a,n)}else c.current=null}function h(a){"function"===typeof Pd&&Pd(a);
switch(a.tag){case 2:g(a);var c=a.stateNode;if("function"===typeof c.componentWillUnmount)try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(n){b(a,n)}break;case 5:g(a);break;case 7:k(a.stateNode);break;case 4:p&&m(a)}}function k(a){for(var b=a;;)if(h(b),null===b.child||p&&4===b.tag){if(b===a)break;for(;null===b.sibling;){if(null===b["return"]||b["return"]===a)return;b=b["return"]}b.sibling["return"]=b["return"];b=b.sibling}else b.child["return"]=b,b=b.child}function D(a){return 5===
a.tag||3===a.tag||4===a.tag}function m(a){for(var b=a,c=!1,d=void 0,e=void 0;;){if(!c){c=b["return"];a:for(;;){null===c?l("160"):void 0;switch(c.tag){case 5:d=c.stateNode;e=!1;break a;case 3:d=c.stateNode.containerInfo;e=!0;break a;case 4:d=c.stateNode.containerInfo;e=!0;break a}c=c["return"]}c=!0}if(5===b.tag||6===b.tag)k(b),e?F(d,b.stateNode):B(d,b.stateNode);else if(4===b.tag?d=b.stateNode.containerInfo:h(b),null!==b.child){b.child["return"]=b;b=b.child;continue}if(b===a)break;for(;null===b.sibling;){if(null===
b["return"]||b["return"]===a)return;b=b["return"];4===b.tag&&(c=!1)}b.sibling["return"]=b["return"];b=b.sibling}}var w=a.getPublicInstance,p=a.mutation;a=a.persistence;p||(a?l("235"):l("236"));var G=p.commitMount,v=p.commitUpdate,C=p.resetTextContent,x=p.commitTextUpdate,t=p.appendChild,y=p.appendChildToContainer,z=p.insertBefore,A=p.insertInContainerBefore,B=p.removeChild,F=p.removeChildFromContainer;return{commitBeforeMutationLifeCycles:function(a,b){switch(b.tag){case 2:if(b.effectTag&2048&&null!==
a){var c=a.memoizedProps,d=a.memoizedState;a=b.stateNode;a.props=b.memoizedProps;a.state=b.memoizedState;b=a.getSnapshotBeforeUpdate(c,d);a.__reactInternalSnapshotBeforeUpdate=b}break;case 3:case 5:case 6:case 4:break;default:l("163")}},commitResetTextContent:function(a){C(a.stateNode)},commitPlacement:function(a){a:{for(var b=a["return"];null!==b;){if(D(b)){var c=b;break a}b=b["return"]}l("160");c=void 0}var d=b=void 0;switch(c.tag){case 5:b=c.stateNode;d=!1;break;case 3:b=c.stateNode.containerInfo;
d=!0;break;case 4:b=c.stateNode.containerInfo;d=!0;break;default:l("161")}c.effectTag&16&&(C(b),c.effectTag&=-17);a:b:for(c=a;;){for(;null===c.sibling;){if(null===c["return"]||D(c["return"])){c=null;break a}c=c["return"]}c.sibling["return"]=c["return"];for(c=c.sibling;5!==c.tag&&6!==c.tag;){if(c.effectTag&2)continue b;if(null===c.child||4===c.tag)continue b;else c.child["return"]=c,c=c.child}if(!(c.effectTag&2)){c=c.stateNode;break a}}for(var e=a;;){if(5===e.tag||6===e.tag)c?d?A(b,e.stateNode,c):
z(b,e.stateNode,c):d?y(b,e.stateNode):t(b,e.stateNode);else if(4!==e.tag&&null!==e.child){e.child["return"]=e;e=e.child;continue}if(e===a)break;for(;null===e.sibling;){if(null===e["return"]||e["return"]===a)return;e=e["return"]}e.sibling["return"]=e["return"];e=e.sibling}},commitDeletion:function(a){m(a);a["return"]=null;a.child=null;a.alternate&&(a.alternate.child=null,a.alternate["return"]=null)},commitWork:function(a,b){switch(b.tag){case 2:break;case 5:var c=b.stateNode;if(null!=c){var d=b.memoizedProps;
a=null!==a?a.memoizedProps:d;var e=b.type,f=b.updateQueue;b.updateQueue=null;null!==f&&v(c,f,e,a,d,b)}break;case 6:null===b.stateNode?l("162"):void 0;c=b.memoizedProps;x(b.stateNode,null!==a?a.memoizedProps:c,c);break;case 3:break;default:l("163")}},commitLifeCycles:function(a,b,c,d,e){switch(c.tag){case 2:a=c.stateNode;c.effectTag&4&&(null===b?(a.props=c.memoizedProps,a.state=c.memoizedState,a.componentDidMount()):(d=b.memoizedProps,b=b.memoizedState,a.props=c.memoizedProps,a.state=c.memoizedState,
a.componentDidUpdate(d,b,a.__reactInternalSnapshotBeforeUpdate)));c=c.updateQueue;null!==c&&Sd(c,a);break;case 3:b=c.updateQueue;if(null!==b){a=null;if(null!==c.child)switch(c.child.tag){case 5:a=w(c.child.stateNode);break;case 2:a=c.child.stateNode}Sd(b,a)}break;case 5:a=c.stateNode;null===b&&c.effectTag&4&&G(a,c.type,c.memoizedProps,c);break;case 6:break;case 4:break;default:l("163")}},commitErrorLogging:function(a,b){switch(a.tag){case 2:var c=a.type;b=a.stateNode;var d=a.updateQueue;null===d||
null===d.capturedValues?l("264"):void 0;var f=d.capturedValues;d.capturedValues=null;"function"!==typeof c.getDerivedStateFromCatch&&e(b);b.props=a.memoizedProps;b.state=a.memoizedState;for(c=0;c<f.length;c++){d=f[c];var m=d.value,g=d.stack;Ud(a,d);b.componentDidCatch(m,{componentStack:null!==g?g:""})}break;case 3:c=a.updateQueue;null===c||null===c.capturedValues?l("264"):void 0;f=c.capturedValues;c.capturedValues=null;for(c=0;c<f.length;c++)d=f[c],Ud(a,d),b(d.value);break;default:l("265")}},commitAttachRef:function(a){var b=
a.ref;if(null!==b){var c=a.stateNode;switch(a.tag){case 5:a=w(c);break;default:a=c}"function"===typeof b?b(a):b.current=a}},commitDetachRef:function(a){a=a.ref;null!==a&&("function"===typeof a?a(null):a.current=null)}}},Wa={},Uf=function(a,b){function c(a){a===Wa?l("174"):void 0;return a}var d=a.getChildHostContext,e=a.getRootHostContext;a=b.createCursor;var f=b.push,g=b.pop,h=a(Wa),k=a(Wa),D=a(Wa);return{getHostContext:function(){return c(h.current)},getRootHostContainer:function(){return c(D.current)},
popHostContainer:function(a){g(h,a);g(k,a);g(D,a)},popHostContext:function(a){k.current===a&&(g(h,a),g(k,a))},pushHostContainer:function(a,b){f(D,b,a);f(k,a,a);f(h,Wa,a);b=e(b);g(h,a);f(h,b,a)},pushHostContext:function(a){var b=c(D.current),e=c(h.current);b=d(e,a.type,b);e!==b&&(f(k,a,a),f(h,b,a))}}},Vf=function(a){function b(a,b){var c=new sa(5,null,null,0);c.type="DELETED";c.stateNode=b;c["return"]=a;c.effectTag=8;null!==a.lastEffect?(a.lastEffect.nextEffect=c,a.lastEffect=c):a.firstEffect=a.lastEffect=
c}function c(a,b){switch(a.tag){case 5:return b=f(b,a.type,a.pendingProps),null!==b?(a.stateNode=b,!0):!1;case 6:return b=g(b,a.pendingProps),null!==b?(a.stateNode=b,!0):!1;default:return!1}}function d(a){for(a=a["return"];null!==a&&5!==a.tag&&3!==a.tag;)a=a["return"];w=a}var e=a.shouldSetTextContent;a=a.hydration;if(!a)return{enterHydrationState:function(){return!1},resetHydrationState:function(){},tryToClaimNextHydratableInstance:function(){},prepareToHydrateHostInstance:function(){l("175")},prepareToHydrateHostTextInstance:function(){l("176")},
popHydrationState:function(a){return!1}};var f=a.canHydrateInstance,g=a.canHydrateTextInstance,h=a.getNextHydratableSibling,k=a.getFirstHydratableChild,D=a.hydrateInstance,m=a.hydrateTextInstance,w=null,p=null,G=!1;return{enterHydrationState:function(a){p=k(a.stateNode.containerInfo);w=a;return G=!0},resetHydrationState:function(){p=w=null;G=!1},tryToClaimNextHydratableInstance:function(a){if(G){var d=p;if(d){if(!c(a,d)){d=h(d);if(!d||!c(a,d)){a.effectTag|=2;G=!1;w=a;return}b(w,p)}w=a;p=k(d)}else a.effectTag|=
2,G=!1,w=a}},prepareToHydrateHostInstance:function(a,b,c){b=D(a.stateNode,a.type,a.memoizedProps,b,c,a);a.updateQueue=b;return null!==b?!0:!1},prepareToHydrateHostTextInstance:function(a){return m(a.stateNode,a.memoizedProps,a)},popHydrationState:function(a){if(a!==w)return!1;if(!G)return d(a),G=!0,!1;var c=a.type;if(5!==a.tag||"head"!==c&&"body"!==c&&!e(c,a.memoizedProps))for(c=p;c;)b(a,c),c=h(c);d(a);p=w?h(a.stateNode):null;return!0}}},Wf=function(a){function b(a,b,c){a=a.stateNode;a.__reactInternalMemoizedUnmaskedChildContext=
b;a.__reactInternalMemoizedMaskedChildContext=c}function c(a){return 2===a.tag&&null!=a.type.childContextTypes}function d(a,b){var c=a.stateNode,d=a.type.childContextTypes;if("function"!==typeof c.getChildContext)return b;c=c.getChildContext();for(var e in c)e in d?void 0:l("108",Ia(a)||"Unknown",e);return A({},b,c)}var e=a.createCursor,f=a.push,g=a.pop,h=e(la),k=e(!1),D=la;return{getUnmaskedContext:function(a){return c(a)?D:h.current},cacheContext:b,getMaskedContext:function(a,c){var d=a.type.contextTypes;
if(!d)return la;var e=a.stateNode;if(e&&e.__reactInternalMemoizedUnmaskedChildContext===c)return e.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in d)f[g]=c[g];e&&b(a,c,f);return f},hasContextChanged:function(){return k.current},isContextConsumer:function(a){return 2===a.tag&&null!=a.type.contextTypes},isContextProvider:c,popContextProvider:function(a){c(a)&&(g(k,a),g(h,a))},popTopLevelContextObject:function(a){g(k,a);g(h,a)},pushTopLevelContextObject:function(a,b,c){null!=h.cursor?l("168"):
void 0;f(h,b,a);f(k,c,a)},processChildContext:d,pushContextProvider:function(a){if(!c(a))return!1;var b=a.stateNode;b=b&&b.__reactInternalMemoizedMergedChildContext||la;D=h.current;f(h,b,a);f(k,k.current,a);return!0},invalidateContextProvider:function(a,b){var c=a.stateNode;c?void 0:l("169");if(b){var e=d(a,D);c.__reactInternalMemoizedMergedChildContext=e;g(k,a);g(h,a);f(h,e,a)}else g(k,a);f(k,b,a)},findCurrentUnmaskedContext:function(a){for(2!==La(a)||2!==a.tag?l("170"):void 0;3!==a.tag;){if(c(a))return a.stateNode.__reactInternalMemoizedMergedChildContext;
(a=a["return"])?void 0:l("171")}return a.stateNode.context}}},Xf=function(a){var b=a.createCursor,c=a.push,d=a.pop,e=b(null),f=b(null),g=b(0);return{pushProvider:function(a){var b=a.type._context;c(g,b._changedBits,a);c(f,b._currentValue,a);c(e,a,a);b._currentValue=a.pendingProps.value;b._changedBits=a.stateNode},popProvider:function(a){var b=g.current,c=f.current;d(e,a);d(f,a);d(g,a);a=a.type._context;a._currentValue=c;a._changedBits=b}}},Yf=function(){var a=[],b=-1;return{createCursor:function(a){return{current:a}},
isEmpty:function(){return-1===b},pop:function(c,d){0>b||(c.current=a[b],a[b]=null,b--)},push:function(c,d,e){b++;a[b]=c.current;c.current=d},checkThatStackIsEmpty:function(){},resetStackAfterFatalErrorInDev:function(){}}},$f=function(a){function b(){if(null!==K)for(var a=K["return"];null!==a;)Q(a),a=a["return"];S=null;na=0;K=null;ka=!1}function c(a){return null!==O&&O.has(a)}function d(a){for(;;){var b=a.alternate,c=a["return"],d=a.sibling;if(0===(a.effectTag&512)){b=J(b,a,na);var e=a;if(1073741823===
na||1073741823!==e.expirationTime){b:switch(e.tag){case 3:case 2:var f=e.updateQueue;f=null===f?0:f.expirationTime;break b;default:f=0}for(var g=e.child;null!==g;)0!==g.expirationTime&&(0===f||f>g.expirationTime)&&(f=g.expirationTime),g=g.sibling;e.expirationTime=f}if(null!==b)return b;null!==c&&0===(c.effectTag&512)&&(null===c.firstEffect&&(c.firstEffect=a.firstEffect),null!==a.lastEffect&&(null!==c.lastEffect&&(c.lastEffect.nextEffect=a.firstEffect),c.lastEffect=a.lastEffect),1<a.effectTag&&(null!==
c.lastEffect?c.lastEffect.nextEffect=a:c.firstEffect=a,c.lastEffect=a));if(null!==d)return d;if(null!==c)a=c;else{ka=!0;break}}else{a=P(a);if(null!==a)return a.effectTag&=2559,a;null!==c&&(c.firstEffect=c.lastEffect=null,c.effectTag|=512);if(null!==d)return d;if(null!==c)a=c;else break}}return null}function e(a){var b=E(a.alternate,a,na);null===b&&(b=d(a));tc.current=null;return b}function f(a,c,f){ta?l("243"):void 0;ta=!0;if(c!==na||a!==S||null===K)b(),S=a,na=c,K=nb(S.current,null,na),a.pendingCommitExpirationTime=
0;var g=!1;do{try{if(f)for(;null!==K&&!F();)K=e(K);else for(;null!==K;)K=e(K)}catch(zc){if(null===K){g=!0;H(zc);break}f=K;var h=f["return"];if(null===h){g=!0;H(zc);break}M(h,f,zc);K=d(f)}break}while(1);ta=!1;if(g||null!==K)return null;if(ka)return a.pendingCommitExpirationTime=c,a.current.alternate;l("262")}function g(a,b,c,d){a={value:c,source:a,stack:Qb(a)};Oa(b,{expirationTime:d,partialState:null,callback:null,isReplace:!1,isForced:!1,capturedValue:a,next:null});D(b,d)}function h(a,b){a:{ta&&!T?
l("263"):void 0;for(var d=a["return"];null!==d;){switch(d.tag){case 2:var e=d.stateNode;if("function"===typeof d.type.getDerivedStateFromCatch||"function"===typeof e.componentDidCatch&&!c(e)){g(a,d,b,1);a=void 0;break a}break;case 3:g(a,d,b,1);a=void 0;break a}d=d["return"]}3===a.tag&&g(a,a,b,1);a=void 0}return a}function k(a){a=0!==Ba?Ba:ta?T?1:na:a.mode&1?Fa?10*(((m()+15)/10|0)+1):25*(((m()+500)/25|0)+1):1;Fa&&(0===ua||a>ua)&&(ua=a);return a}function D(a,c){a:{for(;null!==a;){if(0===a.expirationTime||
a.expirationTime>c)a.expirationTime=c;null!==a.alternate&&(0===a.alternate.expirationTime||a.alternate.expirationTime>c)&&(a.alternate.expirationTime=c);if(null===a["return"])if(3===a.tag){var d=a.stateNode;!ta&&0!==na&&c<na&&b();ta&&!T&&S===d||y(d,c);ha>Ca&&l("185")}else{c=void 0;break a}a=a["return"]}c=void 0}return c}function m(){ra=ba()-ia;return za=(ra/10|0)+2}function w(a,b,c,d,e){var f=Ba;Ba=1;try{return a(b,c,d,e)}finally{Ba=f}}function p(a){if(0!==Z){if(a>Z)return;wa(ma)}var b=ba()-ia;Z=
a;ma=va(C,{timeout:10*(a-2)-b})}function y(a,b){if(null===a.nextScheduledRoot)a.remainingExpirationTime=b,null===N?(Ea=N=a,a.nextScheduledRoot=a):(N=N.nextScheduledRoot=a,N.nextScheduledRoot=Ea);else{var c=a.remainingExpirationTime;if(0===c||b<c)a.remainingExpirationTime=b}da||(L?fa&&(oa=a,W=1,A(a,1,!1)):1===b?x():p(b))}function v(){var a=0,b=null;if(null!==N)for(var c=N,d=Ea;null!==d;){var e=d.remainingExpirationTime;if(0===e){null===c||null===N?l("244"):void 0;if(d===d.nextScheduledRoot){Ea=N=d.nextScheduledRoot=
null;break}else if(d===Ea)Ea=e=d.nextScheduledRoot,N.nextScheduledRoot=e,d.nextScheduledRoot=null;else if(d===N){N=c;N.nextScheduledRoot=Ea;d.nextScheduledRoot=null;break}else c.nextScheduledRoot=d.nextScheduledRoot,d.nextScheduledRoot=null;d=c.nextScheduledRoot}else{if(0===a||e<a)a=e,b=d;if(d===N)break;c=d;d=d.nextScheduledRoot}}c=oa;null!==c&&c===b&&1===a?ha++:ha=0;oa=b;W=a}function C(a){t(0,!0,a)}function x(){t(1,!1,null)}function t(a,b,c){X=c;v();if(b)for(;null!==oa&&0!==W&&(0===a||a>=W)&&(!aa||
m()>=W);)A(oa,W,!aa),v();else for(;null!==oa&&0!==W&&(0===a||a>=W);)A(oa,W,!1),v();null!==X&&(Z=0,ma=-1);0!==W&&p(W);X=null;aa=!1;z()}function z(){ha=0;if(null!==Ga){var a=Ga;Ga=null;for(var b=0;b<a.length;b++){var c=a[b];try{c._onComplete()}catch(Zf){Ha||(Ha=!0,ea=Zf)}}}if(Ha)throw a=ea,ea=null,Ha=!1,a;}function A(a,b,c){da?l("245"):void 0;da=!0;c?(c=a.finishedWork,null!==c?B(a,c,b):(a.finishedWork=null,c=f(a,b,!0),null!==c&&(F()?a.finishedWork=c:B(a,c,b)))):(c=a.finishedWork,null!==c?B(a,c,b):(a.finishedWork=
null,c=f(a,b,!1),null!==c&&B(a,c,b)));da=!1}function B(a,b,c){var d=a.firstBatch;if(null!==d&&d._expirationTime<=c&&(null===Ga?Ga=[d]:Ga.push(d),d._defer)){a.finishedWork=b;a.remainingExpirationTime=0;return}a.finishedWork=null;T=ta=!0;c=b.stateNode;c.current===b?l("177"):void 0;d=c.pendingCommitExpirationTime;0===d?l("261"):void 0;c.pendingCommitExpirationTime=0;var e=m();tc.current=null;if(1<b.effectTag)if(null!==b.lastEffect){b.lastEffect.nextEffect=b;var f=b.firstEffect}else f=b;else f=b.firstEffect;
xa(c.containerInfo);for(u=f;null!==u;){var g=!1,k=void 0;try{for(;null!==u;)u.effectTag&2048&&R(u.alternate,u),u=u.nextEffect}catch(Xa){g=!0,k=Xa}g&&(null===u?l("178"):void 0,h(u,k),null!==u&&(u=u.nextEffect))}for(u=f;null!==u;){g=!1;k=void 0;try{for(;null!==u;){var n=u.effectTag;n&16&&V(u);if(n&128){var p=u.alternate;null!==p&&sa(p)}switch(n&14){case 2:U(u);u.effectTag&=-3;break;case 6:U(u);u.effectTag&=-3;Y(u.alternate,u);break;case 4:Y(u.alternate,u);break;case 8:ca(u)}u=u.nextEffect}}catch(Xa){g=
!0,k=Xa}g&&(null===u?l("178"):void 0,h(u,k),null!==u&&(u=u.nextEffect))}ya(c.containerInfo);c.current=b;for(u=f;null!==u;){n=!1;p=void 0;try{for(f=c,g=e,k=d;null!==u;){var w=u.effectTag;w&36&&la(f,u.alternate,u,g,k);w&256&&pa(u,H);w&128&&qa(u);var q=u.nextEffect;u.nextEffect=null;u=q}}catch(Xa){n=!0,p=Xa}n&&(null===u?l("178"):void 0,h(u,p),null!==u&&(u=u.nextEffect))}ta=T=!1;"function"===typeof Od&&Od(b.stateNode);b=c.current.expirationTime;0===b&&(O=null);a.remainingExpirationTime=b}function F(){return null===
X||X.timeRemaining()>Da?!1:aa=!0}function H(a){null===oa?l("246"):void 0;oa.remainingExpirationTime=0;Ha||(Ha=!0,ea=a)}var r=Yf(),q=Uf(a,r),n=Wf(r);r=Xf(r);var I=Vf(a),E=Qf(a,q,n,r,I,D,k).beginWork,J=Rf(a,q,n,r,I).completeWork;q=Sf(q,n,r,D,c);var M=q.throwException,P=q.unwindWork,Q=q.unwindInterruptedWork;q=Tf(a,h,D,k,function(a){null===O?O=new Set([a]):O.add(a)},m);var R=q.commitBeforeMutationLifeCycles,V=q.commitResetTextContent,U=q.commitPlacement,ca=q.commitDeletion,Y=q.commitWork,la=q.commitLifeCycles,
pa=q.commitErrorLogging,qa=q.commitAttachRef,sa=q.commitDetachRef,ba=a.now,va=a.scheduleDeferredCallback,wa=a.cancelDeferredCallback,xa=a.prepareForCommit,ya=a.resetAfterCommit,ia=ba(),za=2,ra=ia,ja=0,Ba=0,ta=!1,K=null,S=null,na=0,u=null,T=!1,ka=!1,O=null,Ea=null,N=null,Z=0,ma=-1,da=!1,oa=null,W=0,ua=0,aa=!1,Ha=!1,ea=null,X=null,L=!1,fa=!1,Fa=!1,Ga=null,Ca=1E3,ha=0,Da=1;return{recalculateCurrentTime:m,computeExpirationForFiber:k,scheduleWork:D,requestWork:y,flushRoot:function(a,b){da?l("253"):void 0;
oa=a;W=b;A(a,b,!1);x();z()},batchedUpdates:function(a,b){var c=L;L=!0;try{return a(b)}finally{(L=c)||da||x()}},unbatchedUpdates:function(a,b){if(L&&!fa){fa=!0;try{return a(b)}finally{fa=!1}}return a(b)},flushSync:function(a,b){da?l("187"):void 0;var c=L;L=!0;try{return w(a,b)}finally{L=c,x()}},flushControlled:function(a){var b=L;L=!0;try{w(a)}finally{(L=b)||da||t(1,!1,null)}},deferredUpdates:function(a){var b=Ba;Ba=25*(((m()+500)/25|0)+1);try{return a()}finally{Ba=b}},syncUpdates:w,interactiveUpdates:function(a,
b,c){if(Fa)return a(b,c);L||da||0===ua||(t(ua,!1,null),ua=0);var d=Fa,e=L;L=Fa=!0;try{return a(b,c)}finally{Fa=d,(L=e)||da||x()}},flushInteractiveUpdates:function(){da||0===ua||(t(ua,!1,null),ua=0)},computeUniqueAsyncExpiration:function(){var a=25*(((m()+500)/25|0)+1);a<=ja&&(a=ja+1);return ja=a},legacyContext:n}},se=function(a){function b(a,b,c,d,e,g){d=b.current;if(c){c=c._reactInternalFiber;var m=h(c);c=k(c)?y(c,m):m}else c=la;null===b.context?b.context=c:b.pendingContext=c;b=g;Oa(d,{expirationTime:e,
partialState:{element:a},callback:void 0===b?null:b,isReplace:!1,isForced:!1,capturedValue:null,next:null});f(d,e);return e}var c=a.getPublicInstance;a=$f(a);var d=a.recalculateCurrentTime,e=a.computeExpirationForFiber,f=a.scheduleWork,g=a.legacyContext,h=g.findCurrentUnmaskedContext,k=g.isContextProvider,y=g.processChildContext;return{createContainer:function(a,b,c){b=new sa(3,null,null,b?3:0);a={current:b,containerInfo:a,pendingChildren:null,pendingCommitExpirationTime:0,finishedWork:null,context:null,
pendingContext:null,hydrate:c,remainingExpirationTime:0,firstBatch:null,nextScheduledRoot:null};return b.stateNode=a},updateContainer:function(a,c,f,g){var h=c.current,k=d();h=e(h);return b(a,c,f,k,h,g)},updateContainerAtExpirationTime:function(a,c,e,f,g){var h=d();return b(a,c,e,h,f,g)},flushRoot:a.flushRoot,requestWork:a.requestWork,computeUniqueAsyncExpiration:a.computeUniqueAsyncExpiration,batchedUpdates:a.batchedUpdates,unbatchedUpdates:a.unbatchedUpdates,deferredUpdates:a.deferredUpdates,syncUpdates:a.syncUpdates,
interactiveUpdates:a.interactiveUpdates,flushInteractiveUpdates:a.flushInteractiveUpdates,flushControlled:a.flushControlled,flushSync:a.flushSync,getPublicRootInstance:function(a){a=a.current;if(!a.child)return null;switch(a.child.tag){case 5:return c(a.child.stateNode);default:return a.child.stateNode}},findHostInstance:function(a){var b=a._reactInternalFiber;void 0===b&&("function"===typeof a.render?l("188"):l("268",Object.keys(a)));a=yd(b);return null===a?null:a.stateNode},findHostInstanceWithNoPortals:function(a){a=
Ze(a);return null===a?null:a.stateNode},injectIntoDevTools:function(a){var b=a.findFiberByHostInstance;return ff(A({},a,{findHostInstanceByFiber:function(a){a=yd(a);return null===a?null:a.stateNode},findFiberByHostInstance:function(a){return b?b(a):null}}))}}},te=Object.freeze({default:se}),Ac=te&&se||te,ag=Ac["default"]?Ac["default"]:Ac,ue="object"===typeof performance&&"function"===typeof performance.now,yb=void 0;yb=ue?function(){return performance.now()}:function(){return Date.now()};var zb=void 0,
Ab=void 0;if(R.canUseDOM)if("function"!==typeof requestIdleCallback||"function"!==typeof cancelIdleCallback){var Bb=null,Cb=!1,Ya=-1,Za=!1,$a=0,Db=33,ab=33,Eb=void 0;Eb=ue?{didTimeout:!1,timeRemaining:function(){var a=$a-performance.now();return 0<a?a:0}}:{didTimeout:!1,timeRemaining:function(){var a=$a-Date.now();return 0<a?a:0}};var ve="__reactIdleCallback$"+Math.random().toString(36).slice(2);window.addEventListener("message",function(a){if(a.source===window&&a.data===ve){Cb=!1;a=yb();if(0>=$a-
a)if(-1!==Ya&&Ya<=a)Eb.didTimeout=!0;else{Za||(Za=!0,requestAnimationFrame(we));return}else Eb.didTimeout=!1;Ya=-1;a=Bb;Bb=null;null!==a&&a(Eb)}},!1);var we=function(a){Za=!1;var b=a-$a+ab;b<ab&&Db<ab?(8>b&&(b=8),ab=b<Db?Db:b):Db=b;$a=a+ab;Cb||(Cb=!0,window.postMessage(ve,"*"))};zb=function(a,b){Bb=a;null!=b&&"number"===typeof b.timeout&&(Ya=yb()+b.timeout);Za||(Za=!0,requestAnimationFrame(we));return 0};Ab=function(){Bb=null;Cb=!1;Ya=-1}}else zb=window.requestIdleCallback,Ab=window.cancelIdleCallback;
else zb=function(a){return setTimeout(function(){a({timeRemaining:function(){return Infinity},didTimeout:!1})})},Ab=function(a){clearTimeout(a)};var Fb=void 0,de=function(a){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(b,c,d,e){MSApp.execUnsafeLocalFunction(function(){return a(b,c,d,e)})}:a}(function(a,b){if("http://www.w3.org/2000/svg"!==a.namespaceURI||"innerHTML"in a)a.innerHTML=b;else{Fb=Fb||document.createElement("div");Fb.innerHTML="\x3csvg\x3e"+b+"\x3c/svg\x3e";
for(b=Fb.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;b.firstChild;)a.appendChild(b.firstChild)}}),ub=function(a,b){if(b){var c=a.firstChild;if(c&&c===a.lastChild&&3===c.nodeType){c.nodeValue=b;return}}a.textContent=b},Qa={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,
gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bg=["Webkit","ms","Moz","O"];Object.keys(Qa).forEach(function(a){bg.forEach(function(b){b=b+a.charAt(0).toUpperCase()+a.substring(1);Qa[b]=Qa[a]})});var kf=A({menuitem:!0},
{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),Ra=M.thatReturns(""),cg=Object.freeze({createElement:ae,createTextNode:be,setInitialProperties:ce,diffProperties:ee,updateProperties:fe,diffHydratedProperties:ge,diffHydratedText:he,warnForUnmatchedText:function(a,b){},warnForDeletedHydratableElement:function(a,b){},warnForDeletedHydratableText:function(a,b){},warnForInsertedHydratedElement:function(a,b,c){},warnForInsertedHydratedText:function(a,
b){},restoreControlledState:function(a,b,c){switch(b){case "input":Ub(a,c);b=c.name;if("radio"===c.type&&null!=b){for(c=a;c.parentNode;)c=c.parentNode;c=c.querySelectorAll("input[name\x3d"+JSON.stringify(""+b)+'][type\x3d"radio"]');for(b=0;b<c.length;b++){var d=c[b];if(d!==a&&d.form===a.form){var e=Lc(d);e?void 0:l("90");hd(d);Ub(d,e)}}}break;case "textarea":Xd(a,c);break;case "select":b=c.value,null!=b&&O(a,!!c.multiple,b,!1)}}});oe.injectFiberControlledHostComponent(cg);var Bc=null,Cc=null;Sa.prototype.render=
function(a){this._defer?void 0:l("250");this._hasChildren=!0;this._children=a;var b=this._root._internalRoot,c=this._expirationTime,d=new ma;B.updateContainerAtExpirationTime(a,b,null,c,d._onCommit);return d};Sa.prototype.then=function(a){if(this._didComplete)a();else{var b=this._callbacks;null===b&&(b=this._callbacks=[]);b.push(a)}};Sa.prototype.commit=function(){var a=this._root._internalRoot,b=a.firstBatch;this._defer&&null!==b?void 0:l("251");if(this._hasChildren){var c=this._expirationTime;if(b!==
this){this._hasChildren&&(c=this._expirationTime=b._expirationTime,this.render(this._children));for(var d=null,e=b;e!==this;)d=e,e=e._next;null===d?l("251"):void 0;d._next=e._next;this._next=b;a.firstBatch=this}this._defer=!1;B.flushRoot(a,c);b=this._next;this._next=null;b=a.firstBatch=b;null!==b&&b._hasChildren&&b.render(b._children)}else this._next=null,this._defer=!1};Sa.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var a=this._callbacks;if(null!==a)for(var b=0;b<
a.length;b++)(0,a[b])()}};ma.prototype.then=function(a){if(this._didCommit)a();else{var b=this._callbacks;null===b&&(b=this._callbacks=[]);b.push(a)}};ma.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var a=this._callbacks;if(null!==a)for(var b=0;b<a.length;b++){var c=a[b];"function"!==typeof c?l("191",c):void 0;c()}}};aa.prototype.render=function(a,b){var c=this._internalRoot,d=new ma;b=void 0===b?null:b;null!==b&&d.then(b);B.updateContainer(a,c,null,d._onCommit);return d};
aa.prototype.unmount=function(a){var b=this._internalRoot,c=new ma;a=void 0===a?null:a;null!==a&&c.then(a);B.updateContainer(null,b,null,c._onCommit);return c};aa.prototype.legacy_renderSubtreeIntoContainer=function(a,b,c){var d=this._internalRoot,e=new ma;c=void 0===c?null:c;null!==c&&e.then(c);B.updateContainer(b,d,a,e._onCommit);return e};aa.prototype.createBatch=function(){var a=new Sa(this),b=a._expirationTime,c=this._internalRoot,d=c.firstBatch;if(null===d)c.firstBatch=a,a._next=null;else{for(c=
null;null!==d&&d._expirationTime<=b;)c=d,d=d._next;a._next=d;null!==c&&(c._next=a)}return a};var B=ag({getRootHostContext:function(a){var b=a.nodeType;switch(b){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:oc(null,"");break;default:b=8===b?a.parentNode:a,a=b.namespaceURI||null,b=b.tagName,a=oc(a,b)}return a},getChildHostContext:function(a,b){return oc(a,b)},getPublicInstance:function(a){return a},prepareForCommit:function(){Bc=Ma;var a=bc();if($b(a)){if("selectionStart"in a)var b={start:a.selectionStart,
end:a.selectionEnd};else a:{var c=window.getSelection&&window.getSelection();if(c&&0!==c.rangeCount){b=c.anchorNode;var d=c.anchorOffset,e=c.focusNode;c=c.focusOffset;try{b.nodeType,e.nodeType}catch(G){b=null;break a}var f=0,g=-1,h=-1,k=0,l=0,m=a,w=null;b:for(;;){for(var p;;){m!==b||0!==d&&3!==m.nodeType||(g=f+d);m!==e||0!==c&&3!==m.nodeType||(h=f+c);3===m.nodeType&&(f+=m.nodeValue.length);if(null===(p=m.firstChild))break;w=m;m=p}for(;;){if(m===a)break b;w===b&&++k===d&&(g=f);w===e&&++l===c&&(h=f);
if(null!==(p=m.nextSibling))break;m=w;w=m.parentNode}m=p}b=-1===g||-1===h?null:{start:g,end:h}}else b=null}b=b||{start:0,end:0}}else b=null;Cc={focusedElem:a,selectionRange:b};Yb(!1)},resetAfterCommit:function(){var a=Cc,b=bc(),c=a.focusedElem,d=a.selectionRange;if(b!==c&&Hd(document.documentElement,c)){if($b(c))if(b=d.start,a=d.end,void 0===a&&(a=b),"selectionStart"in c)c.selectionStart=b,c.selectionEnd=Math.min(a,c.value.length);else if(window.getSelection){b=window.getSelection();var e=c[Pc()].length;
a=Math.min(d.start,e);d=void 0===d.end?a:Math.min(d.end,e);!b.extend&&a>d&&(e=d,d=a,a=e);e=Kd(c,a);var f=Kd(c,d);if(e&&f&&(1!==b.rangeCount||b.anchorNode!==e.node||b.anchorOffset!==e.offset||b.focusNode!==f.node||b.focusOffset!==f.offset)){var g=document.createRange();g.setStart(e.node,e.offset);b.removeAllRanges();a>d?(b.addRange(g),b.extend(f.node,f.offset)):(g.setEnd(f.node,f.offset),b.addRange(g))}}b=[];for(a=c;a=a.parentNode;)1===a.nodeType&&b.push({element:a,left:a.scrollLeft,top:a.scrollTop});
c.focus();for(c=0;c<b.length;c++)a=b[c],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}Cc=null;Yb(Bc);Bc=null},createInstance:function(a,b,c,d,e){a=ae(a,b,c,d);a[P]=e;a[ha]=b;return a},appendInitialChild:function(a,b){a.appendChild(b)},finalizeInitialChildren:function(a,b,c,d){ce(a,b,c,d);return ie(b,c)},prepareUpdate:function(a,b,c,d,e,f){return ee(a,b,c,d,e)},shouldSetTextContent:function(a,b){return"textarea"===a||"string"===typeof b.children||"number"===typeof b.children||"object"===typeof b.dangerouslySetInnerHTML&&
null!==b.dangerouslySetInnerHTML&&"string"===typeof b.dangerouslySetInnerHTML.__html},shouldDeprioritizeSubtree:function(a,b){return!!b.hidden},createTextInstance:function(a,b,c,d){a=be(a,b);a[P]=d;return a},now:yb,mutation:{commitMount:function(a,b,c,d){ie(b,c)&&a.focus()},commitUpdate:function(a,b,c,d,e,f){a[ha]=e;fe(a,b,c,d,e)},resetTextContent:function(a){ub(a,"")},commitTextUpdate:function(a,b,c){a.nodeValue=c},appendChild:function(a,b){a.appendChild(b)},appendChildToContainer:function(a,b){8===
a.nodeType?a.parentNode.insertBefore(b,a):a.appendChild(b)},insertBefore:function(a,b,c){a.insertBefore(b,c)},insertInContainerBefore:function(a,b,c){8===a.nodeType?a.parentNode.insertBefore(b,c):a.insertBefore(b,c)},removeChild:function(a,b){a.removeChild(b)},removeChildFromContainer:function(a,b){8===a.nodeType?a.parentNode.removeChild(b):a.removeChild(b)}},hydration:{canHydrateInstance:function(a,b,c){return 1!==a.nodeType||b.toLowerCase()!==a.nodeName.toLowerCase()?null:a},canHydrateTextInstance:function(a,
b){return""===b||3!==a.nodeType?null:a},getNextHydratableSibling:function(a){for(a=a.nextSibling;a&&1!==a.nodeType&&3!==a.nodeType;)a=a.nextSibling;return a},getFirstHydratableChild:function(a){for(a=a.firstChild;a&&1!==a.nodeType&&3!==a.nodeType;)a=a.nextSibling;return a},hydrateInstance:function(a,b,c,d,e,f){a[P]=f;a[ha]=c;return ge(a,b,c,e,d)},hydrateTextInstance:function(a,b,c){a[P]=c;return he(a,b)},didNotMatchHydratedContainerTextInstance:function(a,b,c){},didNotMatchHydratedTextInstance:function(a,
b,c,d,e){},didNotHydrateContainerInstance:function(a,b){},didNotHydrateInstance:function(a,b,c,d){},didNotFindHydratableContainerInstance:function(a,b,c){},didNotFindHydratableContainerTextInstance:function(a,b){},didNotFindHydratableInstance:function(a,b,c,d,e){},didNotFindHydratableTextInstance:function(a,b,c,d){}},scheduleDeferredCallback:zb,cancelDeferredCallback:Ab});(function(a){dd=a.batchedUpdates;Dd=a.interactiveUpdates;ed=a.flushInteractiveUpdates})(B);var xe={createPortal:je,findDOMNode:function(a){return null==
a?null:1===a.nodeType?a:B.findHostInstance(a)},hydrate:function(a,b,c){return vb(null,a,b,!0,c)},render:function(a,b,c){return vb(null,a,b,!1,c)},unstable_renderSubtreeIntoContainer:function(a,b,c,d){null==a||void 0===a._reactInternalFiber?l("38"):void 0;return vb(a,b,c,!1,d)},unmountComponentAtNode:function(a){rc(a)?void 0:l("40");return a._reactRootContainer?(B.unbatchedUpdates(function(){vb(null,null,a,!1,function(){a._reactRootContainer=null})}),!0):!1},unstable_createPortal:function(){return je.apply(void 0,
arguments)},unstable_batchedUpdates:B.batchedUpdates,unstable_deferredUpdates:B.deferredUpdates,flushSync:B.flushSync,unstable_flushControlled:B.flushControlled,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{EventPluginHub:pf,EventPluginRegistry:of,EventPropagators:qf,ReactControlledComponent:wf,ReactDOMComponentTree:me,ReactDOMEventListener:Kf},unstable_createRoot:function(a,b){return new aa(a,!0,null!=b&&!0===b.hydrate)}};B.injectIntoDevTools({findFiberByHostInstance:Ca,bundleType:0,version:"16.3.2",
rendererPackageName:"react-dom"});var ye=Object.freeze({default:xe}),Dc=ye&&xe||ye;return Dc["default"]?Dc["default"]:Dc});

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).vegaTooltip={})}(this,function(t){"use strict";var e="#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black; }\n  #vg-tooltip-element.visible {\n    visibility: visible; }\n  #vg-tooltip-element h2 {\n    margin-top: 0;\n    margin-bottom: 10px;\n    font-size: 13px; }\n  #vg-tooltip-element table {\n    border-spacing: 0; }\n    #vg-tooltip-element table tr {\n      border: none; }\n      #vg-tooltip-element table tr td {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        padding-top: 2px;\n        padding-bottom: 2px; }\n        #vg-tooltip-element table tr td.key {\n          color: #808080;\n          max-width: 150px;\n          text-align: right;\n          padding-right: 4px; }\n        #vg-tooltip-element table tr td.value {\n          display: block;\n          max-width: 300px;\n          max-height: 7em;\n          text-align: left; }\n  #vg-tooltip-element.dark-theme {\n    background-color: rgba(32, 32, 32, 0.9);\n    border: 1px solid #f5f5f5;\n    color: white; }\n    #vg-tooltip-element.dark-theme td.key {\n      color: #bfbfbf; }\n";const n="vg-tooltip-element",i={offsetX:10,offsetY:10,id:n,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:o,maxDepth:2};function o(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;")}function l(t){if(!/^[A-Za-z]+[-:.\w]*$/.test(t))throw new Error("Invalid HTML ID");return e.toString().replace(n,t)}function r(t,e,n){return t.fields=e||[],t.fname=n,t}function s(t){throw Error(t)}var c=Array.isArray;function a(t){return t===Object(t)}function d(t){return"string"==typeof t}function u(t){return c(t)?"["+t.map(u)+"]":a(t)||d(t)?JSON.stringify(t).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):t}var f=[],p=(function(t,e){var n=function(t){var e,n,i,o=[],l=null,r=0,c=t.length,a="";function d(){o.push(a+t.substring(e,n)),a="",e=n+1}for(t+="",e=n=0;n<c;++n)if("\\"===(i=t[n]))a+=t.substring(e,n),e=++n;else if(i===l)d(),l=null,r=-1;else{if(l)continue;e===r&&'"'===i?(e=n+1,l=i):e===r&&"'"===i?(e=n+1,l=i):"."!==i||r?"["===i?(n>e&&d(),r=e=n+1):"]"===i&&(r||s("Access path missing open bracket: "+t),r>0&&d(),r=0,e=n+1):n>e?d():e=n+1}return r&&s("Access path missing closing bracket: "+t),l&&s("Access path missing closing quote: "+t),n>e&&(n++,d()),o}(t),i="return _["+n.map(u).join("][")+"];";r(Function("_",i),[t=1===n.length?n[0]:t],e||t)}("id"),r(function(t){return t},f,"identity"),r(function(){return 0},f,"zero"),r(function(){return 1},f,"one"),r(function(){return!0},f,"true"),r(function(){return!1},f,"false"),function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&(n[i[o]]=t[i[o]])}return n});function h(t,e,n){if(c(t))return`[${t.map(t=>e(d(t)?t:m(t,n))).join(", ")}]`;if(a(t)){let i="";const o=t,{title:l}=o,r=p(o,["title"]);l&&(i+=`<h2>${e(l)}</h2>`);const s=Object.keys(r);if(s.length>0){i+="<table>";for(const t of s){let o=r[t];a(o)&&(o=m(o,n)),i+=`<tr><td class="key">${e(t)}:</td><td class="value">${e(o)}</td></tr>`}i+="</table>"}return i||"{}"}return e(t)}function g(t){const e=[];return function(n,i){if("object"!=typeof i||null===i)return i;const o=e.indexOf(this)+1;return e.length=o,e.length>t?"[Object]":e.indexOf(i)>=0?"[Circular]":(e.push(i),i)}}function m(t,e){return JSON.stringify(t,g(e))}function b(t,e,n,i){let o=t.clientX+n;o+e.width>window.innerWidth&&(o=+t.clientX-n-e.width);let l=t.clientY+i;return l+e.height>window.innerHeight&&(l=+t.clientY-i-e.height),{x:o,y:l}}class y{constructor(t){this.options=Object.assign({},i,t);const e=this.options.id;if(this.call=this.tooltip_handler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const t=document.createElement("style");t.setAttribute("id",this.options.styleId),t.innerHTML=l(e);const n=document.head;n.childNodes.length>0?n.insertBefore(t,n.childNodes[0]):n.appendChild(t)}this.el=document.getElementById(e),this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",e),this.el.classList.add("vg-tooltip"),document.body.appendChild(this.el))}tooltip_handler(t,e,n,i){if(null==i||""===i)return void this.el.classList.remove("visible",`${this.options.theme}-theme`);this.el.innerHTML=h(i,this.options.sanitize,this.options.maxDepth),this.el.classList.add("visible",`${this.options.theme}-theme`);const{x:o,y:l}=b(e,this.el.getBoundingClientRect(),this.options.offsetX,this.options.offsetY);this.el.setAttribute("style",`top: ${l}px; left: ${o}px`)}}t.DEFAULT_OPTIONS=i,t.Handler=y,t.calculatePosition=b,t.createDefaultStyle=l,t.default=function(t,e){const n=new y(e);return t.tooltip(n.call).run(),n},t.escapeHTML=o,t.formatValue=h,t.replacer=g,t.stringify=m,Object.defineProperty(t,"__esModule",{value:!0})});
;(function(){
var g,aa=aa||{},ca=this;function da(a){return"string"==typeof a}function ea(a,b){a=a.split(".");var c=ca;a[0]in c||!c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c=c[d]&&c[d]!==Object.prototype[d]?c[d]:c[d]={}:c[d]=b}function fa(){}
function n(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function ha(a){var b=n(a);return"array"==b||"object"==b&&"number"==typeof a.length}function ia(a){return"function"==n(a)}function ja(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function ka(a){return a[la]||(a[la]=++ma)}var la="closure_uid_"+(1E9*Math.random()>>>0),ma=0;function na(a,b,c){return a.call.apply(a.bind,arguments)}
function pa(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function qa(a,b,c){qa=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?na:pa;return qa.apply(null,arguments)}
function ra(a,b){function c(){}c.prototype=b.prototype;a.zf=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.base=function(a,c,f){for(var d=Array(arguments.length-2),e=2;e<arguments.length;e++)d[e-2]=arguments[e];return b.prototype[c].apply(a,d)}};function sa(a){return/^[\s\xa0]*$/.test(a)}var ta=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},ua=String.prototype.repeat?function(a,b){return a.repeat(b)}:function(a,b){return Array(b+1).join(a)};function va(a,b){return a<b?-1:a>b?1:0}function xa(a){var b=2;a=a.split(": ");for(var c=[];0<b&&a.length;)c.push(a.shift()),b--;a.length&&c.push(a.join(": "));return c};var ya=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if(da(a))return da(b)&&1==b.length?a.indexOf(b,0):-1;for(var c=0;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},za=Array.prototype.forEach?function(a,b,c){Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=da(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)};
function Ca(a){a:{var b=Da;for(var c=a.length,d=da(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){b=e;break a}b=-1}return 0>b?null:da(a)?a.charAt(b):a[b]}function Ea(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function Ga(a,b){a.sort(b||Ha)}
function Ia(a,b){for(var c=Array(a.length),d=0;d<a.length;d++)c[d]={index:d,value:a[d]};var e=b||Ha;Ga(c,function(a,b){return e(a.value,b.value)||a.index-b.index});for(d=0;d<a.length;d++)a[d]=c[d].value}function Ha(a,b){return a>b?1:a<b?-1:0};function La(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function Ma(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}var Oa="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Pa(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<Oa.length;f++)c=Oa[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function Qa(a){if(a.Mc&&"function"==typeof a.Mc)return a.Mc();if(da(a))return a.split("");if(ha(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return La(a)}
function Ra(a,b){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,void 0);else if(ha(a)||da(a))za(a,b,void 0);else{if(a.Mb&&"function"==typeof a.Mb)var c=a.Mb();else if(a.Mc&&"function"==typeof a.Mc)c=void 0;else if(ha(a)||da(a)){c=[];for(var d=a.length,e=0;e<d;e++)c.push(e)}else c=Ma(a);d=Qa(a);e=d.length;for(var f=0;f<e;f++)b.call(void 0,d[f],c&&c[f],a)}};function Sa(a,b){this.ac={};this.hb=[];this.Xb=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.addAll(a)}g=Sa.prototype;g.Mc=function(){Ua(this);for(var a=[],b=0;b<this.hb.length;b++)a.push(this.ac[this.hb[b]]);return a};g.Mb=function(){Ua(this);return this.hb.concat()};
g.equals=function(a,b){if(this===a)return!0;if(this.Xb!=a.Xb)return!1;b=b||Va;Ua(this);for(var c,d=0;c=this.hb[d];d++)if(!b(this.get(c),a.get(c)))return!1;return!0};function Va(a,b){return a===b}g.Ld=function(){return 0==this.Xb};g.clear=function(){this.ac={};this.Xb=this.hb.length=0};g.remove=function(a){return Object.prototype.hasOwnProperty.call(this.ac,a)?(delete this.ac[a],this.Xb--,this.hb.length>2*this.Xb&&Ua(this),!0):!1};
function Ua(a){if(a.Xb!=a.hb.length){for(var b=0,c=0;b<a.hb.length;){var d=a.hb[b];Object.prototype.hasOwnProperty.call(a.ac,d)&&(a.hb[c++]=d);b++}a.hb.length=c}if(a.Xb!=a.hb.length){var e={};for(c=b=0;b<a.hb.length;)d=a.hb[b],Object.prototype.hasOwnProperty.call(e,d)||(a.hb[c++]=d,e[d]=1),b++;a.hb.length=c}}g.get=function(a,b){return Object.prototype.hasOwnProperty.call(this.ac,a)?this.ac[a]:b};
g.set=function(a,b){Object.prototype.hasOwnProperty.call(this.ac,a)||(this.Xb++,this.hb.push(a));this.ac[a]=b};g.addAll=function(a){if(a instanceof Sa){var b=a.Mb();a=a.Mc()}else b=Ma(a),a=La(a);for(var c=0;c<b.length;c++)this.set(b[c],a[c])};g.forEach=function(a,b){for(var c=this.Mb(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};g.clone=function(){return new Sa(this)};var Wa=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Xa(a,b){this.ma=[];this.kb=b;for(var c=!0,d=a.length-1;0<=d;d--){var e=a[d]|0;c&&e==b||(this.ma[d]=e,c=!1)}}var Ya={};function Za(a){if(-128<=a&&128>a){var b=Ya[a];if(b)return b}b=new Xa([a|0],0>a?-1:0);-128<=a&&128>a&&(Ya[a]=b);return b}function $a(a){if(isNaN(a)||!isFinite(a))return ab;if(0>a)return $a(-a).ia();for(var b=[],c=1,d=0;a>=c;d++)b[d]=a/c|0,c*=bb;return new Xa(b,0)}var bb=4294967296,ab=Za(0),cb=Za(1),eb=Za(16777216);g=Xa.prototype;
g.ud=function(){return 0<this.ma.length?this.ma[0]:this.kb};g.toNumber=function(){if(this.ta())return-this.ia().toNumber();for(var a=0,b=1,c=0;c<this.ma.length;c++){var d=fb(this,c);a+=(0<=d?d:bb+d)*b;b*=bb}return a};
g.toString=function(a){a=a||10;if(2>a||36<a)throw Error("radix out of range: "+a);if(this.gb())return"0";if(this.ta())return"-"+this.ia().toString(a);for(var b=$a(Math.pow(a,6)),c=this,d="";;){var e=ib(c,b),f=(c.bc(e.multiply(b)).ud()>>>0).toString(a);c=e;if(c.gb())return f+d;for(;6>f.length;)f="0"+f;d=""+f+d}};function fb(a,b){return 0>b?0:b<a.ma.length?a.ma[b]:a.kb}g.gb=function(){if(0!=this.kb)return!1;for(var a=0;a<this.ma.length;a++)if(0!=this.ma[a])return!1;return!0};
g.ta=function(){return-1==this.kb};g.Ee=function(){return 0==this.ma.length&&-1==this.kb||0<this.ma.length&&0!=(this.ma[0]&1)};g.equals=function(a){if(this.kb!=a.kb)return!1;for(var b=Math.max(this.ma.length,a.ma.length),c=0;c<b;c++)if(fb(this,c)!=fb(a,c))return!1;return!0};g.Id=function(a){return 0<this.compare(a)};g.Ce=function(a){return 0<=this.compare(a)};g.Nc=function(a){return 0>this.compare(a)};g.Ge=function(a){return 0>=this.compare(a)};
g.compare=function(a){a=this.bc(a);return a.ta()?-1:a.gb()?0:1};g.ia=function(){return this.Je().add(cb)};g.add=function(a){for(var b=Math.max(this.ma.length,a.ma.length),c=[],d=0,e=0;e<=b;e++){var f=d+(fb(this,e)&65535)+(fb(a,e)&65535),h=(f>>>16)+(fb(this,e)>>>16)+(fb(a,e)>>>16);d=h>>>16;f&=65535;h&=65535;c[e]=h<<16|f}return new Xa(c,c[c.length-1]&-2147483648?-1:0)};g.bc=function(a){return this.add(a.ia())};
g.multiply=function(a){if(this.gb()||a.gb())return ab;if(this.ta())return a.ta()?this.ia().multiply(a.ia()):this.ia().multiply(a).ia();if(a.ta())return this.multiply(a.ia()).ia();if(this.Nc(eb)&&a.Nc(eb))return $a(this.toNumber()*a.toNumber());for(var b=this.ma.length+a.ma.length,c=[],d=0;d<2*b;d++)c[d]=0;for(d=0;d<this.ma.length;d++)for(var e=0;e<a.ma.length;e++){var f=fb(this,d)>>>16,h=fb(this,d)&65535,k=fb(a,e)>>>16,l=fb(a,e)&65535;c[2*d+2*e]+=h*l;jb(c,2*d+2*e);c[2*d+2*e+1]+=f*l;jb(c,2*d+2*e+1);
c[2*d+2*e+1]+=h*k;jb(c,2*d+2*e+1);c[2*d+2*e+2]+=f*k;jb(c,2*d+2*e+2)}for(d=0;d<b;d++)c[d]=c[2*d+1]<<16|c[2*d];for(d=b;d<2*b;d++)c[d]=0;return new Xa(c,0)};function jb(a,b){for(;(a[b]&65535)!=a[b];)a[b+1]+=a[b]>>>16,a[b]&=65535,b++}
function ib(a,b){if(b.gb())throw Error("division by zero");if(a.gb())return ab;if(a.ta())return b.ta()?ib(a.ia(),b.ia()):ib(a.ia(),b).ia();if(b.ta())return ib(a,b.ia()).ia();if(30<a.ma.length){if(a.ta()||b.ta())throw Error("slowDivide_ only works with positive integers.");for(var c=cb;b.Ge(a);)c=c.shiftLeft(1),b=b.shiftLeft(1);var d=c.mc(1),e=b.mc(1);b=b.mc(2);for(c=c.mc(2);!b.gb();){var f=e.add(b);f.Ge(a)&&(d=d.add(c),e=f);b=b.mc(1);c=c.mc(1)}return d}for(c=ab;a.Ce(b);){d=Math.max(1,Math.floor(a.toNumber()/
b.toNumber()));e=Math.ceil(Math.log(d)/Math.LN2);e=48>=e?1:Math.pow(2,e-48);f=$a(d);for(var h=f.multiply(b);h.ta()||h.Id(a);)d-=e,f=$a(d),h=f.multiply(b);f.gb()&&(f=cb);c=c.add(f);a=a.bc(h)}return c}g.Je=function(){for(var a=this.ma.length,b=[],c=0;c<a;c++)b[c]=~this.ma[c];return new Xa(b,~this.kb)};g.and=function(a){for(var b=Math.max(this.ma.length,a.ma.length),c=[],d=0;d<b;d++)c[d]=fb(this,d)&fb(a,d);return new Xa(c,this.kb&a.kb)};
g.or=function(a){for(var b=Math.max(this.ma.length,a.ma.length),c=[],d=0;d<b;d++)c[d]=fb(this,d)|fb(a,d);return new Xa(c,this.kb|a.kb)};g.xor=function(a){for(var b=Math.max(this.ma.length,a.ma.length),c=[],d=0;d<b;d++)c[d]=fb(this,d)^fb(a,d);return new Xa(c,this.kb^a.kb)};g.shiftLeft=function(a){var b=a>>5;a%=32;for(var c=this.ma.length+b+(0<a?1:0),d=[],e=0;e<c;e++)d[e]=0<a?fb(this,e-b)<<a|fb(this,e-b-1)>>>32-a:fb(this,e-b);return new Xa(d,this.kb)};
g.mc=function(a){var b=a>>5;a%=32;for(var c=this.ma.length-b,d=[],e=0;e<c;e++)d[e]=0<a?fb(this,e+b)>>>a|fb(this,e+b+1)<<32-a:fb(this,e+b);return new Xa(d,this.kb)};function kb(a,b){null!=a&&this.append.apply(this,arguments)}g=kb.prototype;g.ec="";g.set=function(a){this.ec=""+a};g.append=function(a,b,c){this.ec+=String(a);if(null!=b)for(var d=1;d<arguments.length;d++)this.ec+=arguments[d];return this};g.clear=function(){this.ec=""};g.toString=function(){return this.ec};function lb(a){lb[" "](a);return a}lb[" "]=fa;function mb(a,b,c){return Object.prototype.hasOwnProperty.call(a,b)?a[b]:a[b]=c(b)};function nb(a,b){this.sa=a|0;this.Aa=b|0}var pb={},qb={};function rb(a){return mb(pb,a,function(a){return new nb(a,0>a?-1:0)})}function sb(a){a|=0;return-128<=a&&128>a?rb(a):new nb(a,0>a?-1:0)}function tb(a){return isNaN(a)?rb(0):a<=-ub?vb():a+1>=ub?wb():0>a?tb(-a).ia():new nb(a%xb|0,a/xb|0)}function yb(a,b){return new nb(a,b)}
function zb(a,b){if(0==a.length)throw Error("number format error: empty string");b=b||10;if(2>b||36<b)throw Error("radix out of range: "+b);if("-"==a.charAt(0))return zb(a.substring(1),b).ia();if(0<=a.indexOf("-"))throw Error('number format error: interior "-" character: '+a);for(var c=tb(Math.pow(b,8)),d=rb(0),e=0;e<a.length;e+=8){var f=Math.min(8,a.length-e),h=parseInt(a.substring(e,e+f),b);8>f?(f=tb(Math.pow(b,f)),d=d.multiply(f).add(tb(h))):(d=d.multiply(c),d=d.add(tb(h)))}return d}
var xb=4294967296,ub=xb*xb/2;function wb(){return mb(qb,Bb,function(){return yb(-1,2147483647)})}function vb(){return mb(qb,Cb,function(){return yb(0,-2147483648)})}function Db(){return mb(qb,Eb,function(){return sb(16777216)})}g=nb.prototype;g.ud=function(){return this.sa};g.toNumber=function(){return this.Aa*xb+(0<=this.sa?this.sa:xb+this.sa)};
g.toString=function(a){a=a||10;if(2>a||36<a)throw Error("radix out of range: "+a);if(this.gb())return"0";if(this.ta()){if(this.equals(vb())){var b=tb(a),c=this.div(b);b=c.multiply(b).bc(this);return c.toString(a)+b.ud().toString(a)}return"-"+this.ia().toString(a)}c=tb(Math.pow(a,6));b=this;for(var d="";;){var e=b.div(c),f=(b.bc(e.multiply(c)).ud()>>>0).toString(a);b=e;if(b.gb())return f+d;for(;6>f.length;)f="0"+f;d=""+f+d}};g.gb=function(){return 0==this.Aa&&0==this.sa};g.ta=function(){return 0>this.Aa};
g.Ee=function(){return 1==(this.sa&1)};g.equals=function(a){return this.Aa==a.Aa&&this.sa==a.sa};g.Nc=function(a){return 0>this.compare(a)};g.Ge=function(a){return 0>=this.compare(a)};g.Id=function(a){return 0<this.compare(a)};g.Ce=function(a){return 0<=this.compare(a)};g.compare=function(a){if(this.equals(a))return 0;var b=this.ta(),c=a.ta();return b&&!c?-1:!b&&c?1:this.bc(a).ta()?-1:1};g.ia=function(){return this.equals(vb())?vb():this.Je().add(rb(1))};
g.add=function(a){var b=this.Aa>>>16,c=this.Aa&65535,d=this.sa>>>16,e=a.Aa>>>16,f=a.Aa&65535,h=a.sa>>>16;a=(this.sa&65535)+(a.sa&65535);h=(a>>>16)+(d+h);d=h>>>16;d+=c+f;b=(d>>>16)+(b+e)&65535;return yb((h&65535)<<16|a&65535,b<<16|d&65535)};g.bc=function(a){return this.add(a.ia())};
g.multiply=function(a){if(this.gb()||a.gb())return rb(0);if(this.equals(vb()))return a.Ee()?vb():rb(0);if(a.equals(vb()))return this.Ee()?vb():rb(0);if(this.ta())return a.ta()?this.ia().multiply(a.ia()):this.ia().multiply(a).ia();if(a.ta())return this.multiply(a.ia()).ia();if(this.Nc(Db())&&a.Nc(Db()))return tb(this.toNumber()*a.toNumber());var b=this.Aa>>>16,c=this.Aa&65535,d=this.sa>>>16,e=this.sa&65535,f=a.Aa>>>16,h=a.Aa&65535,k=a.sa>>>16;a=a.sa&65535;var l=e*a;var m=(l>>>16)+d*a;var q=m>>>16;
m=(m&65535)+e*k;q+=m>>>16;q+=c*a;var r=q>>>16;q=(q&65535)+d*k;r+=q>>>16;q=(q&65535)+e*h;r=r+(q>>>16)+(b*a+c*k+d*h+e*f)&65535;return yb((m&65535)<<16|l&65535,r<<16|q&65535)};
g.div=function(a){if(a.gb())throw Error("division by zero");if(this.gb())return rb(0);if(this.equals(vb())){if(a.equals(rb(1))||a.equals(rb(-1)))return vb();if(a.equals(vb()))return rb(1);var b=this.mc(1).div(a).shiftLeft(1);if(b.equals(rb(0)))return a.ta()?rb(1):rb(-1);var c=this.bc(a.multiply(b));return b.add(c.div(a))}if(a.equals(vb()))return rb(0);if(this.ta())return a.ta()?this.ia().div(a.ia()):this.ia().div(a).ia();if(a.ta())return this.div(a.ia()).ia();var d=rb(0);for(c=this;c.Ce(a);){b=Math.max(1,
Math.floor(c.toNumber()/a.toNumber()));var e=Math.ceil(Math.log(b)/Math.LN2);e=48>=e?1:Math.pow(2,e-48);for(var f=tb(b),h=f.multiply(a);h.ta()||h.Id(c);)b-=e,f=tb(b),h=f.multiply(a);f.gb()&&(f=rb(1));d=d.add(f);c=c.bc(h)}return d};g.Je=function(){return yb(~this.sa,~this.Aa)};g.and=function(a){return yb(this.sa&a.sa,this.Aa&a.Aa)};g.or=function(a){return yb(this.sa|a.sa,this.Aa|a.Aa)};g.xor=function(a){return yb(this.sa^a.sa,this.Aa^a.Aa)};
g.shiftLeft=function(a){a&=63;if(0==a)return this;var b=this.sa;return 32>a?yb(b<<a,this.Aa<<a|b>>>32-a):yb(0,b<<a-32)};g.mc=function(a){a&=63;if(0==a)return this;var b=this.Aa;return 32>a?yb(this.sa>>>a|b<<32-a,b>>a):yb(b>>a-32,0<=b?0:-1)};function Fb(a,b){b&=63;if(0==b)return a;var c=a.Aa;return 32>b?yb(a.sa>>>b|c<<32-b,c>>>b):32==b?yb(c,0):yb(c>>>b-32,0)}var Bb=1,Cb=2,Eb=6;var Gb={},Ib={},Jb;if("undefined"===typeof Gb||"undefined"===typeof Ib||"undefined"===typeof p)var p={};if("undefined"===typeof Gb||"undefined"===typeof Ib||"undefined"===typeof Kb)var Kb=null;if("undefined"===typeof Gb||"undefined"===typeof Ib||"undefined"===typeof Lb)var Lb=null;var Mb=!0,Nb=null;if("undefined"===typeof Gb||"undefined"===typeof Ib||"undefined"===typeof Ob)var Ob=null;function Pb(){return new t(null,5,[Qb,!0,Rb,!0,Sb,!1,Tb,!1,Ub,null],null)}
function Vb(){Mb=!1;Kb=function(){return console.log.apply(console,Ea(arguments))};Lb=function(){return console.error.apply(console,Ea(arguments))}}function v(a){return null!=a&&!1!==a}function Wb(a){return null==a}function Xb(a){return a instanceof Array}function Yb(a){return null==a?!0:!1===a?!0:!1}function Zb(a){return da(a)}function w(a,b){return a[n(null==b?null:b)]?!0:a._?!0:!1}function $b(a){return null==a?null:a.constructor}
function y(a,b){var c=$b(b);c=v(v(c)?c.hc:c)?c.Jb:n(b);return Error(["No protocol method ",a," defined for type ",c,": ",b].join(""))}function ac(a){var b=a.Jb;return v(b)?b:z.h(a)}
var bc="undefined"!==typeof Symbol&&"function"===n(Symbol)?Symbol.iterator:"@@iterator",cc={_RBRACE_:"}",_COLON_:":",_BANG_:"!",_QMARK_:"?",_BSLASH_:"\\\\",_SLASH_:"/",_PERCENT_:"%",_PLUS_:"+",_SHARP_:"#",_LBRACE_:"{",_BAR_:"|",_LBRACK_:"[",_EQ_:"\x3d",_:"-",_TILDE_:"~",_RBRACK_:"]",_GT_:"\x3e",_SINGLEQUOTE_:"'",_CIRCA_:"@",_AMPERSAND_:"\x26",_DOUBLEQUOTE_:'\\"',_CARET_:"^",_LT_:"\x3c",_STAR_:"*"},dc=null;
function ec(a){for(var b=a.length,c=Array(b),d=0;;)if(d<b)c[d]=a[d],d+=1;else break;return c}function fc(a){return gc.l(function(a,c){a.push(c);return a},[],a)}function hc(){}function jc(){}var kc=function kc(a){if(null!=a&&null!=a.Ma)return a.Ma(a);var c=kc[n(null==a?null:a)];if(null!=c)return c.h?c.h(a):c.call(null,a);c=kc._;if(null!=c)return c.h?c.h(a):c.call(null,a);throw y("ICloneable.-clone",a);};function lc(){}
var mc=function mc(a){if(null!=a&&null!=a.ca)return a.ca(a);var c=mc[n(null==a?null:a)];if(null!=c)return c.h?c.h(a):c.call(null,a);c=mc._;if(null!=c)return c.h?c.h(a):c.call(null,a);throw y("ICounted.-count",a);};function nc(){}var oc=function oc(a){if(null!=a&&null!=a.ja)return a.ja(a);var c=oc[n(null==a?null:a)];if(null!=c)return c.h?c.h(a):c.call(null,a);c=oc._;if(null!=c)return c.h?c.h(a):c.call(null,a);throw y("IEmptyableCollection.-empty",a);};function pc(){}
var qc=function qc(a,b){if(null!=a&&null!=a.ga)return a.ga(a,b);var d=qc[n(null==a?null:a)];if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);d=qc._;if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);throw y("ICollection.-conj",a);};function rc(){}var sc=function sc(a){switch(arguments.length){case 2:return sc.j(arguments[0],arguments[1]);case 3:return sc.l(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.h(arguments.length)].join(""));}};
sc.j=function(a,b){if(null!=a&&null!=a.O)return a.O(a,b);var c=sc[n(null==a?null:a)];if(null!=c)return c.j?c.j(a,b):c.call(null,a,b);c=sc._;if(null!=c)return c.j?c.j(a,b):c.call(null,a,b);throw y("IIndexed.-nth",a);};sc.l=function(a,b,c){if(null!=a&&null!=a.da)return a.da(a,b,c);var d=sc[n(null==a?null:a)];if(null!=d)return d.l?d.l(a,b,c):d.call(null,a,b,c);d=sc._;if(null!=d)return d.l?d.l(a,b,c):d.call(null,a,b,c);throw y("IIndexed.-nth",a);};sc.H=3;function tc(){}
var uc=function uc(a){if(null!=a&&null!=a.Ca)return a.Ca(a);var c=uc[n(null==a?null:a)];if(null!=c)return c.h?c.h(a):c.call(null,a);c=uc._;if(null!=c)return c.h?c.h(a):c.call(null,a);throw y("ISeq.-first",a);},vc=function vc(a){if(null!=a&&null!=a.Fa)return a.Fa(a);var c=vc[n(null==a?null:a)];if(null!=c)return c.h?c.h(a):c.call(null,a);c=vc._;if(null!=c)return c.h?c.h(a):c.call(null,a);throw y("ISeq.-rest",a);};function wc(){}
var xc=function xc(a){if(null!=a&&null!=a.wa)return a.wa(a);var c=xc[n(null==a?null:a)];if(null!=c)return c.h?c.h(a):c.call(null,a);c=xc._;if(null!=c)return c.h?c.h(a):c.call(null,a);throw y("INext.-next",a);};function yc(){}var zc=function zc(a){switch(arguments.length){case 2:return zc.j(arguments[0],arguments[1]);case 3:return zc.l(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.h(arguments.length)].join(""));}};
zc.j=function(a,b){if(null!=a&&null!=a.X)return a.X(a,b);var c=zc[n(null==a?null:a)];if(null!=c)return c.j?c.j(a,b):c.call(null,a,b);c=zc._;if(null!=c)return c.j?c.j(a,b):c.call(null,a,b);throw y("ILookup.-lookup",a);};zc.l=function(a,b,c){if(null!=a&&null!=a.N)return a.N(a,b,c);var d=zc[n(null==a?null:a)];if(null!=d)return d.l?d.l(a,b,c):d.call(null,a,b,c);d=zc._;if(null!=d)return d.l?d.l(a,b,c):d.call(null,a,b,c);throw y("ILookup.-lookup",a);};zc.H=3;
var Ac=function Ac(a,b,c){if(null!=a&&null!=a.Ka)return a.Ka(a,b,c);var e=Ac[n(null==a?null:a)];if(null!=e)return e.l?e.l(a,b,c):e.call(null,a,b,c);e=Ac._;if(null!=e)return e.l?e.l(a,b,c):e.call(null,a,b,c);throw y("IAssociative.-assoc",a);},Bc=function Bc(a,b){if(null!=a&&null!=a.Sb)return a.Sb(a,b);var d=Bc[n(null==a?null:a)];if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);d=Bc._;if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);throw y("IFind.-find",a);};function Cc(){}
var Dc=function Dc(a,b){if(null!=a&&null!=a.fc)return a.fc(a,b);var d=Dc[n(null==a?null:a)];if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);d=Dc._;if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);throw y("IMap.-dissoc",a);},Ec=function Ec(a){if(null!=a&&null!=a.pe)return a.key;var c=Ec[n(null==a?null:a)];if(null!=c)return c.h?c.h(a):c.call(null,a);c=Ec._;if(null!=c)return c.h?c.h(a):c.call(null,a);throw y("IMapEntry.-key",a);},Fc=function Fc(a){if(null!=a&&null!=a.qe)return a.B;var c=Fc[n(null==a?
null:a)];if(null!=c)return c.h?c.h(a):c.call(null,a);c=Fc._;if(null!=c)return c.h?c.h(a):c.call(null,a);throw y("IMapEntry.-val",a);};function Gc(){}
var Hc=function Hc(a,b){if(null!=a&&null!=a.te)return a.te(a,b);var d=Hc[n(null==a?null:a)];if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);d=Hc._;if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);throw y("ISet.-disjoin",a);},Ic=function Ic(a){if(null!=a&&null!=a.Ub)return a.Ub(a);var c=Ic[n(null==a?null:a)];if(null!=c)return c.h?c.h(a):c.call(null,a);c=Ic._;if(null!=c)return c.h?c.h(a):c.call(null,a);throw y("IStack.-peek",a);},Jc=function Jc(a){if(null!=a&&null!=a.Vb)return a.Vb(a);var c=Jc[n(null==
a?null:a)];if(null!=c)return c.h?c.h(a):c.call(null,a);c=Jc._;if(null!=c)return c.h?c.h(a):c.call(null,a);throw y("IStack.-pop",a);};function Lc(){}var Mc=function Mc(a,b,c){if(null!=a&&null!=a.tb)return a.tb(a,b,c);var e=Mc[n(null==a?null:a)];if(null!=e)return e.l?e.l(a,b,c):e.call(null,a,b,c);e=Mc._;if(null!=e)return e.l?e.l(a,b,c):e.call(null,a,b,c);throw y("IVector.-assoc-n",a);};function Nc(){}
var A=function A(a){if(null!=a&&null!=a.eb)return a.eb(a);var c=A[n(null==a?null:a)];if(null!=c)return c.h?c.h(a):c.call(null,a);c=A._;if(null!=c)return c.h?c.h(a):c.call(null,a);throw y("IDeref.-deref",a);};function Oc(){}
var Pc=function Pc(a){if(null!=a&&null!=a.U)return a.U(a);var c=Pc[n(null==a?null:a)];if(null!=c)return c.h?c.h(a):c.call(null,a);c=Pc._;if(null!=c)return c.h?c.h(a):c.call(null,a);throw y("IMeta.-meta",a);},Qc=function Qc(a,b){if(null!=a&&null!=a.V)return a.V(a,b);var d=Qc[n(null==a?null:a)];if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);d=Qc._;if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);throw y("IWithMeta.-with-meta",a);};function Rc(){}
var Sc=function Sc(a){switch(arguments.length){case 2:return Sc.j(arguments[0],arguments[1]);case 3:return Sc.l(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.h(arguments.length)].join(""));}};Sc.j=function(a,b){if(null!=a&&null!=a.xa)return a.xa(a,b);var c=Sc[n(null==a?null:a)];if(null!=c)return c.j?c.j(a,b):c.call(null,a,b);c=Sc._;if(null!=c)return c.j?c.j(a,b):c.call(null,a,b);throw y("IReduce.-reduce",a);};
Sc.l=function(a,b,c){if(null!=a&&null!=a.ya)return a.ya(a,b,c);var d=Sc[n(null==a?null:a)];if(null!=d)return d.l?d.l(a,b,c):d.call(null,a,b,c);d=Sc._;if(null!=d)return d.l?d.l(a,b,c):d.call(null,a,b,c);throw y("IReduce.-reduce",a);};Sc.H=3;function Tc(){}
var Uc=function Uc(a,b,c){if(null!=a&&null!=a.Ib)return a.Ib(a,b,c);var e=Uc[n(null==a?null:a)];if(null!=e)return e.l?e.l(a,b,c):e.call(null,a,b,c);e=Uc._;if(null!=e)return e.l?e.l(a,b,c):e.call(null,a,b,c);throw y("IKVReduce.-kv-reduce",a);},Vc=function Vc(a,b){if(null!=a&&null!=a.J)return a.J(a,b);var d=Vc[n(null==a?null:a)];if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);d=Vc._;if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);throw y("IEquiv.-equiv",a);},Wc=function Wc(a){if(null!=a&&null!=a.T)return a.T(a);
var c=Wc[n(null==a?null:a)];if(null!=c)return c.h?c.h(a):c.call(null,a);c=Wc._;if(null!=c)return c.h?c.h(a):c.call(null,a);throw y("IHash.-hash",a);};function Xc(){}var Yc=function Yc(a){if(null!=a&&null!=a.Z)return a.Z(a);var c=Yc[n(null==a?null:a)];if(null!=c)return c.h?c.h(a):c.call(null,a);c=Yc._;if(null!=c)return c.h?c.h(a):c.call(null,a);throw y("ISeqable.-seq",a);};function Zc(){}function $c(){}function ad(){}function bd(){}
var cd=function cd(a){if(null!=a&&null!=a.Tb)return a.Tb(a);var c=cd[n(null==a?null:a)];if(null!=c)return c.h?c.h(a):c.call(null,a);c=cd._;if(null!=c)return c.h?c.h(a):c.call(null,a);throw y("IReversible.-rseq",a);},dd=function dd(a,b){if(null!=a&&null!=a.gf)return a.gf(a,b);var d=dd[n(null==a?null:a)];if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);d=dd._;if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);throw y("IWriter.-write",a);};function ed(){}
var fd=function fd(a,b,c){if(null!=a&&null!=a.S)return a.S(a,b,c);var e=fd[n(null==a?null:a)];if(null!=e)return e.l?e.l(a,b,c):e.call(null,a,b,c);e=fd._;if(null!=e)return e.l?e.l(a,b,c):e.call(null,a,b,c);throw y("IPrintWithWriter.-pr-writer",a);},gd=function gd(a,b,c){if(null!=a&&null!=a.Zc)return a.Zc(a,b,c);var e=gd[n(null==a?null:a)];if(null!=e)return e.l?e.l(a,b,c):e.call(null,a,b,c);e=gd._;if(null!=e)return e.l?e.l(a,b,c):e.call(null,a,b,c);throw y("IWatchable.-add-watch",a);},hd=function hd(a,
b){if(null!=a&&null!=a.$c)return a.$c(a,b);var d=hd[n(null==a?null:a)];if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);d=hd._;if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);throw y("IWatchable.-remove-watch",a);},id=function id(a){if(null!=a&&null!=a.Fc)return a.Fc(a);var c=id[n(null==a?null:a)];if(null!=c)return c.h?c.h(a):c.call(null,a);c=id._;if(null!=c)return c.h?c.h(a):c.call(null,a);throw y("IEditableCollection.-as-transient",a);},jd=function jd(a,b){if(null!=a&&null!=a.Hc)return a.Hc(a,b);
var d=jd[n(null==a?null:a)];if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);d=jd._;if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);throw y("ITransientCollection.-conj!",a);},kd=function kd(a){if(null!=a&&null!=a.Yc)return a.Yc(a);var c=kd[n(null==a?null:a)];if(null!=c)return c.h?c.h(a):c.call(null,a);c=kd._;if(null!=c)return c.h?c.h(a):c.call(null,a);throw y("ITransientCollection.-persistent!",a);},ld=function ld(a,b,c){if(null!=a&&null!=a.Gc)return a.Gc(a,b,c);var e=ld[n(null==a?null:a)];if(null!=
e)return e.l?e.l(a,b,c):e.call(null,a,b,c);e=ld._;if(null!=e)return e.l?e.l(a,b,c):e.call(null,a,b,c);throw y("ITransientAssociative.-assoc!",a);},md=function md(a,b){if(null!=a&&null!=a.ue)return a.ue(a,b);var d=md[n(null==a?null:a)];if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);d=md._;if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);throw y("ITransientMap.-dissoc!",a);};function nd(){}
var od=function od(a,b){if(null!=a&&null!=a.pb)return a.pb(a,b);var d=od[n(null==a?null:a)];if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);d=od._;if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);throw y("IComparable.-compare",a);},pd=function pd(a){if(null!=a&&null!=a.le)return a.le(a);var c=pd[n(null==a?null:a)];if(null!=c)return c.h?c.h(a):c.call(null,a);c=pd._;if(null!=c)return c.h?c.h(a):c.call(null,a);throw y("IChunk.-drop-first",a);},qd=function qd(a){if(null!=a&&null!=a.yd)return a.yd(a);var c=
qd[n(null==a?null:a)];if(null!=c)return c.h?c.h(a):c.call(null,a);c=qd._;if(null!=c)return c.h?c.h(a):c.call(null,a);throw y("IChunkedSeq.-chunked-first",a);},sd=function sd(a){if(null!=a&&null!=a.Ec)return a.Ec(a);var c=sd[n(null==a?null:a)];if(null!=c)return c.h?c.h(a):c.call(null,a);c=sd._;if(null!=c)return c.h?c.h(a):c.call(null,a);throw y("IChunkedSeq.-chunked-rest",a);},td=function td(a){if(null!=a&&null!=a.zd)return a.zd(a);var c=td[n(null==a?null:a)];if(null!=c)return c.h?c.h(a):c.call(null,
a);c=td._;if(null!=c)return c.h?c.h(a):c.call(null,a);throw y("INamed.-name",a);},ud=function ud(a){if(null!=a&&null!=a.Ad)return a.Ad(a);var c=ud[n(null==a?null:a)];if(null!=c)return c.h?c.h(a):c.call(null,a);c=ud._;if(null!=c)return c.h?c.h(a):c.call(null,a);throw y("INamed.-namespace",a);},vd=function vd(a,b){if(null!=a&&null!=a.jb)return a.jb(a,b);var d=vd[n(null==a?null:a)];if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);d=vd._;if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);throw y("IReset.-reset!",
a);},wd=function wd(a){switch(arguments.length){case 2:return wd.j(arguments[0],arguments[1]);case 3:return wd.l(arguments[0],arguments[1],arguments[2]);case 4:return wd.I(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return wd.Y(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",z.h(arguments.length)].join(""));}};
wd.j=function(a,b){if(null!=a&&null!=a.Bd)return a.Bd(a,b);var c=wd[n(null==a?null:a)];if(null!=c)return c.j?c.j(a,b):c.call(null,a,b);c=wd._;if(null!=c)return c.j?c.j(a,b):c.call(null,a,b);throw y("ISwap.-swap!",a);};wd.l=function(a,b,c){if(null!=a&&null!=a.Cd)return a.Cd(a,b,c);var d=wd[n(null==a?null:a)];if(null!=d)return d.l?d.l(a,b,c):d.call(null,a,b,c);d=wd._;if(null!=d)return d.l?d.l(a,b,c):d.call(null,a,b,c);throw y("ISwap.-swap!",a);};
wd.I=function(a,b,c,d){if(null!=a&&null!=a.Dd)return a.Dd(a,b,c,d);var e=wd[n(null==a?null:a)];if(null!=e)return e.I?e.I(a,b,c,d):e.call(null,a,b,c,d);e=wd._;if(null!=e)return e.I?e.I(a,b,c,d):e.call(null,a,b,c,d);throw y("ISwap.-swap!",a);};wd.Y=function(a,b,c,d,e){if(null!=a&&null!=a.Ed)return a.Ed(a,b,c,d,e);var f=wd[n(null==a?null:a)];if(null!=f)return f.Y?f.Y(a,b,c,d,e):f.call(null,a,b,c,d,e);f=wd._;if(null!=f)return f.Y?f.Y(a,b,c,d,e):f.call(null,a,b,c,d,e);throw y("ISwap.-swap!",a);};
wd.H=5;var xd=function xd(a,b){if(null!=a&&null!=a.gc)return a.gc(a,b);var d=xd[n(null==a?null:a)];if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);d=xd._;if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);throw y("IVolatile.-vreset!",a);};function yd(){}var zd=function zd(a){if(null!=a&&null!=a.$a)return a.$a(a);var c=zd[n(null==a?null:a)];if(null!=c)return c.h?c.h(a):c.call(null,a);c=zd._;if(null!=c)return c.h?c.h(a):c.call(null,a);throw y("IIterable.-iterator",a);};
function Ad(a){this.kg=a;this.v=1073741824;this.M=0}Ad.prototype.gf=function(a,b){return this.kg.append(b)};function Bd(a){var b=new kb;a.S(null,new Ad(b),Pb());return z.h(b)}var Cd="undefined"!==typeof Math&&"undefined"!==typeof Math.imul&&0!==Math.imul(4294967295,5)?function(a,b){return Math.imul(a,b)}:function(a,b){var c=a&65535,d=b&65535;return c*d+((a>>>16&65535)*d+c*(b>>>16&65535)<<16>>>0)|0};function Dd(a){a=Cd(a|0,-862048943);return Cd(a<<15|a>>>-15,461845907)}
function Ed(a,b){a=(a|0)^(b|0);return Cd(a<<13|a>>>-13,5)+-430675100|0}function Fd(a,b){a=(a|0)^b;a=Cd(a^a>>>16,-2048144789);a=Cd(a^a>>>13,-1028477387);return a^a>>>16}function Gd(a){a:{var b=1;for(var c=0;;)if(b<a.length){var d=b+2;c=Ed(c,Dd(a.charCodeAt(b-1)|a.charCodeAt(b)<<16));b=d}else{b=c;break a}}b=1===(a.length&1)?b^Dd(a.charCodeAt(a.length-1)):b;return Fd(b,Cd(2,a.length))}var Hd={},Id=0;
function Jd(a){255<Id&&(Hd={},Id=0);if(null==a)return 0;var b=Hd[a];if("number"===typeof b)a=b;else{a:if(null!=a)if(b=a.length,0<b)for(var c=0,d=0;;)if(c<b){var e=c+1;d=Cd(31,d)+a.charCodeAt(c);c=e}else{b=d;break a}else b=0;else b=0;Hd[a]=b;Id+=1;a=b}return a}
function Kd(a){if(null!=a&&(a.v&4194304||p===a.oe))return Wc(a)^0;if("number"===typeof a){if(v(isFinite(a)))return Math.floor(a)%2147483647;switch(a){case Infinity:return 2146435072;case -Infinity:return-1048576;default:return 2146959360}}else return!0===a?a=1231:!1===a?a=1237:"string"===typeof a?(a=Jd(a),0!==a&&(a=Dd(a),a=Ed(0,a),a=Fd(a,4))):a=a instanceof Date?a.valueOf()^0:null==a?0:Wc(a)^0,a}function Ld(a,b){return a^b+2654435769+(a<<6)+(a>>2)}function Md(a,b){return b instanceof a}
function Nd(a,b){if(a.ib===b.ib)return 0;var c=Yb(a.bb);if(v(c?b.bb:c))return-1;if(v(a.bb)){if(Yb(b.bb))return 1;c=Ha(a.bb,b.bb);return 0===c?Ha(a.name,b.name):c}return Ha(a.name,b.name)}function B(a,b,c,d,e){this.bb=a;this.name=b;this.ib=c;this.Ac=d;this.Fb=e;this.v=2154168321;this.M=4096}g=B.prototype;g.toString=function(){return this.ib};g.equiv=function(a){return this.J(null,a)};g.J=function(a,b){return b instanceof B?this.ib===b.ib:!1};
g.call=function(){var a=null;a=function(a,c,d){switch(arguments.length){case 2:return D.j(c,this);case 3:return D.l(c,this,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.j=function(a,c){return D.j(c,this)};a.l=function(a,c,d){return D.l(c,this,d)};return a}();g.apply=function(a,b){return this.call.apply(this,[this].concat(ec(b)))};g.h=function(a){return D.j(a,this)};g.j=function(a,b){return D.l(a,this,b)};g.U=function(){return this.Fb};
g.V=function(a,b){return new B(this.bb,this.name,this.ib,this.Ac,b)};g.T=function(){var a=this.Ac;return null!=a?a:this.Ac=a=Ld(Gd(this.name),Jd(this.bb))};g.zd=function(){return this.name};g.Ad=function(){return this.bb};g.S=function(a,b){return dd(b,this.ib)};var Od=function Od(a){switch(arguments.length){case 1:return Od.h(arguments[0]);case 2:return Od.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",z.h(arguments.length)].join(""));}};
Od.h=function(a){for(;;){if(a instanceof B)return a;if("string"===typeof a){var b=a.indexOf("/");return 1>b?Od.j(null,a):Od.j(a.substring(0,b),a.substring(b+1,a.length))}if(a instanceof F)a=a.La;else throw Error("no conversion to symbol");}};Od.j=function(a,b){var c=null!=a?[z.h(a),"/",z.h(b)].join(""):b;return new B(a,b,c,null,null)};Od.H=2;function Pd(a){return null!=a?a.M&131072||p===a.xg?!0:a.M?!1:w(yd,a):w(yd,a)}
function H(a){if(null==a)return null;if(null!=a&&(a.v&8388608||p===a.ff))return Yc(a);if(Xb(a)||"string"===typeof a)return 0===a.length?null:new I(a,0,null);if(w(Xc,a))return Yc(a);throw Error([z.h(a)," is not ISeqable"].join(""));}function J(a){if(null==a)return null;if(null!=a&&(a.v&64||p===a.P))return uc(a);a=H(a);return null==a?null:uc(a)}function Qd(a){return null!=a?null!=a&&(a.v&64||p===a.P)?vc(a):(a=H(a))?a.Fa(null):Rd:Rd}
function M(a){return null==a?null:null!=a&&(a.v&128||p===a.Xc)?xc(a):H(Qd(a))}var P=function P(a){switch(arguments.length){case 1:return P.h(arguments[0]);case 2:return P.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return P.w(arguments[0],arguments[1],new I(c.slice(2),0,null))}};P.h=function(){return!0};P.j=function(a,b){return null==a?null==b:a===b||Vc(a,b)};
P.w=function(a,b,c){for(;;)if(P.j(a,b))if(M(c))a=b,b=J(c),c=M(c);else return P.j(b,J(c));else return!1};P.K=function(a){var b=J(a),c=M(a);a=J(c);c=M(c);return this.w(b,a,c)};P.H=2;function Sd(a){this.s=a}Sd.prototype.next=function(){if(null!=this.s){var a=J(this.s);this.s=M(this.s);return{value:a,done:!1}}return{value:null,done:!0}};function Td(a){return new Sd(H(a))}function Ud(a,b){a=Dd(a);a=Ed(0,a);return Fd(a,b)}
function Vd(a){var b=0,c=1;for(a=H(a);;)if(null!=a)b+=1,c=Cd(31,c)+Kd(J(a))|0,a=M(a);else return Ud(c,b)}var Wd=Ud(1,0);function Xd(a){var b=0,c=0;for(a=H(a);;)if(null!=a)b+=1,c=c+Kd(J(a))|0,a=M(a);else return Ud(c,b)}var Yd=Ud(0,0);lc["null"]=!0;mc["null"]=function(){return 0};Date.prototype.J=function(a,b){return b instanceof Date&&this.valueOf()===b.valueOf()};Date.prototype.Hb=p;
Date.prototype.pb=function(a,b){if(b instanceof Date)return Ha(this.valueOf(),b.valueOf());throw Error(["Cannot compare ",z.h(this)," to ",z.h(b)].join(""));};Vc.number=function(a,b){return a===b};hc["function"]=!0;Oc["function"]=!0;Pc["function"]=function(){return null};Wc._=function(a){return ka(a)};function Zd(a){return a+1}function $d(a){this.B=a;this.v=32768;this.M=0}$d.prototype.eb=function(){return this.B};function ae(a){return new $d(a)}function be(a){return a instanceof $d}
function ce(a){return be(a)?A(a):a}function de(a){return A(a)}function ee(a,b){var c=mc(a);if(0===c)return b.G?b.G():b.call(null);for(var d=sc.j(a,0),e=1;;)if(e<c){var f=sc.j(a,e);d=b.j?b.j(d,f):b.call(null,d,f);if(be(d))return A(d);e+=1}else return d}function fe(a,b,c){var d=mc(a),e=c;for(c=0;;)if(c<d){var f=sc.j(a,c);e=b.j?b.j(e,f):b.call(null,e,f);if(be(e))return A(e);c+=1}else return e}
function ge(a,b){var c=a.length;if(0===a.length)return b.G?b.G():b.call(null);for(var d=a[0],e=1;;)if(e<c){var f=a[e];d=b.j?b.j(d,f):b.call(null,d,f);if(be(d))return A(d);e+=1}else return d}function he(a,b,c){var d=a.length,e=c;for(c=0;;)if(c<d){var f=a[c];e=b.j?b.j(e,f):b.call(null,e,f);if(be(e))return A(e);c+=1}else return e}function ie(a,b,c,d){for(var e=a.length;;)if(d<e){var f=a[d];c=b.j?b.j(c,f):b.call(null,c,f);if(be(c))return A(c);d+=1}else return c}
function je(a){return null!=a?a.v&2||p===a.Hf?!0:a.v?!1:w(lc,a):w(lc,a)}function ke(a){return null!=a?a.v&16||p===a.df?!0:a.v?!1:w(rc,a):w(rc,a)}function Q(a,b,c){var d=R(a);if(c>=d)return-1;!(0<c)&&0>c&&(c+=d,c=0>c?0:c);for(;;)if(c<d){if(P.j(le(a,c),b))return c;c+=1}else return-1}function S(a,b,c){var d=R(a);if(0===d)return-1;0<c?(--d,c=d<c?d:c):c=0>c?d+c:c;for(;;)if(0<=c){if(P.j(le(a,c),b))return c;--c}else return-1}function ne(a,b){this.o=a;this.i=b}ne.prototype.ha=function(){return this.i<this.o.length};
ne.prototype.next=function(){var a=this.o[this.i];this.i+=1;return a};function I(a,b,c){this.o=a;this.i=b;this.meta=c;this.v=166592766;this.M=139264}g=I.prototype;g.toString=function(){return Bd(this)};g.equiv=function(a){return this.J(null,a)};g.indexOf=function(){var a=null;a=function(a,c){switch(arguments.length){case 1:return Q(this,a,0);case 2:return Q(this,a,c)}throw Error("Invalid arity: "+arguments.length);};a.h=function(a){return Q(this,a,0)};a.j=function(a,c){return Q(this,a,c)};return a}();
g.lastIndexOf=function(){function a(a){return S(this,a,R(this))}var b=null;b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return S(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.h=a;b.j=function(a,b){return S(this,a,b)};return b}();g.O=function(a,b){a=b+this.i;if(0<=a&&a<this.o.length)return this.o[a];throw Error("Index out of bounds");};g.da=function(a,b,c){a=b+this.i;return 0<=a&&a<this.o.length?this.o[a]:c};g.$a=function(){return new ne(this.o,this.i)};
g.U=function(){return this.meta};g.Ma=function(){return new I(this.o,this.i,this.meta)};g.wa=function(){return this.i+1<this.o.length?new I(this.o,this.i+1,null):null};g.ca=function(){var a=this.o.length-this.i;return 0>a?0:a};g.Tb=function(){var a=this.ca(null);return 0<a?new oe(this,a-1,null):null};g.T=function(){return Vd(this)};g.J=function(a,b){return pe(this,b)};g.ja=function(){return Rd};g.xa=function(a,b){return ie(this.o,b,this.o[this.i],this.i+1)};
g.ya=function(a,b,c){return ie(this.o,b,c,this.i)};g.Ca=function(){return this.o[this.i]};g.Fa=function(){return this.i+1<this.o.length?new I(this.o,this.i+1,null):Rd};g.Z=function(){return this.i<this.o.length?this:null};g.V=function(a,b){return b===this.meta?this:new I(this.o,this.i,b)};g.ga=function(a,b){return qe(b,this)};I.prototype[bc]=function(){return Td(this)};function T(a){return 0<a.length?new I(a,0,null):null}
function oe(a,b,c){this.Wc=a;this.i=b;this.meta=c;this.v=32374990;this.M=8192}g=oe.prototype;g.toString=function(){return Bd(this)};g.equiv=function(a){return this.J(null,a)};g.indexOf=function(){var a=null;a=function(a,c){switch(arguments.length){case 1:return Q(this,a,0);case 2:return Q(this,a,c)}throw Error("Invalid arity: "+arguments.length);};a.h=function(a){return Q(this,a,0)};a.j=function(a,c){return Q(this,a,c)};return a}();
g.lastIndexOf=function(){function a(a){return S(this,a,R(this))}var b=null;b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return S(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.h=a;b.j=function(a,b){return S(this,a,b)};return b}();g.U=function(){return this.meta};g.Ma=function(){return new oe(this.Wc,this.i,this.meta)};g.wa=function(){return 0<this.i?new oe(this.Wc,this.i-1,null):null};g.ca=function(){return this.i+1};g.T=function(){return Vd(this)};
g.J=function(a,b){return pe(this,b)};g.ja=function(){return Rd};g.xa=function(a,b){return re(b,this)};g.ya=function(a,b,c){return se(b,c,this)};g.Ca=function(){return sc.j(this.Wc,this.i)};g.Fa=function(){return 0<this.i?new oe(this.Wc,this.i-1,null):Rd};g.Z=function(){return this};g.V=function(a,b){return b===this.meta?this:new oe(this.Wc,this.i,b)};g.ga=function(a,b){return qe(b,this)};oe.prototype[bc]=function(){return Td(this)};function te(a){return J(M(a))}
function ue(a){for(;;){var b=M(a);if(null!=b)a=b;else return J(a)}}Vc._=function(a,b){return a===b};var ve=function ve(a){switch(arguments.length){case 0:return ve.G();case 1:return ve.h(arguments[0]);case 2:return ve.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return ve.w(arguments[0],arguments[1],new I(c.slice(2),0,null))}};ve.G=function(){return we};ve.h=function(a){return a};
ve.j=function(a,b){return null!=a?qc(a,b):new xe(null,b,null,1,null)};ve.w=function(a,b,c){for(;;)if(v(c))a=ve.j(a,b),b=J(c),c=M(c);else return ve.j(a,b)};ve.K=function(a){var b=J(a),c=M(a);a=J(c);c=M(c);return this.w(b,a,c)};ve.H=2;function ye(a){return null==a?null:null!=a&&(a.v&4||p===a.Jf)?oc(a):(null!=a?a.v&4||p===a.Jf||(a.v?0:w(nc,a)):w(nc,a))?oc(a):null}
function R(a){if(null!=a)if(null!=a&&(a.v&2||p===a.Hf))a=mc(a);else if(Xb(a))a=a.length;else if("string"===typeof a)a=a.length;else if(null!=a&&(a.v&8388608||p===a.ff))a:{a=H(a);for(var b=0;;){if(je(a)){a=b+mc(a);break a}a=M(a);b+=1}}else a=mc(a);else a=0;return a}function ze(a,b){for(var c=null;;){if(null==a)return c;if(0===b)return H(a)?J(a):c;if(ke(a))return sc.l(a,b,c);if(H(a))a=M(a),--b;else return c}}
function le(a,b){if("number"!==typeof b)throw Error("Index argument to nth must be a number");if(null==a)return a;if(null!=a&&(a.v&16||p===a.df))return sc.j(a,b);if(Xb(a)){if(-1<b&&b<a.length)return a[b|0];throw Error("Index out of bounds");}if("string"===typeof a){if(-1<b&&b<a.length)return a.charAt(b|0);throw Error("Index out of bounds");}if(null!=a&&(a.v&64||p===a.P)||null!=a&&(a.v&16777216||p===a.se)){if(0>b)throw Error("Index out of bounds");a:for(;;){if(null==a)throw Error("Index out of bounds");
if(0===b){if(H(a)){a=J(a);break a}throw Error("Index out of bounds");}if(ke(a)){a=sc.j(a,b);break a}if(H(a))a=M(a),--b;else throw Error("Index out of bounds");}return a}if(w(rc,a))return sc.j(a,b);throw Error(["nth not supported on this type ",z.h(ac($b(a)))].join(""));}
function U(a,b){if("number"!==typeof b)throw Error("Index argument to nth must be a number.");if(null==a)return null;if(null!=a&&(a.v&16||p===a.df))return sc.l(a,b,null);if(Xb(a))return-1<b&&b<a.length?a[b|0]:null;if("string"===typeof a)return-1<b&&b<a.length?a.charAt(b|0):null;if(null!=a&&(a.v&64||p===a.P)||null!=a&&(a.v&16777216||p===a.se))return 0>b?null:ze(a,b);if(w(rc,a))return sc.l(a,b,null);throw Error(["nth not supported on this type ",z.h(ac($b(a)))].join(""));}
var D=function D(a){switch(arguments.length){case 2:return D.j(arguments[0],arguments[1]);case 3:return D.l(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.h(arguments.length)].join(""));}};D.j=function(a,b){return null==a?null:null!=a&&(a.v&256||p===a.Of)?zc.j(a,b):Xb(a)?null!=b&&b<a.length?a[b|0]:null:"string"===typeof a?null!=b&&b<a.length?a.charAt(b|0):null:w(yc,a)?zc.j(a,b):null};
D.l=function(a,b,c){return null!=a?null!=a&&(a.v&256||p===a.Of)?zc.l(a,b,c):Xb(a)?null!=b&&-1<b&&b<a.length?a[b|0]:c:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):c:w(yc,a)?zc.l(a,b,c):c:c};D.H=3;var V=function V(a){switch(arguments.length){case 3:return V.l(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return V.w(arguments[0],arguments[1],arguments[2],new I(c.slice(3),0,null))}};
V.l=function(a,b,c){return null!=a?Ac(a,b,c):Ae([b,c])};V.w=function(a,b,c,d){for(;;)if(a=V.l(a,b,c),v(d))b=J(d),c=te(d),d=M(M(d));else return a};V.K=function(a){var b=J(a),c=M(a);a=J(c);var d=M(c);c=J(d);d=M(d);return this.w(b,a,c,d)};V.H=3;
var Be=function Be(a){switch(arguments.length){case 1:return Be.h(arguments[0]);case 2:return Be.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Be.w(arguments[0],arguments[1],new I(c.slice(2),0,null))}};Be.h=function(a){return a};Be.j=function(a,b){return null==a?null:Dc(a,b)};Be.w=function(a,b,c){for(;;){if(null==a)return null;a=Be.j(a,b);if(v(c))b=J(c),c=M(c);else return a}};
Be.K=function(a){var b=J(a),c=M(a);a=J(c);c=M(c);return this.w(b,a,c)};Be.H=2;function Ce(a){var b=ia(a);return b?b:null!=a?p===a.Gf?!0:a.ve?!1:w(hc,a):w(hc,a)}function De(a,b){this.C=a;this.meta=b;this.v=393217;this.M=0}g=De.prototype;g.U=function(){return this.meta};g.V=function(a,b){return new De(this.C,b)};g.Gf=p;
g.call=function(){function a(a,b,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G,K,O,ba,N,Ba){return Ee(this.C,b,c,d,e,T([f,h,k,l,m,q,r,u,x,C,E,G,K,O,ba,N,Ba]))}function b(a,b,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G,K,O,ba,N){a=this;return a.C.Xa?a.C.Xa(b,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G,K,O,ba,N):a.C.call(null,b,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G,K,O,ba,N)}function c(a,b,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G,K,O,ba){a=this;return a.C.Wa?a.C.Wa(b,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G,K,O,ba):a.C.call(null,b,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G,K,O,ba)}function d(a,
b,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G,K,O){a=this;return a.C.Va?a.C.Va(b,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G,K,O):a.C.call(null,b,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G,K,O)}function e(a,b,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G,K){a=this;return a.C.Ua?a.C.Ua(b,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G,K):a.C.call(null,b,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G,K)}function f(a,b,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G){a=this;return a.C.Ta?a.C.Ta(b,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G):a.C.call(null,b,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G)}function h(a,b,c,d,e,f,h,k,l,m,q,r,
u,x,C,E){a=this;return a.C.Sa?a.C.Sa(b,c,d,e,f,h,k,l,m,q,r,u,x,C,E):a.C.call(null,b,c,d,e,f,h,k,l,m,q,r,u,x,C,E)}function k(a,b,c,d,e,f,h,k,l,m,q,r,u,x,C){a=this;return a.C.Ra?a.C.Ra(b,c,d,e,f,h,k,l,m,q,r,u,x,C):a.C.call(null,b,c,d,e,f,h,k,l,m,q,r,u,x,C)}function l(a,b,c,d,e,f,h,k,l,m,q,r,u,x){a=this;return a.C.Qa?a.C.Qa(b,c,d,e,f,h,k,l,m,q,r,u,x):a.C.call(null,b,c,d,e,f,h,k,l,m,q,r,u,x)}function m(a,b,c,d,e,f,h,k,l,m,q,r,u){a=this;return a.C.Pa?a.C.Pa(b,c,d,e,f,h,k,l,m,q,r,u):a.C.call(null,b,c,d,
e,f,h,k,l,m,q,r,u)}function q(a,b,c,d,e,f,h,k,l,m,q,r){a=this;return a.C.Oa?a.C.Oa(b,c,d,e,f,h,k,l,m,q,r):a.C.call(null,b,c,d,e,f,h,k,l,m,q,r)}function r(a,b,c,d,e,f,h,k,l,m,q){a=this;return a.C.Na?a.C.Na(b,c,d,e,f,h,k,l,m,q):a.C.call(null,b,c,d,e,f,h,k,l,m,q)}function u(a,b,c,d,e,f,h,k,l,m){a=this;return a.C.Za?a.C.Za(b,c,d,e,f,h,k,l,m):a.C.call(null,b,c,d,e,f,h,k,l,m)}function x(a,b,c,d,e,f,h,k,l){a=this;return a.C.Ea?a.C.Ea(b,c,d,e,f,h,k,l):a.C.call(null,b,c,d,e,f,h,k,l)}function C(a,b,c,d,e,f,
h,k){a=this;return a.C.Ya?a.C.Ya(b,c,d,e,f,h,k):a.C.call(null,b,c,d,e,f,h,k)}function E(a,b,c,d,e,f,h){a=this;return a.C.va?a.C.va(b,c,d,e,f,h):a.C.call(null,b,c,d,e,f,h)}function G(a,b,c,d,e,f){a=this;return a.C.Y?a.C.Y(b,c,d,e,f):a.C.call(null,b,c,d,e,f)}function K(a,b,c,d,e){a=this;return a.C.I?a.C.I(b,c,d,e):a.C.call(null,b,c,d,e)}function O(a,b,c,d){a=this;return a.C.l?a.C.l(b,c,d):a.C.call(null,b,c,d)}function ba(a,b,c){a=this;return a.C.j?a.C.j(b,c):a.C.call(null,b,c)}function Ba(a,b){a=this;
return a.C.h?a.C.h(b):a.C.call(null,b)}function gb(a){a=this;return a.C.G?a.C.G():a.C.call(null)}var N=null;N=function(oa,Z,wa,Aa,Fa,Ja,Ka,Na,Ta,db,hb,ob,Ab,Hb,N,ic,Kc,rd,me,Ef,Ph,Dm){switch(arguments.length){case 1:return gb.call(this,oa);case 2:return Ba.call(this,oa,Z);case 3:return ba.call(this,oa,Z,wa);case 4:return O.call(this,oa,Z,wa,Aa);case 5:return K.call(this,oa,Z,wa,Aa,Fa);case 6:return G.call(this,oa,Z,wa,Aa,Fa,Ja);case 7:return E.call(this,oa,Z,wa,Aa,Fa,Ja,Ka);case 8:return C.call(this,
oa,Z,wa,Aa,Fa,Ja,Ka,Na);case 9:return x.call(this,oa,Z,wa,Aa,Fa,Ja,Ka,Na,Ta);case 10:return u.call(this,oa,Z,wa,Aa,Fa,Ja,Ka,Na,Ta,db);case 11:return r.call(this,oa,Z,wa,Aa,Fa,Ja,Ka,Na,Ta,db,hb);case 12:return q.call(this,oa,Z,wa,Aa,Fa,Ja,Ka,Na,Ta,db,hb,ob);case 13:return m.call(this,oa,Z,wa,Aa,Fa,Ja,Ka,Na,Ta,db,hb,ob,Ab);case 14:return l.call(this,oa,Z,wa,Aa,Fa,Ja,Ka,Na,Ta,db,hb,ob,Ab,Hb);case 15:return k.call(this,oa,Z,wa,Aa,Fa,Ja,Ka,Na,Ta,db,hb,ob,Ab,Hb,N);case 16:return h.call(this,oa,Z,wa,Aa,
Fa,Ja,Ka,Na,Ta,db,hb,ob,Ab,Hb,N,ic);case 17:return f.call(this,oa,Z,wa,Aa,Fa,Ja,Ka,Na,Ta,db,hb,ob,Ab,Hb,N,ic,Kc);case 18:return e.call(this,oa,Z,wa,Aa,Fa,Ja,Ka,Na,Ta,db,hb,ob,Ab,Hb,N,ic,Kc,rd);case 19:return d.call(this,oa,Z,wa,Aa,Fa,Ja,Ka,Na,Ta,db,hb,ob,Ab,Hb,N,ic,Kc,rd,me);case 20:return c.call(this,oa,Z,wa,Aa,Fa,Ja,Ka,Na,Ta,db,hb,ob,Ab,Hb,N,ic,Kc,rd,me,Ef);case 21:return b.call(this,oa,Z,wa,Aa,Fa,Ja,Ka,Na,Ta,db,hb,ob,Ab,Hb,N,ic,Kc,rd,me,Ef,Ph);case 22:return a.call(this,oa,Z,wa,Aa,Fa,Ja,Ka,Na,
Ta,db,hb,ob,Ab,Hb,N,ic,Kc,rd,me,Ef,Ph,Dm)}throw Error("Invalid arity: "+(arguments.length-1));};N.h=gb;N.j=Ba;N.l=ba;N.I=O;N.Y=K;N.va=G;N.Ya=E;N.Ea=C;N.Za=x;N.Na=u;N.Oa=r;N.Pa=q;N.Qa=m;N.Ra=l;N.Sa=k;N.Ta=h;N.Ua=f;N.Va=e;N.Wa=d;N.Xa=c;N.ne=b;N.Nf=a;return N}();g.apply=function(a,b){return this.call.apply(this,[this].concat(ec(b)))};g.G=function(){return this.C.G?this.C.G():this.C.call(null)};g.h=function(a){return this.C.h?this.C.h(a):this.C.call(null,a)};
g.j=function(a,b){return this.C.j?this.C.j(a,b):this.C.call(null,a,b)};g.l=function(a,b,c){return this.C.l?this.C.l(a,b,c):this.C.call(null,a,b,c)};g.I=function(a,b,c,d){return this.C.I?this.C.I(a,b,c,d):this.C.call(null,a,b,c,d)};g.Y=function(a,b,c,d,e){return this.C.Y?this.C.Y(a,b,c,d,e):this.C.call(null,a,b,c,d,e)};g.va=function(a,b,c,d,e,f){return this.C.va?this.C.va(a,b,c,d,e,f):this.C.call(null,a,b,c,d,e,f)};
g.Ya=function(a,b,c,d,e,f,h){return this.C.Ya?this.C.Ya(a,b,c,d,e,f,h):this.C.call(null,a,b,c,d,e,f,h)};g.Ea=function(a,b,c,d,e,f,h,k){return this.C.Ea?this.C.Ea(a,b,c,d,e,f,h,k):this.C.call(null,a,b,c,d,e,f,h,k)};g.Za=function(a,b,c,d,e,f,h,k,l){return this.C.Za?this.C.Za(a,b,c,d,e,f,h,k,l):this.C.call(null,a,b,c,d,e,f,h,k,l)};g.Na=function(a,b,c,d,e,f,h,k,l,m){return this.C.Na?this.C.Na(a,b,c,d,e,f,h,k,l,m):this.C.call(null,a,b,c,d,e,f,h,k,l,m)};
g.Oa=function(a,b,c,d,e,f,h,k,l,m,q){return this.C.Oa?this.C.Oa(a,b,c,d,e,f,h,k,l,m,q):this.C.call(null,a,b,c,d,e,f,h,k,l,m,q)};g.Pa=function(a,b,c,d,e,f,h,k,l,m,q,r){return this.C.Pa?this.C.Pa(a,b,c,d,e,f,h,k,l,m,q,r):this.C.call(null,a,b,c,d,e,f,h,k,l,m,q,r)};g.Qa=function(a,b,c,d,e,f,h,k,l,m,q,r,u){return this.C.Qa?this.C.Qa(a,b,c,d,e,f,h,k,l,m,q,r,u):this.C.call(null,a,b,c,d,e,f,h,k,l,m,q,r,u)};
g.Ra=function(a,b,c,d,e,f,h,k,l,m,q,r,u,x){return this.C.Ra?this.C.Ra(a,b,c,d,e,f,h,k,l,m,q,r,u,x):this.C.call(null,a,b,c,d,e,f,h,k,l,m,q,r,u,x)};g.Sa=function(a,b,c,d,e,f,h,k,l,m,q,r,u,x,C){return this.C.Sa?this.C.Sa(a,b,c,d,e,f,h,k,l,m,q,r,u,x,C):this.C.call(null,a,b,c,d,e,f,h,k,l,m,q,r,u,x,C)};g.Ta=function(a,b,c,d,e,f,h,k,l,m,q,r,u,x,C,E){return this.C.Ta?this.C.Ta(a,b,c,d,e,f,h,k,l,m,q,r,u,x,C,E):this.C.call(null,a,b,c,d,e,f,h,k,l,m,q,r,u,x,C,E)};
g.Ua=function(a,b,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G){return this.C.Ua?this.C.Ua(a,b,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G):this.C.call(null,a,b,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G)};g.Va=function(a,b,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G,K){return this.C.Va?this.C.Va(a,b,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G,K):this.C.call(null,a,b,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G,K)};
g.Wa=function(a,b,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G,K,O){return this.C.Wa?this.C.Wa(a,b,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G,K,O):this.C.call(null,a,b,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G,K,O)};g.Xa=function(a,b,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G,K,O,ba){return this.C.Xa?this.C.Xa(a,b,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G,K,O,ba):this.C.call(null,a,b,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G,K,O,ba)};g.ne=function(a,b,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G,K,O,ba,Ba){return Ee(this.C,a,b,c,d,T([e,f,h,k,l,m,q,r,u,x,C,E,G,K,O,ba,Ba]))};
function Fe(a,b){return ia(a)?new De(a,b):null==a?null:Qc(a,b)}function Ge(a){var b=null!=a;return(b?null!=a?a.v&131072||p===a.re||(a.v?0:w(Oc,a)):w(Oc,a):b)?Pc(a):null}function He(a){return null==a?null:Ic(a)}var Ie=function Ie(a){switch(arguments.length){case 1:return Ie.h(arguments[0]);case 2:return Ie.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Ie.w(arguments[0],arguments[1],new I(c.slice(2),0,null))}};Ie.h=function(a){return a};
Ie.j=function(a,b){return null==a?null:Hc(a,b)};Ie.w=function(a,b,c){for(;;){if(null==a)return null;a=Ie.j(a,b);if(v(c))b=J(c),c=M(c);else return a}};Ie.K=function(a){var b=J(a),c=M(a);a=J(c);c=M(c);return this.w(b,a,c)};Ie.H=2;function Je(a){return null==a||Yb(H(a))}function Ke(a){return null==a?!1:null!=a?a.v&8||p===a.ug?!0:a.v?!1:w(pc,a):w(pc,a)}function Le(a){return null==a?!1:null!=a?a.v&4096||p===a.Rf?!0:a.v?!1:w(Gc,a):w(Gc,a)}
function Me(a){return null!=a?a.v&16777216||p===a.se?!0:a.v?!1:w(Zc,a):w(Zc,a)}function Ne(a){return null==a?!1:null!=a?a.v&1024||p===a.Pf?!0:a.v?!1:w(Cc,a):w(Cc,a)}function Oe(a){return null!=a?a.v&67108864||p===a.Bg?!0:a.v?!1:w(ad,a):w(ad,a)}function Qe(a){return null!=a?a.v&16384||p===a.Dg?!0:a.v?!1:w(Lc,a):w(Lc,a)}function Re(a){return null!=a?a.M&512||p===a.tg?!0:!1:!1}function Se(a,b,c,d,e){for(;0!==e;)c[d]=a[b],d+=1,--e,b+=1}var Te={};
function Ue(a){return null==a?!1:null!=a?a.v&64||p===a.P?!0:a.v?!1:w(tc,a):w(tc,a)}function Ve(a){return null==a?!1:!1===a?!1:!0}function We(a){var b=Ce(a);return b?b:null!=a?a.v&1||p===a.wg?!0:a.v?!1:w(jc,a):w(jc,a)}function Xe(a,b){return D.l(a,b,Te)===Te?!1:!0}
function Ye(a,b){if(a===b)return 0;if(null==a)return-1;if(null==b)return 1;if("number"===typeof a){if("number"===typeof b)return Ha(a,b);throw Error(["Cannot compare ",z.h(a)," to ",z.h(b)].join(""));}if(null!=a?a.M&2048||p===a.Hb||(a.M?0:w(nd,a)):w(nd,a))return od(a,b);if("string"!==typeof a&&!Xb(a)&&!0!==a&&!1!==a||$b(a)!==$b(b))throw Error(["Cannot compare ",z.h(a)," to ",z.h(b)].join(""));return Ha(a,b)}
function Ze(a,b){var c=R(a),d=R(b);if(c<d)a=-1;else if(c>d)a=1;else if(0===c)a=0;else a:for(d=0;;){var e=Ye(le(a,d),le(b,d));if(0===e&&d+1<c)d+=1;else{a=e;break a}}return a}function $e(a){return P.j(a,Ye)?Ye:function(b,c){var d=a.j?a.j(b,c):a.call(null,b,c);return"number"===typeof d?d:v(d)?-1:v(a.j?a.j(c,b):a.call(null,c,b))?1:0}}function af(a){var b=Ma(cc);if(H(b)){a:{var c=[];for(b=H(b);;)if(null!=b)c.push(J(b)),b=M(b);else break a}a=$e(a);Ia(c,a);return H(c)}return Rd}
function re(a,b){return(b=H(b))?gc.l(a,J(b),M(b)):a.G?a.G():a.call(null)}function se(a,b,c){for(c=H(c);;)if(c){var d=J(c);b=a.j?a.j(b,d):a.call(null,b,d);if(be(b))return A(b);c=M(c)}else return b}function bf(a,b){a=zd(a);if(v(a.ha()))for(var c=a.next();;)if(a.ha()){var d=a.next();c=b.j?b.j(c,d):b.call(null,c,d);if(be(c))return A(c)}else return c;else return b.G?b.G():b.call(null)}
function cf(a,b,c){for(a=zd(a);;)if(a.ha()){var d=a.next();c=b.j?b.j(c,d):b.call(null,c,d);if(be(c))return A(c)}else return c}var gc=function gc(a){switch(arguments.length){case 2:return gc.j(arguments[0],arguments[1]);case 3:return gc.l(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.h(arguments.length)].join(""));}};gc.j=function(a,b){return null!=b&&(b.v&524288||p===b.Qf)?Sc.j(b,a):Xb(b)?ge(b,a):"string"===typeof b?ge(b,a):w(Rc,b)?Sc.j(b,a):Pd(b)?bf(b,a):re(a,b)};
gc.l=function(a,b,c){return null!=c&&(c.v&524288||p===c.Qf)?Sc.l(c,a,b):Xb(c)?he(c,a,b):"string"===typeof c?he(c,a,b):w(Rc,c)?Sc.l(c,a,b):Pd(c)?cf(c,a,b):se(a,b,c)};gc.H=3;function df(a,b,c){return null!=c?Uc(c,a,b):b}function ef(a){return a}
function ff(a){return function(){function b(b,c){return a.j?a.j(b,c):a.call(null,b,c)}function c(a){return ef.h?ef.h(a):ef.call(null,a)}function d(){return a.G?a.G():a.call(null)}var e=null;e=function(a,e){switch(arguments.length){case 0:return d.call(this);case 1:return c.call(this,a);case 2:return b.call(this,a,e)}throw Error("Invalid arity: "+arguments.length);};e.G=d;e.h=c;e.j=b;return e}()}function gf(a,b,c,d){a=a.h?a.h(b):a.call(null,b);c=gc.l(a,c,d);return a.h?a.h(c):a.call(null,c)}
var hf=function hf(a){switch(arguments.length){case 0:return hf.G();case 1:return hf.h(arguments[0]);case 2:return hf.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return hf.w(arguments[0],arguments[1],new I(c.slice(2),0,null))}};hf.G=function(){return 0};hf.h=function(a){return a};hf.j=function(a,b){return a+b};hf.w=function(a,b,c){return gc.l(hf,a+b,c)};hf.K=function(a){var b=J(a),c=M(a);a=J(c);c=M(c);return this.w(b,a,c)};
hf.H=2;function jf(a){return a-1}var kf=function kf(a){switch(arguments.length){case 1:return kf.h(arguments[0]);case 2:return kf.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return kf.w(arguments[0],arguments[1],new I(c.slice(2),0,null))}};kf.h=function(a){return a};kf.j=function(a,b){return a>b?a:b};kf.w=function(a,b,c){return gc.l(kf,a>b?a:b,c)};kf.K=function(a){var b=J(a),c=M(a);a=J(c);c=M(c);return this.w(b,a,c)};
kf.H=2;function lf(a){return 0<=a?Math.floor(a):Math.ceil(a)}function mf(a,b){return lf((a-a%b)/b)}function nf(a){a-=a>>1&1431655765;a=(a&858993459)+(a>>2&858993459);return 16843009*(a+(a>>4)&252645135)>>24}
function of(a){switch(arguments.length){case 1:return!0;case 2:return Vc(arguments[0],arguments[1]);default:for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;a:for(c=arguments[0],d=arguments[1],b=new I(b.slice(2),0,null);;)if(c===d)if(M(b))c=d,d=J(b),b=M(b);else{c=d===J(b);break a}else{c=!1;break a}return c}}function pf(a,b){return Vc(a,b)}
var z=function z(a){switch(arguments.length){case 0:return z.G();case 1:return z.h(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return z.w(arguments[0],new I(c.slice(1),0,null))}};z.G=function(){return""};z.h=function(a){return null==a?"":[a].join("")};z.w=function(a,b){for(a=new kb(z.h(a));;)if(v(b))a=a.append(z.h(J(b))),b=M(b);else return a.toString()};z.K=function(a){var b=J(a);a=M(a);return this.w(b,a)};z.H=1;
function pe(a,b){if(Me(b))if(je(a)&&je(b)&&R(a)!==R(b))a=!1;else a:for(a=H(a),b=H(b);;){if(null==a){a=null==b;break a}if(null!=b&&P.j(J(a),J(b)))a=M(a),b=M(b);else{a=!1;break a}}else a=null;return Ve(a)}function xe(a,b,c,d,e){this.meta=a;this.first=b;this.Bb=c;this.count=d;this.F=e;this.v=65937646;this.M=8192}g=xe.prototype;g.toString=function(){return Bd(this)};g.equiv=function(a){return this.J(null,a)};
g.indexOf=function(){var a=null;a=function(a,c){switch(arguments.length){case 1:return Q(this,a,0);case 2:return Q(this,a,c)}throw Error("Invalid arity: "+arguments.length);};a.h=function(a){return Q(this,a,0)};a.j=function(a,c){return Q(this,a,c)};return a}();
g.lastIndexOf=function(){function a(a){return S(this,a,this.count)}var b=null;b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return S(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.h=a;b.j=function(a,b){return S(this,a,b)};return b}();g.U=function(){return this.meta};g.Ma=function(){return new xe(this.meta,this.first,this.Bb,this.count,this.F)};g.wa=function(){return 1===this.count?null:this.Bb};g.ca=function(){return this.count};g.Ub=function(){return this.first};
g.Vb=function(){return this.Fa(null)};g.T=function(){var a=this.F;return null!=a?a:this.F=a=Vd(this)};g.J=function(a,b){return pe(this,b)};g.ja=function(){return Qc(Rd,this.meta)};g.xa=function(a,b){return re(b,this)};g.ya=function(a,b,c){return se(b,c,this)};g.Ca=function(){return this.first};g.Fa=function(){return 1===this.count?Rd:this.Bb};g.Z=function(){return this};g.V=function(a,b){return b===this.meta?this:new xe(b,this.first,this.Bb,this.count,this.F)};
g.ga=function(a,b){return new xe(this.meta,b,this,this.count+1,null)};function qf(a){return null!=a?a.v&33554432||p===a.zg?!0:a.v?!1:w($c,a):w($c,a)}xe.prototype[bc]=function(){return Td(this)};function rf(a){this.meta=a;this.v=65937614;this.M=8192}g=rf.prototype;g.toString=function(){return Bd(this)};g.equiv=function(a){return this.J(null,a)};
g.indexOf=function(){var a=null;a=function(a,c){switch(arguments.length){case 1:return Q(this,a,0);case 2:return Q(this,a,c)}throw Error("Invalid arity: "+arguments.length);};a.h=function(a){return Q(this,a,0)};a.j=function(a,c){return Q(this,a,c)};return a}();
g.lastIndexOf=function(){function a(a){return S(this,a,R(this))}var b=null;b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return S(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.h=a;b.j=function(a,b){return S(this,a,b)};return b}();g.U=function(){return this.meta};g.Ma=function(){return new rf(this.meta)};g.wa=function(){return null};g.ca=function(){return 0};g.Ub=function(){return null};g.Vb=function(){throw Error("Can't pop empty list");};g.T=function(){return Wd};
g.J=function(a,b){return qf(b)||Me(b)?null==H(b):!1};g.ja=function(){return this};g.xa=function(a,b){return re(b,this)};g.ya=function(a,b,c){return se(b,c,this)};g.Ca=function(){return null};g.Fa=function(){return Rd};g.Z=function(){return null};g.V=function(a,b){return b===this.meta?this:new rf(b)};g.ga=function(a,b){return new xe(this.meta,b,null,1,null)};var Rd=new rf(null);rf.prototype[bc]=function(){return Td(this)};
function sf(a){return(null!=a?a.v&134217728||p===a.Cg||(a.v?0:w(bd,a)):w(bd,a))?(a=cd(a))?a:Rd:gc.l(ve,Rd,a)}var tf=function tf(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return tf.w(0<c.length?new I(c.slice(0),0,null):null)};tf.w=function(a){if(a instanceof I&&0===a.i)var b=a.o;else a:for(b=[];;)if(null!=a)b.push(uc(a)),a=xc(a);else break a;a=b.length;for(var c=Rd;;)if(0<a){var d=a-1;c=qc(c,b[a-1]);a=d}else return c};tf.H=0;tf.K=function(a){return this.w(H(a))};
function uf(a,b,c,d){this.meta=a;this.first=b;this.Bb=c;this.F=d;this.v=65929452;this.M=8192}g=uf.prototype;g.toString=function(){return Bd(this)};g.equiv=function(a){return this.J(null,a)};g.indexOf=function(){var a=null;a=function(a,c){switch(arguments.length){case 1:return Q(this,a,0);case 2:return Q(this,a,c)}throw Error("Invalid arity: "+arguments.length);};a.h=function(a){return Q(this,a,0)};a.j=function(a,c){return Q(this,a,c)};return a}();
g.lastIndexOf=function(){function a(a){return S(this,a,R(this))}var b=null;b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return S(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.h=a;b.j=function(a,b){return S(this,a,b)};return b}();g.U=function(){return this.meta};g.Ma=function(){return new uf(this.meta,this.first,this.Bb,this.F)};g.wa=function(){return null==this.Bb?null:H(this.Bb)};g.T=function(){var a=this.F;return null!=a?a:this.F=a=Vd(this)};
g.J=function(a,b){return pe(this,b)};g.ja=function(){return Rd};g.xa=function(a,b){return re(b,this)};g.ya=function(a,b,c){return se(b,c,this)};g.Ca=function(){return this.first};g.Fa=function(){return null==this.Bb?Rd:this.Bb};g.Z=function(){return this};g.V=function(a,b){return b===this.meta?this:new uf(b,this.first,this.Bb,this.F)};g.ga=function(a,b){return new uf(null,b,this,null)};uf.prototype[bc]=function(){return Td(this)};
function qe(a,b){return null==b?new xe(null,a,null,1,null):null!=b&&(b.v&64||p===b.P)?new uf(null,a,b,null):new uf(null,a,H(b),null)}function vf(a,b){if(a.La===b.La)return 0;var c=Yb(a.bb);if(v(c?b.bb:c))return-1;if(v(a.bb)){if(Yb(b.bb))return 1;c=Ha(a.bb,b.bb);return 0===c?Ha(a.name,b.name):c}return Ha(a.name,b.name)}function F(a,b,c,d){this.bb=a;this.name=b;this.La=c;this.Ac=d;this.v=2153775105;this.M=4096}g=F.prototype;g.toString=function(){return[":",z.h(this.La)].join("")};
g.equiv=function(a){return this.J(null,a)};g.J=function(a,b){return b instanceof F?this.La===b.La:!1};g.call=function(){var a=null;a=function(a,c,d){switch(arguments.length){case 2:return D.j(c,this);case 3:return D.l(c,this,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.j=function(a,c){return D.j(c,this)};a.l=function(a,c,d){return D.l(c,this,d)};return a}();g.apply=function(a,b){return this.call.apply(this,[this].concat(ec(b)))};g.h=function(a){return D.j(a,this)};
g.j=function(a,b){return D.l(a,this,b)};g.T=function(){var a=this.Ac;return null!=a?a:this.Ac=a=Ld(Gd(this.name),Jd(this.bb))+2654435769|0};g.zd=function(){return this.name};g.Ad=function(){return this.bb};g.S=function(a,b){return dd(b,[":",z.h(this.La)].join(""))};function wf(a,b){return a===b?!0:a instanceof F&&b instanceof F?a.La===b.La:!1}function xf(a){if(null!=a&&(a.M&4096||p===a.ef))return ud(a);throw Error(["Doesn't support namespace: ",z.h(a)].join(""));}
function yf(a){return a instanceof F||a instanceof B}var zf=function zf(a){switch(arguments.length){case 1:return zf.h(arguments[0]);case 2:return zf.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",z.h(arguments.length)].join(""));}};zf.h=function(a){if(a instanceof F)return a;if(a instanceof B)return new F(xf(a),Af(a),a.ib,null);if("string"===typeof a){var b=a.split("/");return 2===b.length?new F(b[0],b[1],a,null):new F(null,b[0],a,null)}return null};
zf.j=function(a,b){a=a instanceof F?Af(a):a instanceof B?Af(a):a;b=b instanceof F?Af(b):b instanceof B?Af(b):b;return new F(a,b,[v(a)?[z.h(a),"/"].join(""):null,z.h(b)].join(""),null)};zf.H=2;function Bf(a,b,c,d){this.meta=a;this.ed=b;this.s=c;this.F=d;this.v=32374988;this.M=1}g=Bf.prototype;g.toString=function(){return Bd(this)};g.equiv=function(a){return this.J(null,a)};function Cf(a){null!=a.ed&&(a.s=a.ed.G?a.ed.G():a.ed.call(null),a.ed=null);return a.s}
g.indexOf=function(){var a=null;a=function(a,c){switch(arguments.length){case 1:return Q(this,a,0);case 2:return Q(this,a,c)}throw Error("Invalid arity: "+arguments.length);};a.h=function(a){return Q(this,a,0)};a.j=function(a,c){return Q(this,a,c)};return a}();
g.lastIndexOf=function(){function a(a){return S(this,a,R(this))}var b=null;b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return S(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.h=a;b.j=function(a,b){return S(this,a,b)};return b}();g.U=function(){return this.meta};g.wa=function(){this.Z(null);return null==this.s?null:M(this.s)};g.T=function(){var a=this.F;return null!=a?a:this.F=a=Vd(this)};g.J=function(a,b){return pe(this,b)};
g.ja=function(){return Qc(Rd,this.meta)};g.xa=function(a,b){return re(b,this)};g.ya=function(a,b,c){return se(b,c,this)};g.Ca=function(){this.Z(null);return null==this.s?null:J(this.s)};g.Fa=function(){this.Z(null);return null!=this.s?Qd(this.s):Rd};g.Z=function(){Cf(this);if(null==this.s)return null;for(var a=this.s;;)if(a instanceof Bf)a=Cf(a);else return this.s=a,H(this.s)};g.V=function(a,b){return b===this.meta?this:new Bf(b,function(a){return function(){return a.Z(null)}}(this),null,this.F)};
g.ga=function(a,b){return qe(b,this)};Bf.prototype[bc]=function(){return Td(this)};function Df(a){this.he=a;this.end=0;this.v=2;this.M=0}Df.prototype.add=function(a){this.he[this.end]=a;return this.end+=1};Df.prototype.Da=function(){var a=new Ff(this.he,0,this.end);this.he=null;return a};Df.prototype.ca=function(){return this.end};function Gf(a){return new Df(Array(a))}function Ff(a,b,c){this.o=a;this.off=b;this.end=c;this.v=524306;this.M=0}g=Ff.prototype;g.ca=function(){return this.end-this.off};
g.O=function(a,b){return this.o[this.off+b]};g.da=function(a,b,c){return 0<=b&&b<this.end-this.off?this.o[this.off+b]:c};g.le=function(){if(this.off===this.end)throw Error("-drop-first of empty chunk");return new Ff(this.o,this.off+1,this.end)};g.xa=function(a,b){return ie(this.o,b,this.o[this.off],this.off+1)};g.ya=function(a,b,c){return ie(this.o,b,c,this.off)};function Hf(a,b,c,d){this.Da=a;this.yb=b;this.meta=c;this.F=d;this.v=31850732;this.M=1536}g=Hf.prototype;g.toString=function(){return Bd(this)};
g.equiv=function(a){return this.J(null,a)};g.indexOf=function(){var a=null;a=function(a,c){switch(arguments.length){case 1:return Q(this,a,0);case 2:return Q(this,a,c)}throw Error("Invalid arity: "+arguments.length);};a.h=function(a){return Q(this,a,0)};a.j=function(a,c){return Q(this,a,c)};return a}();
g.lastIndexOf=function(){function a(a){return S(this,a,R(this))}var b=null;b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return S(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.h=a;b.j=function(a,b){return S(this,a,b)};return b}();g.U=function(){return this.meta};g.wa=function(){return 1<mc(this.Da)?new Hf(pd(this.Da),this.yb,null,null):null==this.yb?null:Yc(this.yb)};g.T=function(){var a=this.F;return null!=a?a:this.F=a=Vd(this)};
g.J=function(a,b){return pe(this,b)};g.ja=function(){return Rd};g.Ca=function(){return sc.j(this.Da,0)};g.Fa=function(){return 1<mc(this.Da)?new Hf(pd(this.Da),this.yb,null,null):null==this.yb?Rd:this.yb};g.Z=function(){return this};g.yd=function(){return this.Da};g.Ec=function(){return null==this.yb?Rd:this.yb};g.V=function(a,b){return b===this.meta?this:new Hf(this.Da,this.yb,b,this.F)};g.ga=function(a,b){return qe(b,this)};g.me=function(){return null==this.yb?null:this.yb};Hf.prototype[bc]=function(){return Td(this)};
function If(a,b){return 0===mc(a)?b:new Hf(a,b,null,null)}function Jf(a,b){a.add(b)}function Kf(a,b){if(je(b))return R(b);var c=0;for(b=H(b);;)if(null!=b&&c<a)c+=1,b=M(b);else return c}
var Lf=function Lf(a){if(null==a)return null;var c=M(a);return null==c?H(J(a)):qe(J(a),Lf.h?Lf.h(c):Lf.call(null,c))},Mf=function Mf(a){switch(arguments.length){case 0:return Mf.G();case 1:return Mf.h(arguments[0]);case 2:return Mf.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Mf.w(arguments[0],arguments[1],new I(c.slice(2),0,null))}};Mf.G=function(){return new Bf(null,function(){return null},null,null)};
Mf.h=function(a){return new Bf(null,function(){return a},null,null)};Mf.j=function(a,b){return new Bf(null,function(){var c=H(a);return c?Re(c)?If(qd(c),Mf.j(sd(c),b)):qe(J(c),Mf.j(Qd(c),b)):b},null,null)};Mf.w=function(a,b,c){return function h(a,b){return new Bf(null,function(){var c=H(a);return c?Re(c)?If(qd(c),h(sd(c),b)):qe(J(c),h(Qd(c),b)):v(b)?h(J(b),M(b)):null},null,null)}(Mf.j(a,b),c)};Mf.K=function(a){var b=J(a),c=M(a);a=J(c);c=M(c);return this.w(b,a,c)};Mf.H=2;
var Nf=function Nf(a){switch(arguments.length){case 0:return Nf.G();case 1:return Nf.h(arguments[0]);case 2:return Nf.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Nf.w(arguments[0],arguments[1],new I(c.slice(2),0,null))}};Nf.G=function(){return id(we)};Nf.h=function(a){return a};Nf.j=function(a,b){return jd(a,b)};Nf.w=function(a,b,c){for(;;)if(a=jd(a,b),v(c))b=J(c),c=M(c);else return a};
Nf.K=function(a){var b=J(a),c=M(a);a=J(c);c=M(c);return this.w(b,a,c)};Nf.H=2;
function Of(a,b,c){var d=H(c);if(0===b)return a.G?a.G():a.call(null);c=uc(d);var e=vc(d);if(1===b)return a.h?a.h(c):a.call(null,c);d=uc(e);var f=vc(e);if(2===b)return a.j?a.j(c,d):a.call(null,c,d);e=uc(f);var h=vc(f);if(3===b)return a.l?a.l(c,d,e):a.call(null,c,d,e);f=uc(h);var k=vc(h);if(4===b)return a.I?a.I(c,d,e,f):a.call(null,c,d,e,f);h=uc(k);var l=vc(k);if(5===b)return a.Y?a.Y(c,d,e,f,h):a.call(null,c,d,e,f,h);k=uc(l);var m=vc(l);if(6===b)return a.va?a.va(c,d,e,f,h,k):a.call(null,c,d,e,f,h,k);
l=uc(m);var q=vc(m);if(7===b)return a.Ya?a.Ya(c,d,e,f,h,k,l):a.call(null,c,d,e,f,h,k,l);m=uc(q);var r=vc(q);if(8===b)return a.Ea?a.Ea(c,d,e,f,h,k,l,m):a.call(null,c,d,e,f,h,k,l,m);q=uc(r);var u=vc(r);if(9===b)return a.Za?a.Za(c,d,e,f,h,k,l,m,q):a.call(null,c,d,e,f,h,k,l,m,q);r=uc(u);var x=vc(u);if(10===b)return a.Na?a.Na(c,d,e,f,h,k,l,m,q,r):a.call(null,c,d,e,f,h,k,l,m,q,r);u=uc(x);var C=vc(x);if(11===b)return a.Oa?a.Oa(c,d,e,f,h,k,l,m,q,r,u):a.call(null,c,d,e,f,h,k,l,m,q,r,u);x=uc(C);var E=vc(C);
if(12===b)return a.Pa?a.Pa(c,d,e,f,h,k,l,m,q,r,u,x):a.call(null,c,d,e,f,h,k,l,m,q,r,u,x);C=uc(E);var G=vc(E);if(13===b)return a.Qa?a.Qa(c,d,e,f,h,k,l,m,q,r,u,x,C):a.call(null,c,d,e,f,h,k,l,m,q,r,u,x,C);E=uc(G);var K=vc(G);if(14===b)return a.Ra?a.Ra(c,d,e,f,h,k,l,m,q,r,u,x,C,E):a.call(null,c,d,e,f,h,k,l,m,q,r,u,x,C,E);G=uc(K);var O=vc(K);if(15===b)return a.Sa?a.Sa(c,d,e,f,h,k,l,m,q,r,u,x,C,E,G):a.call(null,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G);K=uc(O);var ba=vc(O);if(16===b)return a.Ta?a.Ta(c,d,e,f,h,k,l,
m,q,r,u,x,C,E,G,K):a.call(null,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G,K);O=uc(ba);var Ba=vc(ba);if(17===b)return a.Ua?a.Ua(c,d,e,f,h,k,l,m,q,r,u,x,C,E,G,K,O):a.call(null,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G,K,O);ba=uc(Ba);var gb=vc(Ba);if(18===b)return a.Va?a.Va(c,d,e,f,h,k,l,m,q,r,u,x,C,E,G,K,O,ba):a.call(null,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G,K,O,ba);Ba=uc(gb);gb=vc(gb);if(19===b)return a.Wa?a.Wa(c,d,e,f,h,k,l,m,q,r,u,x,C,E,G,K,O,ba,Ba):a.call(null,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G,K,O,ba,Ba);var N=uc(gb);vc(gb);if(20===
b)return a.Xa?a.Xa(c,d,e,f,h,k,l,m,q,r,u,x,C,E,G,K,O,ba,Ba,N):a.call(null,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G,K,O,ba,Ba,N);throw Error("Only up to 20 arguments supported on functions");}function Pf(a){return null!=a&&(a.v&128||p===a.Xc)?a.wa(null):H(Qd(a))}function Qf(a,b,c){return null==c?a.h?a.h(b):a.call(a,b):Rf(a,b,uc(c),Pf(c))}function Rf(a,b,c,d){return null==d?a.j?a.j(b,c):a.call(a,b,c):Sf(a,b,c,uc(d),Pf(d))}
function Sf(a,b,c,d,e){return null==e?a.l?a.l(b,c,d):a.call(a,b,c,d):Tf(a,b,c,d,uc(e),Pf(e))}
function Tf(a,b,c,d,e,f){if(null==f)return a.I?a.I(b,c,d,e):a.call(a,b,c,d,e);var h=uc(f),k=M(f);if(null==k)return a.Y?a.Y(b,c,d,e,h):a.call(a,b,c,d,e,h);f=uc(k);var l=M(k);if(null==l)return a.va?a.va(b,c,d,e,h,f):a.call(a,b,c,d,e,h,f);k=uc(l);var m=M(l);if(null==m)return a.Ya?a.Ya(b,c,d,e,h,f,k):a.call(a,b,c,d,e,h,f,k);l=uc(m);var q=M(m);if(null==q)return a.Ea?a.Ea(b,c,d,e,h,f,k,l):a.call(a,b,c,d,e,h,f,k,l);m=uc(q);var r=M(q);if(null==r)return a.Za?a.Za(b,c,d,e,h,f,k,l,m):a.call(a,b,c,d,e,h,f,k,
l,m);q=uc(r);var u=M(r);if(null==u)return a.Na?a.Na(b,c,d,e,h,f,k,l,m,q):a.call(a,b,c,d,e,h,f,k,l,m,q);r=uc(u);var x=M(u);if(null==x)return a.Oa?a.Oa(b,c,d,e,h,f,k,l,m,q,r):a.call(a,b,c,d,e,h,f,k,l,m,q,r);u=uc(x);var C=M(x);if(null==C)return a.Pa?a.Pa(b,c,d,e,h,f,k,l,m,q,r,u):a.call(a,b,c,d,e,h,f,k,l,m,q,r,u);x=uc(C);var E=M(C);if(null==E)return a.Qa?a.Qa(b,c,d,e,h,f,k,l,m,q,r,u,x):a.call(a,b,c,d,e,h,f,k,l,m,q,r,u,x);C=uc(E);var G=M(E);if(null==G)return a.Ra?a.Ra(b,c,d,e,h,f,k,l,m,q,r,u,x,C):a.call(a,
b,c,d,e,h,f,k,l,m,q,r,u,x,C);E=uc(G);var K=M(G);if(null==K)return a.Sa?a.Sa(b,c,d,e,h,f,k,l,m,q,r,u,x,C,E):a.call(a,b,c,d,e,h,f,k,l,m,q,r,u,x,C,E);G=uc(K);var O=M(K);if(null==O)return a.Ta?a.Ta(b,c,d,e,h,f,k,l,m,q,r,u,x,C,E,G):a.call(a,b,c,d,e,h,f,k,l,m,q,r,u,x,C,E,G);K=uc(O);var ba=M(O);if(null==ba)return a.Ua?a.Ua(b,c,d,e,h,f,k,l,m,q,r,u,x,C,E,G,K):a.call(a,b,c,d,e,h,f,k,l,m,q,r,u,x,C,E,G,K);O=uc(ba);var Ba=M(ba);if(null==Ba)return a.Va?a.Va(b,c,d,e,h,f,k,l,m,q,r,u,x,C,E,G,K,O):a.call(a,b,c,d,e,
h,f,k,l,m,q,r,u,x,C,E,G,K,O);ba=uc(Ba);var gb=M(Ba);if(null==gb)return a.Wa?a.Wa(b,c,d,e,h,f,k,l,m,q,r,u,x,C,E,G,K,O,ba):a.call(a,b,c,d,e,h,f,k,l,m,q,r,u,x,C,E,G,K,O,ba);Ba=uc(gb);gb=M(gb);if(null==gb)return a.Xa?a.Xa(b,c,d,e,h,f,k,l,m,q,r,u,x,C,E,G,K,O,ba,Ba):a.call(a,b,c,d,e,h,f,k,l,m,q,r,u,x,C,E,G,K,O,ba,Ba);b=[b,c,d,e,h,f,k,l,m,q,r,u,x,C,E,G,K,O,ba,Ba];for(c=gb;;)if(c)b.push(uc(c)),c=M(c);else break;return a.apply(a,b)}
function W(a,b){if(a.K){var c=a.H,d=Kf(c+1,b);return d<=c?Of(a,d,b):a.K(b)}b=H(b);return null==b?a.G?a.G():a.call(a):Qf(a,uc(b),Pf(b))}function Uf(a,b,c){if(a.K){b=qe(b,c);var d=a.H;c=Kf(d,c)+1;return c<=d?Of(a,c,b):a.K(b)}return Qf(a,b,H(c))}function Vf(a,b,c,d,e){return a.K?(b=qe(b,qe(c,qe(d,e))),c=a.H,e=3+Kf(c-2,e),e<=c?Of(a,e,b):a.K(b)):Sf(a,b,c,d,H(e))}function Ee(a,b,c,d,e,f){return a.K?(f=Lf(f),b=qe(b,qe(c,qe(d,qe(e,f)))),c=a.H,f=4+Kf(c-3,f),f<=c?Of(a,f,b):a.K(b)):Tf(a,b,c,d,e,Lf(f))}
function Wf(a){return H(a)?a:null}
function Xf(){if("undefined"===typeof Gb||"undefined"===typeof Ib||"undefined"===typeof Jb)Jb=function(a){this.Zf=a;this.v=393216;this.M=0},Jb.prototype.V=function(a,b){return new Jb(b)},Jb.prototype.U=function(){return this.Zf},Jb.prototype.ha=function(){return!1},Jb.prototype.next=function(){return Error("No such element")},Jb.prototype.remove=function(){return Error("Unsupported operation")},Jb.Lc=function(){return new X(null,1,5,Y,[Yf],null)},Jb.hc=!0,Jb.Jb="cljs.core/t_cljs$core32493",Jb.pc=
function(a,b){return dd(b,"cljs.core/t_cljs$core32493")};return new Jb(Zf)}function $f(a){this.s=a;this.i=0}$f.prototype.ha=function(){return this.i<this.s.length};$f.prototype.next=function(){var a=this.s.charAt(this.i);this.i+=1;return a};$f.prototype.remove=function(){return Error("Unsupported operation")};function ag(a){this.o=a;this.i=0}ag.prototype.ha=function(){return this.i<this.o.length};ag.prototype.next=function(){var a=this.o[this.i];this.i+=1;return a};ag.prototype.remove=function(){return Error("Unsupported operation")};
var bg={},cg={};function dg(a){this.Rc=bg;this.mb=a}dg.prototype.ha=function(){this.Rc===bg?(this.Rc=cg,this.mb=H(this.mb)):this.Rc===this.mb&&(this.mb=M(this.Rc));return null!=this.mb};dg.prototype.next=function(){if(this.ha())return this.Rc=this.mb,J(this.mb);throw Error("No such element");};dg.prototype.remove=function(){return Error("Unsupported operation")};
function eg(a){if(Pd(a))return zd(a);if(null==a)return Xf();if("string"===typeof a)return new $f(a);if(Xb(a))return new ag(a);var b=null==a;b||(b=(b=null!=a?a.v&8388608||p===a.ff?!0:a.v?!1:w(Xc,a):w(Xc,a))?b:Xb(a)||"string"===typeof a);if(b)return new dg(a);throw Error(["Cannot create iterator from ",z.h(a)].join(""));}function fg(a){this.Xd=a}fg.prototype.add=function(a){this.Xd.push(a);return this};fg.prototype.remove=function(){return this.Xd.shift()};fg.prototype.Ld=function(){return 0===this.Xd.length};
fg.prototype.toString=function(){return["Many: ",z.h(this.Xd)].join("")};var gg={};function hg(a){this.B=a}hg.prototype.add=function(a){return this.B===gg?(this.B=a,this):new fg([this.B,a])};hg.prototype.remove=function(){if(this.B===gg)throw Error("Removing object from empty buffer");var a=this.B;this.B=gg;return a};hg.prototype.Ld=function(){return this.B===gg};hg.prototype.toString=function(){return["Single: ",z.h(this.B)].join("")};function ig(){}ig.prototype.add=function(a){return new hg(a)};
ig.prototype.remove=function(){throw Error("Removing object from empty buffer");};ig.prototype.Ld=function(){return!0};ig.prototype.toString=function(){return"Empty"};var jg=new ig,kg=function kg(a){return new Bf(null,function(){if(a.ha())for(var c=[],d=0;;){var e=a.ha();if(v(v(e)?32>d:e))c[d]=a.next(),d+=1;else return If(new Ff(c,0,d),kg.h?kg.h(a):kg.call(null,a))}else return null},null,null)};function lg(a){this.buffer=jg;this.mb=gg;this.we=!1;this.Eb=null;this.Oe=a;this.fg=!1}
lg.prototype.step=function(){if(this.mb!==gg)return!0;for(;;)if(this.mb===gg)if(this.buffer.Ld()){if(this.we)return!1;if(this.Oe.ha()){if(this.fg)var a=W(this.Eb,qe(null,this.Oe.next()));else a=this.Oe.next(),a=this.Eb.j?this.Eb.j(null,a):this.Eb.call(null,null,a);be(a)&&(this.Eb.h?this.Eb.h(null):this.Eb.call(null,null),this.we=!0)}else this.Eb.h?this.Eb.h(null):this.Eb.call(null,null),this.we=!0}else this.mb=this.buffer.remove();else return!0};lg.prototype.ha=function(){return this.step()};
lg.prototype.next=function(){if(this.ha()){var a=this.mb;this.mb=gg;return a}throw Error("No such element");};lg.prototype.remove=function(){return Error("Unsupported operation")};lg.prototype[bc]=function(){return Td(this)};
function mg(a,b){var c=new lg(b);c.Eb=function(){var b=function(a){return function(){function b(b,c){a.buffer=a.buffer.add(c);return b}var c=null;c=function(a,c){switch(arguments.length){case 0:return null;case 1:return a;case 2:return b.call(this,a,c)}throw Error("Invalid arity: "+arguments.length);};c.G=function(){return null};c.h=function(a){return a};c.j=b;return c}()}(c);return a.h?a.h(b):a.call(null,b)}();return c}
function ng(a,b){for(;;){if(null==H(b))return!0;var c=J(b);c=a.h?a.h(c):a.call(null,c);if(v(c))b=M(b);else return!1}}function og(a,b){for(;;)if(b=H(b)){var c=J(b);c=a.h?a.h(c):a.call(null,c);if(v(c))return c;b=M(b)}else return null}
function pg(a){return function(){function b(b,c){return Yb(a.j?a.j(b,c):a.call(null,b,c))}function c(b){return Yb(a.h?a.h(b):a.call(null,b))}function d(){return Yb(a.G?a.G():a.call(null))}var e=null,f=function(){function b(a,b,d){var e=null;if(2<arguments.length){e=0;for(var f=Array(arguments.length-2);e<f.length;)f[e]=arguments[e+2],++e;e=new I(f,0,null)}return c.call(this,a,b,e)}function c(b,c,d){a.K?(b=qe(b,qe(c,d)),c=a.H,d=2+Kf(c-1,d),d=d<=c?Of(a,d,b):a.K(b)):d=Rf(a,b,c,H(d));return Yb(d)}b.H=
2;b.K=function(a){var b=J(a);a=M(a);var d=J(a);a=Qd(a);return c(b,d,a)};b.w=c;return b}();e=function(a,e,l){switch(arguments.length){case 0:return d.call(this);case 1:return c.call(this,a);case 2:return b.call(this,a,e);default:var h=null;if(2<arguments.length){h=0;for(var k=Array(arguments.length-2);h<k.length;)k[h]=arguments[h+2],++h;h=new I(k,0,null)}return f.w(a,e,h)}throw Error("Invalid arity: "+arguments.length);};e.H=2;e.K=f.K;e.G=d;e.h=c;e.j=b;e.w=f.w;return e}()}
function qg(){return function(){function a(a){if(0<arguments.length)for(var b=0,d=Array(arguments.length-0);b<d.length;)d[b]=arguments[b+0],++b;return null}a.H=0;a.K=function(a){H(a);return null};a.w=function(){return null};return a}()}
var rg=function rg(a){switch(arguments.length){case 0:return rg.G();case 1:return rg.h(arguments[0]);case 2:return rg.j(arguments[0],arguments[1]);case 3:return rg.l(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return rg.w(arguments[0],arguments[1],arguments[2],new I(c.slice(3),0,null))}};rg.G=function(){return ef};rg.h=function(a){return a};
rg.j=function(a,b){return function(){function c(c,d,e){c=b.l?b.l(c,d,e):b.call(null,c,d,e);return a.h?a.h(c):a.call(null,c)}function d(c,d){c=b.j?b.j(c,d):b.call(null,c,d);return a.h?a.h(c):a.call(null,c)}function e(c){c=b.h?b.h(c):b.call(null,c);return a.h?a.h(c):a.call(null,c)}function f(){var c=b.G?b.G():b.call(null);return a.h?a.h(c):a.call(null,c)}var h=null,k=function(){function c(a,b,c,e){var f=null;if(3<arguments.length){f=0;for(var h=Array(arguments.length-3);f<h.length;)h[f]=arguments[f+
3],++f;f=new I(h,0,null)}return d.call(this,a,b,c,f)}function d(c,d,e,f){c=Vf(b,c,d,e,f);return a.h?a.h(c):a.call(null,c)}c.H=3;c.K=function(a){var b=J(a);a=M(a);var c=J(a);a=M(a);var e=J(a);a=Qd(a);return d(b,c,e,a)};c.w=d;return c}();h=function(a,b,h,r){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,a);case 2:return d.call(this,a,b);case 3:return c.call(this,a,b,h);default:var l=null;if(3<arguments.length){l=0;for(var m=Array(arguments.length-3);l<m.length;)m[l]=arguments[l+
3],++l;l=new I(m,0,null)}return k.w(a,b,h,l)}throw Error("Invalid arity: "+arguments.length);};h.H=3;h.K=k.K;h.G=f;h.h=e;h.j=d;h.l=c;h.w=k.w;return h}()};
rg.l=function(a,b,c){return function(){function d(d,e,f){d=c.l?c.l(d,e,f):c.call(null,d,e,f);d=b.h?b.h(d):b.call(null,d);return a.h?a.h(d):a.call(null,d)}function e(d,e){d=c.j?c.j(d,e):c.call(null,d,e);d=b.h?b.h(d):b.call(null,d);return a.h?a.h(d):a.call(null,d)}function f(d){d=c.h?c.h(d):c.call(null,d);d=b.h?b.h(d):b.call(null,d);return a.h?a.h(d):a.call(null,d)}function h(){var d=c.G?c.G():c.call(null);d=b.h?b.h(d):b.call(null,d);return a.h?a.h(d):a.call(null,d)}var k=null,l=function(){function d(a,
b,c,d){var f=null;if(3<arguments.length){f=0;for(var h=Array(arguments.length-3);f<h.length;)h[f]=arguments[f+3],++f;f=new I(h,0,null)}return e.call(this,a,b,c,f)}function e(d,e,f,h){d=Vf(c,d,e,f,h);d=b.h?b.h(d):b.call(null,d);return a.h?a.h(d):a.call(null,d)}d.H=3;d.K=function(a){var b=J(a);a=M(a);var c=J(a);a=M(a);var d=J(a);a=Qd(a);return e(b,c,d,a)};d.w=e;return d}();k=function(a,b,c,k){switch(arguments.length){case 0:return h.call(this);case 1:return f.call(this,a);case 2:return e.call(this,
a,b);case 3:return d.call(this,a,b,c);default:var m=null;if(3<arguments.length){m=0;for(var q=Array(arguments.length-3);m<q.length;)q[m]=arguments[m+3],++m;m=new I(q,0,null)}return l.w(a,b,c,m)}throw Error("Invalid arity: "+arguments.length);};k.H=3;k.K=l.K;k.G=h;k.h=f;k.j=e;k.l=d;k.w=l.w;return k}()};
rg.w=function(a,b,c,d){return function(a){return function(){function b(a){var b=null;if(0<arguments.length){b=0;for(var d=Array(arguments.length-0);b<d.length;)d[b]=arguments[b+0],++b;b=new I(d,0,null)}return c.call(this,b)}function c(b){b=W(J(a),b);for(var c=M(a);;)if(c){var d=J(c);b=d.h?d.h(b):d.call(null,b);c=M(c)}else return b}b.H=0;b.K=function(a){a=H(a);return c(a)};b.w=c;return b}()}(sf(qe(a,qe(b,qe(c,d)))))};
rg.K=function(a){var b=J(a),c=M(a);a=J(c);var d=M(c);c=J(d);d=M(d);return this.w(b,a,c,d)};rg.H=3;
var sg=function sg(a){switch(arguments.length){case 1:return sg.h(arguments[0]);case 2:return sg.j(arguments[0],arguments[1]);case 3:return sg.l(arguments[0],arguments[1],arguments[2]);case 4:return sg.I(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return sg.w(arguments[0],arguments[1],arguments[2],arguments[3],new I(c.slice(4),0,null))}};sg.h=function(a){return a};
sg.j=function(a,b){return function(){function c(c,d,e){return a.I?a.I(b,c,d,e):a.call(null,b,c,d,e)}function d(c,d){return a.l?a.l(b,c,d):a.call(null,b,c,d)}function e(c){return a.j?a.j(b,c):a.call(null,b,c)}function f(){return a.h?a.h(b):a.call(null,b)}var h=null,k=function(){function c(a,b,c,e){var f=null;if(3<arguments.length){f=0;for(var h=Array(arguments.length-3);f<h.length;)h[f]=arguments[f+3],++f;f=new I(h,0,null)}return d.call(this,a,b,c,f)}function d(c,d,e,f){return Ee(a,b,c,d,e,T([f]))}
c.H=3;c.K=function(a){var b=J(a);a=M(a);var c=J(a);a=M(a);var e=J(a);a=Qd(a);return d(b,c,e,a)};c.w=d;return c}();h=function(a,b,h,r){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,a);case 2:return d.call(this,a,b);case 3:return c.call(this,a,b,h);default:var l=null;if(3<arguments.length){l=0;for(var m=Array(arguments.length-3);l<m.length;)m[l]=arguments[l+3],++l;l=new I(m,0,null)}return k.w(a,b,h,l)}throw Error("Invalid arity: "+arguments.length);};h.H=3;h.K=k.K;h.G=
f;h.h=e;h.j=d;h.l=c;h.w=k.w;return h}()};
sg.l=function(a,b,c){return function(){function d(d,e,f){return a.Y?a.Y(b,c,d,e,f):a.call(null,b,c,d,e,f)}function e(d,e){return a.I?a.I(b,c,d,e):a.call(null,b,c,d,e)}function f(d){return a.l?a.l(b,c,d):a.call(null,b,c,d)}function h(){return a.j?a.j(b,c):a.call(null,b,c)}var k=null,l=function(){function d(a,b,c,d){var f=null;if(3<arguments.length){f=0;for(var h=Array(arguments.length-3);f<h.length;)h[f]=arguments[f+3],++f;f=new I(h,0,null)}return e.call(this,a,b,c,f)}function e(d,e,f,h){return Ee(a,
b,c,d,e,T([f,h]))}d.H=3;d.K=function(a){var b=J(a);a=M(a);var c=J(a);a=M(a);var d=J(a);a=Qd(a);return e(b,c,d,a)};d.w=e;return d}();k=function(a,b,c,k){switch(arguments.length){case 0:return h.call(this);case 1:return f.call(this,a);case 2:return e.call(this,a,b);case 3:return d.call(this,a,b,c);default:var m=null;if(3<arguments.length){m=0;for(var q=Array(arguments.length-3);m<q.length;)q[m]=arguments[m+3],++m;m=new I(q,0,null)}return l.w(a,b,c,m)}throw Error("Invalid arity: "+arguments.length);
};k.H=3;k.K=l.K;k.G=h;k.h=f;k.j=e;k.l=d;k.w=l.w;return k}()};
sg.I=function(a,b,c,d){return function(){function e(e,f,h){return a.va?a.va(b,c,d,e,f,h):a.call(null,b,c,d,e,f,h)}function f(e,f){return a.Y?a.Y(b,c,d,e,f):a.call(null,b,c,d,e,f)}function h(e){return a.I?a.I(b,c,d,e):a.call(null,b,c,d,e)}function k(){return a.l?a.l(b,c,d):a.call(null,b,c,d)}var l=null,m=function(){function e(a,b,c,d){var e=null;if(3<arguments.length){e=0;for(var h=Array(arguments.length-3);e<h.length;)h[e]=arguments[e+3],++e;e=new I(h,0,null)}return f.call(this,a,b,c,e)}function f(e,
f,h,k){return Ee(a,b,c,d,e,T([f,h,k]))}e.H=3;e.K=function(a){var b=J(a);a=M(a);var c=J(a);a=M(a);var d=J(a);a=Qd(a);return f(b,c,d,a)};e.w=f;return e}();l=function(a,b,c,d){switch(arguments.length){case 0:return k.call(this);case 1:return h.call(this,a);case 2:return f.call(this,a,b);case 3:return e.call(this,a,b,c);default:var l=null;if(3<arguments.length){l=0;for(var q=Array(arguments.length-3);l<q.length;)q[l]=arguments[l+3],++l;l=new I(q,0,null)}return m.w(a,b,c,l)}throw Error("Invalid arity: "+
arguments.length);};l.H=3;l.K=m.K;l.G=k;l.h=h;l.j=f;l.l=e;l.w=m.w;return l}()};sg.w=function(a,b,c,d,e){return function(){function f(a){var b=null;if(0<arguments.length){b=0;for(var c=Array(arguments.length-0);b<c.length;)c[b]=arguments[b+0],++b;b=new I(c,0,null)}return h.call(this,b)}function h(f){return Vf(a,b,c,d,Mf.j(e,f))}f.H=0;f.K=function(a){a=H(a);return h(a)};f.w=h;return f}()};sg.K=function(a){var b=J(a),c=M(a);a=J(c);var d=M(c);c=J(d);var e=M(d);d=J(e);e=M(e);return this.w(b,a,c,d,e)};
sg.H=4;
function tg(){var a=ug,b=vg;return function(){function c(c,d,e){c=null==c?b:c;return a.l?a.l(c,d,e):a.call(null,c,d,e)}function d(c,d){c=null==c?b:c;return a.j?a.j(c,d):a.call(null,c,d)}function e(c){c=null==c?b:c;return a.h?a.h(c):a.call(null,c)}var f=null,h=function(){function c(a,b,c,e){var f=null;if(3<arguments.length){f=0;for(var h=Array(arguments.length-3);f<h.length;)h[f]=arguments[f+3],++f;f=new I(h,0,null)}return d.call(this,a,b,c,f)}function d(c,d,e,f){return Vf(a,null==c?b:c,d,e,f)}c.H=
3;c.K=function(a){var b=J(a);a=M(a);var c=J(a);a=M(a);var e=J(a);a=Qd(a);return d(b,c,e,a)};c.w=d;return c}();f=function(a,b,f,q){switch(arguments.length){case 1:return e.call(this,a);case 2:return d.call(this,a,b);case 3:return c.call(this,a,b,f);default:var k=null;if(3<arguments.length){k=0;for(var l=Array(arguments.length-3);k<l.length;)l[k]=arguments[k+3],++k;k=new I(l,0,null)}return h.w(a,b,f,k)}throw Error("Invalid arity: "+arguments.length);};f.H=3;f.K=h.K;f.h=e;f.j=d;f.l=c;f.w=h.w;return f}()}
function wg(a,b){return function f(b,e){return new Bf(null,function(){var d=H(e);if(d){if(Re(d)){for(var k=qd(d),l=R(k),m=Gf(l),q=0;;)if(q<l)Jf(m,function(){var d=b+q,e=sc.j(k,q);return a.j?a.j(d,e):a.call(null,d,e)}()),q+=1;else break;return If(m.Da(),f(b+l,sd(d)))}return qe(function(){var e=J(d);return a.j?a.j(b,e):a.call(null,b,e)}(),f(b+1,Qd(d)))}return null},null,null)}(0,b)}
function xg(a,b){return new Bf(null,function(){var c=H(b);if(c){if(Re(c)){for(var d=qd(c),e=R(d),f=Gf(e),h=0;;)if(h<e){var k=function(){var b=sc.j(d,h);return a.h?a.h(b):a.call(null,b)}();null!=k&&f.add(k);h+=1}else break;return If(f.Da(),xg(a,sd(c)))}e=function(){var b=J(c);return a.h?a.h(b):a.call(null,b)}();return null==e?xg(a,Qd(c)):qe(e,xg(a,Qd(c)))}return null},null,null)}function yg(a){this.state=a;this.Ja=this.yc=this.meta=null;this.M=16386;this.v=6455296}g=yg.prototype;
g.equiv=function(a){return this.J(null,a)};g.J=function(a,b){return this===b};g.eb=function(){return this.state};g.U=function(){return this.meta};g.Fd=function(a,b){for(var c=H(this.Ja),d=null,e=0,f=0;;)if(f<e){var h=d.O(null,f),k=U(h,0);h=U(h,1);h.I?h.I(k,this,a,b):h.call(null,k,this,a,b);f+=1}else if(c=H(c))Re(c)?(d=qd(c),c=sd(c),k=d,e=R(d),d=k):(d=J(c),k=U(d,0),h=U(d,1),h.I?h.I(k,this,a,b):h.call(null,k,this,a,b),c=M(c),d=null,e=0),f=0;else break};
g.Zc=function(a,b,c){this.Ja=V.l(this.Ja,b,c);return this};g.$c=function(a,b){return this.Ja=Be.j(this.Ja,b)};g.T=function(){return ka(this)};function zg(a){return new yg(a)}function Ag(a,b){if(a instanceof yg){var c=a.yc;if(null!=c&&!v(c.h?c.h(b):c.call(null,b)))throw Error("Validator rejected reference state");c=a.state;a.state=b;null!=a.Ja&&a.Fd(c,b);return b}return vd(a,b)}
var Bg=function Bg(a){switch(arguments.length){case 2:return Bg.j(arguments[0],arguments[1]);case 3:return Bg.l(arguments[0],arguments[1],arguments[2]);case 4:return Bg.I(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Bg.w(arguments[0],arguments[1],arguments[2],arguments[3],new I(c.slice(4),0,null))}};
Bg.j=function(a,b){if(a instanceof yg){var c=a.state;b=b.h?b.h(c):b.call(null,c);a=Ag(a,b)}else a=wd.j(a,b);return a};Bg.l=function(a,b,c){if(a instanceof yg){var d=a.state;b=b.j?b.j(d,c):b.call(null,d,c);a=Ag(a,b)}else a=wd.l(a,b,c);return a};Bg.I=function(a,b,c,d){if(a instanceof yg){var e=a.state;b=b.l?b.l(e,c,d):b.call(null,e,c,d);a=Ag(a,b)}else a=wd.I(a,b,c,d);return a};Bg.w=function(a,b,c,d,e){return a instanceof yg?Ag(a,Vf(b,a.state,c,d,e)):wd.Y(a,b,c,d,e)};
Bg.K=function(a){var b=J(a),c=M(a);a=J(c);var d=M(c);c=J(d);var e=M(d);d=J(e);e=M(e);return this.w(b,a,c,d,e)};Bg.H=4;function Cg(a){this.state=a;this.v=32768;this.M=0}Cg.prototype.gc=function(a,b){return this.state=b};Cg.prototype.eb=function(){return this.state};
var Dg=function Dg(a){switch(arguments.length){case 1:return Dg.h(arguments[0]);case 2:return Dg.j(arguments[0],arguments[1]);case 3:return Dg.l(arguments[0],arguments[1],arguments[2]);case 4:return Dg.I(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Dg.w(arguments[0],arguments[1],arguments[2],arguments[3],new I(c.slice(4),0,null))}};
Dg.h=function(a){return function(b){return function(){function c(c,d){d=a.h?a.h(d):a.call(null,d);return b.j?b.j(c,d):b.call(null,c,d)}function d(a){return b.h?b.h(a):b.call(null,a)}function e(){return b.G?b.G():b.call(null)}var f=null,h=function(){function c(a,b,c){var e=null;if(2<arguments.length){e=0;for(var f=Array(arguments.length-2);e<f.length;)f[e]=arguments[e+2],++e;e=new I(f,0,null)}return d.call(this,a,b,e)}function d(c,d,e){d=Uf(a,d,e);return b.j?b.j(c,d):b.call(null,c,d)}c.H=2;c.K=function(a){var b=
J(a);a=M(a);var c=J(a);a=Qd(a);return d(b,c,a)};c.w=d;return c}();f=function(a,b,f){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,a);case 2:return c.call(this,a,b);default:var k=null;if(2<arguments.length){k=0;for(var l=Array(arguments.length-2);k<l.length;)l[k]=arguments[k+2],++k;k=new I(l,0,null)}return h.w(a,b,k)}throw Error("Invalid arity: "+arguments.length);};f.H=2;f.K=h.K;f.G=e;f.h=d;f.j=c;f.w=h.w;return f}()}};
Dg.j=function(a,b){return new Bf(null,function(){var c=H(b);if(c){if(Re(c)){for(var d=qd(c),e=R(d),f=Gf(e),h=0;;)if(h<e)Jf(f,function(){var b=sc.j(d,h);return a.h?a.h(b):a.call(null,b)}()),h+=1;else break;return If(f.Da(),Dg.j(a,sd(c)))}return qe(function(){var b=J(c);return a.h?a.h(b):a.call(null,b)}(),Dg.j(a,Qd(c)))}return null},null,null)};
Dg.l=function(a,b,c){return new Bf(null,function(){var d=H(b),e=H(c);if(d&&e){var f=J(d);var h=J(e);f=a.j?a.j(f,h):a.call(null,f,h);d=qe(f,Dg.l(a,Qd(d),Qd(e)))}else d=null;return d},null,null)};Dg.I=function(a,b,c,d){return new Bf(null,function(){var e=H(b),f=H(c),h=H(d);if(e&&f&&h){var k=J(e);var l=J(f),m=J(h);k=a.l?a.l(k,l,m):a.call(null,k,l,m);e=qe(k,Dg.I(a,Qd(e),Qd(f),Qd(h)))}else e=null;return e},null,null)};
Dg.w=function(a,b,c,d,e){var f=function l(a){return new Bf(null,function(){var b=Dg.j(H,a);return ng(ef,b)?qe(Dg.j(J,b),l(Dg.j(Qd,b))):null},null,null)};return Dg.j(function(){return function(b){return W(a,b)}}(f),f(ve.w(e,d,T([c,b]))))};Dg.K=function(a){var b=J(a),c=M(a);a=J(c);var d=M(c);c=J(d);var e=M(d);d=J(e);e=M(e);return this.w(b,a,c,d,e)};Dg.H=4;
var Eg=function Eg(a){switch(arguments.length){case 1:return Eg.h(arguments[0]);case 2:return Eg.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",z.h(arguments.length)].join(""));}};
Eg.h=function(a){if("number"!==typeof a)throw Error("Assert failed: (number? n)");return function(b){return function(a){return function(){function c(c,d){var e=A(a),f=a.gc(null,a.eb(null)-1);c=0<e?b.j?b.j(c,d):b.call(null,c,d):c;return 0<f?c:be(c)?c:ae(c)}function e(a){return b.h?b.h(a):b.call(null,a)}function f(){return b.G?b.G():b.call(null)}var h=null;h=function(a,b){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,a);case 2:return c.call(this,a,b)}throw Error("Invalid arity: "+
arguments.length);};h.G=f;h.h=e;h.j=c;return h}()}(new Cg(a))}};Eg.j=function(a,b){if("number"!==typeof a)throw Error("Assert failed: (number? n)");return new Bf(null,function(){if(0<a){var c=H(b);return c?qe(J(c),Eg.j(a-1,Qd(c))):null}return null},null,null)};Eg.H=2;function Fg(a,b){if("number"!==typeof a)throw Error("Assert failed: (number? n)");return new Bf(null,function(c){return function(){return c(a,b)}}(function(a,b){for(;;)if(b=H(b),0<a&&b)--a,b=Qd(b);else return b}),null,null)}
function Gg(a){return Dg.l(function(a){return a},a,Fg(2,a))}function Hg(a,b,c,d,e){this.meta=a;this.count=b;this.B=c;this.next=d;this.F=e;this.v=32374988;this.M=1}g=Hg.prototype;g.toString=function(){return Bd(this)};g.equiv=function(a){return this.J(null,a)};
g.indexOf=function(){var a=null;a=function(a,c){switch(arguments.length){case 1:return Q(this,a,0);case 2:return Q(this,a,c)}throw Error("Invalid arity: "+arguments.length);};a.h=function(a){return Q(this,a,0)};a.j=function(a,c){return Q(this,a,c)};return a}();
g.lastIndexOf=function(){function a(a){return S(this,a,this.count)}var b=null;b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return S(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.h=a;b.j=function(a,b){return S(this,a,b)};return b}();g.U=function(){return this.meta};g.wa=function(){return null==this.next?1<this.count?this.next=new Hg(null,this.count-1,this.B,null,null):-1===this.count?this:null:this.next};
g.T=function(){var a=this.F;return null!=a?a:this.F=a=Vd(this)};g.J=function(a,b){return pe(this,b)};g.ja=function(){return Rd};g.xa=function(a,b){if(-1===this.count)for(var c=b.j?b.j(this.B,this.B):b.call(null,this.B,this.B);;){if(be(c))return A(c);c=b.j?b.j(c,this.B):b.call(null,c,this.B)}else for(a=1,c=this.B;;)if(a<this.count){c=b.j?b.j(c,this.B):b.call(null,c,this.B);if(be(c))return A(c);a+=1}else return c};
g.ya=function(a,b,c){if(-1===this.count)for(c=b.j?b.j(c,this.B):b.call(null,c,this.B);;){if(be(c))return A(c);c=b.j?b.j(c,this.B):b.call(null,c,this.B)}else for(a=0;;)if(a<this.count){c=b.j?b.j(c,this.B):b.call(null,c,this.B);if(be(c))return A(c);a+=1}else return c};g.Ca=function(){return this.B};g.Fa=function(){return null==this.next?1<this.count?this.next=new Hg(null,this.count-1,this.B,null,null):-1===this.count?this:Rd:this.next};g.Z=function(){return this};
g.V=function(a,b){return b===this.meta?this:new Hg(b,this.count,this.B,this.next,null)};g.ga=function(a,b){return qe(b,this)};function Ig(a){return 0<a?new Hg(null,a,null,null,null):Rd}var Jg=function Jg(a){switch(arguments.length){case 0:return Jg.G();case 1:return Jg.h(arguments[0]);case 2:return Jg.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Jg.w(arguments[0],arguments[1],new I(c.slice(2),0,null))}};Jg.G=function(){return Rd};
Jg.h=function(a){return new Bf(null,function(){return a},null,null)};Jg.j=function(a,b){return new Bf(null,function(){var c=H(a),d=H(b);return c&&d?qe(J(c),qe(J(d),Jg.j(Qd(c),Qd(d)))):null},null,null)};Jg.w=function(a,b,c){return new Bf(null,function(){var d=Dg.j(H,ve.w(c,b,T([a])));return ng(ef,d)?Mf.j(Dg.j(J,d),W(Jg,Dg.j(Qd,d))):null},null,null)};Jg.K=function(a){var b=J(a),c=M(a);a=J(c);c=M(c);return this.w(b,a,c)};Jg.H=2;function Kg(a,b){return W(Mf,Uf(Dg,a,b))}
function Lg(a,b){return new Bf(null,function(){var c=H(b);if(c){if(Re(c)){for(var d=qd(c),e=R(d),f=Gf(e),h=0;;)if(h<e){var k=sc.j(d,h);k=a.h?a.h(k):a.call(null,k);v(k)&&(k=sc.j(d,h),f.add(k));h+=1}else break;return If(f.Da(),Lg(a,sd(c)))}d=J(c);c=Qd(c);return v(a.h?a.h(d):a.call(null,d))?qe(d,Lg(a,c)):Lg(a,c)}return null},null,null)}function Mg(a,b){return Lg(pg(a),b)}
function Ng(a){return function d(a){return new Bf(null,function(){return qe(a,v(Me.h?Me.h(a):Me.call(null,a))?Kg(d,T([H.h?H.h(a):H.call(null,a)])):null)},null,null)}(a)}function Og(a){return Lg(function(a){return!Me(a)},Qd(Ng(a)))}
var ug=function ug(a){switch(arguments.length){case 0:return ug.G();case 1:return ug.h(arguments[0]);case 2:return ug.j(arguments[0],arguments[1]);case 3:return ug.l(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.h(arguments.length)].join(""));}};ug.G=function(){return we};ug.h=function(a){return a};ug.j=function(a,b){return null!=a?null!=a&&(a.M&4||p===a.If)?Qc(kd(gc.l(jd,id(a),b)),Ge(a)):gc.l(qc,a,b):gc.l(ve,Rd,b)};
ug.l=function(a,b,c){return null!=a&&(a.M&4||p===a.If)?Qc(kd(gf(b,Nf,id(a),c)),Ge(a)):gf(b,ve,a,c)};ug.H=3;function Pg(a,b){return kd(gc.l(function(b,d){return Nf.j(b,a.h?a.h(d):a.call(null,d))},id(we),b))}function Qg(a,b,c){return new Bf(null,function(){var d=H(c);if(d){var e=Eg.j(a,d);return a===R(e)?qe(e,Qg(a,b,Fg(b,d))):null}return null},null,null)}function Rg(a,b){return gc.l(D,a,b)}
var Sg=function Sg(a,b,c){b=H(b);var e=J(b),f=M(b);return f?V.l(a,e,function(){var b=D.j(a,e);return Sg.l?Sg.l(b,f,c):Sg.call(null,b,f,c)}()):V.l(a,e,c)},Tg=function Tg(a){switch(arguments.length){case 3:return Tg.l(arguments[0],arguments[1],arguments[2]);case 4:return Tg.I(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Tg.Y(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return Tg.va(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);
default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Tg.w(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],new I(c.slice(6),0,null))}};Tg.l=function(a,b,c){b=H(b);var d=J(b);return(b=M(b))?V.l(a,d,Tg.l(D.j(a,d),b,c)):V.l(a,d,function(){var b=D.j(a,d);return c.h?c.h(b):c.call(null,b)}())};
Tg.I=function(a,b,c,d){b=H(b);var e=J(b);return(b=M(b))?V.l(a,e,Tg.I(D.j(a,e),b,c,d)):V.l(a,e,function(){var b=D.j(a,e);return c.j?c.j(b,d):c.call(null,b,d)}())};Tg.Y=function(a,b,c,d,e){b=H(b);var f=J(b);return(b=M(b))?V.l(a,f,Tg.Y(D.j(a,f),b,c,d,e)):V.l(a,f,function(){var b=D.j(a,f);return c.l?c.l(b,d,e):c.call(null,b,d,e)}())};
Tg.va=function(a,b,c,d,e,f){b=H(b);var h=J(b);return(b=M(b))?V.l(a,h,Tg.va(D.j(a,h),b,c,d,e,f)):V.l(a,h,function(){var b=D.j(a,h);return c.I?c.I(b,d,e,f):c.call(null,b,d,e,f)}())};Tg.w=function(a,b,c,d,e,f,h){var k=H(b);b=J(k);return(k=M(k))?V.l(a,b,Ee(Tg,D.j(a,b),k,c,d,T([e,f,h]))):V.l(a,b,Ee(c,D.j(a,b),d,e,f,T([h])))};Tg.K=function(a){var b=J(a),c=M(a);a=J(c);var d=M(c);c=J(d);var e=M(d);d=J(e);var f=M(e);e=J(f);var h=M(f);f=J(h);h=M(h);return this.w(b,a,c,d,e,f,h)};Tg.H=6;
function Ug(a,b,c){return V.l(a,b,function(){var d=D.j(a,b);return c.h?c.h(d):c.call(null,d)}())}function Vg(a,b,c,d){return V.l(a,b,function(){var e=D.j(a,b);return c.j?c.j(e,d):c.call(null,e,d)}())}function Wg(a,b){this.ka=a;this.o=b}function Xg(a){return new Wg(a,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])}function Yg(a){return new Wg(a.ka,ec(a.o))}
function Zg(a){a=a.A;return 32>a?0:a-1>>>5<<5}function $g(a,b,c){for(;;){if(0===b)return c;var d=Xg(a);d.o[0]=c;c=d;b-=5}}var ah=function ah(a,b,c,d){var f=Yg(c),h=a.A-1>>>b&31;5===b?f.o[h]=d:(c=c.o[h],null!=c?(b-=5,a=ah.I?ah.I(a,b,c,d):ah.call(null,a,b,c,d)):a=$g(null,b-5,d),f.o[h]=a);return f};function bh(a,b){throw Error(["No item ",z.h(a)," in vector of length ",z.h(b)].join(""));}
function ch(a,b){if(b>=Zg(a))return a.cb;var c=a.root;for(a=a.shift;;)if(0<a){var d=a-5;c=c.o[b>>>a&31];a=d}else return c.o}var dh=function dh(a,b,c,d,e){var h=Yg(c);if(0===b)h.o[d&31]=e;else{var k=d>>>b&31;b-=5;c=c.o[k];a=dh.Y?dh.Y(a,b,c,d,e):dh.call(null,a,b,c,d,e);h.o[k]=a}return h},eh=function eh(a,b,c){var e=a.A-2>>>b&31;if(5<b){b-=5;var f=c.o[e];a=eh.l?eh.l(a,b,f):eh.call(null,a,b,f);if(null==a&&0===e)return null;c=Yg(c);c.o[e]=a;return c}if(0===e)return null;c=Yg(c);c.o[e]=null;return c};
function fh(a,b,c,d,e,f){this.i=a;this.base=b;this.o=c;this.Ba=d;this.start=e;this.end=f}fh.prototype.ha=function(){return this.i<this.end};fh.prototype.next=function(){32===this.i-this.base&&(this.o=ch(this.Ba,this.i),this.base+=32);var a=this.o[this.i&31];this.i+=1;return a};function gh(a,b,c){return new fh(b,b-b%32,b<R(a)?ch(a,b):null,a,b,c)}function hh(a,b,c,d){return c<d?ih(a,b,le(a,c),c+1,d):b.G?b.G():b.call(null)}
function ih(a,b,c,d,e){var f=c;c=d;for(d=ch(a,d);;)if(c<e){var h=c&31;d=0===h?ch(a,c):d;h=d[h];f=b.j?b.j(f,h):b.call(null,f,h);if(be(f))return A(f);c+=1}else return f}function X(a,b,c,d,e,f){this.meta=a;this.A=b;this.shift=c;this.root=d;this.cb=e;this.F=f;this.v=167666463;this.M=139268}g=X.prototype;g.Sb=function(a,b){return 0<=b&&b<this.A?new jh(b,ch(this,b)[b&31],null):null};g.toString=function(){return Bd(this)};g.equiv=function(a){return this.J(null,a)};
g.indexOf=function(){var a=null;a=function(a,c){switch(arguments.length){case 1:return Q(this,a,0);case 2:return Q(this,a,c)}throw Error("Invalid arity: "+arguments.length);};a.h=function(a){return Q(this,a,0)};a.j=function(a,c){return Q(this,a,c)};return a}();
g.lastIndexOf=function(){function a(a){return S(this,a,R(this))}var b=null;b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return S(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.h=a;b.j=function(a,b){return S(this,a,b)};return b}();g.X=function(a,b){return this.N(null,b,null)};g.N=function(a,b,c){return"number"===typeof b?this.da(null,b,c):c};
g.Ib=function(a,b,c){a=0;for(var d=c;;)if(a<this.A){var e=ch(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=f+a,k=e[f];d=b.l?b.l(d,h,k):b.call(null,d,h,k);if(be(d)){e=d;break a}f+=1}else{e=d;break a}if(be(e))return A(e);a+=c;d=e}else return d};g.ke=p;g.O=function(a,b){return(0<=b&&b<this.A?ch(this,b):bh(b,this.A))[b&31]};g.da=function(a,b,c){return 0<=b&&b<this.A?ch(this,b)[b&31]:c};
g.tb=function(a,b,c){if(0<=b&&b<this.A)return Zg(this)<=b?(a=ec(this.cb),a[b&31]=c,new X(this.meta,this.A,this.shift,this.root,a,null)):new X(this.meta,this.A,this.shift,dh(this,this.shift,this.root,b,c),this.cb,null);if(b===this.A)return this.ga(null,c);throw Error(["Index ",z.h(b)," out of bounds  [0,",z.h(this.A),"]"].join(""));};g.$a=function(){return gh(this,0,this.A)};g.U=function(){return this.meta};g.Ma=function(){return new X(this.meta,this.A,this.shift,this.root,this.cb,this.F)};g.ca=function(){return this.A};
g.Ub=function(){return 0<this.A?this.O(null,this.A-1):null};g.Vb=function(){if(0===this.A)throw Error("Can't pop empty vector");if(1===this.A)return Qc(we,this.meta);if(1<this.A-Zg(this))return new X(this.meta,this.A-1,this.shift,this.root,this.cb.slice(0,-1),null);var a=ch(this,this.A-2),b=eh(this,this.shift,this.root);b=null==b?Y:b;var c=this.A-1;return 5<this.shift&&null==b.o[1]?new X(this.meta,c,this.shift-5,b.o[0],a,null):new X(this.meta,c,this.shift,b,a,null)};
g.Tb=function(){return 0<this.A?new oe(this,this.A-1,null):null};g.T=function(){var a=this.F;return null!=a?a:this.F=a=Vd(this)};g.J=function(a,b){if(b instanceof X)if(this.A===R(b))for(a=this.$a(null),b=b.$a(null);;)if(a.ha()){var c=a.next(),d=b.next();if(!P.j(c,d))return!1}else return!0;else return!1;else return pe(this,b)};
g.Fc=function(){var a=this.A,b=this.shift,c=new Wg({},ec(this.root.o)),d=this.cb,e=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];Se(d,0,e,0,d.length);return new kh(a,b,c,e)};g.ja=function(){return Qc(we,this.meta)};g.xa=function(a,b){return hh(this,b,0,this.A)};
g.ya=function(a,b,c){a=0;for(var d=c;;)if(a<this.A){var e=ch(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=e[f];d=b.j?b.j(d,h):b.call(null,d,h);if(be(d)){e=d;break a}f+=1}else{e=d;break a}if(be(e))return A(e);a+=c;d=e}else return d};g.Ka=function(a,b,c){if("number"===typeof b)return this.tb(null,b,c);throw Error("Vector's key for assoc must be a number.");};
g.Z=function(){if(0===this.A)var a=null;else if(32>=this.A)a=new I(this.cb,0,null);else{a:{a=this.root;for(var b=this.shift;;)if(0<b)b-=5,a=a.o[0];else{a=a.o;break a}}a=new lh(this,a,0,0,null,null)}return a};g.V=function(a,b){return b===this.meta?this:new X(b,this.A,this.shift,this.root,this.cb,this.F)};
g.ga=function(a,b){if(32>this.A-Zg(this)){a=this.cb.length;for(var c=Array(a+1),d=0;;)if(d<a)c[d]=this.cb[d],d+=1;else break;c[a]=b;return new X(this.meta,this.A+1,this.shift,this.root,c,null)}a=(c=this.A>>>5>1<<this.shift)?this.shift+5:this.shift;c?(c=Xg(null),c.o[0]=this.root,d=$g(null,this.shift,new Wg(null,this.cb)),c.o[1]=d):c=ah(this,this.shift,this.root,new Wg(null,this.cb));return new X(this.meta,this.A+1,a,c,[b],null)};
g.call=function(){var a=null;a=function(a,c,d){switch(arguments.length){case 2:return this.O(null,c);case 3:return this.da(null,c,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.j=function(a,c){return this.O(null,c)};a.l=function(a,c,d){return this.da(null,c,d)};return a}();g.apply=function(a,b){return this.call.apply(this,[this].concat(ec(b)))};g.h=function(a){return this.O(null,a)};g.j=function(a,b){return this.da(null,a,b)};
var Y=new Wg(null,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]),we=new X(null,0,5,Y,[],Wd);function mh(a){var b=a.length;if(32>b)return new X(null,b,5,Y,a,null);for(var c=32,d=(new X(null,32,5,Y,a.slice(0,32),null)).Fc(null);;)if(c<b){var e=c+1;d=Nf.j(d,a[c]);c=e}else return kd(d)}X.prototype[bc]=function(){return Td(this)};
function nh(a){return oh(a)?new X(null,2,5,Y,[Ec(a),Fc(a)],null):Qe(a)?Fe(a,null):Xb(a)?mh(a):kd(gc.l(jd,id(we),a))}var ph=function ph(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return ph.w(0<c.length?new I(c.slice(0),0,null):null)};ph.w=function(a){return a instanceof I&&0===a.i?mh(a.o):nh(a)};ph.H=0;ph.K=function(a){return this.w(H(a))};function lh(a,b,c,d,e,f){this.ob=a;this.node=b;this.i=c;this.off=d;this.meta=e;this.F=f;this.v=32375020;this.M=1536}
g=lh.prototype;g.toString=function(){return Bd(this)};g.equiv=function(a){return this.J(null,a)};g.indexOf=function(){var a=null;a=function(a,c){switch(arguments.length){case 1:return Q(this,a,0);case 2:return Q(this,a,c)}throw Error("Invalid arity: "+arguments.length);};a.h=function(a){return Q(this,a,0)};a.j=function(a,c){return Q(this,a,c)};return a}();
g.lastIndexOf=function(){function a(a){return S(this,a,R(this))}var b=null;b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return S(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.h=a;b.j=function(a,b){return S(this,a,b)};return b}();g.U=function(){return this.meta};g.wa=function(){if(this.off+1<this.node.length){var a=new lh(this.ob,this.node,this.i,this.off+1,null,null);return null==a?null:a}return this.me()};
g.T=function(){var a=this.F;return null!=a?a:this.F=a=Vd(this)};g.J=function(a,b){return pe(this,b)};g.ja=function(){return Rd};g.xa=function(a,b){return hh(this.ob,b,this.i+this.off,R(this.ob))};g.ya=function(a,b,c){return ih(this.ob,b,c,this.i+this.off,R(this.ob))};g.Ca=function(){return this.node[this.off]};g.Fa=function(){if(this.off+1<this.node.length){var a=new lh(this.ob,this.node,this.i,this.off+1,null,null);return null==a?Rd:a}return this.Ec(null)};g.Z=function(){return this};
g.yd=function(){var a=this.node;return new Ff(a,this.off,a.length)};g.Ec=function(){var a=this.i+this.node.length;return a<mc(this.ob)?new lh(this.ob,ch(this.ob,a),a,0,null,null):Rd};g.V=function(a,b){return b===this.meta?this:new lh(this.ob,this.node,this.i,this.off,b,null)};g.ga=function(a,b){return qe(b,this)};g.me=function(){var a=this.i+this.node.length;return a<mc(this.ob)?new lh(this.ob,ch(this.ob,a),a,0,null,null):null};lh.prototype[bc]=function(){return Td(this)};
function qh(a,b,c,d,e){this.meta=a;this.Ba=b;this.start=c;this.end=d;this.F=e;this.v=167666463;this.M=139264}g=qh.prototype;g.Sb=function(a,b){if(0>b)return null;a=this.start+b;return a<this.end?new jh(b,zc.j(this.Ba,a),null):null};g.toString=function(){return Bd(this)};g.equiv=function(a){return this.J(null,a)};
g.indexOf=function(){var a=null;a=function(a,c){switch(arguments.length){case 1:return Q(this,a,0);case 2:return Q(this,a,c)}throw Error("Invalid arity: "+arguments.length);};a.h=function(a){return Q(this,a,0)};a.j=function(a,c){return Q(this,a,c)};return a}();
g.lastIndexOf=function(){function a(a){return S(this,a,R(this))}var b=null;b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return S(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.h=a;b.j=function(a,b){return S(this,a,b)};return b}();g.X=function(a,b){return this.N(null,b,null)};g.N=function(a,b,c){return"number"===typeof b?this.da(null,b,c):c};
g.Ib=function(a,b,c){a=this.start;for(var d=0;;)if(a<this.end){var e=d,f=sc.j(this.Ba,a);c=b.l?b.l(c,e,f):b.call(null,c,e,f);if(be(c))return A(c);d+=1;a+=1}else return c};g.O=function(a,b){return 0>b||this.end<=this.start+b?bh(b,this.end-this.start):sc.j(this.Ba,this.start+b)};g.da=function(a,b,c){return 0>b||this.end<=this.start+b?c:sc.l(this.Ba,this.start+b,c)};
g.tb=function(a,b,c){a=this.start+b;if(0>b||this.end+1<=a)throw Error(["Index ",z.h(b)," out of bounds [0,",z.h(this.ca(null)),"]"].join(""));b=this.meta;c=V.l(this.Ba,a,c);var d=this.end;a+=1;return rh(b,c,this.start,d>a?d:a,null)};g.$a=function(){return null!=this.Ba&&p===this.Ba.ke?gh(this.Ba,this.start,this.end):new dg(this)};g.U=function(){return this.meta};g.Ma=function(){return new qh(this.meta,this.Ba,this.start,this.end,this.F)};g.ca=function(){return this.end-this.start};
g.Ub=function(){return sc.j(this.Ba,this.end-1)};g.Vb=function(){if(this.start===this.end)throw Error("Can't pop empty vector");return rh(this.meta,this.Ba,this.start,this.end-1,null)};g.Tb=function(){return this.start!==this.end?new oe(this,this.end-this.start-1,null):null};g.T=function(){var a=this.F;return null!=a?a:this.F=a=Vd(this)};g.J=function(a,b){return pe(this,b)};g.ja=function(){return Qc(we,this.meta)};
g.xa=function(a,b){return null!=this.Ba&&p===this.Ba.ke?hh(this.Ba,b,this.start,this.end):ee(this,b)};g.ya=function(a,b,c){return null!=this.Ba&&p===this.Ba.ke?ih(this.Ba,b,c,this.start,this.end):fe(this,b,c)};g.Ka=function(a,b,c){if("number"===typeof b)return this.tb(null,b,c);throw Error("Subvec's key for assoc must be a number.");};
g.Z=function(){var a=this;return function(b){return function e(d){return d===a.end?null:qe(sc.j(a.Ba,d),new Bf(null,function(){return function(){return e(d+1)}}(b),null,null))}}(this)(a.start)};g.V=function(a,b){return b===this.meta?this:rh(b,this.Ba,this.start,this.end,this.F)};g.ga=function(a,b){return rh(this.meta,Mc(this.Ba,this.end,b),this.start,this.end+1,null)};
g.call=function(){var a=null;a=function(a,c,d){switch(arguments.length){case 2:return this.O(null,c);case 3:return this.da(null,c,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.j=function(a,c){return this.O(null,c)};a.l=function(a,c,d){return this.da(null,c,d)};return a}();g.apply=function(a,b){return this.call.apply(this,[this].concat(ec(b)))};g.h=function(a){return this.O(null,a)};g.j=function(a,b){return this.da(null,a,b)};qh.prototype[bc]=function(){return Td(this)};
function rh(a,b,c,d,e){for(;;)if(b instanceof qh)c=b.start+c,d=b.start+d,b=b.Ba;else{if(!Qe(b))throw Error("v must satisfy IVector");var f=R(b);if(0>c||0>d||c>f||d>f)throw Error("Index out of bounds");return new qh(a,b,c,d,e)}}var sh=function sh(a){switch(arguments.length){case 2:return sh.j(arguments[0],arguments[1]);case 3:return sh.l(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.h(arguments.length)].join(""));}};sh.j=function(a,b){return sh.l(a,b,R(a))};
sh.l=function(a,b,c){if(null==b||null==c)throw Error("Assert failed: (and (not (nil? start)) (not (nil? end)))");return rh(null,a,b|0,c|0,null)};sh.H=3;function th(a,b){return a===b.ka?b:new Wg(a,ec(b.o))}var uh=function uh(a,b,c,d){c=th(a.root.ka,c);var f=a.A-1>>>b&31;if(5===b)a=d;else{var h=c.o[f];null!=h?(b-=5,a=uh.I?uh.I(a,b,h,d):uh.call(null,a,b,h,d)):a=$g(a.root.ka,b-5,d)}c.o[f]=a;return c};function kh(a,b,c,d){this.A=a;this.shift=b;this.root=c;this.cb=d;this.M=88;this.v=275}g=kh.prototype;
g.Hc=function(a,b){if(this.root.ka){if(32>this.A-Zg(this))this.cb[this.A&31]=b;else{a=new Wg(this.root.ka,this.cb);var c=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];c[0]=b;this.cb=c;this.A>>>5>1<<this.shift?(b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],c=this.shift+
5,b[0]=this.root,b[1]=$g(this.root.ka,this.shift,a),this.root=new Wg(this.root.ka,b),this.shift=c):this.root=uh(this,this.shift,this.root,a)}this.A+=1;return this}throw Error("conj! after persistent!");};g.Yc=function(){if(this.root.ka){this.root.ka=null;var a=this.A-Zg(this),b=Array(a);Se(this.cb,0,b,0,a);return new X(null,this.A,this.shift,this.root,b,null)}throw Error("persistent! called twice");};
g.Gc=function(a,b,c){if("number"===typeof b)return vh(this,b,c);throw Error("TransientVector's key for assoc! must be a number.");};
function vh(a,b,c){if(a.root.ka){if(0<=b&&b<a.A){if(Zg(a)<=b)a.cb[b&31]=c;else{var d=function(){return function(){return function k(d,h){h=th(a.root.ka,h);if(0===d)h.o[b&31]=c;else{var f=b>>>d&31;d=k(d-5,h.o[f]);h.o[f]=d}return h}}(a)(a.shift,a.root)}();a.root=d}return a}if(b===a.A)return a.Hc(null,c);throw Error(["Index ",z.h(b)," out of bounds for TransientVector of length",z.h(a.A)].join(""));}throw Error("assoc! after persistent!");}
g.ca=function(){if(this.root.ka)return this.A;throw Error("count after persistent!");};g.O=function(a,b){if(this.root.ka)return(0<=b&&b<this.A?ch(this,b):bh(b,this.A))[b&31];throw Error("nth after persistent!");};g.da=function(a,b,c){return 0<=b&&b<this.A?this.O(null,b):c};g.X=function(a,b){return this.N(null,b,null)};g.N=function(a,b,c){return"number"===typeof b?this.da(null,b,c):c};
g.call=function(){var a=null;a=function(a,c,d){switch(arguments.length){case 2:return this.X(null,c);case 3:return this.N(null,c,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.j=function(a,c){return this.X(null,c)};a.l=function(a,c,d){return this.N(null,c,d)};return a}();g.apply=function(a,b){return this.call.apply(this,[this].concat(ec(b)))};g.h=function(a){return this.X(null,a)};g.j=function(a,b){return this.N(null,a,b)};function wh(a,b){this.Kc=a;this.rd=b}
wh.prototype.ha=function(){var a=null!=this.Kc&&H(this.Kc);return a?a:(a=null!=this.rd)?this.rd.ha():a};wh.prototype.next=function(){if(null!=this.Kc){var a=J(this.Kc);this.Kc=M(this.Kc);return a}if(null!=this.rd&&this.rd.ha())return this.rd.next();throw Error("No such element");};wh.prototype.remove=function(){return Error("Unsupported operation")};function xh(a,b,c,d){this.meta=a;this.fb=b;this.lb=c;this.F=d;this.v=31850700;this.M=0}g=xh.prototype;g.toString=function(){return Bd(this)};
g.equiv=function(a){return this.J(null,a)};g.indexOf=function(){var a=null;a=function(a,c){switch(arguments.length){case 1:return Q(this,a,0);case 2:return Q(this,a,c)}throw Error("Invalid arity: "+arguments.length);};a.h=function(a){return Q(this,a,0)};a.j=function(a,c){return Q(this,a,c)};return a}();
g.lastIndexOf=function(){function a(a){return S(this,a,R(this))}var b=null;b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return S(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.h=a;b.j=function(a,b){return S(this,a,b)};return b}();g.U=function(){return this.meta};g.wa=function(){var a=M(this.fb);return a?new xh(this.meta,a,this.lb,null):null!=this.lb?new xh(this.meta,this.lb,null,null):null};g.T=function(){var a=this.F;return null!=a?a:this.F=a=Vd(this)};
g.J=function(a,b){return pe(this,b)};g.ja=function(){return Qc(Rd,this.meta)};g.Ca=function(){return J(this.fb)};g.Fa=function(){var a=M(this.fb);return a?new xh(this.meta,a,this.lb,null):null==this.lb?this.ja(null):new xh(this.meta,this.lb,null,null)};g.Z=function(){return this};g.V=function(a,b){return b===this.meta?this:new xh(b,this.fb,this.lb,this.F)};g.ga=function(a,b){return qe(b,this)};xh.prototype[bc]=function(){return Td(this)};
function yh(a,b,c,d,e){this.meta=a;this.count=b;this.fb=c;this.lb=d;this.F=e;this.M=139264;this.v=31858766}g=yh.prototype;g.toString=function(){return Bd(this)};g.equiv=function(a){return this.J(null,a)};g.indexOf=function(){var a=null;a=function(a,c){switch(arguments.length){case 1:return Q(this,a,0);case 2:return Q(this,a,c)}throw Error("Invalid arity: "+arguments.length);};a.h=function(a){return Q(this,a,0)};a.j=function(a,c){return Q(this,a,c)};return a}();
g.lastIndexOf=function(){function a(a){return S(this,a,this.count.h?this.count.h(this):this.count.call(null,this))}var b=null;b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return S(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.h=a;b.j=function(a,b){return S(this,a,b)};return b}();g.$a=function(){return new wh(this.fb,zd(this.lb))};g.U=function(){return this.meta};g.Ma=function(){return new yh(this.meta,this.count,this.fb,this.lb,this.F)};g.ca=function(){return this.count};
g.Ub=function(){return J(this.fb)};g.Vb=function(){if(v(this.fb)){var a=M(this.fb);return a?new yh(this.meta,this.count-1,a,this.lb,null):new yh(this.meta,this.count-1,H(this.lb),we,null)}return this};g.T=function(){var a=this.F;return null!=a?a:this.F=a=Vd(this)};g.J=function(a,b){return pe(this,b)};g.ja=function(){return Qc(zh,this.meta)};g.Ca=function(){return J(this.fb)};g.Fa=function(){return Qd(H(this))};
g.Z=function(){var a=H(this.lb),b=this.fb;return v(v(b)?b:a)?new xh(null,this.fb,H(a),null):null};g.V=function(a,b){return b===this.meta?this:new yh(b,this.count,this.fb,this.lb,this.F)};g.ga=function(a,b){v(this.fb)?(a=this.lb,b=new yh(this.meta,this.count+1,this.fb,ve.j(v(a)?a:we,b),null)):b=new yh(this.meta,this.count+1,ve.j(this.fb,b),we,null);return b};var zh=new yh(null,0,null,we,Wd);yh.prototype[bc]=function(){return Td(this)};function Ah(){this.v=2097152;this.M=0}
Ah.prototype.equiv=function(a){return this.J(null,a)};Ah.prototype.J=function(){return!1};var Bh=new Ah;function Ch(a,b){return Ve(Ne(b)&&!Oe(b)?R(a)===R(b)?(null!=a?a.v&1048576||p===a.yg||(a.v?0:w(Tc,a)):w(Tc,a))?df(function(a,d,e){return P.j(D.l(b,d,Bh),e)?!0:ae(!1)},!0,a):ng(function(a){return P.j(D.l(b,J(a),Bh),te(a))},a):null:null)}function Dh(a,b,c,d){this.i=0;this.jg=a;this.Ze=b;this.fields=c;this.hf=d}Dh.prototype.ha=function(){var a=this.i<this.Ze;return a?a:this.hf.ha()};
Dh.prototype.next=function(){if(this.i<this.Ze){var a=le(this.fields,this.i);this.i+=1;return new jh(a,zc.j(this.jg,a),null)}return this.hf.next()};Dh.prototype.remove=function(){return Error("Unsupported operation")};function Eh(a){this.s=a}Eh.prototype.next=function(){if(null!=this.s){var a=J(this.s),b=U(a,0);a=U(a,1);this.s=M(this.s);return{value:[b,a],done:!1}}return{value:null,done:!0}};function Fh(a){this.s=a}
Fh.prototype.next=function(){if(null!=this.s){var a=J(this.s);this.s=M(this.s);return{value:[a,a],done:!1}}return{value:null,done:!0}};
function Gh(a,b){if(b instanceof F)a:{var c=a.length;b=b.La;for(var d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof F&&b===a[d].La){a=d;break a}d+=2}}else if(da(b)||"number"===typeof b)a:for(c=a.length,d=0;;){if(c<=d){a=-1;break a}if(b===a[d]){a=d;break a}d+=2}else if(b instanceof B)a:for(c=a.length,b=b.ib,d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof B&&b===a[d].ib){a=d;break a}d+=2}else if(null==b)a:for(b=a.length,c=0;;){if(b<=c){a=-1;break a}if(null==a[c]){a=c;break a}c+=2}else a:for(c=a.length,
d=0;;){if(c<=d){a=-1;break a}if(P.j(b,a[d])){a=d;break a}d+=2}return a}function jh(a,b,c){this.key=a;this.B=b;this.F=c;this.v=166619935;this.M=0}g=jh.prototype;g.Sb=function(a,b){switch(b){case 0:return new jh(0,this.key,null);case 1:return new jh(1,this.B,null);default:return null}};
g.indexOf=function(){var a=null;a=function(a,c){switch(arguments.length){case 1:return Q(this,a,0);case 2:return Q(this,a,c)}throw Error("Invalid arity: "+arguments.length);};a.h=function(a){return Q(this,a,0)};a.j=function(a,c){return Q(this,a,c)};return a}();
g.lastIndexOf=function(){function a(a){return S(this,a,R(this))}var b=null;b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return S(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.h=a;b.j=function(a,b){return S(this,a,b)};return b}();g.X=function(a,b){return this.da(null,b,null)};g.N=function(a,b,c){return this.da(null,b,c)};g.O=function(a,b){if(0===b)return this.key;if(1===b)return this.B;throw Error("Index out of bounds");};
g.da=function(a,b,c){return 0===b?this.key:1===b?this.B:c};g.tb=function(a,b,c){return(new X(null,2,5,Y,[this.key,this.B],null)).tb(null,b,c)};g.U=function(){return null};g.ca=function(){return 2};g.pe=function(){return this.key};g.qe=function(){return this.B};g.Ub=function(){return this.B};g.Vb=function(){return new X(null,1,5,Y,[this.key],null)};g.Tb=function(){return new I([this.B,this.key],0,null)};g.T=function(){var a=this.F;return null!=a?a:this.F=a=Vd(this)};
g.J=function(a,b){return pe(this,b)};g.ja=function(){return null};g.xa=function(a,b){return ee(this,b)};g.ya=function(a,b,c){return fe(this,b,c)};g.Ka=function(a,b,c){return V.l(new X(null,2,5,Y,[this.key,this.B],null),b,c)};g.Z=function(){return new I([this.key,this.B],0,null)};g.V=function(a,b){return Fe(new X(null,2,5,Y,[this.key,this.B],null),b)};g.ga=function(a,b){return new X(null,3,5,Y,[this.key,this.B,b],null)};
g.call=function(){var a=null;a=function(a,c,d){switch(arguments.length){case 2:return this.O(null,c);case 3:return this.da(null,c,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.j=function(a,c){return this.O(null,c)};a.l=function(a,c,d){return this.da(null,c,d)};return a}();g.apply=function(a,b){return this.call.apply(this,[this].concat(ec(b)))};g.h=function(a){return this.O(null,a)};g.j=function(a,b){return this.da(null,a,b)};function oh(a){return null!=a?a.v&2048||p===a.Ag?!0:!1:!1}
function Hh(a,b,c){this.o=a;this.i=b;this.Fb=c;this.v=32374990;this.M=0}g=Hh.prototype;g.toString=function(){return Bd(this)};g.equiv=function(a){return this.J(null,a)};g.indexOf=function(){var a=null;a=function(a,c){switch(arguments.length){case 1:return Q(this,a,0);case 2:return Q(this,a,c)}throw Error("Invalid arity: "+arguments.length);};a.h=function(a){return Q(this,a,0)};a.j=function(a,c){return Q(this,a,c)};return a}();
g.lastIndexOf=function(){function a(a){return S(this,a,R(this))}var b=null;b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return S(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.h=a;b.j=function(a,b){return S(this,a,b)};return b}();g.U=function(){return this.Fb};g.wa=function(){return this.i<this.o.length-2?new Hh(this.o,this.i+2,null):null};g.ca=function(){return(this.o.length-this.i)/2};g.T=function(){return Vd(this)};
g.J=function(a,b){return pe(this,b)};g.ja=function(){return Rd};g.xa=function(a,b){return re(b,this)};g.ya=function(a,b,c){return se(b,c,this)};g.Ca=function(){return new jh(this.o[this.i],this.o[this.i+1],null)};g.Fa=function(){return this.i<this.o.length-2?new Hh(this.o,this.i+2,null):Rd};g.Z=function(){return this};g.V=function(a,b){return b===this.Fb?this:new Hh(this.o,this.i,b)};g.ga=function(a,b){return qe(b,this)};Hh.prototype[bc]=function(){return Td(this)};
function Ih(a,b){this.o=a;this.i=0;this.A=b}Ih.prototype.ha=function(){return this.i<this.A};Ih.prototype.next=function(){var a=new jh(this.o[this.i],this.o[this.i+1],null);this.i+=2;return a};function t(a,b,c,d){this.meta=a;this.A=b;this.o=c;this.F=d;this.v=16647951;this.M=139268}g=t.prototype;g.Sb=function(a,b){a=Gh(this.o,b);return-1===a?null:new jh(this.o[a],this.o[a+1],null)};g.toString=function(){return Bd(this)};g.equiv=function(a){return this.J(null,a)};g.keys=function(){return Td(Jh(this))};
g.entries=function(){return new Eh(H(H(this)))};g.values=function(){return Td(Kh(this))};g.has=function(a){return Xe(this,a)};g.get=function(a,b){return this.N(null,a,b)};g.forEach=function(a){for(var b=H(this),c=null,d=0,e=0;;)if(e<d){var f=c.O(null,e),h=U(f,0);f=U(f,1);a.j?a.j(f,h):a.call(null,f,h);e+=1}else if(b=H(b))Re(b)?(c=qd(b),b=sd(b),h=c,d=R(c),c=h):(c=J(b),h=U(c,0),f=U(c,1),a.j?a.j(f,h):a.call(null,f,h),b=M(b),c=null,d=0),e=0;else return null};g.X=function(a,b){return this.N(null,b,null)};
g.N=function(a,b,c){a=Gh(this.o,b);return-1===a?c:this.o[a+1]};g.Ib=function(a,b,c){a=this.o.length;for(var d=0;;)if(d<a){var e=this.o[d],f=this.o[d+1];c=b.l?b.l(c,e,f):b.call(null,c,e,f);if(be(c))return A(c);d+=2}else return c};g.$a=function(){return new Ih(this.o,2*this.A)};g.U=function(){return this.meta};g.Ma=function(){return new t(this.meta,this.A,this.o,this.F)};g.ca=function(){return this.A};g.T=function(){var a=this.F;return null!=a?a:this.F=a=Xd(this)};
g.J=function(a,b){if(Ne(b)&&!Oe(b))if(a=this.o.length,this.A===b.ca(null))for(var c=0;;)if(c<a){var d=b.N(null,this.o[c],Te);if(d!==Te)if(P.j(this.o[c+1],d))c+=2;else return!1;else return!1}else return!0;else return!1;else return!1};g.Fc=function(){return new Lh(this.o.length,ec(this.o))};g.ja=function(){return Qc(Zf,this.meta)};g.xa=function(a,b){return bf(this,b)};g.ya=function(a,b,c){return cf(this,b,c)};
g.fc=function(a,b){if(0<=Gh(this.o,b)){a=this.o.length;var c=a-2;if(0===c)return this.ja(null);c=Array(c);for(var d=0,e=0;;){if(d>=a)return new t(this.meta,this.A-1,c,null);P.j(b,this.o[d])?d+=2:(c[e]=this.o[d],c[e+1]=this.o[d+1],e+=2,d+=2)}}else return this};
g.Ka=function(a,b,c){a=Gh(this.o,b);if(-1===a){if(this.A<Mh){a=this.o;for(var d=a.length,e=Array(d+2),f=0;;)if(f<d)e[f]=a[f],f+=1;else break;e[d]=b;e[d+1]=c;return new t(this.meta,this.A+1,e,null)}return Qc(Ac(ug.j(Nh,this),b,c),this.meta)}if(c===this.o[a+1])return this;b=ec(this.o);b[a+1]=c;return new t(this.meta,this.A,b,null)};g.Z=function(){var a=this.o;return 0<=a.length-2?new Hh(a,0,null):null};g.V=function(a,b){return b===this.meta?this:new t(b,this.A,this.o,this.F)};
g.ga=function(a,b){if(Qe(b))return this.Ka(null,sc.j(b,0),sc.j(b,1));a=this;for(b=H(b);;){if(null==b)return a;var c=J(b);if(Qe(c))a=Ac(a,sc.j(c,0),sc.j(c,1)),b=M(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
g.call=function(){var a=null;a=function(a,c,d){switch(arguments.length){case 2:return this.X(null,c);case 3:return this.N(null,c,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.j=function(a,c){return this.X(null,c)};a.l=function(a,c,d){return this.N(null,c,d)};return a}();g.apply=function(a,b){return this.call.apply(this,[this].concat(ec(b)))};g.h=function(a){return this.X(null,a)};g.j=function(a,b){return this.N(null,a,b)};var Zf=new t(null,0,[],Yd),Mh=8;
function Ae(a){for(var b=[],c=0;;)if(c<a.length){var d=a[c],e=a[c+1],f=Gh(b,d);-1===f?(f=b,f.push(d),f.push(e)):b[f+1]=e;c+=2}else break;return new t(null,b.length/2,b,null)}t.prototype[bc]=function(){return Td(this)};function Lh(a,b){this.qc={};this.Ob=a;this.o=b;this.v=259;this.M=56}g=Lh.prototype;g.ca=function(){if(v(this.qc))return mf(this.Ob,2);throw Error("count after persistent!");};g.X=function(a,b){return this.N(null,b,null)};
g.N=function(a,b,c){if(v(this.qc))return a=Gh(this.o,b),-1===a?c:this.o[a+1];throw Error("lookup after persistent!");};g.Hc=function(a,b){if(v(this.qc)){if(oh(b))return this.Gc(null,Ec(b),Fc(b));if(Qe(b))return this.Gc(null,b.h?b.h(0):b.call(null,0),b.h?b.h(1):b.call(null,1));a=H(b);for(b=this;;){var c=J(a);if(v(c))a=M(a),b=ld(b,Ec(c),Fc(c));else return b}}else throw Error("conj! after persistent!");};
g.Yc=function(){if(v(this.qc))return this.qc=!1,new t(null,mf(this.Ob,2),this.o,null);throw Error("persistent! called twice");};g.Gc=function(a,b,c){if(v(this.qc)){a=Gh(this.o,b);if(-1===a){if(this.Ob+2<=2*Mh)return this.Ob+=2,this.o.push(b),this.o.push(c),this;a:{a=this.Ob;var d=this.o;var e=id(Nh);for(var f=0;;)if(f<a)e=ld(e,d[f],d[f+1]),f+=2;else break a}return ld(e,b,c)}c!==this.o[a+1]&&(this.o[a+1]=c);return this}throw Error("assoc! after persistent!");};
g.ue=function(a,b){if(v(this.qc))return a=Gh(this.o,b),0<=a&&(this.o[a]=this.o[this.Ob-2],this.o[a+1]=this.o[this.Ob-1],a=this.o,a.pop(),a.pop(),this.Ob-=2),this;throw Error("dissoc! after persistent!");};g.call=function(){var a=null;a=function(a,c,d){switch(arguments.length){case 2:return this.N(null,c,null);case 3:return this.N(null,c,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.j=function(a,c){return this.N(null,c,null)};a.l=function(a,c,d){return this.N(null,c,d)};return a}();
g.apply=function(a,b){return this.call.apply(this,[this].concat(ec(b)))};g.h=function(a){return this.N(null,a,null)};g.j=function(a,b){return this.N(null,a,b)};function Oh(){this.B=!1}function Qh(a,b){return a===b?!0:wf(a,b)?!0:P.j(a,b)}function Rh(a,b,c){a=ec(a);a[b]=c;return a}function Sh(a,b){var c=Array(a.length-2);Se(a,0,c,0,2*b);Se(a,2*(b+1),c,2*b,c.length-2*b);return c}function Th(a,b,c,d){a=a.Zb(b);a.o[c]=d;return a}
function Uh(a,b,c){for(var d=a.length,e=0,f=c;;)if(e<d){c=a[e];if(null!=c){var h=a[e+1];c=b.l?b.l(f,c,h):b.call(null,f,c,h)}else c=a[e+1],c=null!=c?c.vc(b,f):f;if(be(c))return c;e+=2;f=c}else return f}function Vh(a){this.o=a;this.i=0;this.zb=this.nd=null}Vh.prototype.advance=function(){for(var a=this.o.length;;)if(this.i<a){var b=this.o[this.i],c=this.o[this.i+1];null!=b?b=this.nd=new jh(b,c,null):null!=c?(b=zd(c),b=b.ha()?this.zb=b:!1):b=!1;this.i+=2;if(b)return!0}else return!1};
Vh.prototype.ha=function(){var a=null!=this.nd;return a?a:(a=null!=this.zb)?a:this.advance()};Vh.prototype.next=function(){if(null!=this.nd){var a=this.nd;this.nd=null;return a}if(null!=this.zb)return a=this.zb.next(),this.zb.ha()||(this.zb=null),a;if(this.advance())return this.next();throw Error("No such element");};Vh.prototype.remove=function(){return Error("Unsupported operation")};function Wh(a,b,c){this.ka=a;this.fa=b;this.o=c;this.M=131072;this.v=0}g=Wh.prototype;
g.Zb=function(a){if(a===this.ka)return this;var b=nf(this.fa),c=Array(0>b?4:2*(b+1));Se(this.o,0,c,0,2*b);return new Wh(a,this.fa,c)};g.md=function(a,b,c,d,e){var f=1<<(c>>>b&31);if(0===(this.fa&f))return this;var h=nf(this.fa&f-1),k=this.o[2*h],l=this.o[2*h+1];return null==k?(b=l.md(a,b+5,c,d,e),b===l?this:null!=b?Th(this,a,2*h+1,b):this.fa===f?null:Xh(this,a,f,h)):Qh(d,k)?(e.B=!0,Xh(this,a,f,h)):this};
function Xh(a,b,c,d){if(a.fa===c)return null;a=a.Zb(b);b=a.o;var e=b.length;a.fa^=c;Se(b,2*(d+1),b,2*d,e-2*(d+1));b[e-2]=null;b[e-1]=null;return a}g.kd=function(){return Yh(this.o,0,null)};g.vc=function(a,b){return Uh(this.o,a,b)};g.tc=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.fa&e))return d;var f=nf(this.fa&e-1);e=this.o[2*f];f=this.o[2*f+1];return null==e?f.tc(a+5,b,c,d):Qh(c,e)?f:d};
g.xb=function(a,b,c,d,e,f){var h=1<<(c>>>b&31),k=nf(this.fa&h-1);if(0===(this.fa&h)){var l=nf(this.fa);if(2*l<this.o.length){a=this.Zb(a);b=a.o;f.B=!0;a:for(c=2*(l-k),f=2*k+(c-1),l=2*(k+1)+(c-1);;){if(0===c)break a;b[l]=b[f];--l;--c;--f}b[2*k]=d;b[2*k+1]=e;a.fa|=h;return a}if(16<=l){k=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];k[c>>>b&31]=Zh.xb(a,b+5,c,d,e,f);for(e=d=0;;)if(32>d)0===
(this.fa>>>d&1)?d+=1:(k[d]=null!=this.o[e]?Zh.xb(a,b+5,Kd(this.o[e]),this.o[e],this.o[e+1],f):this.o[e+1],e+=2,d+=1);else break;return new $h(a,l+1,k)}b=Array(2*(l+4));Se(this.o,0,b,0,2*k);b[2*k]=d;b[2*k+1]=e;Se(this.o,2*k,b,2*(k+1),2*(l-k));f.B=!0;a=this.Zb(a);a.o=b;a.fa|=h;return a}l=this.o[2*k];h=this.o[2*k+1];if(null==l)return l=h.xb(a,b+5,c,d,e,f),l===h?this:Th(this,a,2*k+1,l);if(Qh(d,l))return e===h?this:Th(this,a,2*k+1,e);f.B=!0;f=b+5;b=Kd(l);if(b===c)e=new ai(null,b,2,[l,h,d,e]);else{var m=
new Oh;e=Zh.xb(a,f,b,l,h,m).xb(a,f,c,d,e,m)}d=2*k;k=2*k+1;a=this.Zb(a);a.o[d]=null;a.o[k]=e;return a};
g.wb=function(a,b,c,d,e){var f=1<<(b>>>a&31),h=nf(this.fa&f-1);if(0===(this.fa&f)){var k=nf(this.fa);if(16<=k){h=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];h[b>>>a&31]=Zh.wb(a+5,b,c,d,e);for(d=c=0;;)if(32>c)0===(this.fa>>>c&1)?c+=1:(h[c]=null!=this.o[d]?Zh.wb(a+5,Kd(this.o[d]),this.o[d],this.o[d+1],e):this.o[d+1],d+=2,c+=1);else break;return new $h(null,k+1,h)}a=Array(2*(k+1));Se(this.o,
0,a,0,2*h);a[2*h]=c;a[2*h+1]=d;Se(this.o,2*h,a,2*(h+1),2*(k-h));e.B=!0;return new Wh(null,this.fa|f,a)}var l=this.o[2*h];f=this.o[2*h+1];if(null==l)return k=f.wb(a+5,b,c,d,e),k===f?this:new Wh(null,this.fa,Rh(this.o,2*h+1,k));if(Qh(c,l))return d===f?this:new Wh(null,this.fa,Rh(this.o,2*h+1,d));e.B=!0;e=this.fa;k=this.o;a+=5;var m=Kd(l);if(m===b)c=new ai(null,m,2,[l,f,c,d]);else{var q=new Oh;c=Zh.wb(a,m,l,f,q).wb(a,b,c,d,q)}a=2*h;h=2*h+1;d=ec(k);d[a]=null;d[h]=c;return new Wh(null,e,d)};
g.jd=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.fa&e))return d;var f=nf(this.fa&e-1);e=this.o[2*f];f=this.o[2*f+1];return null==e?f.jd(a+5,b,c,d):Qh(c,e)?new jh(e,f,null):d};g.ld=function(a,b,c){var d=1<<(b>>>a&31);if(0===(this.fa&d))return this;var e=nf(this.fa&d-1),f=this.o[2*e],h=this.o[2*e+1];return null==f?(a=h.ld(a+5,b,c),a===h?this:null!=a?new Wh(null,this.fa,Rh(this.o,2*e+1,a)):this.fa===d?null:new Wh(null,this.fa^d,Sh(this.o,e))):Qh(c,f)?new Wh(null,this.fa^d,Sh(this.o,e)):this};
g.$a=function(){return new Vh(this.o)};var Zh=new Wh(null,0,[]);function bi(a,b,c){var d=a.o,e=d.length;a=Array(2*(a.A-1));for(var f=0,h=1,k=0;;)if(f<e)f!==c&&null!=d[f]?(a[h]=d[f],h+=2,k|=1<<f,f+=1):f+=1;else return new Wh(b,k,a)}function ci(a){this.o=a;this.i=0;this.zb=null}ci.prototype.ha=function(){for(var a=this.o.length;;){if(null!=this.zb&&this.zb.ha())return!0;if(this.i<a){var b=this.o[this.i];this.i+=1;null!=b&&(this.zb=zd(b))}else return!1}};
ci.prototype.next=function(){if(this.ha())return this.zb.next();throw Error("No such element");};ci.prototype.remove=function(){return Error("Unsupported operation")};function $h(a,b,c){this.ka=a;this.A=b;this.o=c;this.M=131072;this.v=0}g=$h.prototype;g.Zb=function(a){return a===this.ka?this:new $h(a,this.A,ec(this.o))};
g.md=function(a,b,c,d,e){var f=c>>>b&31,h=this.o[f];if(null==h)return this;b=h.md(a,b+5,c,d,e);if(b===h)return this;if(null==b){if(8>=this.A)return bi(this,a,f);a=Th(this,a,f,b);--a.A;return a}return Th(this,a,f,b)};g.kd=function(){return di(this.o,0,null)};g.vc=function(a,b){for(var c=this.o.length,d=0;;)if(d<c){var e=this.o[d];if(null!=e){b=e.vc(a,b);if(be(b))return b;d+=1}else d+=1}else return b};g.tc=function(a,b,c,d){var e=this.o[b>>>a&31];return null!=e?e.tc(a+5,b,c,d):d};
g.xb=function(a,b,c,d,e,f){var h=c>>>b&31,k=this.o[h];if(null==k)return a=Th(this,a,h,Zh.xb(a,b+5,c,d,e,f)),a.A+=1,a;b=k.xb(a,b+5,c,d,e,f);return b===k?this:Th(this,a,h,b)};g.wb=function(a,b,c,d,e){var f=b>>>a&31,h=this.o[f];if(null==h)return new $h(null,this.A+1,Rh(this.o,f,Zh.wb(a+5,b,c,d,e)));a=h.wb(a+5,b,c,d,e);return a===h?this:new $h(null,this.A,Rh(this.o,f,a))};g.jd=function(a,b,c,d){var e=this.o[b>>>a&31];return null!=e?e.jd(a+5,b,c,d):d};
g.ld=function(a,b,c){var d=b>>>a&31,e=this.o[d];return null!=e?(a=e.ld(a+5,b,c),a===e?this:null==a?8>=this.A?bi(this,null,d):new $h(null,this.A-1,Rh(this.o,d,a)):new $h(null,this.A,Rh(this.o,d,a))):this};g.$a=function(){return new ci(this.o)};function ei(a,b,c){b*=2;for(var d=0;;)if(d<b){if(Qh(c,a[d]))return d;d+=2}else return-1}function ai(a,b,c,d){this.ka=a;this.Wb=b;this.A=c;this.o=d;this.M=131072;this.v=0}g=ai.prototype;
g.Zb=function(a){if(a===this.ka)return this;var b=Array(2*(this.A+1));Se(this.o,0,b,0,2*this.A);return new ai(a,this.Wb,this.A,b)};g.md=function(a,b,c,d,e){b=ei(this.o,this.A,d);if(-1===b)return this;e.B=!0;if(1===this.A)return null;a=this.Zb(a);e=a.o;e[b]=e[2*this.A-2];e[b+1]=e[2*this.A-1];e[2*this.A-1]=null;e[2*this.A-2]=null;--a.A;return a};g.kd=function(){return Yh(this.o,0,null)};g.vc=function(a,b){return Uh(this.o,a,b)};
g.tc=function(a,b,c,d){a=ei(this.o,this.A,c);return 0>a?d:Qh(c,this.o[a])?this.o[a+1]:d};
g.xb=function(a,b,c,d,e,f){if(c===this.Wb){b=ei(this.o,this.A,d);if(-1===b){if(this.o.length>2*this.A)return b=2*this.A,c=2*this.A+1,a=this.Zb(a),a.o[b]=d,a.o[c]=e,f.B=!0,a.A+=1,a;c=this.o.length;b=Array(c+2);Se(this.o,0,b,0,c);b[c]=d;b[c+1]=e;f.B=!0;d=this.A+1;a===this.ka?(this.o=b,this.A=d,a=this):a=new ai(this.ka,this.Wb,d,b);return a}return this.o[b+1]===e?this:Th(this,a,b+1,e)}return(new Wh(a,1<<(this.Wb>>>b&31),[null,this,null,null])).xb(a,b,c,d,e,f)};
g.wb=function(a,b,c,d,e){return b===this.Wb?(a=ei(this.o,this.A,c),-1===a?(a=2*this.A,b=Array(a+2),Se(this.o,0,b,0,a),b[a]=c,b[a+1]=d,e.B=!0,new ai(null,this.Wb,this.A+1,b)):P.j(this.o[a+1],d)?this:new ai(null,this.Wb,this.A,Rh(this.o,a+1,d))):(new Wh(null,1<<(this.Wb>>>a&31),[null,this])).wb(a,b,c,d,e)};g.jd=function(a,b,c,d){a=ei(this.o,this.A,c);return 0>a?d:Qh(c,this.o[a])?new jh(this.o[a],this.o[a+1],null):d};
g.ld=function(a,b,c){a=ei(this.o,this.A,c);return-1===a?this:1===this.A?null:new ai(null,this.Wb,this.A-1,Sh(this.o,mf(a,2)))};g.$a=function(){return new Vh(this.o)};function fi(a,b,c,d,e){this.meta=a;this.Ab=b;this.i=c;this.s=d;this.F=e;this.v=32374988;this.M=0}g=fi.prototype;g.toString=function(){return Bd(this)};g.equiv=function(a){return this.J(null,a)};
g.indexOf=function(){var a=null;a=function(a,c){switch(arguments.length){case 1:return Q(this,a,0);case 2:return Q(this,a,c)}throw Error("Invalid arity: "+arguments.length);};a.h=function(a){return Q(this,a,0)};a.j=function(a,c){return Q(this,a,c)};return a}();
g.lastIndexOf=function(){function a(a){return S(this,a,R(this))}var b=null;b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return S(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.h=a;b.j=function(a,b){return S(this,a,b)};return b}();g.U=function(){return this.meta};g.wa=function(){return null==this.s?Yh(this.Ab,this.i+2,null):Yh(this.Ab,this.i,M(this.s))};g.T=function(){var a=this.F;return null!=a?a:this.F=a=Vd(this)};g.J=function(a,b){return pe(this,b)};
g.ja=function(){return Rd};g.xa=function(a,b){return re(b,this)};g.ya=function(a,b,c){return se(b,c,this)};g.Ca=function(){return null==this.s?new jh(this.Ab[this.i],this.Ab[this.i+1],null):J(this.s)};g.Fa=function(){var a=null==this.s?Yh(this.Ab,this.i+2,null):Yh(this.Ab,this.i,M(this.s));return null!=a?a:Rd};g.Z=function(){return this};g.V=function(a,b){return b===this.meta?this:new fi(b,this.Ab,this.i,this.s,this.F)};g.ga=function(a,b){return qe(b,this)};fi.prototype[bc]=function(){return Td(this)};
function Yh(a,b,c){if(null==c)for(c=a.length;;)if(b<c){if(null!=a[b])return new fi(null,a,b,null,null);var d=a[b+1];if(v(d)&&(d=d.kd(),v(d)))return new fi(null,a,b+2,d,null);b+=2}else return null;else return new fi(null,a,b,c,null)}function gi(a,b,c,d,e){this.meta=a;this.Ab=b;this.i=c;this.s=d;this.F=e;this.v=32374988;this.M=0}g=gi.prototype;g.toString=function(){return Bd(this)};g.equiv=function(a){return this.J(null,a)};
g.indexOf=function(){var a=null;a=function(a,c){switch(arguments.length){case 1:return Q(this,a,0);case 2:return Q(this,a,c)}throw Error("Invalid arity: "+arguments.length);};a.h=function(a){return Q(this,a,0)};a.j=function(a,c){return Q(this,a,c)};return a}();
g.lastIndexOf=function(){function a(a){return S(this,a,R(this))}var b=null;b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return S(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.h=a;b.j=function(a,b){return S(this,a,b)};return b}();g.U=function(){return this.meta};g.wa=function(){return di(this.Ab,this.i,M(this.s))};g.T=function(){var a=this.F;return null!=a?a:this.F=a=Vd(this)};g.J=function(a,b){return pe(this,b)};g.ja=function(){return Rd};
g.xa=function(a,b){return re(b,this)};g.ya=function(a,b,c){return se(b,c,this)};g.Ca=function(){return J(this.s)};g.Fa=function(){var a=di(this.Ab,this.i,M(this.s));return null!=a?a:Rd};g.Z=function(){return this};g.V=function(a,b){return b===this.meta?this:new gi(b,this.Ab,this.i,this.s,this.F)};g.ga=function(a,b){return qe(b,this)};gi.prototype[bc]=function(){return Td(this)};
function di(a,b,c){if(null==c)for(c=a.length;;)if(b<c){var d=a[b];if(v(d)&&(d=d.kd(),v(d)))return new gi(null,a,b+1,d,null);b+=1}else return null;else return new gi(null,a,b,c,null)}function hi(a,b){this.Ia=a;this.xf=b;this.Ne=!1}hi.prototype.ha=function(){return!this.Ne||this.xf.ha()};hi.prototype.next=function(){if(this.Ne)return this.xf.next();this.Ne=!0;return new jh(null,this.Ia,null)};hi.prototype.remove=function(){return Error("Unsupported operation")};
function ii(a,b,c,d,e,f){this.meta=a;this.A=b;this.root=c;this.Ha=d;this.Ia=e;this.F=f;this.v=16123663;this.M=139268}g=ii.prototype;g.Sb=function(a,b){return null==b?this.Ha?new jh(null,this.Ia,null):null:null==this.root?null:this.root.jd(0,Kd(b),b,null)};g.toString=function(){return Bd(this)};g.equiv=function(a){return this.J(null,a)};g.keys=function(){return Td(Jh(this))};g.entries=function(){return new Eh(H(H(this)))};g.values=function(){return Td(Kh(this))};g.has=function(a){return Xe(this,a)};
g.get=function(a,b){return this.N(null,a,b)};g.forEach=function(a){for(var b=H(this),c=null,d=0,e=0;;)if(e<d){var f=c.O(null,e),h=U(f,0);f=U(f,1);a.j?a.j(f,h):a.call(null,f,h);e+=1}else if(b=H(b))Re(b)?(c=qd(b),b=sd(b),h=c,d=R(c),c=h):(c=J(b),h=U(c,0),f=U(c,1),a.j?a.j(f,h):a.call(null,f,h),b=M(b),c=null,d=0),e=0;else return null};g.X=function(a,b){return this.N(null,b,null)};g.N=function(a,b,c){return null==b?this.Ha?this.Ia:c:null==this.root?c:this.root.tc(0,Kd(b),b,c)};
g.Ib=function(a,b,c){a=this.Ha?b.l?b.l(c,null,this.Ia):b.call(null,c,null,this.Ia):c;return be(a)?A(a):null!=this.root?ce(this.root.vc(b,a)):a};g.$a=function(){var a=this.root?zd(this.root):Xf();return this.Ha?new hi(this.Ia,a):a};g.U=function(){return this.meta};g.Ma=function(){return new ii(this.meta,this.A,this.root,this.Ha,this.Ia,this.F)};g.ca=function(){return this.A};g.T=function(){var a=this.F;return null!=a?a:this.F=a=Xd(this)};g.J=function(a,b){return Ch(this,b)};
g.Fc=function(){return new ji(this.root,this.A,this.Ha,this.Ia)};g.ja=function(){return Qc(Nh,this.meta)};g.fc=function(a,b){if(null==b)return this.Ha?new ii(this.meta,this.A-1,this.root,!1,null,null):this;if(null==this.root)return this;a=this.root.ld(0,Kd(b),b);return a===this.root?this:new ii(this.meta,this.A-1,a,this.Ha,this.Ia,null)};
g.Ka=function(a,b,c){if(null==b)return this.Ha&&c===this.Ia?this:new ii(this.meta,this.Ha?this.A:this.A+1,this.root,!0,c,null);a=new Oh;b=(null==this.root?Zh:this.root).wb(0,Kd(b),b,c,a);return b===this.root?this:new ii(this.meta,a.B?this.A+1:this.A,b,this.Ha,this.Ia,null)};g.Z=function(){if(0<this.A){var a=null!=this.root?this.root.kd():null;return this.Ha?qe(new jh(null,this.Ia,null),a):a}return null};g.V=function(a,b){return b===this.meta?this:new ii(b,this.A,this.root,this.Ha,this.Ia,this.F)};
g.ga=function(a,b){if(Qe(b))return this.Ka(null,sc.j(b,0),sc.j(b,1));a=this;for(b=H(b);;){if(null==b)return a;var c=J(b);if(Qe(c))a=Ac(a,sc.j(c,0),sc.j(c,1)),b=M(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
g.call=function(){var a=null;a=function(a,c,d){switch(arguments.length){case 2:return this.X(null,c);case 3:return this.N(null,c,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.j=function(a,c){return this.X(null,c)};a.l=function(a,c,d){return this.N(null,c,d)};return a}();g.apply=function(a,b){return this.call.apply(this,[this].concat(ec(b)))};g.h=function(a){return this.X(null,a)};g.j=function(a,b){return this.N(null,a,b)};var Nh=new ii(null,0,null,!1,null,Yd);
function ki(a,b){for(var c=a.length,d=0,e=id(Nh);;)if(d<c){var f=d+1;e=ld(e,a[d],b[d]);d=f}else return kd(e)}ii.prototype[bc]=function(){return Td(this)};function ji(a,b,c,d){this.ka={};this.root=a;this.count=b;this.Ha=c;this.Ia=d;this.v=259;this.M=56}function li(a,b,c){if(a.ka){if(null==b)a.Ia!==c&&(a.Ia=c),a.Ha||(a.count+=1,a.Ha=!0);else{var d=new Oh;b=(null==a.root?Zh:a.root).xb(a.ka,0,Kd(b),b,c,d);b!==a.root&&(a.root=b);d.B&&(a.count+=1)}return a}throw Error("assoc! after persistent!");}g=ji.prototype;
g.ca=function(){if(this.ka)return this.count;throw Error("count after persistent!");};g.X=function(a,b){return null==b?this.Ha?this.Ia:null:null==this.root?null:this.root.tc(0,Kd(b),b)};g.N=function(a,b,c){return null==b?this.Ha?this.Ia:c:null==this.root?c:this.root.tc(0,Kd(b),b,c)};
g.Hc=function(a,b){a:if(this.ka)if(oh(b))a=li(this,Ec(b),Fc(b));else if(Qe(b))a=li(this,b.h?b.h(0):b.call(null,0),b.h?b.h(1):b.call(null,1));else for(a=H(b),b=this;;){var c=J(a);if(v(c))a=M(a),b=li(b,Ec(c),Fc(c));else{a=b;break a}}else throw Error("conj! after persistent");return a};g.Yc=function(){if(this.ka){this.ka=null;var a=new ii(null,this.count,this.root,this.Ha,this.Ia,null)}else throw Error("persistent! called twice");return a};g.Gc=function(a,b,c){return li(this,b,c)};
g.ue=function(a,b){if(this.ka)null==b?this.Ha&&(this.Ha=!1,this.Ia=null,--this.count):null!=this.root&&(a=new Oh,b=this.root.md(this.ka,0,Kd(b),b,a),b!==this.root&&(this.root=b),a.B&&--this.count);else throw Error("dissoc! after persistent!");return this};
g.call=function(){var a=null;a=function(a,c,d){switch(arguments.length){case 2:return this.X(null,c);case 3:return this.N(null,c,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.j=function(a,c){return this.X(null,c)};a.l=function(a,c,d){return this.N(null,c,d)};return a}();g.apply=function(a,b){return this.call.apply(this,[this].concat(ec(b)))};g.h=function(a){return this.X(null,a)};g.j=function(a,b){return this.N(null,a,b)};
function mi(a,b,c){for(var d=b;;)if(null!=a)b=c?a.left:a.right,d=ve.j(d,a),a=b;else return d}function ni(a,b,c,d,e){this.meta=a;this.stack=b;this.nc=c;this.A=d;this.F=e;this.v=32374990;this.M=0}g=ni.prototype;g.toString=function(){return Bd(this)};g.equiv=function(a){return this.J(null,a)};
g.indexOf=function(){var a=null;a=function(a,c){switch(arguments.length){case 1:return Q(this,a,0);case 2:return Q(this,a,c)}throw Error("Invalid arity: "+arguments.length);};a.h=function(a){return Q(this,a,0)};a.j=function(a,c){return Q(this,a,c)};return a}();
g.lastIndexOf=function(){function a(a){return S(this,a,R(this))}var b=null;b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return S(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.h=a;b.j=function(a,b){return S(this,a,b)};return b}();g.U=function(){return this.meta};g.wa=function(){var a=J(this.stack);a=mi(this.nc?a.right:a.left,M(this.stack),this.nc);return null==a?null:new ni(null,a,this.nc,this.A-1,null)};g.ca=function(){return 0>this.A?R(M(this))+1:this.A};
g.T=function(){var a=this.F;return null!=a?a:this.F=a=Vd(this)};g.J=function(a,b){return pe(this,b)};g.ja=function(){return Rd};g.xa=function(a,b){return re(b,this)};g.ya=function(a,b,c){return se(b,c,this)};g.Ca=function(){return He(this.stack)};g.Fa=function(){var a=J(this.stack);a=mi(this.nc?a.right:a.left,M(this.stack),this.nc);return null!=a?new ni(null,a,this.nc,this.A-1,null):Rd};g.Z=function(){return this};g.V=function(a,b){return b===this.meta?this:new ni(b,this.stack,this.nc,this.A,this.F)};
g.ga=function(a,b){return qe(b,this)};ni.prototype[bc]=function(){return Td(this)};function oi(a,b,c){return new ni(null,mi(a,null,b),b,c,null)}function pi(a,b,c,d){return c instanceof qi?c.left instanceof qi?new qi(c.key,c.B,c.left.Qb(),new ri(a,b,c.right,d)):c.right instanceof qi?new qi(c.right.key,c.right.B,new ri(c.key,c.B,c.left,c.right.left),new ri(a,b,c.right.right,d)):new ri(a,b,c,d):new ri(a,b,c,d)}
function si(a,b,c,d){return d instanceof qi?d.right instanceof qi?new qi(d.key,d.B,new ri(a,b,c,d.left),d.right.Qb()):d.left instanceof qi?new qi(d.left.key,d.left.B,new ri(a,b,c,d.left.left),new ri(d.key,d.B,d.left.right,d.right)):new ri(a,b,c,d):new ri(a,b,c,d)}
function ti(a,b,c,d){if(c instanceof qi)return new qi(a,b,c.Qb(),d);if(d instanceof ri)return si(a,b,c,d.qd());if(d instanceof qi&&d.left instanceof ri)return new qi(d.left.key,d.left.B,new ri(a,b,c,d.left.left),si(d.key,d.B,d.left.right,d.right.qd()));throw Error("red-black tree invariant violation");}
function ui(a,b,c,d){if(d instanceof qi)return new qi(a,b,c,d.Qb());if(c instanceof ri)return pi(a,b,c.qd(),d);if(c instanceof qi&&c.right instanceof ri)return new qi(c.right.key,c.right.B,pi(c.key,c.B,c.left.qd(),c.right.left),new ri(a,b,c.right.right,d));throw Error("red-black tree invariant violation");}
var vi=function vi(a,b,c){var e=null!=a.left?function(){var e=a.left;return vi.l?vi.l(e,b,c):vi.call(null,e,b,c)}():c;if(be(e))return e;var f=function(){var c=a.key,f=a.B;return b.l?b.l(e,c,f):b.call(null,e,c,f)}();if(be(f))return f;if(null!=a.right){var h=a.right;return vi.l?vi.l(h,b,f):vi.call(null,h,b,f)}return f};function ri(a,b,c,d){this.key=a;this.B=b;this.left=c;this.right=d;this.F=null;this.v=166619935;this.M=0}g=ri.prototype;
g.Sb=function(a,b){switch(b){case 0:return new jh(0,this.key,null);case 1:return new jh(1,this.B,null);default:return null}};g.lastIndexOf=function(){function a(a){return S(this,a,R(this))}var b=null;b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return S(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.h=a;b.j=function(a,b){return S(this,a,b)};return b}();
g.indexOf=function(){var a=null;a=function(a,c){switch(arguments.length){case 1:return Q(this,a,0);case 2:return Q(this,a,c)}throw Error("Invalid arity: "+arguments.length);};a.h=function(a){return Q(this,a,0)};a.j=function(a,c){return Q(this,a,c)};return a}();g.We=function(a){return a.Ye(this)};g.qd=function(){return new qi(this.key,this.B,this.left,this.right)};g.Qb=function(){return this};g.Ve=function(a){return a.Xe(this)};g.replace=function(a,b,c,d){return new ri(a,b,c,d)};
g.Xe=function(a){return new ri(a.key,a.B,this,a.right)};g.Ye=function(a){return new ri(a.key,a.B,a.left,this)};g.vc=function(a,b){return vi(this,a,b)};g.X=function(a,b){return this.da(null,b,null)};g.N=function(a,b,c){return this.da(null,b,c)};g.O=function(a,b){if(0===b)return this.key;if(1===b)return this.B;throw Error("Index out of bounds");};g.da=function(a,b,c){return 0===b?this.key:1===b?this.B:c};g.tb=function(a,b,c){return(new X(null,2,5,Y,[this.key,this.B],null)).tb(null,b,c)};g.U=function(){return null};
g.ca=function(){return 2};g.pe=function(){return this.key};g.qe=function(){return this.B};g.Ub=function(){return this.B};g.Vb=function(){return new X(null,1,5,Y,[this.key],null)};g.Tb=function(){return new I([this.B,this.key],0,null)};g.T=function(){var a=this.F;return null!=a?a:this.F=a=Vd(this)};g.J=function(a,b){return pe(this,b)};g.ja=function(){return null};g.xa=function(a,b){return ee(this,b)};g.ya=function(a,b,c){return fe(this,b,c)};
g.Ka=function(a,b,c){return V.l(new X(null,2,5,Y,[this.key,this.B],null),b,c)};g.Z=function(){return new I([this.key,this.B],0,null)};g.V=function(a,b){return Qc(new X(null,2,5,Y,[this.key,this.B],null),b)};g.ga=function(a,b){return new X(null,3,5,Y,[this.key,this.B,b],null)};
g.call=function(){var a=null;a=function(a,c,d){switch(arguments.length){case 2:return this.O(null,c);case 3:return this.da(null,c,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.j=function(a,c){return this.O(null,c)};a.l=function(a,c,d){return this.da(null,c,d)};return a}();g.apply=function(a,b){return this.call.apply(this,[this].concat(ec(b)))};g.h=function(a){return this.O(null,a)};g.j=function(a,b){return this.da(null,a,b)};ri.prototype[bc]=function(){return Td(this)};
function qi(a,b,c,d){this.key=a;this.B=b;this.left=c;this.right=d;this.F=null;this.v=166619935;this.M=0}g=qi.prototype;g.Sb=function(a,b){switch(b){case 0:return new jh(0,this.key,null);case 1:return new jh(1,this.B,null);default:return null}};
g.lastIndexOf=function(){function a(a){return S(this,a,R(this))}var b=null;b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return S(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.h=a;b.j=function(a,b){return S(this,a,b)};return b}();
g.indexOf=function(){var a=null;a=function(a,c){switch(arguments.length){case 1:return Q(this,a,0);case 2:return Q(this,a,c)}throw Error("Invalid arity: "+arguments.length);};a.h=function(a){return Q(this,a,0)};a.j=function(a,c){return Q(this,a,c)};return a}();g.We=function(a){return new qi(this.key,this.B,this.left,a)};g.qd=function(){throw Error("red-black tree invariant violation");};g.Qb=function(){return new ri(this.key,this.B,this.left,this.right)};
g.Ve=function(a){return new qi(this.key,this.B,a,this.right)};g.replace=function(a,b,c,d){return new qi(a,b,c,d)};g.Xe=function(a){return this.left instanceof qi?new qi(this.key,this.B,this.left.Qb(),new ri(a.key,a.B,this.right,a.right)):this.right instanceof qi?new qi(this.right.key,this.right.B,new ri(this.key,this.B,this.left,this.right.left),new ri(a.key,a.B,this.right.right,a.right)):new ri(a.key,a.B,this,a.right)};
g.Ye=function(a){return this.right instanceof qi?new qi(this.key,this.B,new ri(a.key,a.B,a.left,this.left),this.right.Qb()):this.left instanceof qi?new qi(this.left.key,this.left.B,new ri(a.key,a.B,a.left,this.left.left),new ri(this.key,this.B,this.left.right,this.right)):new ri(a.key,a.B,a.left,this)};g.vc=function(a,b){return vi(this,a,b)};g.X=function(a,b){return this.da(null,b,null)};g.N=function(a,b,c){return this.da(null,b,c)};
g.O=function(a,b){if(0===b)return this.key;if(1===b)return this.B;throw Error("Index out of bounds");};g.da=function(a,b,c){return 0===b?this.key:1===b?this.B:c};g.tb=function(a,b,c){return(new X(null,2,5,Y,[this.key,this.B],null)).tb(null,b,c)};g.U=function(){return null};g.ca=function(){return 2};g.pe=function(){return this.key};g.qe=function(){return this.B};g.Ub=function(){return this.B};g.Vb=function(){return new X(null,1,5,Y,[this.key],null)};
g.Tb=function(){return new I([this.B,this.key],0,null)};g.T=function(){var a=this.F;return null!=a?a:this.F=a=Vd(this)};g.J=function(a,b){return pe(this,b)};g.ja=function(){return null};g.xa=function(a,b){return ee(this,b)};g.ya=function(a,b,c){return fe(this,b,c)};g.Ka=function(a,b,c){return V.l(new X(null,2,5,Y,[this.key,this.B],null),b,c)};g.Z=function(){return new I([this.key,this.B],0,null)};g.V=function(a,b){return Qc(new X(null,2,5,Y,[this.key,this.B],null),b)};
g.ga=function(a,b){return new X(null,3,5,Y,[this.key,this.B,b],null)};g.call=function(){var a=null;a=function(a,c,d){switch(arguments.length){case 2:return this.O(null,c);case 3:return this.da(null,c,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.j=function(a,c){return this.O(null,c)};a.l=function(a,c,d){return this.da(null,c,d)};return a}();g.apply=function(a,b){return this.call.apply(this,[this].concat(ec(b)))};g.h=function(a){return this.O(null,a)};
g.j=function(a,b){return this.da(null,a,b)};qi.prototype[bc]=function(){return Td(this)};
var wi=function wi(a,b,c,d,e){if(null==b)return new qi(c,d,null,null);var h=function(){var d=b.key;return a.j?a.j(c,d):a.call(null,c,d)}();if(0===h)return e[0]=b,null;if(0>h)return h=function(){var h=b.left;return wi.Y?wi.Y(a,h,c,d,e):wi.call(null,a,h,c,d,e)}(),null!=h?b.Ve(h):null;h=function(){var h=b.right;return wi.Y?wi.Y(a,h,c,d,e):wi.call(null,a,h,c,d,e)}();return null!=h?b.We(h):null},xi=function xi(a,b){if(null==a)return b;if(null==b)return a;if(a instanceof qi){if(b instanceof qi){var d=function(){var d=
a.right,f=b.left;return xi.j?xi.j(d,f):xi.call(null,d,f)}();return d instanceof qi?new qi(d.key,d.B,new qi(a.key,a.B,a.left,d.left),new qi(b.key,b.B,d.right,b.right)):new qi(a.key,a.B,a.left,new qi(b.key,b.B,d,b.right))}return new qi(a.key,a.B,a.left,function(){var d=a.right;return xi.j?xi.j(d,b):xi.call(null,d,b)}())}if(b instanceof qi)return new qi(b.key,b.B,function(){var d=b.left;return xi.j?xi.j(a,d):xi.call(null,a,d)}(),b.right);d=function(){var d=a.right,f=b.left;return xi.j?xi.j(d,f):xi.call(null,
d,f)}();return d instanceof qi?new qi(d.key,d.B,new ri(a.key,a.B,a.left,d.left),new ri(b.key,b.B,d.right,b.right)):ti(a.key,a.B,a.left,new ri(b.key,b.B,d,b.right))},yi=function yi(a,b,c,d){if(null!=b){var f=function(){var d=b.key;return a.j?a.j(c,d):a.call(null,c,d)}();if(0===f)return d[0]=b,xi(b.left,b.right);if(0>f)return f=function(){var f=b.left;return yi.I?yi.I(a,f,c,d):yi.call(null,a,f,c,d)}(),null!=f||null!=d[0]?b.left instanceof ri?ti(b.key,b.B,f,b.right):new qi(b.key,b.B,f,b.right):null;
f=function(){var f=b.right;return yi.I?yi.I(a,f,c,d):yi.call(null,a,f,c,d)}();return null!=f||null!=d[0]?b.right instanceof ri?ui(b.key,b.B,b.left,f):new qi(b.key,b.B,b.left,f):null}return null},zi=function zi(a,b,c,d){var f=b.key,h=a.j?a.j(c,f):a.call(null,c,f);return 0===h?b.replace(f,d,b.left,b.right):0>h?b.replace(f,b.B,function(){var f=b.left;return zi.I?zi.I(a,f,c,d):zi.call(null,a,f,c,d)}(),b.right):b.replace(f,b.B,b.left,function(){var f=b.right;return zi.I?zi.I(a,f,c,d):zi.call(null,a,f,
c,d)}())};function Ai(a,b,c,d,e){this.nb=a;this.tree=b;this.A=c;this.meta=d;this.F=e;this.v=418776847;this.M=8192}g=Ai.prototype;g.Sb=function(a,b){return Bi(this,b)};g.forEach=function(a){for(var b=H(this),c=null,d=0,e=0;;)if(e<d){var f=c.O(null,e),h=U(f,0);f=U(f,1);a.j?a.j(f,h):a.call(null,f,h);e+=1}else if(b=H(b))Re(b)?(c=qd(b),b=sd(b),h=c,d=R(c),c=h):(c=J(b),h=U(c,0),f=U(c,1),a.j?a.j(f,h):a.call(null,f,h),b=M(b),c=null,d=0),e=0;else return null};g.get=function(a,b){return this.N(null,a,b)};
g.entries=function(){return new Eh(H(H(this)))};g.toString=function(){return Bd(this)};g.keys=function(){return Td(Jh(this))};g.values=function(){return Td(Kh(this))};g.equiv=function(a){return this.J(null,a)};function Bi(a,b){for(var c=a.tree;;)if(null!=c){var d=c.key;d=a.nb.j?a.nb.j(b,d):a.nb.call(null,b,d);if(0===d)return c;c=0>d?c.left:c.right}else return null}g.has=function(a){return Xe(this,a)};g.X=function(a,b){return this.N(null,b,null)};
g.N=function(a,b,c){a=Bi(this,b);return null!=a?a.B:c};g.Ib=function(a,b,c){return null!=this.tree?ce(vi(this.tree,b,c)):c};g.U=function(){return this.meta};g.Ma=function(){return new Ai(this.nb,this.tree,this.A,this.meta,this.F)};g.ca=function(){return this.A};g.Tb=function(){return 0<this.A?oi(this.tree,!1,this.A):null};g.T=function(){var a=this.F;return null!=a?a:this.F=a=Xd(this)};g.J=function(a,b){return Ch(this,b)};g.ja=function(){return new Ai(this.nb,null,0,this.meta,0)};
g.fc=function(a,b){a=[null];b=yi(this.nb,this.tree,b,a);return null==b?null==le(a,0)?this:new Ai(this.nb,null,0,this.meta,null):new Ai(this.nb,b.Qb(),this.A-1,this.meta,null)};g.Ka=function(a,b,c){a=[null];var d=wi(this.nb,this.tree,b,c,a);return null==d?(a=le(a,0),P.j(c,a.B)?this:new Ai(this.nb,zi(this.nb,this.tree,b,c),this.A,this.meta,null)):new Ai(this.nb,d.Qb(),this.A+1,this.meta,null)};g.Z=function(){return 0<this.A?oi(this.tree,!0,this.A):null};
g.V=function(a,b){return b===this.meta?this:new Ai(this.nb,this.tree,this.A,b,this.F)};g.ga=function(a,b){if(Qe(b))return this.Ka(null,sc.j(b,0),sc.j(b,1));a=this;for(b=H(b);;){if(null==b)return a;var c=J(b);if(Qe(c))a=Ac(a,sc.j(c,0),sc.j(c,1)),b=M(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
g.call=function(){var a=null;a=function(a,c,d){switch(arguments.length){case 2:return this.X(null,c);case 3:return this.N(null,c,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.j=function(a,c){return this.X(null,c)};a.l=function(a,c,d){return this.N(null,c,d)};return a}();g.apply=function(a,b){return this.call.apply(this,[this].concat(ec(b)))};g.h=function(a){return this.X(null,a)};g.j=function(a,b){return this.N(null,a,b)};Ai.prototype[bc]=function(){return Td(this)};
var Ci=function Ci(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Ci.w(0<c.length?new I(c.slice(0),0,null):null)};Ci.w=function(a){for(var b=H(a),c=id(Nh);;)if(b){a=M(M(b));var d=J(b);b=te(b);c=ld(c,d,b);b=a}else return kd(c)};Ci.H=0;Ci.K=function(a){return this.w(H(a))};var Di=function Di(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Di.w(0<c.length?new I(c.slice(0),0,null):null)};
Di.w=function(a){a=a instanceof I&&0===a.i?a.o:fc(a);return Ae(a)};Di.H=0;Di.K=function(a){return this.w(H(a))};function Ei(a,b){this.aa=a;this.Fb=b;this.v=32374988;this.M=0}g=Ei.prototype;g.toString=function(){return Bd(this)};g.equiv=function(a){return this.J(null,a)};
g.indexOf=function(){var a=null;a=function(a,c){switch(arguments.length){case 1:return Q(this,a,0);case 2:return Q(this,a,c)}throw Error("Invalid arity: "+arguments.length);};a.h=function(a){return Q(this,a,0)};a.j=function(a,c){return Q(this,a,c)};return a}();
g.lastIndexOf=function(){function a(a){return S(this,a,R(this))}var b=null;b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return S(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.h=a;b.j=function(a,b){return S(this,a,b)};return b}();g.U=function(){return this.Fb};g.wa=function(){var a=(null!=this.aa?this.aa.v&128||p===this.aa.Xc||(this.aa.v?0:w(wc,this.aa)):w(wc,this.aa))?this.aa.wa(null):M(this.aa);return null==a?null:new Ei(a,null)};g.T=function(){return Vd(this)};
g.J=function(a,b){return pe(this,b)};g.ja=function(){return Rd};g.xa=function(a,b){return re(b,this)};g.ya=function(a,b,c){return se(b,c,this)};g.Ca=function(){return this.aa.Ca(null).key};g.Fa=function(){var a=(null!=this.aa?this.aa.v&128||p===this.aa.Xc||(this.aa.v?0:w(wc,this.aa)):w(wc,this.aa))?this.aa.wa(null):M(this.aa);return null!=a?new Ei(a,null):Rd};g.Z=function(){return this};g.V=function(a,b){return b===this.Fb?this:new Ei(this.aa,b)};g.ga=function(a,b){return qe(b,this)};
Ei.prototype[bc]=function(){return Td(this)};function Jh(a){return(a=H(a))?new Ei(a,null):null}function Fi(a){return Ec(a)}function Gi(a,b){this.aa=a;this.Fb=b;this.v=32374988;this.M=0}g=Gi.prototype;g.toString=function(){return Bd(this)};g.equiv=function(a){return this.J(null,a)};
g.indexOf=function(){var a=null;a=function(a,c){switch(arguments.length){case 1:return Q(this,a,0);case 2:return Q(this,a,c)}throw Error("Invalid arity: "+arguments.length);};a.h=function(a){return Q(this,a,0)};a.j=function(a,c){return Q(this,a,c)};return a}();
g.lastIndexOf=function(){function a(a){return S(this,a,R(this))}var b=null;b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return S(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.h=a;b.j=function(a,b){return S(this,a,b)};return b}();g.U=function(){return this.Fb};g.wa=function(){var a=(null!=this.aa?this.aa.v&128||p===this.aa.Xc||(this.aa.v?0:w(wc,this.aa)):w(wc,this.aa))?this.aa.wa(null):M(this.aa);return null==a?null:new Gi(a,null)};g.T=function(){return Vd(this)};
g.J=function(a,b){return pe(this,b)};g.ja=function(){return Rd};g.xa=function(a,b){return re(b,this)};g.ya=function(a,b,c){return se(b,c,this)};g.Ca=function(){return this.aa.Ca(null).B};g.Fa=function(){var a=(null!=this.aa?this.aa.v&128||p===this.aa.Xc||(this.aa.v?0:w(wc,this.aa)):w(wc,this.aa))?this.aa.wa(null):M(this.aa);return null!=a?new Gi(a,null):Rd};g.Z=function(){return this};g.V=function(a,b){return b===this.Fb?this:new Gi(this.aa,b)};g.ga=function(a,b){return qe(b,this)};
Gi.prototype[bc]=function(){return Td(this)};function Kh(a){return(a=H(a))?new Gi(a,null):null}var Hi=function Hi(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Hi.w(0<c.length?new I(c.slice(0),0,null):null)};Hi.w=function(a){return v(og(ef,a))?gc.j(function(a,c){return ve.j(v(a)?a:Zf,c)},a):null};Hi.H=0;Hi.K=function(a){return this.w(H(a))};
function Ii(a){for(var b=Zf,c=H(new X(null,3,5,Y,[Ji,Ki,Li],null));;)if(c){var d=J(c),e=D.l(a,d,Mi);b=P.j(e,Mi)?b:V.l(b,d,e);c=M(c)}else return Qc(b,Ge(a))}function Ni(a){this.Fe=a}Ni.prototype.ha=function(){return this.Fe.ha()};Ni.prototype.next=function(){if(this.Fe.ha())return this.Fe.next().key;throw Error("No such element");};Ni.prototype.remove=function(){return Error("Unsupported operation")};function Oi(a,b,c){this.meta=a;this.Nb=b;this.F=c;this.v=15077647;this.M=139268}g=Oi.prototype;
g.toString=function(){return Bd(this)};g.equiv=function(a){return this.J(null,a)};g.keys=function(){return Td(H(this))};g.entries=function(){return new Fh(H(H(this)))};g.values=function(){return Td(H(this))};g.has=function(a){return Xe(this,a)};
g.forEach=function(a){for(var b=H(this),c=null,d=0,e=0;;)if(e<d){var f=c.O(null,e),h=U(f,0);f=U(f,1);a.j?a.j(f,h):a.call(null,f,h);e+=1}else if(b=H(b))Re(b)?(c=qd(b),b=sd(b),h=c,d=R(c),c=h):(c=J(b),h=U(c,0),f=U(c,1),a.j?a.j(f,h):a.call(null,f,h),b=M(b),c=null,d=0),e=0;else return null};g.X=function(a,b){return this.N(null,b,null)};g.N=function(a,b,c){a=Bc(this.Nb,b);return v(a)?Ec(a):c};g.$a=function(){return new Ni(zd(this.Nb))};g.U=function(){return this.meta};
g.Ma=function(){return new Oi(this.meta,this.Nb,this.F)};g.ca=function(){return mc(this.Nb)};g.T=function(){var a=this.F;return null!=a?a:this.F=a=Xd(this)};g.J=function(a,b){if(a=Le(b)){var c=R(this)===R(b);if(c)try{return df(function(){return function(a,c){return(a=Xe(b,c))?a:ae(!1)}}(c,a,this),!0,this.Nb)}catch(d){if(d instanceof Error)return!1;throw d;}else return c}else return a};g.Fc=function(){return new Pi(id(this.Nb))};g.ja=function(){return Qc(Qi,this.meta)};
g.te=function(a,b){return new Oi(this.meta,Dc(this.Nb,b),null)};g.Z=function(){return Jh(this.Nb)};g.V=function(a,b){return b===this.meta?this:new Oi(b,this.Nb,this.F)};g.ga=function(a,b){return new Oi(this.meta,V.l(this.Nb,b,null),null)};
g.call=function(){var a=null;a=function(a,c,d){switch(arguments.length){case 2:return this.X(null,c);case 3:return this.N(null,c,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.j=function(a,c){return this.X(null,c)};a.l=function(a,c,d){return this.N(null,c,d)};return a}();g.apply=function(a,b){return this.call.apply(this,[this].concat(ec(b)))};g.h=function(a){return this.X(null,a)};g.j=function(a,b){return this.N(null,a,b)};var Qi=new Oi(null,Zf,Yd);Oi.prototype[bc]=function(){return Td(this)};
function Pi(a){this.cc=a;this.M=136;this.v=259}g=Pi.prototype;g.Hc=function(a,b){this.cc=ld(this.cc,b,null);return this};g.Yc=function(){return new Oi(null,kd(this.cc),null)};g.ca=function(){return R(this.cc)};g.X=function(a,b){return this.N(null,b,null)};g.N=function(a,b,c){return zc.l(this.cc,b,Te)===Te?c:b};
g.call=function(){function a(a,b,c){return zc.l(this.cc,b,Te)===Te?c:b}function b(a,b){return zc.l(this.cc,b,Te)===Te?null:b}var c=null;c=function(c,e,f){switch(arguments.length){case 2:return b.call(this,c,e);case 3:return a.call(this,c,e,f)}throw Error("Invalid arity: "+(arguments.length-1));};c.j=b;c.l=a;return c}();g.apply=function(a,b){return this.call.apply(this,[this].concat(ec(b)))};g.h=function(a){return zc.l(this.cc,a,Te)===Te?null:a};g.j=function(a,b){return zc.l(this.cc,a,Te)===Te?b:a};
function Ri(a,b,c){this.meta=a;this.Cb=b;this.F=c;this.v=417730831;this.M=8192}g=Ri.prototype;g.toString=function(){return Bd(this)};g.equiv=function(a){return this.J(null,a)};g.keys=function(){return Td(H(this))};g.entries=function(){return new Fh(H(H(this)))};g.values=function(){return Td(H(this))};g.has=function(a){return Xe(this,a)};
g.forEach=function(a){for(var b=H(this),c=null,d=0,e=0;;)if(e<d){var f=c.O(null,e),h=U(f,0);f=U(f,1);a.j?a.j(f,h):a.call(null,f,h);e+=1}else if(b=H(b))Re(b)?(c=qd(b),b=sd(b),h=c,d=R(c),c=h):(c=J(b),h=U(c,0),f=U(c,1),a.j?a.j(f,h):a.call(null,f,h),b=M(b),c=null,d=0),e=0;else return null};g.X=function(a,b){return this.N(null,b,null)};g.N=function(a,b,c){a=Bi(this.Cb,b);return null!=a?a.key:c};g.U=function(){return this.meta};g.Ma=function(){return new Ri(this.meta,this.Cb,this.F)};g.ca=function(){return R(this.Cb)};
g.Tb=function(){return 0<R(this.Cb)?Dg.j(Fi,cd(this.Cb)):null};g.T=function(){var a=this.F;return null!=a?a:this.F=a=Xd(this)};g.J=function(a,b){if(a=Le(b)){var c=R(this)===R(b);if(c)try{return df(function(){return function(a,c){return(a=Xe(b,c))?a:ae(!1)}}(c,a,this),!0,this.Cb)}catch(d){if(d instanceof Error)return!1;throw d;}else return c}else return a};g.ja=function(){return new Ri(this.meta,oc(this.Cb),0)};g.te=function(a,b){return new Ri(this.meta,Be.j(this.Cb,b),null)};g.Z=function(){return Jh(this.Cb)};
g.V=function(a,b){return b===this.meta?this:new Ri(b,this.Cb,this.F)};g.ga=function(a,b){return new Ri(this.meta,V.l(this.Cb,b,null),null)};g.call=function(){var a=null;a=function(a,c,d){switch(arguments.length){case 2:return this.X(null,c);case 3:return this.N(null,c,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.j=function(a,c){return this.X(null,c)};a.l=function(a,c,d){return this.N(null,c,d)};return a}();g.apply=function(a,b){return this.call.apply(this,[this].concat(ec(b)))};
g.h=function(a){return this.X(null,a)};g.j=function(a,b){return this.N(null,a,b)};Ri.prototype[bc]=function(){return Td(this)};function Si(a){if(Le(a))return Fe(a,null);a=H(a);if(null==a)return Qi;if(a instanceof I&&0===a.i){a=a.o;for(var b=a.length,c=id(Qi),d=0;;)if(d<b)jd(c,a[d]),d+=1;else break;return kd(c)}for(c=id(Qi);;)if(null!=a)b=M(a),c=jd(c,uc(a)),a=b;else return kd(c)}function Ti(a){for(var b=we;;)if(M(a))b=ve.j(b,J(a)),a=M(a);else return H(b)}
function Af(a){if(null!=a&&(a.M&4096||p===a.ef))return td(a);if("string"===typeof a)return a;throw Error(["Doesn't support name: ",z.h(a)].join(""));}function Ui(a,b){var c=id(Zf);a=H(a);for(b=H(b);;)if(a&&b){var d=J(a),e=J(b);c=ld(c,d,e);a=M(a);b=M(b)}else return kd(c)}
var Vi=function Vi(a){switch(arguments.length){case 2:return Vi.j(arguments[0],arguments[1]);case 3:return Vi.l(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Vi.w(arguments[0],arguments[1],arguments[2],new I(c.slice(3),0,null))}};Vi.j=function(a,b){return b};Vi.l=function(a,b,c){return(a.h?a.h(b):a.call(null,b))>(a.h?a.h(c):a.call(null,c))?b:c};
Vi.w=function(a,b,c,d){return gc.l(function(b,c){return Vi.l(a,b,c)},Vi.l(a,b,c),d)};Vi.K=function(a){var b=J(a),c=M(a);a=J(c);var d=M(c);c=J(d);d=M(d);return this.w(b,a,c,d)};Vi.H=3;function Wi(a,b,c){return new Bf(null,function(){var d=H(c);return d?qe(Eg.j(a,d),Wi(a,b,Fg(b,d))):null},null,null)}function Xi(a,b,c){this.start=a;this.step=b;this.count=c;this.v=82;this.M=0}g=Xi.prototype;g.ca=function(){return this.count};g.Ca=function(){return this.start};g.O=function(a,b){return this.start+b*this.step};
g.da=function(a,b,c){return 0<=b&&b<this.count?this.start+b*this.step:c};g.le=function(){if(1>=this.count)throw Error("-drop-first of empty chunk");return new Xi(this.start+this.step,this.step,this.count-1)};function Yi(a,b,c){this.i=a;this.end=b;this.step=c}Yi.prototype.ha=function(){return 0<this.step?this.i<this.end:this.i>this.end};Yi.prototype.next=function(){var a=this.i;this.i+=this.step;return a};
function Zi(a,b,c,d,e,f,h){this.meta=a;this.start=b;this.end=c;this.step=d;this.Da=e;this.Vc=f;this.F=h;this.v=32375006;this.M=140800}g=Zi.prototype;g.toString=function(){return Bd(this)};g.equiv=function(a){return this.J(null,a)};g.indexOf=function(){var a=null;a=function(a,c){switch(arguments.length){case 1:return Q(this,a,0);case 2:return Q(this,a,c)}throw Error("Invalid arity: "+arguments.length);};a.h=function(a){return Q(this,a,0)};a.j=function(a,c){return Q(this,a,c)};return a}();
g.lastIndexOf=function(){function a(a){return S(this,a,R(this))}var b=null;b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return S(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.h=a;b.j=function(a,b){return S(this,a,b)};return b}();function $i(a){if(null==a.Da){var b=a.ca(null);32<b?(a.Vc=new Zi(null,a.start+32*a.step,a.end,a.step,null,null,null),a.Da=new Xi(a.start,a.step,32)):a.Da=new Xi(a.start,a.step,b)}}
g.O=function(a,b){if(0<=b&&b<this.ca(null))return this.start+b*this.step;if(0<=b&&this.start>this.end&&0===this.step)return this.start;throw Error("Index out of bounds");};g.da=function(a,b,c){return 0<=b&&b<this.ca(null)?this.start+b*this.step:0<=b&&this.start>this.end&&0===this.step?this.start:c};g.$a=function(){return new Yi(this.start,this.end,this.step)};g.U=function(){return this.meta};g.Ma=function(){return new Zi(this.meta,this.start,this.end,this.step,this.Da,this.Vc,this.F)};
g.wa=function(){return 0<this.step?this.start+this.step<this.end?new Zi(null,this.start+this.step,this.end,this.step,null,null,null):null:this.start+this.step>this.end?new Zi(null,this.start+this.step,this.end,this.step,null,null,null):null};g.ca=function(){return Math.ceil((this.end-this.start)/this.step)};g.T=function(){var a=this.F;return null!=a?a:this.F=a=Vd(this)};g.J=function(a,b){return pe(this,b)};g.ja=function(){return Rd};g.xa=function(a,b){return ee(this,b)};
g.ya=function(a,b,c){for(a=this.start;;)if(0<this.step?a<this.end:a>this.end){c=b.j?b.j(c,a):b.call(null,c,a);if(be(c))return A(c);a+=this.step}else return c};g.Ca=function(){return this.start};g.Fa=function(){var a=this.wa(null);return null==a?Rd:a};g.Z=function(){return this};g.yd=function(){$i(this);return this.Da};g.Ec=function(){$i(this);return null==this.Vc?Rd:this.Vc};g.V=function(a,b){return b===this.meta?this:new Zi(b,this.start,this.end,this.step,this.Da,this.Vc,this.F)};
g.ga=function(a,b){return qe(b,this)};g.me=function(){return H(this.Ec(null))};Zi.prototype[bc]=function(){return Td(this)};function aj(a){return 0>=a?Rd:new Zi(null,0,a,1,null,null,null)}
function bj(){return function(){function a(a,b,c){return new X(null,2,5,Y,[Ti.l?Ti.l(a,b,c):Ti.call(null,a,b,c),ue.l?ue.l(a,b,c):ue.call(null,a,b,c)],null)}function b(a,b){return new X(null,2,5,Y,[Ti.j?Ti.j(a,b):Ti.call(null,a,b),ue.j?ue.j(a,b):ue.call(null,a,b)],null)}function c(a){return new X(null,2,5,Y,[Ti.h?Ti.h(a):Ti.call(null,a),ue.h?ue.h(a):ue.call(null,a)],null)}function d(){return new X(null,2,5,Y,[Ti.G?Ti.G():Ti.call(null),ue.G?ue.G():ue.call(null)],null)}var e=null,f=function(){function a(a,
c,d,e){var f=null;if(3<arguments.length){f=0;for(var h=Array(arguments.length-3);f<h.length;)h[f]=arguments[f+3],++f;f=new I(h,0,null)}return b.call(this,a,c,d,f)}function b(a,b,c,d){return new X(null,2,5,Y,[Vf(Ti,a,b,c,d),Vf(ue,a,b,c,d)],null)}a.H=3;a.K=function(a){var c=J(a);a=M(a);var d=J(a);a=M(a);var e=J(a);a=Qd(a);return b(c,d,e,a)};a.w=b;return a}();e=function(e,k,l,m){switch(arguments.length){case 0:return d.call(this);case 1:return c.call(this,e);case 2:return b.call(this,e,k);case 3:return a.call(this,
e,k,l);default:var h=null;if(3<arguments.length){h=0;for(var r=Array(arguments.length-3);h<r.length;)r[h]=arguments[h+3],++h;h=new I(r,0,null)}return f.w(e,k,l,h)}throw Error("Invalid arity: "+arguments.length);};e.H=3;e.K=f.K;e.G=d;e.h=c;e.j=b;e.l=a;e.w=f.w;return e}()}function cj(a){a:for(var b=a;;)if(b=H(b))b=M(b);else break a;return a}
function dj(a,b){if("string"===typeof b)return a=a.exec(b),P.j(J(a),b)?1===R(a)?J(a):nh(a):null;throw new TypeError("re-matches must match against a string.");}function ej(a,b){if("string"===typeof b)return a=a.exec(b),null==a?null:1===R(a)?J(a):nh(a);throw new TypeError("re-find must match against a string.");}
var fj=function fj(a,b){var d=a.exec(b);if(null==d)return null;var e=d[0],f=1===d.length?e:nh(d);return qe(f,new Bf(null,function(d,e,f){return function(){var e=d.length;e=f.index+(1>e?1:e);return e<=b.length?(e=b.substring(e),fj.j?fj.j(a,e):fj.call(null,a,e)):null}}(e,f,d,d),null,null))};
function gj(a,b,c,d,e,f,h){var k=Nb;Nb=null==Nb?null:Nb-1;try{if(null!=Nb&&0>Nb)return dd(a,"#");dd(a,c);if(0===Ub.h(f))H(h)&&dd(a,function(){var a=hj.h(f);return v(a)?a:"..."}());else{if(H(h)){var l=J(h);b.l?b.l(l,a,f):b.call(null,l,a,f)}for(var m=M(h),q=Ub.h(f)-1;;)if(!m||null!=q&&0===q){H(m)&&0===q&&(dd(a,d),dd(a,function(){var a=hj.h(f);return v(a)?a:"..."}()));break}else{dd(a,d);var r=J(m);c=a;h=f;b.l?b.l(r,c,h):b.call(null,r,c,h);var u=M(m);c=q-1;m=u;q=c}}return dd(a,e)}finally{Nb=k}}
function ij(a,b){b=H(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.O(null,e);dd(a,f);e+=1}else if(b=H(b))c=b,Re(c)?(b=qd(c),d=sd(c),c=b,f=R(b),b=d,d=f):(f=J(c),dd(a,f),b=M(c),c=null,d=0),e=0;else return null}function jj(a){if(null==Kb)throw Error("No *print-fn* fn set for evaluation environment");Kb.h?Kb.h(a):Kb.call(null,a)}var kj={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};
function lj(a){return['"',z.h(a.replace(/[\\"\b\f\n\r\t]/g,function(a){return kj[a]})),'"'].join("")}function mj(a,b){return(a=Ve(D.j(a,Sb)))?(a=null!=b?b.v&131072||p===b.re?!0:!1:!1)?null!=Ge(b):a:a}
function nj(a,b,c){if(null==a)return dd(b,"nil");mj(c,a)&&(dd(b,"^"),oj(Ge(a),b,c),dd(b," "));if(a.hc)return a.pc(a,b,c);if(null!=a?a.v&2147483648||p===a.ea||(a.v?0:w(ed,a)):w(ed,a))return fd(a,b,c);if(!0===a||!1===a)return dd(b,z.h(a));if("number"===typeof a)return dd(b,isNaN(a)?"##NaN":a===Number.POSITIVE_INFINITY?"##Inf":a===Number.NEGATIVE_INFINITY?"##-Inf":z.h(a));if(null!=a&&a.constructor===Object)return dd(b,"#js "),pj(Dg.j(function(b){return new jh(null!=dj(/[A-Za-z_\*\+\?!\-'][\w\*\+\?!\-']*/,
b)?zf.h(b):b,a[b],null)},Ma(a)),b,c);if(Xb(a))return gj(b,oj,"#js ["," ","]",c,a);if(da(a))return v(Rb.h(c))?dd(b,lj(a)):dd(b,a);if(ia(a)){var d=a.name;c=v(function(){var a=null==d;return a?a:sa(d)}())?"Function":d;return ij(b,T(["#object[",c,"","]"]))}if(a instanceof Date)return c=function(a,b){for(a=z.h(a);;)if(R(a)<b)a=["0",a].join("");else return a},ij(b,T(['#inst "',z.h(a.getUTCFullYear()),"-",c(a.getUTCMonth()+1,2),"-",c(a.getUTCDate(),2),"T",c(a.getUTCHours(),2),":",c(a.getUTCMinutes(),2),
":",c(a.getUTCSeconds(),2),".",c(a.getUTCMilliseconds(),3),"-",'00:00"']));if(a instanceof RegExp)return ij(b,T(['#"',a.source,'"']));if(v(function(){var b=null==a?null:a.constructor;return null==b?null:b.Jb}()))return ij(b,T(["#object[",a.constructor.Jb.replace(/\//g,"."),"]"]));d=function(){var b=null==a?null:a.constructor;return null==b?null:b.name}();c=v(function(){var a=null==d;return a?a:sa(d)}())?"Object":d;return null==a.constructor?ij(b,T(["#object[",c,"]"])):ij(b,T(["#object[",c," ",z.h(a),
"]"]))}function oj(a,b,c){var d=qj.h(c);return v(d)?(c=V.l(c,rj,nj),d.l?d.l(a,b,c):d.call(null,a,b,c)):nj(a,b,c)}function sj(a,b){var c=new kb;a:{var d=new Ad(c);oj(J(a),d,b);a=H(M(a));for(var e=null,f=0,h=0;;)if(h<f){var k=e.O(null,h);dd(d," ");oj(k,d,b);h+=1}else if(a=H(a))e=a,Re(e)?(a=qd(e),f=sd(e),e=a,k=R(a),a=f,f=k):(k=J(e),dd(d," "),oj(k,d,b),a=M(e),e=null,f=0),h=0;else break a}return c}function tj(a,b){return Je(a)?"":z.h(sj(a,b))}function uj(a){return tj(a,Pb())}
function vj(a){var b=V.l(Pb(),Rb,!1);jj(tj(a,b));Mb?(a=Pb(),jj("\n"),a=(D.j(a,Qb),null)):a=null;return a}function wj(a,b,c,d,e){return gj(d,function(a,b,d){var e=Ec(a);c.l?c.l(e,b,d):c.call(null,e,b,d);dd(b," ");a=Fc(a);return c.l?c.l(a,b,d):c.call(null,a,b,d)},[z.h(a),"{"].join(""),", ","}",e,H(b))}function pj(a,b,c){var d=oj,e=(Ne(a),null),f=U(e,0);e=U(e,1);return v(f)?wj(["#:",z.h(f)].join(""),e,d,b,c):wj(null,a,d,b,c)}Cg.prototype.ea=p;
Cg.prototype.S=function(a,b,c){dd(b,"#object[cljs.core.Volatile ");oj(new t(null,1,[xj,this.state],null),b,c);return dd(b,"]")};I.prototype.ea=p;I.prototype.S=function(a,b,c){return gj(b,oj,"("," ",")",c,this)};Bf.prototype.ea=p;Bf.prototype.S=function(a,b,c){return gj(b,oj,"("," ",")",c,this)};jh.prototype.ea=p;jh.prototype.S=function(a,b,c){return gj(b,oj,"["," ","]",c,this)};ni.prototype.ea=p;ni.prototype.S=function(a,b,c){return gj(b,oj,"("," ",")",c,this)};fi.prototype.ea=p;
fi.prototype.S=function(a,b,c){return gj(b,oj,"("," ",")",c,this)};ri.prototype.ea=p;ri.prototype.S=function(a,b,c){return gj(b,oj,"["," ","]",c,this)};Hh.prototype.ea=p;Hh.prototype.S=function(a,b,c){return gj(b,oj,"("," ",")",c,this)};Ri.prototype.ea=p;Ri.prototype.S=function(a,b,c){return gj(b,oj,"#{"," ","}",c,this)};lh.prototype.ea=p;lh.prototype.S=function(a,b,c){return gj(b,oj,"("," ",")",c,this)};uf.prototype.ea=p;uf.prototype.S=function(a,b,c){return gj(b,oj,"("," ",")",c,this)};
oe.prototype.ea=p;oe.prototype.S=function(a,b,c){return gj(b,oj,"("," ",")",c,this)};ii.prototype.ea=p;ii.prototype.S=function(a,b,c){return pj(this,b,c)};gi.prototype.ea=p;gi.prototype.S=function(a,b,c){return gj(b,oj,"("," ",")",c,this)};qh.prototype.ea=p;qh.prototype.S=function(a,b,c){return gj(b,oj,"["," ","]",c,this)};Ai.prototype.ea=p;Ai.prototype.S=function(a,b,c){return pj(this,b,c)};Oi.prototype.ea=p;Oi.prototype.S=function(a,b,c){return gj(b,oj,"#{"," ","}",c,this)};Hf.prototype.ea=p;
Hf.prototype.S=function(a,b,c){return gj(b,oj,"("," ",")",c,this)};yg.prototype.ea=p;yg.prototype.S=function(a,b,c){dd(b,"#object[cljs.core.Atom ");oj(new t(null,1,[xj,this.state],null),b,c);return dd(b,"]")};Gi.prototype.ea=p;Gi.prototype.S=function(a,b,c){return gj(b,oj,"("," ",")",c,this)};qi.prototype.ea=p;qi.prototype.S=function(a,b,c){return gj(b,oj,"["," ","]",c,this)};Hg.prototype.ea=p;Hg.prototype.S=function(a,b,c){return gj(b,oj,"("," ",")",c,this)};X.prototype.ea=p;
X.prototype.S=function(a,b,c){return gj(b,oj,"["," ","]",c,this)};xh.prototype.ea=p;xh.prototype.S=function(a,b,c){return gj(b,oj,"("," ",")",c,this)};rf.prototype.ea=p;rf.prototype.S=function(a,b){return dd(b,"()")};yh.prototype.ea=p;yh.prototype.S=function(a,b,c){return gj(b,oj,"#queue ["," ","]",c,H(this))};t.prototype.ea=p;t.prototype.S=function(a,b,c){return pj(this,b,c)};Zi.prototype.ea=p;Zi.prototype.S=function(a,b,c){return gj(b,oj,"("," ",")",c,this)};lg.prototype.ea=p;
lg.prototype.S=function(a,b,c){return gj(b,oj,"("," ",")",c,this)};Ei.prototype.ea=p;Ei.prototype.S=function(a,b,c){return gj(b,oj,"("," ",")",c,this)};xe.prototype.ea=p;xe.prototype.S=function(a,b,c){return gj(b,oj,"("," ",")",c,this)};B.prototype.Hb=p;B.prototype.pb=function(a,b){if(b instanceof B)return Nd(this,b);throw Error(["Cannot compare ",z.h(this)," to ",z.h(b)].join(""));};F.prototype.Hb=p;
F.prototype.pb=function(a,b){if(b instanceof F)return vf(this,b);throw Error(["Cannot compare ",z.h(this)," to ",z.h(b)].join(""));};qh.prototype.Hb=p;qh.prototype.pb=function(a,b){if(Qe(b))return Ze(this,b);throw Error(["Cannot compare ",z.h(this)," to ",z.h(b)].join(""));};X.prototype.Hb=p;X.prototype.pb=function(a,b){if(Qe(b))return Ze(this,b);throw Error(["Cannot compare ",z.h(this)," to ",z.h(b)].join(""));};jh.prototype.Hb=p;
jh.prototype.pb=function(a,b){if(Qe(b))return Ze(this,b);throw Error(["Cannot compare ",z.h(this)," to ",z.h(b)].join(""));};ri.prototype.Hb=p;ri.prototype.pb=function(a,b){if(Qe(b))return Ze(this,b);throw Error(["Cannot compare ",z.h(this)," to ",z.h(b)].join(""));};qi.prototype.Hb=p;qi.prototype.pb=function(a,b){if(Qe(b))return Ze(this,b);throw Error(["Cannot compare ",z.h(this)," to ",z.h(b)].join(""));};var yj=null;
function zj(){null==yj&&(yj=zg(0));return Od.h([z.h("reagent"),z.h(Bg.j(yj,Zd))].join(""))}function Aj(a){this.Ga=a;this.value=null;this.v=2147516416;this.M=1}Aj.prototype.eb=function(){v(this.Ga)&&(this.value=this.Ga.G?this.Ga.G():this.Ga.call(null),this.Ga=null);return this.value};Aj.prototype.S=function(a,b,c){dd(b,"#object[cljs.core.Delay ");oj(new t(null,2,[Bj,null==this.Ga?Cj:Dj,xj,this.value],null),b,c);return dd(b,"]")};function Ej(a){return a instanceof Aj?A(a):a}
function Fj(a,b){this.Yd=a;this.Gd=b;this.v=2173173760;this.M=131072}g=Fj.prototype;g.indexOf=function(){var a=null;a=function(a,c){switch(arguments.length){case 1:return Q(this,a,0);case 2:return Q(this,a,c)}throw Error("Invalid arity: "+arguments.length);};a.h=function(a){return Q(this,a,0)};a.j=function(a,c){return Q(this,a,c)};return a}();
g.lastIndexOf=function(){function a(a){return S(this,a,R(this))}var b=null;b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return S(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.h=a;b.j=function(a,b){return S(this,a,b)};return b}();g.$a=function(){var a=eg(this.Gd);return mg(this.Yd,a)};g.Z=function(){var a=eg(this.Gd);a=mg(this.Yd,a);a=kg(a);return H(v(a)?a:Rd)};g.xa=function(a,b){a=ff(b);b=this.Gd;return gf(this.Yd,a,a.G?a.G():a.call(null),b)};
g.ya=function(a,b,c){return gf(this.Yd,ff(b),c,this.Gd)};g.S=function(a,b,c){return gj(b,oj,"("," ",")",c,this)};Fj.prototype[bc]=function(){return Td(this)};function Gj(){}
var Hj=function Hj(a){if(null!=a&&null!=a.Mf)return a.Mf(a);var c=Hj[n(null==a?null:a)];if(null!=c)return c.h?c.h(a):c.call(null,a);c=Hj._;if(null!=c)return c.h?c.h(a):c.call(null,a);throw y("IEncodeJS.-clj-\x3ejs",a);},Ij=function Ij(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Ij.w(arguments[0],1<c.length?new I(c.slice(1),0,null):null)};
Ij.w=function(a,b){var c=null!=b&&(b.v&64||p===b.P)?W(Ci,b):b,d=D.l(c,Jj,Af),e=function(){return function(a){var b=f;return(null!=a?p===a.Lf||(a.ve?0:w(Gj,a)):w(Gj,a))?Hj(a):"string"===typeof a||"number"===typeof a||a instanceof F||a instanceof B?b.h?b.h(a):b.call(null,a):uj(T([a]))}}(b,c,c,d),f=function(a,b,c,d){return function u(a){if(null==a)return null;if(null!=a?p===a.Lf||(a.ve?0:w(Gj,a)):w(Gj,a))return Hj(a);if(a instanceof F)return d.h?d.h(a):d.call(null,a);if(a instanceof B)return z.h(a);
if(Ne(a)){var b={};a=H(a);for(var c=null,f=0,h=0;;)if(h<f){var k=c.O(null,h),l=U(k,0),m=U(k,1);k=b;l=e(l);m=u(m);k[l]=m;h+=1}else if(a=H(a))Re(a)?(f=qd(a),a=sd(a),c=f,f=R(f)):(c=J(a),f=U(c,0),h=U(c,1),c=b,f=e(f),h=u(h),c[f]=h,a=M(a),c=null,f=0),h=0;else break;return b}if(Ke(a)){b=[];a=H(Dg.j(u,a));c=null;for(h=f=0;;)if(h<f)k=c.O(null,h),b.push(k),h+=1;else if(a=H(a))c=a,Re(c)?(a=qd(c),h=sd(c),c=a,f=R(a),a=h):(a=J(c),b.push(a),a=M(c),c=null,f=0),h=0;else break;return b}return a}}(b,c,c,d);return f(a)};
Ij.H=1;Ij.K=function(a){var b=J(a);a=M(a);return this.w(b,a)};function Kj(){}var Lj=function Lj(a,b){if(null!=a&&null!=a.Kf)return a.Kf(a,b);var d=Lj[n(null==a?null:a)];if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);d=Lj._;if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);throw y("IEncodeClojure.-js-\x3eclj",a);};
function Mj(a,b){var c=null!=b&&(b.v&64||p===b.P)?W(Ci,b):b,d=D.j(c,Nj);return function(a,c,d,k){return function q(e){return(null!=e?p===e.vg||(e.ve?0:w(Kj,e)):w(Kj,e))?Lj(e,W(Di,b)):Ue(e)?cj(Dg.j(q,e)):oh(e)?new jh(q(Ec(e)),q(Fc(e)),null):Ke(e)?ug.l(ye(e),Dg.h(q),e):Xb(e)?kd(gc.l(function(){return function(a,b){return Nf.j(a,q(b))}}(a,c,d,k),id(we),e)):$b(e)===Object?kd(gc.l(function(a,b,c,d){return function(a,b){var c=d.h?d.h(b):d.call(null,b);b=q(null!==e&&b in e?e[b]:void 0);return ld(a,c,b)}}(a,
c,d,k),id(Zf),Ma(e))):e}}(b,c,d,v(d)?zf:z)(a)}var Oj=null;function Pj(){null==Oj&&(Oj=zg(new t(null,3,[Qj,Zf,Rj,Zf,Sj,Zf],null)));return Oj}function Tj(a,b,c){var d=P.j(b,c);if(d)return d;d=Sj.h(a);d=d.h?d.h(b):d.call(null,b);if(!(d=Xe(d,c))&&(d=Qe(c)))if(d=Qe(b))if(d=R(c)===R(b)){d=!0;for(var e=0;;)if(d&&e!==R(c))d=Tj(a,b.h?b.h(e):b.call(null,e),c.h?c.h(e):c.call(null,e)),e+=1;else return d}else return d;else return d;else return d}function Uj(a){var b=A(Pj());return Wf(D.j(Qj.h(b),a))}
function Vj(a,b,c,d){Bg.j(a,function(){return A(b)});Bg.j(c,function(){return A(d)})}
var Wj=function Wj(a,b,c){var e=function(){var b=A(c);return b.h?b.h(a):b.call(null,a)}();e=v(v(e)?e.h?e.h(b):e.call(null,b):e)?!0:null;if(v(e))return e;e=function(){for(var e=Uj(b);;)if(0<R(e)){var h=J(e);Wj.l?Wj.l(a,h,c):Wj.call(null,a,h,c);e=Qd(e)}else return null}();if(v(e))return e;e=function(){for(var e=Uj(a);;)if(0<R(e)){var h=J(e);Wj.l?Wj.l(h,b,c):Wj.call(null,h,b,c);e=Qd(e)}else return null}();return v(e)?e:!1};function Xj(a,b,c,d){c=Wj(a,b,c);return v(c)?c:Tj(d,a,b)}
var Yj=function Yj(a,b,c,d,e,f,h,k){var m=gc.l(function(d,f){var h=U(f,0);U(f,1);if(Tj(A(c),b,h)&&(d=null==d||Xj(h,J(d),e,A(c))?f:d,!Xj(J(d),h,e,A(c))))throw Error(["Multiple methods in multimethod '",z.h(a),"' match dispatch value: ",z.h(b)," -\x3e ",z.h(h)," and ",z.h(J(d)),", and neither is preferred"].join(""));return d},null,A(d)),q=function(){var a;if(a=null==m)a=A(d),a=a.h?a.h(k):a.call(null,k);return v(a)?new X(null,2,5,Y,[k,a],null):m}();if(v(q)){if(P.j(A(h),A(c)))return Bg.I(f,V,b,te(q)),
te(q);Vj(f,d,h,c);return Yj.Ea?Yj.Ea(a,b,c,d,e,f,h,k):Yj.call(null,a,b,c,d,e,f,h,k)}return null};function Zj(a,b){throw Error(["No method in multimethod '",z.h(a),"' for dispatch value: ",z.h(b)].join(""));}function ak(a,b,c,d,e,f,h){var k=bk;this.name=a;this.D=b;this.Vf=k;this.Jd=c;this.Od=d;this.ig=e;this.Nd=f;this.wd=h;this.v=4194305;this.M=4352}g=ak.prototype;
g.call=function(){function a(a,b,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G,K,O,ba,N,Ba){a=this;var oa=Ee(a.D,b,c,d,e,T([f,h,k,l,m,q,r,u,x,C,E,G,K,O,ba,N,Ba])),Z=ck(this,oa);v(Z)||Zj(a.name,oa);return Ee(Z,b,c,d,e,T([f,h,k,l,m,q,r,u,x,C,E,G,K,O,ba,N,Ba]))}function b(a,b,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G,K,O,ba,N){a=this;var oa=a.D.Xa?a.D.Xa(b,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G,K,O,ba,N):a.D.call(null,b,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G,K,O,ba,N),Z=ck(this,oa);v(Z)||Zj(a.name,oa);return Z.Xa?Z.Xa(b,c,d,e,f,h,k,l,m,q,r,u,x,
C,E,G,K,O,ba,N):Z.call(null,b,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G,K,O,ba,N)}function c(a,b,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G,K,O,ba){a=this;var oa=a.D.Wa?a.D.Wa(b,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G,K,O,ba):a.D.call(null,b,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G,K,O,ba),Z=ck(this,oa);v(Z)||Zj(a.name,oa);return Z.Wa?Z.Wa(b,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G,K,O,ba):Z.call(null,b,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G,K,O,ba)}function d(a,b,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G,K,O){a=this;var oa=a.D.Va?a.D.Va(b,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G,K,O):
a.D.call(null,b,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G,K,O),Z=ck(this,oa);v(Z)||Zj(a.name,oa);return Z.Va?Z.Va(b,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G,K,O):Z.call(null,b,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G,K,O)}function e(a,b,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G,K){a=this;var oa=a.D.Ua?a.D.Ua(b,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G,K):a.D.call(null,b,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G,K),Z=ck(this,oa);v(Z)||Zj(a.name,oa);return Z.Ua?Z.Ua(b,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G,K):Z.call(null,b,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G,K)}function f(a,b,c,d,e,
f,h,k,l,m,q,r,u,x,C,E,G){a=this;var oa=a.D.Ta?a.D.Ta(b,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G):a.D.call(null,b,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G),Z=ck(this,oa);v(Z)||Zj(a.name,oa);return Z.Ta?Z.Ta(b,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G):Z.call(null,b,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G)}function h(a,b,c,d,e,f,h,k,l,m,q,r,u,x,C,E){a=this;var G=a.D.Sa?a.D.Sa(b,c,d,e,f,h,k,l,m,q,r,u,x,C,E):a.D.call(null,b,c,d,e,f,h,k,l,m,q,r,u,x,C,E),oa=ck(this,G);v(oa)||Zj(a.name,G);return oa.Sa?oa.Sa(b,c,d,e,f,h,k,l,m,q,r,u,x,C,E):oa.call(null,
b,c,d,e,f,h,k,l,m,q,r,u,x,C,E)}function k(a,b,c,d,e,f,h,k,l,m,q,r,u,x,C){a=this;var E=a.D.Ra?a.D.Ra(b,c,d,e,f,h,k,l,m,q,r,u,x,C):a.D.call(null,b,c,d,e,f,h,k,l,m,q,r,u,x,C),G=ck(this,E);v(G)||Zj(a.name,E);return G.Ra?G.Ra(b,c,d,e,f,h,k,l,m,q,r,u,x,C):G.call(null,b,c,d,e,f,h,k,l,m,q,r,u,x,C)}function l(a,b,c,d,e,f,h,k,l,m,q,r,u,x){a=this;var C=a.D.Qa?a.D.Qa(b,c,d,e,f,h,k,l,m,q,r,u,x):a.D.call(null,b,c,d,e,f,h,k,l,m,q,r,u,x),E=ck(this,C);v(E)||Zj(a.name,C);return E.Qa?E.Qa(b,c,d,e,f,h,k,l,m,q,r,u,x):
E.call(null,b,c,d,e,f,h,k,l,m,q,r,u,x)}function m(a,b,c,d,e,f,h,k,l,m,q,r,u){a=this;var x=a.D.Pa?a.D.Pa(b,c,d,e,f,h,k,l,m,q,r,u):a.D.call(null,b,c,d,e,f,h,k,l,m,q,r,u),C=ck(this,x);v(C)||Zj(a.name,x);return C.Pa?C.Pa(b,c,d,e,f,h,k,l,m,q,r,u):C.call(null,b,c,d,e,f,h,k,l,m,q,r,u)}function q(a,b,c,d,e,f,h,k,l,m,q,r){a=this;var u=a.D.Oa?a.D.Oa(b,c,d,e,f,h,k,l,m,q,r):a.D.call(null,b,c,d,e,f,h,k,l,m,q,r),x=ck(this,u);v(x)||Zj(a.name,u);return x.Oa?x.Oa(b,c,d,e,f,h,k,l,m,q,r):x.call(null,b,c,d,e,f,h,k,l,
m,q,r)}function r(a,b,c,d,e,f,h,k,l,m,q){a=this;var r=a.D.Na?a.D.Na(b,c,d,e,f,h,k,l,m,q):a.D.call(null,b,c,d,e,f,h,k,l,m,q),u=ck(this,r);v(u)||Zj(a.name,r);return u.Na?u.Na(b,c,d,e,f,h,k,l,m,q):u.call(null,b,c,d,e,f,h,k,l,m,q)}function u(a,b,c,d,e,f,h,k,l,m){a=this;var q=a.D.Za?a.D.Za(b,c,d,e,f,h,k,l,m):a.D.call(null,b,c,d,e,f,h,k,l,m),r=ck(this,q);v(r)||Zj(a.name,q);return r.Za?r.Za(b,c,d,e,f,h,k,l,m):r.call(null,b,c,d,e,f,h,k,l,m)}function x(a,b,c,d,e,f,h,k,l){a=this;var m=a.D.Ea?a.D.Ea(b,c,d,e,
f,h,k,l):a.D.call(null,b,c,d,e,f,h,k,l),q=ck(this,m);v(q)||Zj(a.name,m);return q.Ea?q.Ea(b,c,d,e,f,h,k,l):q.call(null,b,c,d,e,f,h,k,l)}function C(a,b,c,d,e,f,h,k){a=this;var l=a.D.Ya?a.D.Ya(b,c,d,e,f,h,k):a.D.call(null,b,c,d,e,f,h,k),m=ck(this,l);v(m)||Zj(a.name,l);return m.Ya?m.Ya(b,c,d,e,f,h,k):m.call(null,b,c,d,e,f,h,k)}function E(a,b,c,d,e,f,h){a=this;var k=a.D.va?a.D.va(b,c,d,e,f,h):a.D.call(null,b,c,d,e,f,h),l=ck(this,k);v(l)||Zj(a.name,k);return l.va?l.va(b,c,d,e,f,h):l.call(null,b,c,d,e,f,
h)}function G(a,b,c,d,e,f){a=this;var h=a.D.Y?a.D.Y(b,c,d,e,f):a.D.call(null,b,c,d,e,f),k=ck(this,h);v(k)||Zj(a.name,h);return k.Y?k.Y(b,c,d,e,f):k.call(null,b,c,d,e,f)}function K(a,b,c,d,e){a=this;var f=a.D.I?a.D.I(b,c,d,e):a.D.call(null,b,c,d,e),h=ck(this,f);v(h)||Zj(a.name,f);return h.I?h.I(b,c,d,e):h.call(null,b,c,d,e)}function O(a,b,c,d){a=this;var e=a.D.l?a.D.l(b,c,d):a.D.call(null,b,c,d),f=ck(this,e);v(f)||Zj(a.name,e);return f.l?f.l(b,c,d):f.call(null,b,c,d)}function ba(a,b,c){a=this;var d=
a.D.j?a.D.j(b,c):a.D.call(null,b,c),e=ck(this,d);v(e)||Zj(a.name,d);return e.j?e.j(b,c):e.call(null,b,c)}function Ba(a,b){a=this;var c=a.D.h?a.D.h(b):a.D.call(null,b),d=ck(this,c);v(d)||Zj(a.name,c);return d.h?d.h(b):d.call(null,b)}function gb(a){a=this;var b=a.D.G?a.D.G():a.D.call(null),c=ck(this,b);v(c)||Zj(a.name,b);return c.G?c.G():c.call(null)}var N=null;N=function(N,Z,wa,Aa,Fa,Ja,Ka,Na,Ta,db,hb,ob,Ab,Hb,Pe,ic,Kc,rd,me,Ef,Ph,Dm){switch(arguments.length){case 1:return gb.call(this,N);case 2:return Ba.call(this,
N,Z);case 3:return ba.call(this,N,Z,wa);case 4:return O.call(this,N,Z,wa,Aa);case 5:return K.call(this,N,Z,wa,Aa,Fa);case 6:return G.call(this,N,Z,wa,Aa,Fa,Ja);case 7:return E.call(this,N,Z,wa,Aa,Fa,Ja,Ka);case 8:return C.call(this,N,Z,wa,Aa,Fa,Ja,Ka,Na);case 9:return x.call(this,N,Z,wa,Aa,Fa,Ja,Ka,Na,Ta);case 10:return u.call(this,N,Z,wa,Aa,Fa,Ja,Ka,Na,Ta,db);case 11:return r.call(this,N,Z,wa,Aa,Fa,Ja,Ka,Na,Ta,db,hb);case 12:return q.call(this,N,Z,wa,Aa,Fa,Ja,Ka,Na,Ta,db,hb,ob);case 13:return m.call(this,
N,Z,wa,Aa,Fa,Ja,Ka,Na,Ta,db,hb,ob,Ab);case 14:return l.call(this,N,Z,wa,Aa,Fa,Ja,Ka,Na,Ta,db,hb,ob,Ab,Hb);case 15:return k.call(this,N,Z,wa,Aa,Fa,Ja,Ka,Na,Ta,db,hb,ob,Ab,Hb,Pe);case 16:return h.call(this,N,Z,wa,Aa,Fa,Ja,Ka,Na,Ta,db,hb,ob,Ab,Hb,Pe,ic);case 17:return f.call(this,N,Z,wa,Aa,Fa,Ja,Ka,Na,Ta,db,hb,ob,Ab,Hb,Pe,ic,Kc);case 18:return e.call(this,N,Z,wa,Aa,Fa,Ja,Ka,Na,Ta,db,hb,ob,Ab,Hb,Pe,ic,Kc,rd);case 19:return d.call(this,N,Z,wa,Aa,Fa,Ja,Ka,Na,Ta,db,hb,ob,Ab,Hb,Pe,ic,Kc,rd,me);case 20:return c.call(this,
N,Z,wa,Aa,Fa,Ja,Ka,Na,Ta,db,hb,ob,Ab,Hb,Pe,ic,Kc,rd,me,Ef);case 21:return b.call(this,N,Z,wa,Aa,Fa,Ja,Ka,Na,Ta,db,hb,ob,Ab,Hb,Pe,ic,Kc,rd,me,Ef,Ph);case 22:return a.call(this,N,Z,wa,Aa,Fa,Ja,Ka,Na,Ta,db,hb,ob,Ab,Hb,Pe,ic,Kc,rd,me,Ef,Ph,Dm)}throw Error("Invalid arity: "+(arguments.length-1));};N.h=gb;N.j=Ba;N.l=ba;N.I=O;N.Y=K;N.va=G;N.Ya=E;N.Ea=C;N.Za=x;N.Na=u;N.Oa=r;N.Pa=q;N.Qa=m;N.Ra=l;N.Sa=k;N.Ta=h;N.Ua=f;N.Va=e;N.Wa=d;N.Xa=c;N.ne=b;N.Nf=a;return N}();
g.apply=function(a,b){return this.call.apply(this,[this].concat(ec(b)))};g.G=function(){var a=this.D.G?this.D.G():this.D.call(null),b=ck(this,a);v(b)||Zj(this.name,a);return b.G?b.G():b.call(null)};g.h=function(a){var b=this.D.h?this.D.h(a):this.D.call(null,a),c=ck(this,b);v(c)||Zj(this.name,b);return c.h?c.h(a):c.call(null,a)};g.j=function(a,b){var c=this.D.j?this.D.j(a,b):this.D.call(null,a,b),d=ck(this,c);v(d)||Zj(this.name,c);return d.j?d.j(a,b):d.call(null,a,b)};
g.l=function(a,b,c){var d=this.D.l?this.D.l(a,b,c):this.D.call(null,a,b,c),e=ck(this,d);v(e)||Zj(this.name,d);return e.l?e.l(a,b,c):e.call(null,a,b,c)};g.I=function(a,b,c,d){var e=this.D.I?this.D.I(a,b,c,d):this.D.call(null,a,b,c,d),f=ck(this,e);v(f)||Zj(this.name,e);return f.I?f.I(a,b,c,d):f.call(null,a,b,c,d)};g.Y=function(a,b,c,d,e){var f=this.D.Y?this.D.Y(a,b,c,d,e):this.D.call(null,a,b,c,d,e),h=ck(this,f);v(h)||Zj(this.name,f);return h.Y?h.Y(a,b,c,d,e):h.call(null,a,b,c,d,e)};
g.va=function(a,b,c,d,e,f){var h=this.D.va?this.D.va(a,b,c,d,e,f):this.D.call(null,a,b,c,d,e,f),k=ck(this,h);v(k)||Zj(this.name,h);return k.va?k.va(a,b,c,d,e,f):k.call(null,a,b,c,d,e,f)};g.Ya=function(a,b,c,d,e,f,h){var k=this.D.Ya?this.D.Ya(a,b,c,d,e,f,h):this.D.call(null,a,b,c,d,e,f,h),l=ck(this,k);v(l)||Zj(this.name,k);return l.Ya?l.Ya(a,b,c,d,e,f,h):l.call(null,a,b,c,d,e,f,h)};
g.Ea=function(a,b,c,d,e,f,h,k){var l=this.D.Ea?this.D.Ea(a,b,c,d,e,f,h,k):this.D.call(null,a,b,c,d,e,f,h,k),m=ck(this,l);v(m)||Zj(this.name,l);return m.Ea?m.Ea(a,b,c,d,e,f,h,k):m.call(null,a,b,c,d,e,f,h,k)};g.Za=function(a,b,c,d,e,f,h,k,l){var m=this.D.Za?this.D.Za(a,b,c,d,e,f,h,k,l):this.D.call(null,a,b,c,d,e,f,h,k,l),q=ck(this,m);v(q)||Zj(this.name,m);return q.Za?q.Za(a,b,c,d,e,f,h,k,l):q.call(null,a,b,c,d,e,f,h,k,l)};
g.Na=function(a,b,c,d,e,f,h,k,l,m){var q=this.D.Na?this.D.Na(a,b,c,d,e,f,h,k,l,m):this.D.call(null,a,b,c,d,e,f,h,k,l,m),r=ck(this,q);v(r)||Zj(this.name,q);return r.Na?r.Na(a,b,c,d,e,f,h,k,l,m):r.call(null,a,b,c,d,e,f,h,k,l,m)};g.Oa=function(a,b,c,d,e,f,h,k,l,m,q){var r=this.D.Oa?this.D.Oa(a,b,c,d,e,f,h,k,l,m,q):this.D.call(null,a,b,c,d,e,f,h,k,l,m,q),u=ck(this,r);v(u)||Zj(this.name,r);return u.Oa?u.Oa(a,b,c,d,e,f,h,k,l,m,q):u.call(null,a,b,c,d,e,f,h,k,l,m,q)};
g.Pa=function(a,b,c,d,e,f,h,k,l,m,q,r){var u=this.D.Pa?this.D.Pa(a,b,c,d,e,f,h,k,l,m,q,r):this.D.call(null,a,b,c,d,e,f,h,k,l,m,q,r),x=ck(this,u);v(x)||Zj(this.name,u);return x.Pa?x.Pa(a,b,c,d,e,f,h,k,l,m,q,r):x.call(null,a,b,c,d,e,f,h,k,l,m,q,r)};g.Qa=function(a,b,c,d,e,f,h,k,l,m,q,r,u){var x=this.D.Qa?this.D.Qa(a,b,c,d,e,f,h,k,l,m,q,r,u):this.D.call(null,a,b,c,d,e,f,h,k,l,m,q,r,u),C=ck(this,x);v(C)||Zj(this.name,x);return C.Qa?C.Qa(a,b,c,d,e,f,h,k,l,m,q,r,u):C.call(null,a,b,c,d,e,f,h,k,l,m,q,r,u)};
g.Ra=function(a,b,c,d,e,f,h,k,l,m,q,r,u,x){var C=this.D.Ra?this.D.Ra(a,b,c,d,e,f,h,k,l,m,q,r,u,x):this.D.call(null,a,b,c,d,e,f,h,k,l,m,q,r,u,x),E=ck(this,C);v(E)||Zj(this.name,C);return E.Ra?E.Ra(a,b,c,d,e,f,h,k,l,m,q,r,u,x):E.call(null,a,b,c,d,e,f,h,k,l,m,q,r,u,x)};
g.Sa=function(a,b,c,d,e,f,h,k,l,m,q,r,u,x,C){var E=this.D.Sa?this.D.Sa(a,b,c,d,e,f,h,k,l,m,q,r,u,x,C):this.D.call(null,a,b,c,d,e,f,h,k,l,m,q,r,u,x,C),G=ck(this,E);v(G)||Zj(this.name,E);return G.Sa?G.Sa(a,b,c,d,e,f,h,k,l,m,q,r,u,x,C):G.call(null,a,b,c,d,e,f,h,k,l,m,q,r,u,x,C)};
g.Ta=function(a,b,c,d,e,f,h,k,l,m,q,r,u,x,C,E){var G=this.D.Ta?this.D.Ta(a,b,c,d,e,f,h,k,l,m,q,r,u,x,C,E):this.D.call(null,a,b,c,d,e,f,h,k,l,m,q,r,u,x,C,E),K=ck(this,G);v(K)||Zj(this.name,G);return K.Ta?K.Ta(a,b,c,d,e,f,h,k,l,m,q,r,u,x,C,E):K.call(null,a,b,c,d,e,f,h,k,l,m,q,r,u,x,C,E)};
g.Ua=function(a,b,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G){var K=this.D.Ua?this.D.Ua(a,b,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G):this.D.call(null,a,b,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G),O=ck(this,K);v(O)||Zj(this.name,K);return O.Ua?O.Ua(a,b,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G):O.call(null,a,b,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G)};
g.Va=function(a,b,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G,K){var O=this.D.Va?this.D.Va(a,b,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G,K):this.D.call(null,a,b,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G,K),ba=ck(this,O);v(ba)||Zj(this.name,O);return ba.Va?ba.Va(a,b,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G,K):ba.call(null,a,b,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G,K)};
g.Wa=function(a,b,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G,K,O){var ba=this.D.Wa?this.D.Wa(a,b,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G,K,O):this.D.call(null,a,b,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G,K,O),Ba=ck(this,ba);v(Ba)||Zj(this.name,ba);return Ba.Wa?Ba.Wa(a,b,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G,K,O):Ba.call(null,a,b,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G,K,O)};
g.Xa=function(a,b,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G,K,O,ba){var Ba=this.D.Xa?this.D.Xa(a,b,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G,K,O,ba):this.D.call(null,a,b,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G,K,O,ba),gb=ck(this,Ba);v(gb)||Zj(this.name,Ba);return gb.Xa?gb.Xa(a,b,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G,K,O,ba):gb.call(null,a,b,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G,K,O,ba)};
g.ne=function(a,b,c,d,e,f,h,k,l,m,q,r,u,x,C,E,G,K,O,ba,Ba){var gb=Ee(this.D,a,b,c,d,T([e,f,h,k,l,m,q,r,u,x,C,E,G,K,O,ba,Ba])),N=ck(this,gb);v(N)||Zj(this.name,gb);return Ee(N,a,b,c,d,T([e,f,h,k,l,m,q,r,u,x,C,E,G,K,O,ba,Ba]))};function dk(a,b,c){Bg.I(a.Od,V,b,c);Vj(a.Nd,a.Od,a.wd,a.Jd)}function ck(a,b){P.j(A(a.wd),A(a.Jd))||Vj(a.Nd,a.Od,a.wd,a.Jd);var c=A(a.Nd);c=c.h?c.h(b):c.call(null,b);return v(c)?c:Yj(a.name,b,a.Jd,a.Od,a.ig,a.Nd,a.wd,a.Vf)}g.zd=function(){return td(this.name)};g.Ad=function(){return ud(this.name)};
g.T=function(){return ka(this)};function ek(a,b){this.Db=a;this.F=b;this.v=2153775104;this.M=2048}g=ek.prototype;g.toString=function(){return this.Db};g.equiv=function(a){return this.J(null,a)};g.J=function(a,b){return b instanceof ek&&this.Db===b.Db};g.S=function(a,b){return dd(b,['#uuid "',z.h(this.Db),'"'].join(""))};g.T=function(){null==this.F&&(this.F=Kd(this.Db));return this.F};g.pb=function(a,b){return Ha(this.Db,b.Db)};
function fk(a){if("string"!==typeof a)throw Error("Assert failed: (string? s)");return new ek(a.toLowerCase(),null)}
function gk(){function a(){return Math.floor(16*Math.random()).toString(16)}var b=(8|3&Math.floor(16*Math.random())).toString(16);return fk([z.h(a()),z.h(a()),z.h(a()),z.h(a()),z.h(a()),z.h(a()),z.h(a()),z.h(a()),"-",z.h(a()),z.h(a()),z.h(a()),z.h(a()),"-4",z.h(a()),z.h(a()),z.h(a()),"-",z.h(b),z.h(a()),z.h(a()),z.h(a()),"-",z.h(a()),z.h(a()),z.h(a()),z.h(a()),z.h(a()),z.h(a()),z.h(a()),z.h(a()),z.h(a()),z.h(a()),z.h(a()),z.h(a())].join(""))}
function hk(a,b){var c=Error(a);this.message=a;this.data=b;this.af=null;this.name=c.name;this.description=c.description;this.number=c.number;this.fileName=c.fileName;this.lineNumber=c.lineNumber;this.columnNumber=c.columnNumber;this.stack=c.stack;return this}hk.prototype.__proto__=Error.prototype;hk.prototype.ea=p;
hk.prototype.S=function(a,b,c){dd(b,"#error {:message ");oj(this.message,b,c);v(this.data)&&(dd(b,", :data "),oj(this.data,b,c));v(this.af)&&(dd(b,", :cause "),oj(this.af,b,c));return dd(b,"}")};hk.prototype.toString=function(){return Bd(this)};function ik(a,b){return new hk(a,b)}
function jk(){v(dc)||(dc=function(){for(var a=af(function(a,b){return b.length-a.length}),b="";;)if(H(a)){var c=M(a),d=[function(){var a=b;return""!==b?[a,"|"].join(""):a}(),z.h(J(a))].join("");a=c;b=d}else return[b,"|\\$"].join("")}());return dc}
function kk(a){var b=z.h(a);if("_DOT__DOT_"===b)var c="..";else a:{c=new RegExp(jk(),"g");var d=b.length-1;d=0<=d&&b.indexOf("$",d)==d;b=v(d)?b.substring(0,b.length-1):b;d="";for(var e=0;;){var f=c.exec(b);if(v(f))f=U(f,0),d=[d,z.h(b.substring(e,c.lastIndex-f.length)),z.h("$"===f?"/":null!==cc&&f in cc?cc[f]:void 0)].join(""),e=c.lastIndex;else{c=[d,z.h(b.substring(e,b.length))].join("");break a}}}a=a instanceof B?Od:z;return a.h?a.h(c):a.call(null,c)}
if("undefined"===typeof Gb||"undefined"===typeof Ib||"undefined"===typeof lk)var lk=null;"undefined"!==typeof console&&Vb();if("undefined"===typeof Gb||"undefined"===typeof Ib||"undefined"===typeof mk)var mk=function(){throw Error("cljs.core/*eval* not bound");};var nk=new F(null,"response","response",-1068424192),ok=new B("cljs.core","array?","cljs.core/array?",-1655912448,null),pk=new F(null,"y","y",-1757859776),qk=new B(null,"form","form",16469056,null),rk=new F(null,"args","args",1315556576),sk=new B("cljs.spec.alpha","*","cljs.spec.alpha/*",-1238084288,null),tk=new F(null,"description","description",-1428560544),uk=new F(null,"unnamed","unnamed",-26044928),vk=new B(null,"uuid","uuid",-504564192,null),wk=new F(null,"path","path",-188191168),xk=new B(null,
"get-punch-access","get-punch-access",1112963648,null),yk=new F(null,"add-event","add-event",938429088),zk=new F(null,"encoding","encoding",1728578272),Ak=new F(null,"last-method","last-method",-563909920),Bk=new F(null,"yield","yield",177875009),Ck=new F(null,"finally","finally",1589088705),Dk=new B(null,"unc","unc",-465250751,null),Ek=new F("oops.sdefs","obj-selector","oops.sdefs/obj-selector",655346305),Fk=new F(null,"paused","paused",-1710376127),Gk=new F(null,"p2","p2",905500641),Hk=new F(null,
"min","min",444991522),Ik=new F(null,"selector","selector",762528866),Jk=new F(null,"on-set","on-set",-140953470),Kk=new F(null,"ret","ret",-468222814),Lk=new F("cljs.spec.alpha","unknown","cljs.spec.alpha/unknown",651034818),Mk=new F(null,"*?data*","*?data*",1047537922),Nk=new F(null,"format","format",-1306924766),Ok=new F("cljs.spec.alpha","name","cljs.spec.alpha/name",205233570),Pk=new F(null,"given","given",716253602),Qk=new F(null,"ns-whitelist","ns-whitelist",-1717299774),Rk=new F(null,"inherit",
"inherit",-1840815422),Sk=new F(null,"date","date",-1463434462),Tk=new F(null,"report","report",1394055010),Uk=new B("cljs.core","keyword?","cljs.core/keyword?",713156450,null),Vk=new F(null,"r","r",-471384190),Wk=new F("hirundia.events","good-get-result","hirundia.events/good-get-result",59474850),Xk=new F(null,"soft?","soft?",-1339668477),Yk=new F("mem","all","mem/all",892075139),Zk=new F(null,"get","get",1683182755),$k=new F(null,"cljsLegacyRender","cljsLegacyRender",-1527295613),al=new F(null,
"stroke","stroke",1741823555),Cj=new F(null,"ready","ready",1086465795),bl=new B(null,"p1__51891#","p1__51891#",965989219,null),cl=new F(null,"idle","idle",-2007156861),dl=new F("hirundia.events","http-get","hirundia.events/http-get",1446871011),el=new F(null,"fn","fn",-1175266204),fl=new F(null,"api","api",-899839580),gl=new F(null,"original-text","original-text",744448452),hl=new F(null,"rep+","rep+",-281382396),il=new F("oops.sdefs","obj-key","oops.sdefs/obj-key",-2004347356),jl=new F(null,"group",
"group",582596132),kl=new F("rl","reset","rl/reset",-800926172),Sb=new F(null,"meta","meta",1499536964),ll=new F(null,"flavor","flavor",-1331636636),ml=new F(null,"unexpected-empty-selector","unexpected-empty-selector",-572791900),nl=new F(null,"color","color",1011675173),ol=new F(null,"last-error","last-error",1848699973),pl=new F(null,"json-verbose","json-verbose",-542533531),ql=new F(null,"keywords?","keywords?",764949733),rl=new B(null,"blockable","blockable",-28395259,null),Tb=new F(null,"dup",
"dup",556298533),sl=new B(null,"meta51543","meta51543",-583486107,null),tl=new F("cljs.spec.alpha","rep","cljs.spec.alpha/rep",1483217317),ul=new F(null,"read","read",1140058661),wl=new B("cljs.core","partial","cljs.core/partial",1483172485,null),xl=new F(null,"key","key",-1516042587),yl=new F("rl","peek","rl/peek",-291391771),zl=new F(null,"fsm-state","fsm-state",1656310533),Al=new F(null,"splice","splice",449588165),Bl=new B(null,"forms","forms",-608443419,null),Cl=new F("oops.sdefs","obj-path-key",
"oops.sdefs/obj-path-key",-1566573562),Dl=new F(null,"ns-blacklist","ns-blacklist",1957763142),El=new F("cljs.spec.alpha","accept","cljs.spec.alpha/accept",370988198),Fl=new F(null,"rate-limit","rate-limit",1748082022),Gl=new F(null,"not-initialized","not-initialized",-1937378906),Hl=new F(null,"font-size","font-size",-1847940346),Il=new F("oops.sdefs","obj-path","oops.sdefs/obj-path",692461382),Jl=new F(null,"\x3c-","\x3c-",760412998),Kl=new F(null,"ks","ks",1900203942),Ll=new B("cljs.spec.alpha",
"and","cljs.spec.alpha/and",-2060279705,null),Ml=new F(null,"failure","failure",720415879),Nl=new F(null,"scale","scale",-230427353),Ol=new F(null,"vargs","vargs",-966597273),Pl=new F(null,"db","db",993250759),Ql=new F(null,"fx-handler","fx-handler",-549783097),Rl=new F(null,"sub","sub",-2093760025),Yf=new B(null,"meta32494","meta32494",780700199,null),Sl=new F(null,"gps","gps",-1073670617),Tl=new F("re-frame.std-interceptors","not-found","re-frame.std-interceptors/not-found",-1614827865),Ul=new F(null,
"queue","queue",1455835879),Vl=new F(null,"displayName","displayName",-809144601),Wl=new F(null,"validator","validator",-1966190681),Xl=new F(null,"mark","mark",-373816345),Yl=new F("rl","all","rl/all",892118056),Zl=new F(null,"method","method",55703592),$l=new F(null,"content","content",15833224),am=new F(null,"raw","raw",1604651272),bk=new F(null,"default","default",-1987822328),bm=new F("hirundia.subs","selected-attr","hirundia.subs/selected-attr",-1944203E3),cm=new F(null,"div#map","div#map",
173142408),dm=new F(null,"sequential","sequential",-1082983960),em=new F(null,"output_","output_",-36797880),fm=new F(null,"frozen?","frozen?",613726824),gm=new F(null,"msg_","msg_",-1925147E3),hm=new B("cljs.core","partition-all","cljs.core/partition-all",1634835208,null),im=new F(null,"warn","warn",-436710552),jm=new F(null,"msecs","msecs",1711980553),km=new F(null,"name","name",1843675177),lm=new F(null,"elidable?","elidable?",248362249),Dj=new F(null,"pending","pending",-220036727),mm=new B("cljs.core",
"string?","cljs.core/string?",-2072921719,null),nm=new F(null,"warning-reporting","warning-reporting",-319054391),om=new F(null,"trace","trace",-1082747415),pm=new F(null,"dt","dt",-368444759),qm=new F(null,"fill","fill",883462889),rm=new B("cljs.spec.alpha","or","cljs.spec.alpha/or",-831679639,null),sm=new B(null,"gfn","gfn",-1862918295,null),tm=new F("cljs.spec.alpha","gfn","cljs.spec.alpha/gfn",-593120375),um=new F(null,"req-id","req-id",-471642231),vm=new F(null,"http-no-on-success","http-no-on-success",
-1593227158),wm=new F(null,"qualifier","qualifier",125841738),xm=new F(null,"response-format","response-format",1664465322),ym=new F(null,"status-text","status-text",-1834235478),zm=new F(null,"component-did-mount","component-did-mount",-1126910518),Am=new B(null,"v","v",1661996586,null),Bm=new F(null,"native-array","native-array",1549686442),Cm=new F(null,"species","species",-1393763638),Em=new B(null,"js","js",-886355190,null),Fm=new F(null,"circle","circle",1903212362),Gm=new F(null,"do-fx","do-fx",
1194163050),Hm=new B(null,"p1__51890#","p1__51890#",-2059447318,null),Im=new F(null,"js-obj","js-obj",-1298148277),Jm=new F(null,"secs","secs",1532330091),Km=new F(null,"mode","mode",654403691),Lm=new F("mem","del","mem/del",574870667),Mm=new F(null,"width","width",-384071477),Nm=new F(null,"aborted","aborted",1775972619),Om=new F(null,"div#vis","div#vis",730109291),Pm=new B(null,"cpred?","cpred?",35589515,null),Qm=new F("hirundia.events","initialize-db","hirundia.events/initialize-db",622419339),
Rm=new F(null,"months","months",-45571637),Sm=new F(null,"processing-request","processing-request",-264947221),Tm=new F(null,"params","params",710516235),Um=new F(null,"facing","facing",-854439413),Vm=new F(null,"legend","legend",-1027192245),Wm=new F(null,"amp","amp",271690571),Xm=new F(null,"?file","?file",1533429675),Ym=new F(null,"component-did-update","component-did-update",-1468549173),Zm=new F(null,"days","days",-1394072564),xj=new F(null,"val","val",128701612),$m=new F("cljs.spec.alpha","op",
"cljs.spec.alpha/op",-1269055252),an=new F(null,"dispatch-n","dispatch-n",-504469236),bn=new B(null,"inst","inst",-2008473268,null),cn=new B(null,"meta51865","meta51865",-34278068,null),dn=new F(null,"field","field",-1302436500),en=new F(null,"type","type",1174270348),fn=new F(null,"request-received","request-received",2110590540),gn=new F("cljs.spec.alpha","v","cljs.spec.alpha/v",552625740),hn=new F(null,"mins","mins",467369676),jn=new B("cljs.spec.alpha","tuple","cljs.spec.alpha/tuple",-415901908,
null),kn=new F(null,"div.legend","div.legend",-315677844),ln=new F(null,"use-envelope","use-envelope",-2007197780),mn=new F(null,"longitude","longitude",-1268876372),nn=new F(null,"debug","debug",-1608172596),on=new B(null,"pred","pred",-727012372,null),pn=new F(null,"ns-str","ns-str",-2062616499),qn=new F(null,"fillOpacity","fillOpacity",619211981),rj=new F(null,"fallback-impl","fallback-impl",-1501286995),rn=new F(null,"view-box","view-box",-1792199155),sn=new F(null,"on-success","on-success",1786904109),
Jj=new F(null,"keyword-fn","keyword-fn",-64566675),tn=new F(null,"hostname_","hostname_",-2091647379),un=new F(null,"handlers","handlers",79528781),Qb=new F(null,"flush-on-newline","flush-on-newline",-151457939),vn=new F(null,"componentWillUnmount","componentWillUnmount",1573788814),wn=new F(null,"component-will-update","component-will-update",335247566),xn=new F(null,"string","string",-1989541586),yn=new B(null,"queue","queue",-1198599890,null),zn=new F(null,"p1","p1",-936759954),An=new F(null,"vector",
"vector",1902966158),Bn=new B("cljs.core","zipmap","cljs.core/zipmap",-1902130674,null),Cn=new F(null,"?ns-str","?ns-str",2012733966),Dn=new F(null,"radius","radius",-2073122258),En=new F("cljs.analyzer","analyzed","cljs.analyzer/analyzed",-735094162),Fn=new F(null,"deregister-event-handler","deregister-event-handler",-1096518994),Gn=new F(null,"parse-error","parse-error",255902478),Hn=new F("oops.sdefs","obj-path-mode","oops.sdefs/obj-path-mode",1253821198),In=new F(null,"error-reporting","error-reporting",
1274700782),Jn=new B(null,"%","%",-950237169,null),Kn=new B(null,"arr","arr",2115492975,null),Ln=new B("cljs.core","map","cljs.core/map",-338988913,null),Mn=new F(null,"strable","strable",1877668047),Rj=new F(null,"descendants","descendants",1824886031),Nn=new F(null,"renderer","renderer",336841071),On=new F("cljs.spec.alpha","kvs-\x3emap","cljs.spec.alpha/kvs-\x3emap",579713455),Pn=new F(null,"title","title",636505583),Qn=new F(null,"running","running",1554969103),Rn=new F(null,"maxZoom","maxZoom",
566190639),Sn=new F(null,"stub","stub",1339145807),Tn=new F(null,"enabled?","enabled?",-1376075057),Un=new F(null,"prefix","prefix",-265908465),Vn=new F(null,"street","street",1870012303),Wn=new F(null,"headers","headers",-835030129),Xn=new F(null,"object-is-frozen","object-is-frozen",-1391578096),Yn=new B("oops.spec","native-array-aware-*","oops.spec/native-array-aware-*",1171382320,null),Zn=new F(null,"shouldComponentUpdate","shouldComponentUpdate",1795750960),$n=new B(null,"get-dot-access","get-dot-access",
-1468450704,null),ao=new F(null,"error-handler","error-handler",-484945776),Sj=new F(null,"ancestors","ancestors",-776045424),bo=new F(null,"middleware","middleware",1462115504),co=new F(null,"fatal","fatal",1874419888),eo=new F(null,"flush-dom","flush-dom",-933676816),fo=new F(null,"style","style",-496642736),go=new F(null,"write","write",-1857649168),ho=new F(null,"level","level",1290497552),io=new F(null,"div","div",1057191632),jo=new F(null,"trim-v","trim-v",-1274938640),Rb=new F(null,"readably",
"readably",1129599760),hj=new F(null,"more-marker","more-marker",-14717935),ko=new B("cljs.core","let","cljs.core/let",-308701135,null),lo=new F(null,"dispatch","dispatch",1319337009),mo=new B(null,"re","re",1869207729,null),no=new F(null,"g","g",1738089905),Ki=new F(null,"reagentRender","reagentRender",-358306383),oo=new B(null,"kps","kps",-1157342767,null),po=new F("cljs.spec.alpha","invalid","cljs.spec.alpha/invalid",-1220295119),qo=new B(null,"preds","preds",150921777,null),ro=new F(null,"java",
"java",1958249105),so=new B(null,"get-soft-access","get-soft-access",-1996253487,null),to=new B(null,"meta51601","meta51601",566908817,null),uo=new F(null,"\x3c\x3e","\x3c\x3e",1280186386),vo=new F(null,"no-cache","no-cache",1588056370),wo=new F(null,"expected-function-value","expected-function-value",-1399123630),Ji=new F(null,"render","render",-1408033454),xo=new F(null,"db-handler","db-handler",579530098),yo=new F(null,"event","event",301435442),zo=new F(null,"select-attr","select-attr",1287780946),
Ao=new F(null,"after","after",594996914),Bo=new F("hirundia.subs","data","hirundia.subs/data",-1800264974),Co=new F(null,"val-type","val-type",-279850094),Do=new F(null,"reagent-render","reagent-render",-985383853),Eo=new F(null,"output-fn","output-fn",1600951539),Fo=new F(null,"stroke-width","stroke-width",716836435),Go=new F(null,"list","list",765357683),Ho=new B(null,"fn*","fn*",-752876845,null),Io=new F(null,"on-write","on-write",31519475),Jo=new F(null,"?err","?err",549653299),Ko=new F(null,
"keyword","keyword",811389747),Lo=new F("mem","fresh","mem/fresh",-1179989133),Mo=new F(null,"*assert*","*assert*",-160895053),No=new F(null,"data-error","data-error",-1058016301),Bj=new F(null,"status","status",-1997798413),Oo=new F(null,"response-ready","response-ready",245208276),Ub=new F(null,"print-length","print-length",1931866356),Po=new F(null,"writer","writer",-277568236),Qo=new F(null,"max","max",61366548),Ro=new F(null,"http-no-on-failure","http-no-on-failure",962976084),So=new F("cljs.spec.alpha",
"amp","cljs.spec.alpha/amp",831147508),To=new F(null,"cx","cx",1272694324),Uo=new F(null,"id","id",-1388402092),Vo=new F(null,"values","values",372645556),Wo=new F(null,"class","class",-2030961996),Xo=new F(null,"effects","effects",-282369292),Yo=new F(null,"cy","cy",755331060),Zo=new F(null,"on-failure","on-failure",842888245),$o=new F(null,"nil","nil",99600501),ap=new F(null,"progress-handler","progress-handler",333585589),bp=new F(null,"auto-run","auto-run",1958400437),cp=new F(null,"reader","reader",
169660853),Qj=new F(null,"parents","parents",-2027538891),dp=new B(null,"cnt","cnt",1924510325,null),ep=new F(null,"parse","parse",-1162164619),fp=new F(null,"house_number_name","house_number_name",-1210525867),gp=new F(null,"run-queue","run-queue",-1701798027),hp=new B("cljs.spec.alpha","valid?","cljs.spec.alpha/valid?",-142132235,null),ip=new B(null,"k","k",-505765866,null),jp=new F(null,"component-will-unmount","component-will-unmount",-2058314698),kp=new F("cljs.spec.alpha","k","cljs.spec.alpha/k",
-1602615178),lp=new F(null,"shape","shape",1190694006),mp=new F(null,"svg","svg",856789142),np=new B(null,"meta51506","meta51506",150250742,null),op=new F(null,"attribution","attribution",1937239286),pp=new B("cljs.core","fn","cljs.core/fn",-1065745098,null),qp=new F(null,"info","info",-317069002),rp=new F(null,"child-factory","child-factory",-1019029066),sp=new F(null,"stack","stack",-793405930),tp=new F(null,"stacktrace-fonts","stacktrace-fonts",830799382),up=new F(null,"no-stacktrace?","no-stacktrace?",
1701072694),vp=new F(null,"content-type","content-type",-508222634),wp=new F("oops.sdefs","obj-path-item","oops.sdefs/obj-path-item",-77633674),xp=new F(null,"invalid-selector","invalid-selector",1262807990),yp=new F(null,"unexpected-punching-selector","unexpected-punching-selector",-1934135338),zp=new B(null,"meta51534","meta51534",1362920727,null),Ap=new F(null,"timestamp_","timestamp_",-954533417),Bp=new F(null,"display-name","display-name",694513143),Cp=new F(null,"scheduled","scheduled",553898551),
Dp=new F(null,"hours","hours",58380855),Ep=new F(null,"?data","?data",-9471433),Fp=new F(null,"selected-attr","selected-attr",-1349668265),Gp=new F(null,"throw","throw",-1044625833),Hp=new B("cljs.core","vec","cljs.core/vec",307622519,null),Ip=new F(null,"?line","?line",-631853385),Jp=new F(null,"throw-errors-from-macro-call-sites","throw-errors-from-macro-call-sites",-1338743049),Kp=new F(null,"years","years",-1298579689),Lp=new F(null,"latitude","latitude",394867543),Mp=new F(null,"min-level","min-level",
1634684919),Np=new F(null,"on-dispose","on-dispose",2105306360),Op=new F(null,"pause","pause",-2095325672),Pp=new F(null,"error","error",-978969032),Qp=new F(null,"h2","h2",-372662728),Rp=new F(null,"regex","regex",939488856),Li=new F(null,"componentFunction","componentFunction",825866104),Sp=new F(null,"exception","exception",-335277064),Tp=new F(null,"destroyed_date","destroyed_date",-1457382311),Up=new B(null,"keys","keys",-1586012071,null),Vp=new F(null,"console","console",1228072057),Wp=new F(null,
"coeffects","coeffects",497912985),Xp=new F(null,"x","x",2099068185),Yp=new F(null,"uri","uri",-774711847),Zp=new F(null,"interceptors","interceptors",-1546782951),$p=new F(null,"domain","domain",1847214937),aq=new F("hirundia.subs","name","hirundia.subs/name",1100215418),bq=new F(null,"http-xhrio","http-xhrio",1846166714),cq=new F(null,"json","json",1279968570),dq=new F(null,"debug-message","debug-message",-502855302),eq=new F(null,"aggregate","aggregate",1511468442),fq=new B(null,"pairs","pairs",
-2039825990,null),gq=new F(null,"set","set",304602554),hq=new F(null,"timeout","timeout",-318625318),iq=new F(null,"object-is-sealed","object-is-sealed",-1791813926),jq=new F(null,"h1","h1",-1896887462),kq=new F(null,"version","version",425292698),lq=new F(null,"min-version","min-version",-1697197126),mq=new F(null,"groupEnd","groupEnd",-337721382),nq=new F(null,"atom","atom",-397043653),oq=new F(null,"raw-console?","raw-console?",-2061489061),pq=new F(null,"unexpected-object-value","unexpected-object-value",
-1214439301),qq=new F(null,"your-version","your-version",-351781765),rq=new B(null,"id","id",252129435,null),sq=new F(null,"trigger","trigger",103466139),tq=new F(null,"?meta","?meta",-793560773),uq=new B("cljs.core","and","cljs.core/and",-6692549,null),vq=new F(null,"autobind","autobind",-570650245),wq=new F(null,"hierarchy","hierarchy",-1053470341),xq=new F(null,"cofx","cofx",2013202907),yq=new F(null,"form-str","form-str",871608859),zq=new F(null,"body","body",-2049205669),Aq=new F(null,"connection-established",
"connection-established",-1403749733),qj=new F(null,"alt-impl","alt-impl",670969595),Bq=new F(null,"resume","resume",-118572261),Cq=new F(null,"ms","ms",-1152709733),Dq=new F(null,"fx","fx",-1237829572),Eq=new B(null,"specs","specs",-1227865028,null),Fq=new F(null,"fillColor","fillColor",-176906116),Gq=new F(null,"before","before",-1633692388),Hq=new F(null,"handler","handler",-195596612),Iq=new F(null,"unexpected-soft-selector","unexpected-soft-selector",-1117708580),Nj=new F(null,"keywordize-keys",
"keywordize-keys",1310784252),Jq=new B(null,"cform","cform",1319506748,null),Kq=new F(null,"vec-strategy","vec-strategy",1843221372),Lq=new F(null,"log","log",-1595516004),Mq=new F("hirundia.events","bad-get-result","hirundia.events/bad-get-result",-1478596547),Nq=new F("re-frame.std-interceptors","untrimmed-event","re-frame.std-interceptors/untrimmed-event",-840935075),Oq=new F(null,"weeks","weeks",1844596125),Pq=new F(null,"map","map",1371690461),Qq=new F(null,"with-credentials","with-credentials",
-1163127235),Rq=new F(null,"finish-run","finish-run",753148477),Sq=new F("cljs.spec.alpha","alt","cljs.spec.alpha/alt",523685437),Tq=new F(null,"url-params","url-params",-697567619),Uq=new F(null,"componentWillMount","componentWillMount",-285327619),Vq=new F(null,"missing-object-key","missing-object-key",-1300201731),Wq=new B("cljs.core","every?","cljs.core/every?",1416822717,null),Xq=new F(null,"async?","async?",1523057758),Yq=new F(null,"fill-opacity","fill-opacity",-537571170),Zq=new F(null,"tooltip",
"tooltip",-1809677058),$q=new F(null,"last-error-code","last-error-code",276598110),ar=new F(null,"forms","forms",2045992350),br=new F(null,"failed","failed",-1397425762),cr=new F(null,"appenders","appenders",1245583998),dr=new F("cljs.spec.alpha","nil","cljs.spec.alpha/nil",1733813950),er=new F(null,"dispatch-later","dispatch-later",291951390),fr=new F(null,"ps","ps",292358046),gr=new F(null,"range","range",1639692286),hr=new F(null,"height","height",1025178622),ir=new F(null,"object-key-not-writable",
"object-key-not-writable",206336031),jr=new B("cljs.spec.alpha","conformer","cljs.spec.alpha/conformer",2140085535,null),kr=new B(null,"meta42622","meta42622",1071780223,null),Mi=new F("cljs.core","not-found","cljs.core/not-found",-1572889185),lr=new F(null,"text","text",-1790561697),mr=new F("cljs.spec.alpha","pcat","cljs.spec.alpha/pcat",26406623),nr=new F(null,"data","data",-232669377),or=new B(null,"f","f",43394975,null);var pr=function pr(a,b,c){if(null!=a&&null!=a.ae)return a.ae(a,b,c);var e=pr[n(null==a?null:a)];if(null!=e)return e.l?e.l(a,b,c):e.call(null,a,b,c);e=pr._;if(null!=e)return e.l?e.l(a,b,c):e.call(null,a,b,c);throw y("AjaxImpl.-js-ajax-request",a);},qr=function qr(a){if(null!=a&&null!=a.ee)return a.ee(a);var c=qr[n(null==a?null:a)];if(null!=c)return c.h?c.h(a):c.call(null,a);c=qr._;if(null!=c)return c.h?c.h(a):c.call(null,a);throw y("AjaxResponse.-status",a);},rr=function rr(a){if(null!=a&&null!=a.fe)return a.fe(a);
var c=rr[n(null==a?null:a)];if(null!=c)return c.h?c.h(a):c.call(null,a);c=rr._;if(null!=c)return c.h?c.h(a):c.call(null,a);throw y("AjaxResponse.-status-text",a);},sr=function sr(a){if(null!=a&&null!=a.ce)return a.ce(a);var c=sr[n(null==a?null:a)];if(null!=c)return c.h?c.h(a):c.call(null,a);c=sr._;if(null!=c)return c.h?c.h(a):c.call(null,a);throw y("AjaxResponse.-get-all-headers",a);},tr=function tr(a){if(null!=a&&null!=a.be)return a.be(a);var c=tr[n(null==a?null:a)];if(null!=c)return c.h?c.h(a):
c.call(null,a);c=tr._;if(null!=c)return c.h?c.h(a):c.call(null,a);throw y("AjaxResponse.-body",a);},ur=function ur(a,b){if(null!=a&&null!=a.de)return a.de(a,b);var d=ur[n(null==a?null:a)];if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);d=ur._;if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);throw y("AjaxResponse.-get-response-header",a);},vr=function vr(a){if(null!=a&&null!=a.ge)return a.ge(a);var c=vr[n(null==a?null:a)];if(null!=c)return c.h?c.h(a):c.call(null,a);c=vr._;if(null!=c)return c.h?c.h(a):
c.call(null,a);throw y("AjaxResponse.-was-aborted",a);},wr=function wr(a,b){if(null!=a&&null!=a.Sc)return a.Sc(a,b);var d=wr[n(null==a?null:a)];if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);d=wr._;if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);throw y("Interceptor.-process-request",a);},xr=function xr(a,b){if(null!=a&&null!=a.Tc)return a.Tc(a,b);var d=xr[n(null==a?null:a)];if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);d=xr._;if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);throw y("Interceptor.-process-response",
a);};function yr(a){throw Error(z.h(a));}var zr=new Oi(null,new t(null,7,[206,null,204,null,304,null,1223,null,201,null,202,null,200,null],null),null);function Ar(a,b,c){var d=v(b.ignoreCase)?"gi":"g";d=v(b.multiline)?[d,"m"].join(""):d;return a.replace(new RegExp(b.source,v(b.Fg)?[d,"u"].join(""):d),c)}
function Br(a){return function(){function b(a){var b=null;if(0<arguments.length){b=0;for(var d=Array(arguments.length-0);b<d.length;)d[b]=arguments[b+0],++b;b=new I(d,0,null)}return c.call(this,b)}function c(b){b=Gg(b);if(P.j(R(b),1))return b=J(b),a.h?a.h(b):a.call(null,b);b=nh(b);return a.h?a.h(b):a.call(null,b)}b.H=0;b.K=function(a){a=H(a);return c(a)};b.w=c;return b}()}
function Cr(a,b,c){if("string"===typeof b)return a.replace(new RegExp(String(b).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"),"g"),c);if(b instanceof RegExp)return"string"===typeof c?Ar(a,b,c):Ar(a,b,Br(c));throw["Invalid match arg: ",z.h(b)].join("");}function Dr(a,b){var c=new kb;for(b=H(b);;)if(null!=b)c.append(z.h(J(b))),b=M(b),null!=b&&c.append(a);else return c.toString()}
function Er(a,b){if(0>=b||b>=2+R(a))return ve.j(nh(qe("",Dg.j(z,H(a)))),"");if(v(pf?Vc(1,b):of.call(null,1,b)))return new X(null,1,5,Y,[a],null);if(v(pf?Vc(2,b):of.call(null,2,b)))return new X(null,2,5,Y,["",a],null);b-=2;return ve.j(nh(qe("",sh.l(nh(Dg.j(z,H(a))),0,b))),a.substring(b))}
function Fr(a,b,c){if("/(?:)/"===z.h(b))b=Er(a,c);else if(1>c)b=nh(z.h(a).split(b));else a:for(var d=c,e=we;;){if(1===d){b=ve.j(e,a);break a}var f=ej(b,a);if(null!=f){var h=a.indexOf(f);f=a.substring(h+R(f));--d;e=ve.j(e,a.substring(0,h));a=f}else{b=ve.j(e,a);break a}}if(0===c&&1<R(b))a:for(c=b;;)if(""===He(c))c=null==c?null:Jc(c);else break a;else c=b;return c};function Gr(a){return a instanceof F?Af(a):a}var Hr=encodeURIComponent;function Ir(a){var b=U(a,0);a=U(a,1);return[z.h(Gr(b)),"\x3d",z.h(Hr.h?Hr.h(a):Hr.call(null,a))].join("")}function Jr(a){return function(b,c){return new X(null,2,5,Y,[a.h?a.h(b):a.call(null,b),c],null)}}
function Kr(a){var b=function(){var b=v(a)?a:ro,d=b instanceof F?b.La:null;switch(d){case "java":return function(){return function(){return null}}(b,d);case "rails":return function(){return function(){return""}}(b,d);case "indexed":return ef;default:throw Error(["No matching clause: ",z.h(d)].join(""));}}();return Jr(b)}
function Lr(a,b){var c=U(b,0);b=U(b,1);var d=Gr(c);c=v(null)?v(c)?[z.h(null),"[",z.h(d),"]"].join(""):null:d;d=Mr(a,c);return"string"===typeof b?new X(null,1,5,Y,[new X(null,2,5,Y,[c,b],null)],null):b instanceof F?new X(null,1,5,Y,[new X(null,2,5,Y,[c,Af(b)],null)],null):Ne(b)?Kg(d,T([H(b)])):Me(b)?Kg(d,T([wg(a,H(b))])):new X(null,1,5,Y,[new X(null,2,5,Y,[c,b],null)],null)}
function Mr(a,b){return function(c){var d=U(c,0);c=U(c,1);var e=Gr(d);d=v(b)?v(d)?[z.h(b),"[",z.h(e),"]"].join(""):b:e;e=Mr(a,d);return"string"===typeof c?new X(null,1,5,Y,[new X(null,2,5,Y,[d,c],null)],null):c instanceof F?new X(null,1,5,Y,[new X(null,2,5,Y,[d,Af(c)],null)],null):Ne(c)?Kg(e,T([H(c)])):Me(c)?Kg(e,T([wg(a,H(c))])):new X(null,1,5,Y,[new X(null,2,5,Y,[d,c],null)],null)}}function Nr(a,b){return Dr("\x26",Dg.j(Ir,Lr(Kr(a),new X(null,2,5,Y,[null,b],null))))}
function Or(a){return function(b){return Dr("\x26",Dg.j(Ir,Lr(Kr(a),new X(null,2,5,Y,[null,b],null))))}}function Pr(a){a=null!=a&&(a.v&64||p===a.P)?W(Ci,a):a;a=D.j(a,Kq);return new t(null,2,[go,Or(a),vp,"application/x-www-form-urlencoded; charset\x3dutf-8"],null)};var Qr=function Qr(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Qr.w(arguments[0],arguments[1],arguments[2],3<c.length?new I(c.slice(3),0,null):null)};Qr.w=function(a,b,c,d){return new X(null,2,5,Y,[!1,gc.l(ve,new t(null,3,[Bj,a,ym,b,Ml,c],null),Dg.j(nh,Qg(2,2,d)))],null)};Qr.H=3;Qr.K=function(a){var b=J(a),c=M(a);a=J(c);var d=M(c);c=J(d);d=M(d);return this.w(b,a,c,d)};function Rr(a){return Dr(", ","string"===typeof a?new X(null,1,5,Y,[a],null):a)}
function Sr(a,b,c,d,e,f){this.read=a;this.description=b;this.vb=c;this.ra=d;this.R=e;this.F=f;this.v=2230716170;this.M=139264}g=Sr.prototype;g.X=function(a,b){return this.N(null,b,null)};g.N=function(a,b,c){switch(b instanceof F?b.La:null){case "read":return this.read;case "description":return this.description;case "content-type":return this.vb;default:return D.l(this.R,b,c)}};
g.Ib=function(a,b,c){return gc.l(function(){return function(a,c){var d=U(c,0);c=U(c,1);return b.l?b.l(a,d,c):b.call(null,a,d,c)}}(this),c,this)};g.Sc=function(a,b){var c=null!=a&&(a.v&64||p===a.P)?W(Ci,a):a,d=D.j(c,vp),e=null!=this&&(this.v&64||p===this.P)?W(Ci,this):this,f=D.j(e,vp);return Ug(b,Wn,function(a,b,c){return function(a){return Hi.w(T([new t(null,1,["Accept",Rr(c)],null),v(a)?a:Zf]))}}(this,e,f,a,c,d))};
g.Tc=function(a,b){a=null!=a&&(a.v&64||p===a.P)?W(Ci,a):a;D.j(a,ul);a=null!=this&&(this.v&64||p===this.P)?W(Ci,this):this;var c=D.j(a,ul);try{var d=qr(b),e=sg.j(Qr,d);switch(d){case 0:return e.j?e.j("Request failed.",br):e.call(null,"Request failed.",br);case -1:return v(vr(b))?e.j?e.j("Request aborted by client.",Nm):e.call(null,"Request aborted by client.",Nm):e.j?e.j("Request timed out.",hq):e.call(null,"Request timed out.",hq);case 204:return new X(null,2,5,Y,[!0,null],null);case 205:return new X(null,
2,5,Y,[!0,null],null);default:try{var f=c.h?c.h(b):c.call(null,b);if(Xe(zr,d))return new X(null,2,5,Y,[!0,f],null);var h=rr(b);return e.I?e.I(h,Pp,nk,f):e.call(null,h,Pp,nk,f)}catch(x){if(x instanceof Object){f=x;e=Y;var k=null!=a&&(a.v&64||p===a.P)?W(Ci,a):a,l=D.j(k,tk),m=new t(null,3,[Bj,d,Ml,Pp,nk,null],null),q=[z.h(f.message),"  Format should have been ",z.h(l)].join(""),r=V.w(m,ym,q,T([Ml,ep,gl,tr(b)]));var u=Xe(zr,d)?r:V.w(m,ym,rr(b),T([Gn,r]));return new X(null,2,5,e,[!1,u],null)}throw x;}}}catch(x){if(x instanceof
Object)return f=x,Qr.w(0,f.message,Sp,T([Sp,f]));throw x;}};g.S=function(a,b,c){return gj(b,function(){return function(a){return gj(b,oj,""," ","",c,a)}}(this),"#ajax.interceptors.ResponseFormat{",", ","}",c,Mf.j(new X(null,3,5,Y,[new X(null,2,5,Y,[ul,this.read],null),new X(null,2,5,Y,[tk,this.description],null),new X(null,2,5,Y,[vp,this.vb],null)],null),this.R))};g.$a=function(){return new Dh(this,3,new X(null,3,5,Y,[ul,tk,vp],null),v(this.R)?zd(this.R):Xf())};g.U=function(){return this.ra};
g.Ma=function(){return new Sr(this.read,this.description,this.vb,this.ra,this.R,this.F)};g.ca=function(){return 3+R(this.R)};g.T=function(){var a=this,b=this.F;if(null!=b)return b;var c=function(){return function(){return function(a){return-2103965186^Xd(a)}}(b,a)(a)}();return this.F=c};g.J=function(a,b){return null!=b&&this.constructor===b.constructor&&P.j(this.read,b.read)&&P.j(this.description,b.description)&&P.j(this.vb,b.vb)&&P.j(this.R,b.R)};
g.fc=function(a,b){return Xe(new Oi(null,new t(null,3,[tk,null,ul,null,vp,null],null),null),b)?Be.j(Qc(ug.j(Zf,this),this.ra),b):new Sr(this.read,this.description,this.vb,this.ra,Wf(Be.j(this.R,b)),null)};
g.Ka=function(a,b,c){return v(wf.j?wf.j(ul,b):wf.call(null,ul,b))?new Sr(c,this.description,this.vb,this.ra,this.R,null):v(wf.j?wf.j(tk,b):wf.call(null,tk,b))?new Sr(this.read,c,this.vb,this.ra,this.R,null):v(wf.j?wf.j(vp,b):wf.call(null,vp,b))?new Sr(this.read,this.description,c,this.ra,this.R,null):new Sr(this.read,this.description,this.vb,this.ra,V.l(this.R,b,c),null)};
g.Z=function(){return H(Mf.j(new X(null,3,5,Y,[new jh(ul,this.read,null),new jh(tk,this.description,null),new jh(vp,this.vb,null)],null),this.R))};g.V=function(a,b){return new Sr(this.read,this.description,this.vb,b,this.R,this.F)};g.ga=function(a,b){return Qe(b)?this.Ka(null,sc.j(b,0),sc.j(b,1)):gc.l(qc,this,b)};function Tr(a){var b=Be.w(a,ul,T([tk,vp]));b=Oe(a)?ug.j(Zf,b):b;return new Sr(ul.h(a),tk.h(a),vp.h(a),null,Wf(b),null)}
function Ur(a,b,c){this.ra=a;this.R=b;this.F=c;this.v=2230716170;this.M=139264}g=Ur.prototype;g.X=function(a,b){return this.N(null,b,null)};g.N=function(a,b,c){return D.l(this.R,b,c)};g.Ib=function(a,b,c){return gc.l(function(){return function(a,c){var d=U(c,0);c=U(c,1);return b.l?b.l(a,d,c):b.call(null,a,d,c)}}(this),c,this)};
g.Sc=function(a,b){a=null!=b&&(b.v&64||p===b.P)?W(Ci,b):b;D.j(a,Yp);D.j(a,Zl);var c=D.j(a,Nk),d=D.j(a,Tm);b=D.j(a,Wn);var e=Ne(c)?c:c instanceof F?yr(new X(null,2,5,Y,["keywords are not allowed as request formats in ajax calls: ",c],null)):We(c)?new t(null,2,[go,c,vp,"text/plain"],null):Zf;e=null!=e&&(e.v&64||p===e.P)?W(Ci,e):e;var f=D.j(e,go);e=D.j(e,vp);c=null!=f?f.h?f.h(d):f.call(null,d):yr(new X(null,2,5,Y,["unrecognized request format: ",c],null));b=v(b)?b:Zf;return V.w(a,zq,c,T([Wn,v(e)?V.l(b,
"Content-Type",Rr(e)):b]))};g.Tc=function(a,b){return b};g.S=function(a,b,c){return gj(b,function(){return function(a){return gj(b,oj,""," ","",c,a)}}(this),"#ajax.interceptors.ApplyRequestFormat{",", ","}",c,Mf.j(we,this.R))};g.$a=function(){return new Dh(this,0,we,v(this.R)?zd(this.R):Xf())};g.U=function(){return this.ra};g.Ma=function(){return new Ur(this.ra,this.R,this.F)};g.ca=function(){return 0+R(this.R)};
g.T=function(){var a=this,b=this.F;if(null!=b)return b;var c=function(){return function(){return function(a){return 1698259290^Xd(a)}}(b,a)(a)}();return this.F=c};g.J=function(a,b){return null!=b&&this.constructor===b.constructor&&P.j(this.R,b.R)};g.fc=function(a,b){return Xe(Qi,b)?Be.j(Qc(ug.j(Zf,this),this.ra),b):new Ur(this.ra,Wf(Be.j(this.R,b)),null)};g.Ka=function(a,b,c){return new Ur(this.ra,V.l(this.R,b,c),null)};g.Z=function(){return H(Mf.j(we,this.R))};
g.V=function(a,b){return new Ur(b,this.R,this.F)};g.ga=function(a,b){return Qe(b)?this.Ka(null,sc.j(b,0),sc.j(b,1)):gc.l(qc,this,b)};function Vr(a){var b=null!=a&&(a.v&64||p===a.P)?W(Ci,a):a,c=D.j(b,Kq),d=D.j(b,Tm),e=D.j(b,Zl),f=D.j(b,Tq);return function(a,b,c,d,e,f){return function(a){var b=P.j(e,"GET")&&null==f?d:f;return v(b)?[z.h(a),v(ej(/\?/,a))?"\x26":"?",z.h(Nr(c,b))].join(""):a}}(a,b,c,d,e,f)}function Wr(a,b,c){this.ra=a;this.R=b;this.F=c;this.v=2230716170;this.M=139264}g=Wr.prototype;
g.X=function(a,b){return this.N(null,b,null)};g.N=function(a,b,c){return D.l(this.R,b,c)};g.Ib=function(a,b,c){return gc.l(function(){return function(a,c){var d=U(c,0);c=U(c,1);return b.l?b.l(a,d,c):b.call(null,a,d,c)}}(this),c,this)};g.Sc=function(a,b){a=null!=b&&(b.v&64||p===b.P)?W(Ci,b):b;b=D.j(a,Zl);b=P.j(b,"GET")?ae:ef;a=Ug(a,Yp,Vr(a));return b.h?b.h(a):b.call(null,a)};g.Tc=function(a,b){return b};
g.S=function(a,b,c){return gj(b,function(){return function(a){return gj(b,oj,""," ","",c,a)}}(this),"#ajax.interceptors.ProcessUrlParameters{",", ","}",c,Mf.j(we,this.R))};g.$a=function(){return new Dh(this,0,we,v(this.R)?zd(this.R):Xf())};g.U=function(){return this.ra};g.Ma=function(){return new Wr(this.ra,this.R,this.F)};g.ca=function(){return 0+R(this.R)};
g.T=function(){var a=this,b=this.F;if(null!=b)return b;var c=function(){return function(){return function(a){return-516728758^Xd(a)}}(b,a)(a)}();return this.F=c};g.J=function(a,b){return null!=b&&this.constructor===b.constructor&&P.j(this.R,b.R)};g.fc=function(a,b){return Xe(Qi,b)?Be.j(Qc(ug.j(Zf,this),this.ra),b):new Wr(this.ra,Wf(Be.j(this.R,b)),null)};g.Ka=function(a,b,c){return new Wr(this.ra,V.l(this.R,b,c),null)};g.Z=function(){return H(Mf.j(we,this.R))};
g.V=function(a,b){return new Wr(b,this.R,this.F)};g.ga=function(a,b){return Qe(b)?this.Ka(null,sc.j(b,0),sc.j(b,1)):gc.l(qc,this,b)};function Xr(a,b,c){this.ra=a;this.R=b;this.F=c;this.v=2230716170;this.M=139264}g=Xr.prototype;g.X=function(a,b){return this.N(null,b,null)};g.N=function(a,b,c){return D.l(this.R,b,c)};g.Ib=function(a,b,c){return gc.l(function(){return function(a,c){var d=U(c,0);c=U(c,1);return b.l?b.l(a,d,c):b.call(null,a,d,c)}}(this),c,this)};
g.Sc=function(a,b){a=null!=b&&(b.v&64||p===b.P)?W(Ci,b):b;return null==D.j(a,zq)?a:ae(a)};g.Tc=function(a,b){return b};g.S=function(a,b,c){return gj(b,function(){return function(a){return gj(b,oj,""," ","",c,a)}}(this),"#ajax.interceptors.DirectSubmission{",", ","}",c,Mf.j(we,this.R))};g.$a=function(){return new Dh(this,0,we,v(this.R)?zd(this.R):Xf())};g.U=function(){return this.ra};g.Ma=function(){return new Xr(this.ra,this.R,this.F)};g.ca=function(){return 0+R(this.R)};
g.T=function(){var a=this,b=this.F;if(null!=b)return b;var c=function(){return function(){return function(a){return-1077152635^Xd(a)}}(b,a)(a)}();return this.F=c};g.J=function(a,b){return null!=b&&this.constructor===b.constructor&&P.j(this.R,b.R)};g.fc=function(a,b){return Xe(Qi,b)?Be.j(Qc(ug.j(Zf,this),this.ra),b):new Xr(this.ra,Wf(Be.j(this.R,b)),null)};g.Ka=function(a,b,c){return new Xr(this.ra,V.l(this.R,b,c),null)};g.Z=function(){return H(Mf.j(we,this.R))};
g.V=function(a,b){return new Xr(b,this.R,this.F)};g.ga=function(a,b){return Qe(b)?this.Ka(null,sc.j(b,0),sc.j(b,1)):gc.l(qc,this,b)};var Yr=new X(null,3,5,Y,[new Wr(null,null,null),new Xr(null,null,null),new Ur(null,null,null)],null);
function Zr(a){var b=$r;a=null!=a&&(a.v&64||p===a.P)?W(Ci,a):a;var c=D.j(a,xm);return c instanceof Sr?c:Qe(c)?b.h?b.h(a):b.call(null,a):Ne(c)?Tr(c):c instanceof F?yr(new X(null,2,5,Y,["keywords are not allowed as response formats in ajax calls: ",c],null)):We(c)?Tr(new t(null,3,[ul,c,tk,"custom",vp,"*/*"],null)):yr(new X(null,2,5,Y,["unrecognized response format: ",c],null))};var as=function as(a){switch(arguments.length){case 0:return as.G();case 1:return as.h(arguments[0]);default:throw Error(["Invalid arity: ",z.h(arguments.length)].join(""));}};as.G=function(){return Tr(new t(null,3,[ul,tr,tk,"raw text",vp,new X(null,1,5,Y,["*/*"],null)],null))};as.h=function(){return as.G()};as.H=1;function bs(a,b){return null==b||Ne(b)?b:Qe(b)?bs(a,te(b)):b.h?b.h(a):b.call(null,a)}
function cs(a,b){a=Qe(b)?J(b):vp.h(bs(a,b));return null==a?new X(null,1,5,Y,["*/*"],null):"string"===typeof a?new X(null,1,5,Y,[a],null):a}function ds(a){return function(b){b=Qe(b)?J(b):vp.h(bs(a,b));return null==b?new X(null,1,5,Y,["*/*"],null):"string"===typeof b?new X(null,1,5,Y,[b],null):b}}function es(a){return function(b){return P.j(b,"*/*")||0<=a.indexOf(b)}}function fs(a,b){return function(c){c=cs(b,c);return og(es(a),c)}}
function gs(a){return function(b){var c=null!=a&&(a.v&64||p===a.P)?W(Ci,a):a;var d=D.j(c,xm),e=ur(b,"Content-Type");c=bs(c,J(Lg(fs(v(e)?e:"",c),d)));c=ul.h(c);return c.h?c.h(b):c.call(null,b)}}function $r(a){var b=null!=a&&(a.v&64||p===a.P)?W(Ci,a):a;var c=D.j(b,xm);b=Qe(c)?Kg(ds(b),T([c])):cs(b,c);return Tr(new t(null,3,[ul,gs(a),Nk,["(from ",z.h(b),")"].join(""),vp,b],null))};function hs(a){a=a.target.readyState;var b=new t(null,6,[0,Gl,1,Aq,2,fn,3,Sm,4,Oo,En,!0],null);return b.h?b.h(a):b.call(null,a)}function is(a,b){return v(a)?[z.h(a),", ",z.h(b)].join(""):b}function js(a){return v(a)?gc.l(function(a,c){if(v(sa(c)))return a;c=xa(c);return Vg(a,c[0],is,c[1])},Zf,a.split("\r\n")):Zf}var ks;if(P.j("default","nodejs")){var ls=require("xmlhttprequest").XMLHttpRequest;ks=global.XMLHttpRequest=ls}else ks=XMLHttpRequest;var ms=ks;g=ms.prototype;
g.ae=function(a,b,c){var d=null!=b&&(b.v&64||p===b.P)?W(Ci,b):b,e=D.j(d,Yp),f=D.j(d,Zl);a=D.j(d,zq);var h=D.j(d,Wn),k=D.l(d,hq,0),l=D.l(d,Qq,!1),m=D.j(d,xm);this.withCredentials=l;this.onreadystatechange=function(a){return function(b){return P.j(Oo,hs(b))?c.h?c.h(a):c.call(null,a):null}}(this,b,d,e,f,a,h,k,l,m);this.open(f,e,!0);this.timeout=k;b=en.h(m);v(b)&&(this.responseType=Af(b));b=H(h);h=null;for(e=d=0;;)if(e<d)k=h.O(null,e),f=U(k,0),k=U(k,1),this.setRequestHeader(f,k),e+=1;else if(b=H(b))Re(b)?
(d=qd(b),b=sd(b),h=d,d=R(d)):(d=J(b),h=U(d,0),d=U(d,1),this.setRequestHeader(h,d),b=M(b),h=null,d=0),e=0;else break;this.send(v(a)?a:"");return this};g.be=function(){return this.response};g.ee=function(){return this.status};g.fe=function(){return this.statusText};g.ce=function(){return js(this.getAllResponseHeaders())};g.de=function(a,b){return this.getResponseHeader(b)};g.ge=function(){return P.j(0,this.readyState)};var ns="undefined"!=typeof Object.keys?function(a){return Object.keys(a)}:function(a){return Ma(a)},os="undefined"!=typeof Array.isArray?function(a){return Array.isArray(a)}:function(a){return"array"===n(a)};function ps(){return Math.round(15*Math.random()).toString(16)};var qs=1;function rs(a,b){if(null==a)return null==b;if(a===b)return!0;if("object"===typeof a){if(os(a)){if(os(b)&&a.length===b.length){for(var c=0;c<a.length;c++)if(!rs(a[c],b[c]))return!1;return!0}return!1}if(a.qb)return a.qb(b);if(null!=b&&"object"===typeof b){if(b.qb)return b.qb(a);c=0;var d=ns(b).length,e;for(e in a)if(a.hasOwnProperty(e)&&(c++,!b.hasOwnProperty(e)||!rs(a[e],b[e])))return!1;return c===d}}return!1}function ss(a,b){return a^b+2654435769+(a<<6)+(a>>2)}var ts={},us=0;
function vs(a){var b=0;if(null!=a.forEach)a.forEach(function(a,c){b=(b+(ws(c)^ws(a)))%4503599627370496});else for(var c=ns(a),d=0;d<c.length;d++){var e=c[d],f=a[e];b=(b+(ws(e)^ws(f)))%4503599627370496}return b}function xs(a){var b=0;if(os(a))for(var c=0;c<a.length;c++)b=ss(b,ws(a[c]));else a.forEach&&a.forEach(function(a){b=ss(b,ws(a))});return b}
function ws(a){if(null==a)return 0;switch(typeof a){case "number":return a;case "boolean":return!0===a?1:0;case "string":var b=ts[a];if(null!=b)a=b;else{for(var c=b=0;c<a.length;++c)b=31*b+a.charCodeAt(c),b%=4294967296;us++;256<=us&&(ts={},us=1);a=ts[a]=b}return a;case "function":return b=a.transit$hashCode$,b||(b=qs,"undefined"!=typeof Object.defineProperty?Object.defineProperty(a,"transit$hashCode$",{value:b,enumerable:!1}):a.transit$hashCode$=b,qs++),b;default:return a instanceof Date?a.valueOf():
os(a)?xs(a):a.ub?a.ub():vs(a)}};var ys="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";function zs(a,b){this.tag=a;this.ba=b;this.oa=-1}zs.prototype.toString=function(){return"[TaggedValue: "+this.tag+", "+this.ba+"]"};zs.prototype.equiv=function(a){return rs(this,a)};zs.prototype.equiv=zs.prototype.equiv;zs.prototype.qb=function(a){return a instanceof zs?this.tag===a.tag&&rs(this.ba,a.ba):!1};zs.prototype.ub=function(){-1===this.oa&&(this.oa=ss(ws(this.tag),ws(this.ba)));return this.oa};
function As(a,b){return new zs(a,b)}var Bs=zb("9007199254740991"),Cs=zb("-9007199254740991");nb.prototype.equiv=function(a){return rs(this,a)};nb.prototype.equiv=nb.prototype.equiv;nb.prototype.qb=function(a){return a instanceof nb&&this.equals(a)};nb.prototype.ub=function(){return this.ud()};function Ds(a){this.za=a;this.oa=-1}Ds.prototype.toString=function(){return":"+this.za};Ds.prototype.namespace=function(){var a=this.za.indexOf("/");return-1!=a?this.za.substring(0,a):null};
Ds.prototype.name=function(){var a=this.za.indexOf("/");return-1!=a?this.za.substring(a+1,this.za.length):this.za};Ds.prototype.equiv=function(a){return rs(this,a)};Ds.prototype.equiv=Ds.prototype.equiv;Ds.prototype.qb=function(a){return a instanceof Ds&&this.za==a.za};Ds.prototype.ub=function(){-1===this.oa&&(this.oa=ws(this.za));return this.oa};function Es(a){this.za=a;this.oa=-1}Es.prototype.namespace=function(){var a=this.za.indexOf("/");return-1!=a?this.za.substring(0,a):null};
Es.prototype.name=function(){var a=this.za.indexOf("/");return-1!=a?this.za.substring(a+1,this.za.length):this.za};Es.prototype.toString=function(){return this.za};Es.prototype.equiv=function(a){return rs(this,a)};Es.prototype.equiv=Es.prototype.equiv;Es.prototype.qb=function(a){return a instanceof Es&&this.za==a.za};Es.prototype.ub=function(){-1===this.oa&&(this.oa=ws(this.za));return this.oa};
function Fs(a,b,c){var d="";c=c||b+1;for(var e=8*(7-b),f=sb(255).shiftLeft(e);b<c;b++,e-=8,f=Fb(f,8)){var h=Fb(a.and(f),e).toString(16);1==h.length&&(h="0"+h);d+=h}return d}function Gs(a,b){this.high=a;this.low=b;this.oa=-1}Gs.prototype.toString=function(){var a=this.high,b=this.low;var c=Fs(a,0,4)+"-";c+=Fs(a,4,6)+"-";c+=Fs(a,6,8)+"-";c+=Fs(b,0,2)+"-";return c+=Fs(b,2,8)};Gs.prototype.equiv=function(a){return rs(this,a)};Gs.prototype.equiv=Gs.prototype.equiv;
Gs.prototype.qb=function(a){return a instanceof Gs&&this.high.equals(a.high)&&this.low.equals(a.low)};Gs.prototype.ub=function(){-1===this.oa&&(this.oa=ws(this.toString()));return this.oa};Date.prototype.qb=function(a){return a instanceof Date?this.valueOf()===a.valueOf():!1};Date.prototype.ub=function(){return this.valueOf()};function Hs(a,b){this.entries=a;this.type=b||0;this.pa=0}
Hs.prototype.next=function(){if(this.pa<this.entries.length){var a={value:0===this.type?this.entries[this.pa]:1===this.type?this.entries[this.pa+1]:[this.entries[this.pa],this.entries[this.pa+1]],done:!1};this.pa+=2;return a}return{value:null,done:!0}};Hs.prototype.next=Hs.prototype.next;Hs.prototype[ys]=function(){return this};function Is(a,b){this.map=a;this.type=b||0;this.keys=this.map.Mb();this.pa=0;this.oc=null;this.dc=0}
Is.prototype.next=function(){if(this.pa<this.map.size){null!=this.oc&&this.dc<this.oc.length||(this.oc=this.map.map[this.keys[this.pa]],this.dc=0);var a={value:0===this.type?this.oc[this.dc]:1===this.type?this.oc[this.dc+1]:[this.oc[this.dc],this.oc[this.dc+1]],done:!1};this.pa++;this.dc+=2;return a}return{value:null,done:!0}};Is.prototype.next=Is.prototype.next;Is.prototype[ys]=function(){return this};
function Js(a,b){if(a instanceof Ks&&(b instanceof Ls||b instanceof Ks)){if(a.size!==b.size)return!1;for(var c in a.map)for(var d=a.map[c],e=0;e<d.length;e+=2)if(!rs(d[e+1],b.get(d[e])))return!1;return!0}if(a instanceof Ls&&(b instanceof Ls||b instanceof Ks)){if(a.size!==b.size)return!1;a=a.na;for(e=0;e<a.length;e+=2)if(!rs(a[e+1],b.get(a[e])))return!1;return!0}if(null!=b&&"object"===typeof b&&(e=ns(b),c=e.length,a.size===c)){for(d=0;d<c;d++){var f=e[d];if(!a.has(f)||!rs(b[f],a.get(f)))return!1}return!0}return!1}
function Ms(a){return null==a?"null":"array"==n(a)?"["+a.toString()+"]":da(a)?'"'+a+'"':a.toString()}function Ns(a){var b=0,c="TransitMap {";a.forEach(function(d,e){c+=Ms(e)+" \x3d\x3e "+Ms(d);b<a.size-1&&(c+=", ");b++});return c+"}"}function Os(a){var b=0,c="TransitSet {";a.forEach(function(d){c+=Ms(d);b<a.size-1&&(c+=", ");b++});return c+"}"}function Ls(a){this.na=a;this.la=null;this.oa=-1;this.size=a.length/2;this.Ue=0}Ls.prototype.toString=function(){return Ns(this)};Ls.prototype.inspect=function(){return this.toString()};
function Ps(a){if(a.la)throw Error("Invalid operation, already converted");if(8>a.size)return!1;a.Ue++;return 32<a.Ue?(a.la=Qs(a.na,!1,!0),a.na=[],!0):!1}Ls.prototype.clear=function(){this.oa=-1;this.la?this.la.clear():this.na=[];this.size=0};Ls.prototype.clear=Ls.prototype.clear;Ls.prototype.keys=function(){return this.la?this.la.keys():new Hs(this.na,0)};Ls.prototype.keys=Ls.prototype.keys;
Ls.prototype.uc=function(){if(this.la)return this.la.uc();for(var a=[],b=0,c=0;c<this.na.length;b++,c+=2)a[b]=this.na[c];return a};Ls.prototype.keySet=Ls.prototype.uc;Ls.prototype.entries=function(){return this.la?this.la.entries():new Hs(this.na,2)};Ls.prototype.entries=Ls.prototype.entries;Ls.prototype.values=function(){return this.la?this.la.values():new Hs(this.na,1)};Ls.prototype.values=Ls.prototype.values;
Ls.prototype.forEach=function(a){if(this.la)this.la.forEach(a);else for(var b=0;b<this.na.length;b+=2)a(this.na[b+1],this.na[b])};Ls.prototype.forEach=Ls.prototype.forEach;Ls.prototype.get=function(a,b){if(this.la)return this.la.get(a);if(Ps(this))return this.get(a);for(var c=0;c<this.na.length;c+=2)if(rs(this.na[c],a))return this.na[c+1];return b};Ls.prototype.get=Ls.prototype.get;
Ls.prototype.has=function(a){if(this.la)return this.la.has(a);if(Ps(this))return this.has(a);for(var b=0;b<this.na.length;b+=2)if(rs(this.na[b],a))return!0;return!1};Ls.prototype.has=Ls.prototype.has;Ls.prototype.set=function(a,b){this.oa=-1;if(this.la)this.la.set(a,b),this.size=this.la.size;else{for(var c=0;c<this.na.length;c+=2)if(rs(this.na[c],a)){this.na[c+1]=b;return}this.na.push(a);this.na.push(b);this.size++;32<this.size&&(this.la=Qs(this.na,!1,!0),this.na=null)}};Ls.prototype.set=Ls.prototype.set;
Ls.prototype["delete"]=function(a){this.oa=-1;if(this.la)return a=this.la["delete"](a),this.size=this.la.size,a;for(var b=0;b<this.na.length;b+=2)if(rs(this.na[b],a))return a=this.na[b+1],this.na.splice(b,2),this.size--,a};Ls.prototype.clone=function(){var a=Qs();this.forEach(function(b,c){a.set(c,b)});return a};Ls.prototype.clone=Ls.prototype.clone;Ls.prototype[ys]=function(){return this.entries()};Ls.prototype.ub=function(){if(this.la)return this.la.ub();-1===this.oa&&(this.oa=vs(this));return this.oa};
Ls.prototype.qb=function(a){return this.la?Js(this.la,a):Js(this,a)};function Ks(a,b,c){this.map=b||{};this.Bc=a||[];this.size=c||0;this.oa=-1}Ks.prototype.toString=function(){return Ns(this)};Ks.prototype.inspect=function(){return this.toString()};Ks.prototype.clear=function(){this.oa=-1;this.map={};this.Bc=[];this.size=0};Ks.prototype.clear=Ks.prototype.clear;Ks.prototype.Mb=function(){return null!=this.Bc?this.Bc:ns(this.map)};
Ks.prototype["delete"]=function(a){this.oa=-1;this.Bc=null;for(var b=ws(a),c=this.map[b],d=0;d<c.length;d+=2)if(rs(a,c[d]))return a=c[d+1],c.splice(d,2),0===c.length&&delete this.map[b],this.size--,a};Ks.prototype.entries=function(){return new Is(this,2)};Ks.prototype.entries=Ks.prototype.entries;Ks.prototype.forEach=function(a){for(var b=this.Mb(),c=0;c<b.length;c++)for(var d=this.map[b[c]],e=0;e<d.length;e+=2)a(d[e+1],d[e],this)};Ks.prototype.forEach=Ks.prototype.forEach;
Ks.prototype.get=function(a,b){var c=ws(a);c=this.map[c];if(null!=c)for(b=0;b<c.length;b+=2){if(rs(a,c[b]))return c[b+1]}else return b};Ks.prototype.get=Ks.prototype.get;Ks.prototype.has=function(a){var b=ws(a);b=this.map[b];if(null!=b)for(var c=0;c<b.length;c+=2)if(rs(a,b[c]))return!0;return!1};Ks.prototype.has=Ks.prototype.has;Ks.prototype.keys=function(){return new Is(this,0)};Ks.prototype.keys=Ks.prototype.keys;
Ks.prototype.uc=function(){for(var a=this.Mb(),b=[],c=0;c<a.length;c++)for(var d=this.map[a[c]],e=0;e<d.length;e+=2)b.push(d[e]);return b};Ks.prototype.keySet=Ks.prototype.uc;Ks.prototype.set=function(a,b){this.oa=-1;var c=ws(a),d=this.map[c];if(null==d)this.Bc&&this.Bc.push(c),this.map[c]=[a,b],this.size++;else{c=!0;for(var e=0;e<d.length;e+=2)if(rs(b,d[e])){c=!1;d[e]=b;break}c&&(d.push(a),d.push(b),this.size++)}};Ks.prototype.set=Ks.prototype.set;
Ks.prototype.values=function(){return new Is(this,1)};Ks.prototype.values=Ks.prototype.values;Ks.prototype.clone=function(){var a=Qs();this.forEach(function(b,c){a.set(c,b)});return a};Ks.prototype.clone=Ks.prototype.clone;Ks.prototype[ys]=function(){return this.entries()};Ks.prototype.ub=function(){-1===this.oa&&(this.oa=vs(this));return this.oa};Ks.prototype.qb=function(a){return Js(this,a)};
function Qs(a,b,c){a=a||[];b=!1===b?b:!0;if((!0!==c||!c)&&64>=a.length){if(b){var d=a;a=[];for(b=0;b<d.length;b+=2){var e=!1;for(c=0;c<a.length;c+=2)if(rs(a[c],d[b])){a[c+1]=d[b+1];e=!0;break}e||(a.push(d[b]),a.push(d[b+1]))}}return new Ls(a)}d={};e=[];var f=0;for(b=0;b<a.length;b+=2){c=ws(a[b]);var h=d[c];if(null==h)e.push(c),d[c]=[a[b],a[b+1]],f++;else{var k=!0;for(c=0;c<h.length;c+=2)if(rs(h[c],a[b])){h[c+1]=a[b+1];k=!1;break}k&&(h.push(a[b]),h.push(a[b+1]),f++)}}return new Ks(e,d,f)}
function Rs(a){this.map=a;this.size=a.size}Rs.prototype.toString=function(){return Os(this)};Rs.prototype.inspect=function(){return this.toString()};Rs.prototype.add=function(a){this.map.set(a,a);this.size=this.map.size};Rs.prototype.add=Rs.prototype.add;Rs.prototype.clear=function(){this.map=new Ks;this.size=0};Rs.prototype.clear=Rs.prototype.clear;Rs.prototype["delete"]=function(a){a=this.map["delete"](a);this.size=this.map.size;return a};Rs.prototype.entries=function(){return this.map.entries()};
Rs.prototype.entries=Rs.prototype.entries;Rs.prototype.forEach=function(a){var b=this;this.map.forEach(function(c,d){a(d,b)})};Rs.prototype.forEach=Rs.prototype.forEach;Rs.prototype.has=function(a){return this.map.has(a)};Rs.prototype.has=Rs.prototype.has;Rs.prototype.keys=function(){return this.map.keys()};Rs.prototype.keys=Rs.prototype.keys;Rs.prototype.uc=function(){return this.map.uc()};Rs.prototype.keySet=Rs.prototype.uc;Rs.prototype.values=function(){return this.map.values()};
Rs.prototype.values=Rs.prototype.values;Rs.prototype.clone=function(){var a=Ss();this.forEach(function(b){a.add(b)});return a};Rs.prototype.clone=Rs.prototype.clone;Rs.prototype[ys]=function(){return this.values()};Rs.prototype.qb=function(a){if(a instanceof Rs){if(this.size===a.size)return rs(this.map,a.map)}else return!1};Rs.prototype.ub=function(){return ws(this.map)};
function Ss(a){a=a||[];for(var b={},c=[],d=0,e=0;e<a.length;e++){var f=ws(a[e]),h=b[f];if(null==h)c.push(f),b[f]=[a[e],a[e]],d++;else{f=!0;for(var k=0;k<h.length;k+=2)if(rs(h[k],a[e])){f=!1;break}f&&(h.push(a[e]),h.push(a[e]),d++)}}return new Rs(new Ks(c,b,d))};function Ts(a,b){if(3<a.length){if(b)return!0;b=a.charAt(1);return"~"===a.charAt(0)?":"===b||"$"===b||"#"===b:!1}return!1}function Us(a){var b=Math.floor(a/44);a=String.fromCharCode(a%44+48);return 0===b?"^"+a:"^"+String.fromCharCode(b+48)+a}function Vs(){this.Ff=this.fd=this.pa=0;this.cache={}}
Vs.prototype.write=function(a,b){return Ts(a,b)?(4096===this.Ff?(this.clear(),this.fd=0,this.cache={}):1936===this.pa&&this.clear(),b=this.cache[a],null==b?(this.cache[a]=[Us(this.pa),this.fd],this.pa++,a):b[1]!=this.fd?(b[1]=this.fd,b[0]=Us(this.pa),this.pa++,a):b[0]):a};Vs.prototype.clear=function(){this.pa=0;this.fd++};function Ws(){this.pa=0;this.cache=[]}Ws.prototype.write=function(a){1936==this.pa&&(this.pa=0);this.cache[this.pa]=a;this.pa++;return a};
Ws.prototype.read=function(a){return this.cache[2===a.length?a.charCodeAt(1)-48:44*(a.charCodeAt(1)-48)+(a.charCodeAt(2)-48)]};Ws.prototype.clear=function(){this.pa=0};function Xs(a){this.ib=a}
function Ys(a){this.options=a||{};this.handlers={};for(var b in this.bd.handlers)this.handlers[b]=this.bd.handlers[b];for(b in this.options.handlers){a:{switch(b){case "_":case "s":case "?":case "i":case "d":case "b":case "'":case "array":case "map":a=!0;break a}a=!1}if(a)throw Error('Cannot override handler for ground type "'+b+'"');this.handlers[b]=this.options.handlers[b]}this.Pd=null!=this.options.preferStrings?this.options.preferStrings:this.bd.Pd;this.Le=null!=this.options.preferBuffers?this.options.preferBuffers:
this.bd.Le;this.ye=this.options.defaultHandler||this.bd.ye;this.sb=this.options.mapBuilder;this.Dc=this.options.arrayBuilder}
Ys.prototype.bd={handlers:{_:function(){return null},"?":function(a){return"t"===a},b:function(a,b){if(b&&!1===b.Le||"undefined"==typeof Buffer)if("undefined"!=typeof Uint8Array){if("undefined"!=typeof atob)var c=atob(a);else{a=String(a).replace(/=+$/,"");if(1==a.length%4)throw Error("'atob' failed: The string to be decoded is not correctly encoded.");b=0;for(var d,e=0,f="";d=a.charAt(e++);~d&&(c=b%4?64*c+d:d,b++%4)?f+=String.fromCharCode(255&c>>(-2*b&6)):0)d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".indexOf(d);
c=f}a=c.length;b=new Uint8Array(a);for(d=0;d<a;d++)b[d]=c.charCodeAt(d);c=b}else c=As("b",a);else c=new Buffer(a,"base64");return c},i:function(a){"number"===typeof a||a instanceof nb||(a=zb(a,10),a=a.Id(Bs)||a.Nc(Cs)?a:a.toNumber());return a},n:function(a){return As("n",a)},d:function(a){return parseFloat(a)},f:function(a){return As("f",a)},c:function(a){return a},":":function(a){return new Ds(a)},$:function(a){return new Es(a)},r:function(a){return As("r",a)},z:function(a){a:switch(a){case "-INF":a=
-Infinity;break a;case "INF":a=Infinity;break a;case "NaN":a=NaN;break a;default:throw Error("Invalid special double value "+a);}return a},"'":function(a){return a},m:function(a){a="number"===typeof a?a:parseInt(a,10);return new Date(a)},t:function(a){return new Date(a)},u:function(a){a=a.replace(/-/g,"");var b,c;var d=b=0;for(c=24;8>d;d+=2,c-=8)b|=parseInt(a.substring(d,d+2),16)<<c;var e=0;d=8;for(c=24;16>d;d+=2,c-=8)e|=parseInt(a.substring(d,d+2),16)<<c;var f=yb(e,b);b=0;d=16;for(c=24;24>d;d+=2,
c-=8)b|=parseInt(a.substring(d,d+2),16)<<c;e=0;for(c=d=24;32>d;d+=2,c-=8)e|=parseInt(a.substring(d,d+2),16)<<c;return new Gs(f,yb(e,b))},set:function(a){return Ss(a)},list:function(a){return As("list",a)},link:function(a){return As("link",a)},cmap:function(a){return Qs(a,!1)}},ye:function(a,b){return As(a,b)},Pd:!0,Le:!0};
Ys.prototype.decode=function(a,b,c,d){if(null==a)return null;switch(typeof a){case "string":return Ts(a,c)?(a=Zs(this,a),b&&b.write(a,c),b=a):b="^"===a.charAt(0)&&" "!==a.charAt(1)?b.read(a,c):Zs(this,a),b;case "object":if(os(a))if("^ "===a[0])if(this.sb)if(17>a.length&&this.sb.sc){d=[];for(c=1;c<a.length;c+=2)d.push(this.decode(a[c],b,!0,!1)),d.push(this.decode(a[c+1],b,!1,!1));b=this.sb.sc(d,a)}else{d=this.sb.init(a);for(c=1;c<a.length;c+=2)d=this.sb.add(d,this.decode(a[c],b,!0,!1),this.decode(a[c+
1],b,!1,!1),a);b=this.sb.finalize(d,a)}else{d=[];for(c=1;c<a.length;c+=2)d.push(this.decode(a[c],b,!0,!1)),d.push(this.decode(a[c+1],b,!1,!1));b=Qs(d,!1)}else b=$s(this,a,b,c,d);else{c=ns(a);var e=c[0];if((d=1==c.length?this.decode(e,b,!1,!1):null)&&d instanceof Xs)a=a[e],c=this.handlers[d.ib],b=null!=c?c(this.decode(a,b,!1,!0),this):As(d.ib,this.decode(a,b,!1,!1));else if(this.sb)if(16>c.length&&this.sb.sc){var f=[];for(d=0;d<c.length;d++)e=c[d],f.push(this.decode(e,b,!0,!1)),f.push(this.decode(a[e],
b,!1,!1));b=this.sb.sc(f,a)}else{f=this.sb.init(a);for(d=0;d<c.length;d++)e=c[d],f=this.sb.add(f,this.decode(e,b,!0,!1),this.decode(a[e],b,!1,!1),a);b=this.sb.finalize(f,a)}else{f=[];for(d=0;d<c.length;d++)e=c[d],f.push(this.decode(e,b,!0,!1)),f.push(this.decode(a[e],b,!1,!1));b=Qs(f,!1)}}return b}return a};Ys.prototype.decode=Ys.prototype.decode;
function $s(a,b,c,d,e){if(e){var f=[];for(e=0;e<b.length;e++)f.push(a.decode(b[e],c,d,!1));return f}f=c&&c.pa;if(2===b.length&&"string"===typeof b[0]&&(e=a.decode(b[0],c,!1,!1))&&e instanceof Xs)return b=b[1],f=a.handlers[e.ib],null!=f?f=f(a.decode(b,c,d,!0),a):As(e.ib,a.decode(b,c,d,!1));c&&f!=c.pa&&(c.pa=f);if(a.Dc){if(32>=b.length&&a.Dc.sc){f=[];for(e=0;e<b.length;e++)f.push(a.decode(b[e],c,d,!1));return a.Dc.sc(f,b)}f=a.Dc.init(b);for(e=0;e<b.length;e++)f=a.Dc.add(f,a.decode(b[e],c,d,!1),b);return a.Dc.finalize(f,
b)}f=[];for(e=0;e<b.length;e++)f.push(a.decode(b[e],c,d,!1));return f}function Zs(a,b){if("~"===b.charAt(0)){var c=b.charAt(1);if("~"===c||"^"===c||"`"===c)return b.substring(1);if("#"===c)return new Xs(b.substring(2));var d=a.handlers[c];return null==d?a.ye(c,b.substring(2)):d(b.substring(2),a)}return b};function at(a){this.Uf=new Ys(a)}function bt(a,b){this.lg=a;this.options=b||{};this.cache=this.options.cache?this.options.cache:new Ws}bt.prototype.read=function(a){var b=this.cache;a=this.lg.Uf.decode(JSON.parse(a),b);this.cache.clear();return a};bt.prototype.read=bt.prototype.read;var ct=0,dt=(8|3&Math.round(14*Math.random())).toString(16),et="transit$guid$"+(ps()+ps()+ps()+ps()+ps()+ps()+ps()+ps()+"-"+ps()+ps()+ps()+ps()+"-4"+ps()+ps()+ps()+"-"+dt+ps()+ps()+ps()+"-"+ps()+ps()+ps()+ps()+ps()+ps()+ps()+ps()+ps()+ps()+ps()+ps());
function ft(a){if(null==a)return"null";if(a===String)return"string";if(a===Boolean)return"boolean";if(a===Number)return"number";if(a===Array)return"array";if(a===Object)return"map";var b=a[et];null==b&&("undefined"!=typeof Object.defineProperty?(b=++ct,Object.defineProperty(a,et,{value:b,enumerable:!1})):a[et]=b=++ct);return b}function gt(a,b){a=a.toString();for(var c=a.length;c<b;c++)a="0"+a;return a}function ht(){}ht.prototype.tag=function(){return"_"};ht.prototype.ba=function(){return null};
ht.prototype.qa=function(){return"null"};function it(){}it.prototype.tag=function(){return"s"};it.prototype.ba=function(a){return a};it.prototype.qa=function(a){return a};function jt(){}jt.prototype.tag=function(){return"i"};jt.prototype.ba=function(a){return a};jt.prototype.qa=function(a){return a.toString()};function kt(){}kt.prototype.tag=function(){return"i"};kt.prototype.ba=function(a){return a.toString()};kt.prototype.qa=function(a){return a.toString()};function lt(){}lt.prototype.tag=function(){return"?"};
lt.prototype.ba=function(a){return a};lt.prototype.qa=function(a){return a.toString()};function mt(){}mt.prototype.tag=function(){return"array"};mt.prototype.ba=function(a){return a};mt.prototype.qa=function(){return null};function nt(){}nt.prototype.tag=function(){return"map"};nt.prototype.ba=function(a){return a};nt.prototype.qa=function(){return null};function ot(){}ot.prototype.tag=function(){return"t"};
ot.prototype.ba=function(a){return a.getUTCFullYear()+"-"+gt(a.getUTCMonth()+1,2)+"-"+gt(a.getUTCDate(),2)+"T"+gt(a.getUTCHours(),2)+":"+gt(a.getUTCMinutes(),2)+":"+gt(a.getUTCSeconds(),2)+"."+gt(a.getUTCMilliseconds(),3)+"Z"};ot.prototype.qa=function(a,b){return b.ba(a)};function pt(){}pt.prototype.tag=function(){return"m"};pt.prototype.ba=function(a){return a.valueOf()};pt.prototype.qa=function(a){return a.valueOf().toString()};function qt(){}qt.prototype.tag=function(){return"u"};
qt.prototype.ba=function(a){return a.toString()};qt.prototype.qa=function(a){return a.toString()};function rt(){}rt.prototype.tag=function(){return":"};rt.prototype.ba=function(a){return a.za};rt.prototype.qa=function(a,b){return b.ba(a)};function st(){}st.prototype.tag=function(){return"$"};st.prototype.ba=function(a){return a.za};st.prototype.qa=function(a,b){return b.ba(a)};function tt(){}tt.prototype.tag=function(a){return a.tag};tt.prototype.ba=function(a){return a.ba};tt.prototype.qa=function(){return null};
function ut(){}ut.prototype.tag=function(){return"set"};ut.prototype.ba=function(a){var b=[];a.forEach(function(a){b.push(a)});return As("array",b)};ut.prototype.qa=function(){return null};function vt(){}vt.prototype.tag=function(){return"map"};vt.prototype.ba=function(a){return a};vt.prototype.qa=function(){return null};function wt(){}wt.prototype.tag=function(){return"map"};wt.prototype.ba=function(a){return a};wt.prototype.qa=function(){return null};function xt(){}xt.prototype.tag=function(){return"b"};
xt.prototype.ba=function(a){return a.toString("base64")};xt.prototype.qa=function(){return null};function yt(){}yt.prototype.tag=function(){return"b"};
yt.prototype.ba=function(a){for(var b,c=0,d=a.length,e="",f;c<d;)f=a.subarray(c,Math.min(c+32768,d)),e+=String.fromCharCode.apply(null,f),c+=32768;if("undefined"!=typeof btoa)b=btoa(e);else{a=String(e);d=0;e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d";for(f="";a.charAt(d|0)||(e="\x3d",d%1);f+=e.charAt(63&b>>8-d%1*8)){c=a.charCodeAt(d+=.75);if(255<c)throw Error("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");b=b<<8|c}b=f}return b};
yt.prototype.qa=function(){return null};
function zt(){this.handlers={};this.set(null,new ht);this.set(String,new it);this.set(Number,new jt);this.set(nb,new kt);this.set(Boolean,new lt);this.set(Array,new mt);this.set(Object,new nt);this.set(Date,new pt);this.set(Gs,new qt);this.set(Ds,new rt);this.set(Es,new st);this.set(zs,new tt);this.set(Rs,new ut);this.set(Ls,new vt);this.set(Ks,new wt);"undefined"!=typeof Buffer&&this.set(Buffer,new xt);"undefined"!=typeof Uint8Array&&this.set(Uint8Array,new yt)}
zt.prototype.get=function(a){a="string"===typeof a?this.handlers[a]:this.handlers[ft(a)];return null!=a?a:this.handlers["default"]};zt.prototype.get=zt.prototype.get;zt.prototype.set=function(a,b){var c;if(c="string"===typeof a)a:{switch(a){case "null":case "string":case "boolean":case "number":case "array":case "map":c=!1;break a}c=!0}c?this.handlers[a]=b:this.handlers[ft(a)]=b};function At(a){this.lc=a||{};this.Pd=null!=this.lc.preferStrings?this.lc.preferStrings:!0;this.mf=this.lc.objectBuilder||null;this.handlers=new zt;if(a=this.lc.handlers){if(os(a)||!a.forEach)throw Error('transit writer "handlers" option must be a map');var b=this;a.forEach(function(a,d){if(void 0!==d)b.handlers.set(d,a);else throw Error("Cannot create handler for JavaScript undefined");})}this.gd=this.lc.handlerForForeign;this.Wd=this.lc.unpack||function(a){return a instanceof Ls&&null===a.la?a.na:
!1};this.vd=this.lc&&this.lc.verbose||!1}At.prototype.jc=function(a){var b=this.handlers.get(null==a?null:a.constructor);return null!=b?b:(a=a&&a.transitTag)?this.handlers.get(a):null};function Bt(a,b,c,d,e){a=a+b+c;return e?e.write(a,d):a}function Ct(a,b,c){var d=[];if(os(b))for(var e=0;e<b.length;e++)d.push(Dt(a,b[e],!1,c));else b.forEach(function(b){d.push(Dt(a,b,!1,c))});return d}function Et(a,b){return"string"!==typeof b?(a=a.jc(b))&&1===a.tag(b).length:!0}
function Ft(a,b){var c=a.Wd(b),d=!0;if(c){for(b=0;b<c.length&&(d=Et(a,c[b]),d);b+=2);return d}if(b.keys){c=b.keys();var e=null;if(c.next){for(e=c.next();!e.done;){d=Et(a,e.value);if(!d)break;e=c.next()}return d}}if(b.forEach)return b.forEach(function(b,c){d=d&&Et(a,c)}),d;throw Error("Cannot walk keys of object type "+(null==b?null:b.constructor).name);}
function Gt(a){if(a.constructor.transit$isObject)return!0;var b=a.constructor.toString();b=b.substr(9);b=b.substr(0,b.indexOf("("));isObject="Object"==b;"undefined"!=typeof Object.defineProperty?Object.defineProperty(a.constructor,"transit$isObject",{value:isObject,enumerable:!1}):a.constructor.transit$isObject=isObject;return isObject}
function Ht(a,b,c){var d=null,e=null,f=null;d=null;var h=0;if(b.constructor===Object||null!=b.forEach||a.gd&&Gt(b)){if(a.vd){if(null!=b.forEach)if(Ft(a,b)){var k={};b.forEach(function(b,d){k[Dt(a,d,!0,!1)]=Dt(a,b,!1,c)})}else{d=a.Wd(b);e=[];f=Bt("~#","cmap","",!0,c);if(d)for(;h<d.length;h+=2)e.push(Dt(a,d[h],!1,!1)),e.push(Dt(a,d[h+1],!1,c));else b.forEach(function(b,d){e.push(Dt(a,d,!1,!1));e.push(Dt(a,b,!1,c))});k={};k[f]=e}else for(d=ns(b),k={};h<d.length;h++)k[Dt(a,d[h],!0,!1)]=Dt(a,b[d[h]],!1,
c);return k}if(null!=b.forEach){if(Ft(a,b)){d=a.Wd(b);k=["^ "];if(d)for(;h<d.length;h+=2)k.push(Dt(a,d[h],!0,c)),k.push(Dt(a,d[h+1],!1,c));else b.forEach(function(b,d){k.push(Dt(a,d,!0,c));k.push(Dt(a,b,!1,c))});return k}d=a.Wd(b);e=[];f=Bt("~#","cmap","",!0,c);if(d)for(;h<d.length;h+=2)e.push(Dt(a,d[h],!1,c)),e.push(Dt(a,d[h+1],!1,c));else b.forEach(function(b,d){e.push(Dt(a,d,!1,c));e.push(Dt(a,b,!1,c))});return[f,e]}k=["^ "];for(d=ns(b);h<d.length;h++)k.push(Dt(a,d[h],!0,c)),k.push(Dt(a,b[d[h]],
!1,c));return k}if(null!=a.mf)return a.mf(b,function(b){return Dt(a,b,!0,c)},function(b){return Dt(a,b,!1,c)});h=(null==b?null:b.constructor).name;d=Error("Cannot write "+h);d.data={Ke:b,type:h};throw d;}
function Dt(a,b,c,d){var e=a.jc(b)||(a.gd?a.gd(b,a.handlers):null),f=e?e.tag(b):null,h=e?e.ba(b):null;if(null!=e&&null!=f)switch(f){case "_":return c?Bt("~","_","",c,d):null;case "s":return 0<h.length?(a=h.charAt(0),a="~"===a||"^"===a||"`"===a?"~"+h:h):a=h,Bt("","",a,c,d);case "?":return c?Bt("~","?",h.toString()[0],c,d):h;case "i":return Infinity===h?Bt("~","z","INF",c,d):-Infinity===h?Bt("~","z","-INF",c,d):isNaN(h)?Bt("~","z","NaN",c,d):c||"string"===typeof h||h instanceof nb?Bt("~","i",h.toString(),
c,d):h;case "d":return c?Bt(h.og,"d",h,c,d):h;case "b":return Bt("~","b",h,c,d);case "'":return a.vd?(b={},c=Bt("~#","'","",!0,d),b[c]=Dt(a,h,!1,d),d=b):d=[Bt("~#","'","",!0,d),Dt(a,h,!1,d)],d;case "array":return Ct(a,h,d);case "map":return Ht(a,h,d);default:a:{if(1===f.length){if("string"===typeof h){d=Bt("~",f,h,c,d);break a}if(c||a.Pd){(a=a.vd&&new ot)?(f=a.tag(b),h=a.qa(b,a)):h=e.qa(b,e);if(null!==h){d=Bt("~",f,h,c,d);break a}d=Error('Tag "'+f+'" cannot be encoded as string');d.data={tag:f,ba:h,
Ke:b};throw d;}}b=f;c=h;a.vd?(h={},h[Bt("~#",b,"",!0,d)]=Dt(a,c,!1,d),d=h):d=[Bt("~#",b,"",!0,d),Dt(a,c,!1,d)]}return d}else throw d=(null==b?null:b.constructor).name,a=Error("Cannot write "+d),a.data={Ke:b,type:d},a;}function It(a,b){a=a.jc(b)||(a.gd?a.gd(b,a.handlers):null);if(null!=a)return 1===a.tag(b).length?As("'",b):b;a=(null==b?null:b.constructor).name;var c=Error("Cannot write "+a);c.data={Ke:b,type:a};throw c;}
function Jt(a,b){this.Qc=a;this.options=b||{};this.cache=!1===this.options.cache?null:this.options.cache?this.options.cache:new Vs}Jt.prototype.Yf=function(){return this.Qc};Jt.prototype.marshaller=Jt.prototype.Yf;Jt.prototype.write=function(a,b){var c=b||{};b=c.asMapKey||!1;var d=this.Qc.vd?!1:this.cache;!1===c.marshalTop?a=Dt(this.Qc,a,b,d):(c=this.Qc,a=JSON.stringify(Dt(c,It(c,a),b,d)));null!=this.cache&&this.cache.clear();return a};Jt.prototype.write=Jt.prototype.write;
Jt.prototype.register=function(a,b){this.Qc.handlers.set(a,b)};Jt.prototype.register=Jt.prototype.register;function Kt(a,b){if("json"===a||"json-verbose"===a||null==a)return a=new at(b),new bt(a,b);throw Error("Cannot create reader of type "+a);}function Lt(a,b){if("json"===a||"json-verbose"===a||null==a)return"json-verbose"===a&&(null==b&&(b={}),b.verbose=!0),a=new At(b),new Jt(a,b);b=Error('Type must be "json"');b.data={type:a};throw b;};ek.prototype.J=function(a,b){return b instanceof ek?this.Db===b.Db:b instanceof Gs?this.Db===b.toString():!1};ek.prototype.Hb=p;ek.prototype.pb=function(a,b){if(b instanceof ek||b instanceof Gs)return Ye(this.toString(),b.toString());throw Error(["Cannot compare ",z.h(this)," to ",z.h(b)].join(""));};Gs.prototype.Hb=p;Gs.prototype.pb=function(a,b){if(b instanceof ek||b instanceof Gs)return Ye(this.toString(),b.toString());throw Error(["Cannot compare ",z.h(this)," to ",z.h(b)].join(""));};
nb.prototype.J=function(a,b){return this.equiv(b)};Gs.prototype.J=function(a,b){return b instanceof ek?b.J(null,this):this.equiv(b)};zs.prototype.J=function(a,b){return this.equiv(b)};nb.prototype.oe=p;nb.prototype.T=function(){return ws(this)};Gs.prototype.oe=p;Gs.prototype.T=function(){return Kd(this.toString())};zs.prototype.oe=p;zs.prototype.T=function(){return ws(this)};Gs.prototype.ea=p;Gs.prototype.S=function(a,b){return dd(b,['#uuid "',z.h(this.toString()),'"'].join(""))};
function Mt(a,b){for(var c=H(Ma(b)),d=null,e=0,f=0;;)if(f<e){var h=d.O(null,f);a[h]=b[h];f+=1}else if(c=H(c))d=c,Re(d)?(c=qd(d),f=sd(d),d=c,e=R(c),c=f):(c=J(d),a[c]=b[c],c=M(d),d=null,e=0),f=0;else break;return a}function Nt(){}Nt.prototype.init=function(){return id(Zf)};Nt.prototype.add=function(a,b,c){return ld(a,b,c)};Nt.prototype.finalize=function(a){return kd(a)};Nt.prototype.sc=function(a){return new t(null,a.length/2,a,null)};function Ot(){}Ot.prototype.init=function(){return id(we)};
Ot.prototype.add=function(a,b){return Nf.j(a,b)};Ot.prototype.finalize=function(a){return kd(a)};Ot.prototype.sc=function(a){return mh.call(null,a)};
function Pt(a){var b=Af(cq);a=Mt({handlers:Ij(Hi.w(T([new t(null,6,["$",function(){return function(a){return Od.h(a)}}(b),":",function(){return function(a){return zf.h(a)}}(b),"set",function(){return function(a){return ug.j(Qi,a)}}(b),"list",function(){return function(a){return ug.j(Rd,a.reverse())}}(b),"cmap",function(){return function(a){for(var b=0,c=id(Zf);;)if(b<a.length){var f=b+2;c=ld(c,a[b],a[b+1]);b=f}else return kd(c)}}(b),"with-meta",function(){return function(a){return Fe(a[0],a[1])}}(b)],
null),un.h(a)]))),mapBuilder:new Nt,arrayBuilder:new Ot,prefersStrings:!1},Ij(Be.j(a,un)));return Kt(b,a)}function Qt(){}Qt.prototype.tag=function(){return":"};Qt.prototype.ba=function(a){return a.La};Qt.prototype.qa=function(a){return a.La};function Rt(){}Rt.prototype.tag=function(){return"$"};Rt.prototype.ba=function(a){return a.ib};Rt.prototype.qa=function(a){return a.ib};function St(){}St.prototype.tag=function(){return"list"};
St.prototype.ba=function(a){var b=[];a=H(a);for(var c=null,d=0,e=0;;)if(e<d){var f=c.O(null,e);b.push(f);e+=1}else if(a=H(a))c=a,Re(c)?(a=qd(c),e=sd(c),c=a,d=R(a),a=e):(a=J(c),b.push(a),a=M(c),c=null,d=0),e=0;else break;return As("array",b)};St.prototype.qa=function(){return null};function Tt(){}Tt.prototype.tag=function(){return"map"};Tt.prototype.ba=function(a){return a};Tt.prototype.qa=function(){return null};function Ut(){}Ut.prototype.tag=function(){return"set"};
Ut.prototype.ba=function(a){var b=[];a=H(a);for(var c=null,d=0,e=0;;)if(e<d){var f=c.O(null,e);b.push(f);e+=1}else if(a=H(a))c=a,Re(c)?(a=qd(c),e=sd(c),c=a,d=R(a),a=e):(a=J(c),b.push(a),a=M(c),c=null,d=0),e=0;else break;return As("array",b)};Ut.prototype.qa=function(){return null};function Vt(){}Vt.prototype.tag=function(){return"array"};
Vt.prototype.ba=function(a){var b=[];a=H(a);for(var c=null,d=0,e=0;;)if(e<d){var f=c.O(null,e);b.push(f);e+=1}else if(a=H(a))c=a,Re(c)?(a=qd(c),e=sd(c),c=a,d=R(a),a=e):(a=J(c),b.push(a),a=M(c),c=null,d=0),e=0;else break;return b};Vt.prototype.qa=function(){return null};function Wt(){}Wt.prototype.tag=function(){return"u"};Wt.prototype.ba=function(a){return a.Db};Wt.prototype.qa=function(a){return this.ba(a)};function Xt(a,b){this.value=a;this.meta=b}function Yt(){}Yt.prototype.tag=function(){return"with-meta"};
Yt.prototype.ba=function(a){return As("array",[a.value,a.meta])};Yt.prototype.qa=function(){return null};
function Zt(a,b){var c=new Qt,d=new Rt,e=new St,f=new Tt,h=new Ut,k=new Vt,l=new Wt,m=new Yt,q=Hi.w(T([ki([ii,uf,t,fi,yh,I,F,rf,Bf,qh,xh,gi,Gi,Xt,Hh,X,xe,oe,Oi,Ai,Ei,lh,Ri,Hf,B,ek,Zi,ni],[f,e,f,e,e,e,c,e,e,k,e,e,e,m,e,k,e,e,h,f,e,e,h,e,d,l,e,e]),"undefined"!==typeof Gb&&"undefined"!==typeof Ib&&"undefined"!==typeof Fj?Ae([Fj,e]):null,"undefined"!==typeof Gb&&"undefined"!==typeof Ib&&"undefined"!==typeof Hg?Ae([Hg,e]):null,"undefined"!==typeof Gb&&"undefined"!==typeof Ib&&"undefined"!==typeof jh?Ae([jh,
k]):null,un.h(b)])),r=Af(a);a=Mt({objectBuilder:function(a,b,c,d,e,f,h,k,l,m){return function(q,r,u){return df(function(){return function(a,b,c){a.push(r.h?r.h(b):r.call(null,b),u.h?u.h(c):u.call(null,c));return a}}(a,b,c,d,e,f,h,k,l,m),["^ "],q)}}(r,c,d,e,f,h,k,l,m,q),handlers:function(){var a=kc(q);a.forEach=function(){return function(a){for(var b=H(this),c=null,d=0,e=0;;)if(e<d){var f=c.O(null,e),h=U(f,0);f=U(f,1);a.j?a.j(f,h):a.call(null,f,h);e+=1}else if(b=H(b))Re(b)?(c=qd(b),b=sd(b),h=c,d=R(c),
c=h):(c=J(b),h=U(c,0),f=U(c,1),a.j?a.j(f,h):a.call(null,f,h),b=M(b),c=null,d=0),e=0;else return null}}(a,r,c,d,e,f,h,k,l,m,q);return a}(),unpack:function(){return function(a){return a instanceof t?a.o:!1}}(r,c,d,e,f,h,k,l,m,q)},Ij(Be.j(b,un)));return Lt(r,a)};function $t(a){a=null!=a&&(a.v&64||p===a.P)?W(Ci,a):a;a=D.j(a,en);return v(a)?a:cq}function au(a,b){return function(a){return function(b){return a.write(b)}}(function(){var c=Po.h(b);return v(c)?c:Zt(a,b)}())}function bu(a){var b=$t(a),c=P.j(b,cq)||P.j(b,pl)?"json":"msgpack";return new t(null,2,[go,au(b,a),vp,["application/transit+",c].join("")],null)}function cu(a){return function(a){return function(b){b=tr(b);return a.read(b)}}(function(){var b=cp.h(a);return v(b)?b:Pt(a)}())}
var du=function du(a){switch(arguments.length){case 0:return du.G();case 1:return du.h(arguments[0]);case 2:return du.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",z.h(arguments.length)].join(""));}};du.G=function(){return du.h(Zf)};du.h=function(a){return du.j($t(a),a)};du.j=function(a,b){return Tr(new t(null,3,[ul,cu(b),tk,"Transit",vp,new X(null,1,5,Y,["application/transit+json"],null)],null))};du.H=2;function eu(a,b,c){if(qf(c)){var d=W(tf,Dg.j(a,c));return b.h?b.h(d):b.call(null,d)}return oh(c)?(d=new jh(function(){var b=Ec(c);return a.h?a.h(b):a.call(null,b)}(),function(){var b=Fc(c);return a.h?a.h(b):a.call(null,b)}(),null),b.h?b.h(d):b.call(null,d)):Ue(c)?(d=cj(Dg.j(a,c)),b.h?b.h(d):b.call(null,d)):Oe(c)?(d=gc.l(function(b,c){return ve.j(b,a.h?a.h(c):a.call(null,c))},c,c),b.h?b.h(d):b.call(null,d)):Ke(c)?(d=ug.j(ye(c),Dg.j(a,c)),b.h?b.h(d):b.call(null,d)):b.h?b.h(c):b.call(null,c)}
var fu=function fu(a,b){return eu(sg.j(fu,a),ef,a.h?a.h(b):a.call(null,b))};var gu=function(a){return function(){function b(b){var c=null!=b&&(b.v&64||p===b.P)?W(Ci,b):b,d=D.j(c,Un),e=D.j(c,ql),l=D.j(c,am);return Tr(new t(null,3,[ul,function(b,c,d,e,f){return function(b){b=tr(b);b=v(v(d)?P.j(0,b.indexOf(d)):d)?b.substring(d.length):b;return a.l?a.l(f,e,b):a.call(null,f,e,b)}}(b,c,d,e,l),tk,["JSON",v(d)?[" prefix '",z.h(d),"'"].join(""):null,v(e)?" keywordize":null].join(""),vp,new X(null,1,5,Y,["application/json"],null)],null))}function c(){return d.h(Zf)}var d=null;d=function(a){switch(arguments.length){case 0:return c.call(this);
case 1:return b.call(this,a)}throw Error("Invalid arity: "+arguments.length);};d.G=c;d.h=b;return d}()}(function(a,b,c){c=JSON.parse(c);return v(a)?c:Mj(c,T([Nj,b]))}),hu=function(a){return function(){return new t(null,2,[go,a,vp,"application/json"],null)}}(function(a){return JSON.stringify(Ij(a))});function iu(a){return function(b){return new t(null,3,[Bj,qr(b),Wn,sr(b),zq,a.h?a.h(b):a.call(null,b)],null)}};var ju;a:{var ku=ca.navigator;if(ku){var lu=ku.userAgent;if(lu){ju=lu;break a}}ju=""}function mu(a){return-1!=ju.indexOf(a)};function nu(a,b,c){var d=a;b&&(d=qa(a,b));d=nu.ng(d);ia(ca.setImmediate)&&(c||nu.mg())?ca.setImmediate(d):(nu.yf||(nu.yf=nu.Wf()),nu.yf(d))}nu.mg=function(){return ca.Window&&ca.Window.prototype&&!mu("Edge")&&ca.Window.prototype.setImmediate==ca.setImmediate?!1:!0};
nu.Wf=function(){var a=ca.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!mu("Presto")&&(a=function(){var a=document.createElement("IFRAME");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow;a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host;a=qa(function(a){if(("*"==d||a.origin==d)&&a.data==
c)this.port1.onmessage()},this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&!mu("Trident")&&!mu("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(void 0!==c.next){c=c.next;var a=c.bf;c.bf=null;a()}};return function(a){d.next={bf:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(a){var b=document.createElement("SCRIPT");
b.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){ca.setTimeout(a,0)}};nu.ng=function(a){return a};function ou(){0!=pu&&ka(this);this.ze=this.ze}var pu=0;ou.prototype.ze=!1;function qu(){return mu("iPhone")&&!mu("iPod")&&!mu("iPad")};var ru=mu("Opera"),su=mu("Trident")||mu("MSIE"),tu=mu("Edge"),uu=mu("Gecko")&&!(-1!=ju.toLowerCase().indexOf("webkit")&&!mu("Edge"))&&!(mu("Trident")||mu("MSIE"))&&!mu("Edge"),vu=-1!=ju.toLowerCase().indexOf("webkit")&&!mu("Edge");vu&&mu("Mobile");mu("Macintosh");mu("Windows");mu("Linux")||mu("CrOS");var wu=ca.navigator||null;wu&&(wu.appVersion||"").indexOf("X11");mu("Android");qu();mu("iPad");mu("iPod");qu()||mu("iPad")||mu("iPod");function xu(){var a=ca.document;return a?a.documentMode:void 0}var yu;
a:{var zu="",Au=function(){var a=ju;if(uu)return/rv:([^\);]+)(\)|;)/.exec(a);if(tu)return/Edge\/([\d\.]+)/.exec(a);if(su)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(vu)return/WebKit\/(\S+)/.exec(a);if(ru)return/(?:Version)[ \/]?(\S+)/.exec(a)}();Au&&(zu=Au?Au[1]:"");if(su){var Bu=xu();if(null!=Bu&&Bu>parseFloat(zu)){yu=String(Bu);break a}}yu=zu}var Cu={};
function Du(a){return mb(Cu,a,function(){for(var b=0,c=ta(String(yu)).split("."),d=ta(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var h=c[f]||"",k=d[f]||"";do{h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""];k=/(\d*)(\D*)(.*)/.exec(k)||["","","",""];if(0==h[0].length&&0==k[0].length)break;b=va(0==h[1].length?0:parseInt(h[1],10),0==k[1].length?0:parseInt(k[1],10))||va(0==h[2].length,0==k[2].length)||va(h[2],k[2]);h=h[3];k=k[3]}while(0==b)}return 0<=b})}var Eu;var Fu=ca.document;
Eu=Fu&&su?xu()||("CSS1Compat"==Fu.compatMode?parseInt(yu,10):5):void 0;var Gu;(Gu=!su)||(Gu=9<=Number(Eu));var Hu=Gu,Iu=su&&!Du("9");!vu||Du("528");uu&&Du("1.9b")||su&&Du("8")||ru&&Du("9.5")||vu&&Du("528");uu&&!Du("8")||su&&Du("9");var Ju=function(){if(!ca.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});ca.addEventListener("test",fa,b);ca.removeEventListener("test",fa,b);return a}();function Ku(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.xc=!1;this.wf=!0}Ku.prototype.stopPropagation=function(){this.xc=!0};Ku.prototype.preventDefault=function(){this.defaultPrevented=!0;this.wf=!1};function Lu(a,b){Ku.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.key="";this.charCode=this.keyCode=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.cd=this.state=null;a&&this.init(a,b)}ra(Lu,Ku);
Lu.prototype.init=function(a,b){var c=this.type=a.type,d=a.changedTouches?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;if(b=a.relatedTarget){if(uu){a:{try{lb(b.nodeName);var e=!0;break a}catch(f){}e=!1}e||(b=null)}}else"mouseover"==c?b=a.fromElement:"mouseout"==c&&(b=a.toElement);this.relatedTarget=b;null===d?(this.offsetX=vu||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=vu||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,
this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.key=a.key||"";this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.state=a.state;this.cd=a;a.defaultPrevented&&
this.preventDefault()};Lu.prototype.stopPropagation=function(){Lu.zf.stopPropagation.call(this);this.cd.stopPropagation?this.cd.stopPropagation():this.cd.cancelBubble=!0};Lu.prototype.preventDefault=function(){Lu.zf.preventDefault.call(this);var a=this.cd;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Iu)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var Mu="closure_listenable_"+(1E6*Math.random()|0),Nu=0;function Ou(a,b,c,d,e){this.listener=a;this.proxy=null;this.src=b;this.type=c;this.capture=!!d;this.jc=e;this.key=++Nu;this.Oc=this.xd=!1}function Pu(a){a.Oc=!0;a.listener=null;a.proxy=null;a.src=null;a.jc=null};function Qu(a){this.src=a;this.rb={};this.Vd=0}Qu.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.rb[f];a||(a=this.rb[f]=[],this.Vd++);var h=Ru(a,b,d,e);-1<h?(b=a[h],c||(b.xd=!1)):(b=new Ou(b,this.src,f,!!d,e),b.xd=c,a.push(b));return b};Qu.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.rb))return!1;var e=this.rb[a];b=Ru(e,b,c,d);return-1<b?(Pu(e[b]),Array.prototype.splice.call(e,b,1),0==e.length&&(delete this.rb[a],this.Vd--),!0):!1};
function Su(a,b){var c=b.type;if(c in a.rb){var d=a.rb[c],e=ya(d,b),f;(f=0<=e)&&Array.prototype.splice.call(d,e,1);f&&(Pu(b),0==a.rb[c].length&&(delete a.rb[c],a.Vd--))}}Qu.prototype.Be=function(a,b,c,d){a=this.rb[a.toString()];var e=-1;a&&(e=Ru(a,b,c,d));return-1<e?a[e]:null};function Ru(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.Oc&&f.listener==b&&f.capture==!!c&&f.jc==d)return e}return-1};var Tu="closure_lm_"+(1E6*Math.random()|0),Uu={},Vu=0;function Wu(a,b,c,d,e){if(d&&d.once)Xu(a,b,c,d,e);else if("array"==n(b))for(var f=0;f<b.length;f++)Wu(a,b[f],c,d,e);else c=Yu(c),a&&a[Mu]?a.rc.add(String(b),c,!1,ja(d)?!!d.capture:!!d,e):Zu(a,b,c,!1,d,e)}
function Zu(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var h=ja(e)?!!e.capture:!!e,k=$u(a);k||(a[Tu]=k=new Qu(a));c=k.add(b,c,d,h,f);if(!c.proxy){d=av();c.proxy=d;d.src=a;d.listener=c;if(a.addEventListener)Ju||(e=h),void 0===e&&(e=!1),a.addEventListener(b.toString(),d,e);else if(a.attachEvent)a.attachEvent(bv(b.toString()),d);else throw Error("addEventListener and attachEvent are unavailable.");Vu++}}
function av(){var a=cv,b=Hu?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b}function Xu(a,b,c,d,e){if("array"==n(b))for(var f=0;f<b.length;f++)Xu(a,b[f],c,d,e);else c=Yu(c),a&&a[Mu]?a.rc.add(String(b),c,!0,ja(d)?!!d.capture:!!d,e):Zu(a,b,c,!0,d,e)}
function dv(a,b,c,d,e){if("array"==n(b))for(var f=0;f<b.length;f++)dv(a,b[f],c,d,e);else d=ja(d)?!!d.capture:!!d,c=Yu(c),a&&a[Mu]?a.rc.remove(String(b),c,d,e):a&&(a=$u(a))&&(b=a.Be(b,c,d,e))&&ev(b)}function ev(a){if("number"!=typeof a&&a&&!a.Oc){var b=a.src;if(b&&b[Mu])Su(b.rc,a);else{var c=a.type,d=a.proxy;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent&&b.detachEvent(bv(c),d);Vu--;(c=$u(b))?(Su(c,a),0==c.Vd&&(c.src=null,b[Tu]=null)):Pu(a)}}}
function bv(a){return a in Uu?Uu[a]:Uu[a]="on"+a}function fv(a,b,c,d){var e=!0;if(a=$u(a))if(b=a.rb[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.capture==c&&!f.Oc&&(f=gv(f,d),e=e&&!1!==f)}return e}function gv(a,b){var c=a.listener,d=a.jc||a.src;a.xd&&ev(a);return c.call(d,b)}
function cv(a,b){if(a.Oc)return!0;if(!Hu){if(!b)a:{b=["window","event"];for(var c=ca,d;d=b.shift();)if(null!=c[d])c=c[d];else{b=null;break a}b=c}d=b;b=new Lu(d,this);c=!0;if(!(0>d.keyCode||void 0!=d.returnValue)){a:{var e=!1;if(0==d.keyCode)try{d.keyCode=-1;break a}catch(h){e=!0}if(e||void 0==d.returnValue)d.returnValue=!0}d=[];for(e=b.currentTarget;e;e=e.parentNode)d.push(e);a=a.type;for(e=d.length-1;!b.xc&&0<=e;e--){b.currentTarget=d[e];var f=fv(d[e],a,!0,b);c=c&&f}for(e=0;!b.xc&&e<d.length;e++)b.currentTarget=
d[e],f=fv(d[e],a,!1,b),c=c&&f}return c}return gv(a,new Lu(b,this))}function $u(a){a=a[Tu];return a instanceof Qu?a:null}var hv="__closure_events_fn_"+(1E9*Math.random()>>>0);function Yu(a){if(ia(a))return a;a[hv]||(a[hv]=function(b){return a.handleEvent(b)});return a[hv]};function iv(){ou.call(this);this.rc=new Qu(this);this.Df=this;this.tf=null}ra(iv,ou);iv.prototype[Mu]=!0;iv.prototype.addEventListener=function(a,b,c,d){Wu(this,a,b,c,d)};iv.prototype.removeEventListener=function(a,b,c,d){dv(this,a,b,c,d)};
iv.prototype.dispatchEvent=function(a){var b,c=this.tf;if(c)for(b=[];c;c=c.tf)b.push(c);c=this.Df;var d=a.type||a;if(da(a))a=new Ku(a,c);else if(a instanceof Ku)a.target=a.target||c;else{var e=a;a=new Ku(d,c);Pa(a,e)}e=!0;if(b)for(var f=b.length-1;!a.xc&&0<=f;f--){var h=a.currentTarget=b[f];e=jv(h,d,!0,a)&&e}a.xc||(h=a.currentTarget=c,e=jv(h,d,!0,a)&&e,a.xc||(e=jv(h,d,!1,a)&&e));if(b)for(f=0;!a.xc&&f<b.length;f++)h=a.currentTarget=b[f],e=jv(h,d,!1,a)&&e;return e};
function jv(a,b,c,d){b=a.rc.rb[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var h=b[f];if(h&&!h.Oc&&h.capture==c){var k=h.listener,l=h.jc||h.src;h.xd&&Su(a.rc,h);e=!1!==k.call(l,d)&&e}}return e&&0!=d.wf}iv.prototype.Be=function(a,b,c,d){return this.rc.Be(String(a),b,c,d)};function kv(a,b,c){if(ia(a))c&&(a=qa(a,c));else if(a&&"function"==typeof a.handleEvent)a=qa(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:ca.setTimeout(a,b||0)};function lv(a){switch(a){case 0:return"No Error";case 1:return"Access denied to content document";case 2:return"File not found";case 3:return"Firefox silently errored";case 4:return"Application custom error";case 5:return"An exception occurred";case 6:return"Http response at 400 or 500 level";case 7:return"Request was aborted";case 8:return"Request timed out";case 9:return"The resource is not available offline";default:return"Unrecognized error code"}};function mv(){}mv.prototype.$e=null;function nv(a){var b;(b=a.$e)||(b={},ov(a)&&(b[0]=!0,b[1]=!0),b=a.$e=b);return b};var pv;function qv(){}ra(qv,mv);function rv(a){return(a=ov(a))?new ActiveXObject(a):new XMLHttpRequest}function ov(a){if(!a.jf&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.jf=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.jf}pv=new qv;function sv(a){iv.call(this);this.headers=new Sa;this.$d=a||null;this.Cc=!1;this.Zd=this.W=null;this.kf=this.Md="";this.kc=0;this.wc="";this.hd=this.De=this.Kd=this.Ae=!1;this.sd=0;this.Ud=null;this.Sd=tv;this.Qe=this.uf=this.Se=!1}ra(sv,iv);var tv="",uv=/^https?$/i,vv=["POST","PUT"];function wv(a,b){a.Sd=b}g=sv.prototype;
g.send=function(a,b,c,d){if(this.W)throw Error("[goog.net.XhrIo] Object is active with another request\x3d"+this.Md+"; newUri\x3d"+a);b=b?b.toUpperCase():"GET";this.Md=a;this.wc="";this.kc=0;this.kf=b;this.Ae=!1;this.Cc=!0;this.W=this.$d?rv(this.$d):rv(pv);this.Zd=this.$d?nv(this.$d):nv(pv);this.W.onreadystatechange=qa(this.pf,this);this.uf&&"onprogress"in this.W&&(this.W.onprogress=qa(function(a){this.nf(a,!0)},this),this.W.upload&&(this.W.upload.onprogress=qa(this.nf,this)));try{this.De=!0,this.W.open(b,
String(a),!0),this.De=!1}catch(f){xv(this,f);return}a=c||"";var e=this.headers.clone();d&&Ra(d,function(a,b){e.set(b,a)});d=Ca(e.Mb());c=ca.FormData&&a instanceof ca.FormData;!(0<=ya(vv,b))||d||c||e.set("Content-Type","application/x-www-form-urlencoded;charset\x3dutf-8");e.forEach(function(a,b){this.W.setRequestHeader(b,a)},this);this.Sd&&(this.W.responseType=this.Sd);"withCredentials"in this.W&&this.W.withCredentials!==this.Se&&(this.W.withCredentials=this.Se);try{yv(this),0<this.sd&&((this.Qe=zv(this.W))?
(this.W.timeout=this.sd,this.W.ontimeout=qa(this.Af,this)):this.Ud=kv(this.Af,this.sd,this)),this.Kd=!0,this.W.send(a),this.Kd=!1}catch(f){xv(this,f)}};function zv(a){return su&&Du(9)&&"number"==typeof a.timeout&&void 0!==a.ontimeout}function Da(a){return"content-type"==a.toLowerCase()}g.Af=function(){"undefined"!=typeof aa&&this.W&&(this.wc="Timed out after "+this.sd+"ms, aborting",this.kc=8,this.dispatchEvent("timeout"),this.abort(8))};
function xv(a,b){a.Cc=!1;a.W&&(a.hd=!0,a.W.abort(),a.hd=!1);a.wc=b;a.kc=5;Av(a);Bv(a)}function Av(a){a.Ae||(a.Ae=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))}g.abort=function(a){this.W&&this.Cc&&(this.Cc=!1,this.hd=!0,this.W.abort(),this.hd=!1,this.kc=a||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Bv(this))};g.pf=function(){this.ze||(this.De||this.Kd||this.hd?Cv(this):this.gg())};g.gg=function(){Cv(this)};
function Cv(a){if(a.Cc&&"undefined"!=typeof aa&&(!a.Zd[1]||4!=Dv(a)||2!=Ev(a)))if(a.Kd&&4==Dv(a))kv(a.pf,0,a);else if(a.dispatchEvent("readystatechange"),4==Dv(a)){a.Cc=!1;try{var b=Ev(a);a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break a;default:c=!1}var d;if(!(d=c)){var e;if(e=0===b){var f=String(a.Md).match(Wa)[1]||null;if(!f&&ca.self&&ca.self.location){var h=ca.self.location.protocol;f=h.substr(0,h.length-1)}e=!uv.test(f?f.toLowerCase():"")}d=e}d?(a.dispatchEvent("complete"),
a.dispatchEvent("success")):(a.kc=6,a.wc=Fv(a)+" ["+Ev(a)+"]",Av(a))}finally{Bv(a)}}}g.nf=function(a,b){this.dispatchEvent(Gv(a,"progress"));this.dispatchEvent(Gv(a,b?"downloadprogress":"uploadprogress"))};function Gv(a,b){return{type:b,lengthComputable:a.lengthComputable,loaded:a.loaded,total:a.total}}function Bv(a){if(a.W){yv(a);var b=a.W,c=a.Zd[0]?fa:null;a.W=null;a.Zd=null;a.dispatchEvent("ready");try{b.onreadystatechange=c}catch(d){}}}
function yv(a){a.W&&a.Qe&&(a.W.ontimeout=null);"number"==typeof a.Ud&&(ca.clearTimeout(a.Ud),a.Ud=null)}function Dv(a){return a.W?a.W.readyState:0}function Ev(a){try{return 2<Dv(a)?a.W.status:-1}catch(b){return-1}}function Fv(a){try{return 2<Dv(a)?a.W.statusText:""}catch(b){return""}}
function Hv(a){try{if(!a.W)return null;if("response"in a.W)return a.W.response;switch(a.Sd){case tv:case "text":return a.W.responseText;case "arraybuffer":if("mozResponseArrayBuffer"in a.W)return a.W.mozResponseArrayBuffer}return null}catch(b){return null}}g.getResponseHeader=function(a){if(this.W&&4==Dv(this))return a=this.W.getResponseHeader(a),null===a?void 0:a};g.getAllResponseHeaders=function(){return this.W&&4==Dv(this)?this.W.getAllResponseHeaders():""};function Iv(a){return a instanceof F?Af(a).toUpperCase():a}function Jv(a,b){return xr(b,a)}function Kv(a,b){return function(c){c=gc.l(Jv,c,b);return a.h?a.h(c):a.call(null,c)}}var Lv=zg(we);function Mv(a){var b=Zr(a);return Ug(Ug(a,Zl,Iv),Zp,function(a){return function(b){return Mf.w(new X(null,1,5,Y,[a],null),v(b)?b:A(Lv),T([Yr]))}}(b))}function Nv(a,b){return wr(b,a)}
function Ov(a){a=Mv(a);a=null!=a&&(a.v&64||p===a.P)?W(Ci,a):a;var b=D.j(a,Zp);a=gc.l(Nv,a,b);b=sf(b);var c=null!=a&&(a.v&64||p===a.P)?W(Ci,a):a;c=D.j(c,Hq);b=v(c)?Kv(c,b):yr("No ajax handler provided.");c=fl.h(a);c=v(c)?c:new sv;return pr(c,a,b)};var Pv=zg(new X(null,6,5,Y,[new X(null,2,5,Y,["application/transit+json",du],null),new X(null,2,5,Y,["application/transit+transit",du],null),new X(null,2,5,Y,["application/json",gu],null),new X(null,2,5,Y,["text/plain",as],null),new X(null,2,5,Y,["text/html",as],null),new X(null,2,5,Y,["*/*",as],null)],null));
function Qv(a,b){if(Ne(a))return a;if(Ce(a))return new t(null,1,[go,a],null);if(null==a)return bu(b);switch(a instanceof F?a.La:null){case "transit":return bu(b);case "json":return hu.G?hu.G():hu.call(null);case "text":return new t(null,2,[go,ef,vp,"text/plain; charset\x3dutf-8"],null);case "raw":return Pr(b);case "url":return Pr(b);default:return null}}
var Rv=function Rv(a,b){if(Qe(a)){var d=Y,e=J(a);a=te(a);b=Rv.j?Rv.j(a,b):Rv.call(null,a,b);return new X(null,2,5,d,[e,b],null)}if(Ne(a))return a;if(Ce(a))return new t(null,2,[ul,a,tk,"custom"],null);if(null==a)return $r(new t(null,1,[xm,A(Pv)],null));switch(a instanceof F?a.La:null){case "transit":return du.h(b);case "json":return gu.h?gu.h(b):gu.call(null,b);case "text":return as.G?as.G():as.call(null);case "ring":return d=new t(null,1,[Nk,as.G()],null),d=null!=d&&(d.v&64||p===d.P)?W(Ci,d):d,d=
D.j(d,Nk),b=null!=d&&(d.v&64||p===d.P)?W(Ci,d):d,d=D.j(b,ul),e=D.j(b,tk),b=D.j(b,vp),Tr(new t(null,3,[ul,iu(d),tk,["ring/",z.h(e)].join(""),vp,b],null));case "raw":return as.G();case "detect":return $r(new t(null,1,[xm,A(Pv)],null));default:return null}};function Sv(a,b){return Qe(a)?W(ph,Dg.j(function(a){return Rv(a,b)},a)):Rv(a,b)}
var Tv=zg(function(a){return vj(T(["CLJS-AJAX response:",a]))}),Uv=zg(function(a){return"undefined"!==typeof console?console.error(a):"undefined"!==typeof window?window.alert(z.h(a)):vj(T(["CLJS-AJAX ERROR:",a]))});
function Vv(a){var b=null!=a&&(a.v&64||p===a.P)?W(Ci,a):a,c=D.j(b,Hq),d=D.j(b,ao),e=D.j(b,Ck),f=v(c)?c:A(Tv),h=v(d)?d:A(Uv);return function(a,b,c,d,e,f,h){return function(c){var d=U(c,0);c=U(c,1);d=v(d)?a:b;d.h?d.h(c):d.call(null,c);return Ce(h)?h.G?h.G():h.call(null):null}}(f,h,a,b,c,d,e)};g=sv.prototype;g.ae=function(a,b,c){a=null!=b&&(b.v&64||p===b.P)?W(Ci,b):b;var d=D.j(a,Yp),e=D.j(a,Zl),f=D.j(a,zq),h=D.j(a,Wn),k=D.l(a,hq,0),l=D.l(a,Qq,!1),m=D.j(a,xm),q=D.j(a,ap),r=en.h(m);v(r)&&wv(this,Af(r));Ce(q)&&(this.uf=!0,Wu(this,"uploadprogress",q));Wu(this,"complete",function(){return function(a){a=a.target;return c.h?c.h(a):c.call(null,a)}}(this,"complete",this,this,b,a,d,e,f,h,k,l,m,q));this.sd=Math.max(0,k);this.Se=l;this.send(d,e,f,Ij(h));return this};g.be=function(){return Hv(this)};
g.ee=function(){return Ev(this)};g.fe=function(){return Fv(this)};g.ce=function(){for(var a={},b=this.getAllResponseHeaders().split("\r\n"),c=0;c<b.length;c++)if(!sa(b[c])){var d=xa(b[c]);a[d[0]]=a[d[0]]?a[d[0]]+(", "+d[1]):d[1]}return Mj(a,T([Nj,!1]))};g.de=function(a,b){return this.getResponseHeader(b)};g.ge=function(){return P.j(this.kc,7)};function Wv(a){var b=J(a);a=b instanceof F?W(Ci,a):b;a=V.w(a,Yp,"/transit",T([Zl,"GET"]));a=null!=a&&(a.v&64||p===a.P)?W(Ci,a):a;var c=D.j(a,Zl),d=D.j(a,Nk);b=D.j(a,xm);D.j(a,Tm);c=null==D.j(a,zq)&&!P.j(c,"GET");d=v(v(d)?d:c)?Qv(d,a):null;a=V.w(a,Hq,Vv(a),T([Nk,d,xm,Sv(b,a)]));return Ov(a)};Promise.prototype.ea=p;Promise.prototype.S=function(a,b){return dd(b,"#\x3cPromise[~]\x3e")};var Xv={};var Yv={},Zv="undefined"!==typeof console;if("undefined"===typeof Xv||"undefined"===typeof Yv||"undefined"===typeof $v)var $v=zg(null);
if("undefined"===typeof Xv||"undefined"===typeof Yv||"undefined"===typeof aw)var aw=function(){var a={};a.warn=function(){return function(){function a(a){var b=null;if(0<arguments.length){b=0;for(var d=Array(arguments.length-0);b<d.length;)d[b]=arguments[b+0],++b;b=new I(d,0,null)}return c.call(this,b)}function c(a){return Bg.w($v,Tg,new X(null,1,5,Y,[im],null),ve,T([W(z,a)]))}a.H=0;a.K=function(a){a=H(a);return c(a)};a.w=c;return a}()}(a);a.error=function(){return function(){function a(a){var b=
null;if(0<arguments.length){b=0;for(var d=Array(arguments.length-0);b<d.length;)d[b]=arguments[b+0],++b;b=new I(d,0,null)}return c.call(this,b)}function c(a){return Bg.w($v,Tg,new X(null,1,5,Y,[Pp],null),ve,T([W(z,a)]))}a.H=0;a.K=function(a){a=H(a);return c(a)};a.w=c;return a}()}(a);return a}();var bw={},cw=new Oi(null,new t(null,2,["aria",null,"data",null],null),null);function dw(a){return 2>R(a)?a.toUpperCase():[z.h(a.substring(0,1).toUpperCase()),z.h(a.substring(1))].join("")}function ew(a){if("string"===typeof a)return a;a=Af(a);var b=Fr(a,/-/,0);var c=H(b);b=J(c);c=M(c);return v(cw.h?cw.h(b):cw.call(null,b))?a:Uf(z,b,Dg.j(dw,c))}
function fw(a){var b=function(){var b=function(){var b=Ce(a);return b?(b=a.displayName,v(b)?b:a.name):b}();if(v(b))return b;b=function(){var b=null!=a?a.M&4096||p===a.ef?!0:!1:!1;return b?Af(a):b}();if(v(b))return b;b=Ge(a);return Ne(b)?km.h(b):null}();return Cr(z.h(b),"$",".")}var gw=!1;var hw={};if("undefined"===typeof Xv||"undefined"===typeof bw||"undefined"===typeof hw||"undefined"===typeof iw)var iw=0;function jw(a){return setTimeout(a,16)}var kw="undefined"===typeof window||null==window.document?jw:function(){var a=window,b=a.requestAnimationFrame;if(v(b))return b;b=a.webkitRequestAnimationFrame;if(v(b))return b;b=a.mozRequestAnimationFrame;if(v(b))return b;a=a.msRequestAnimationFrame;return v(a)?a:jw}();function lw(a,b){return a.cljsMountOrder-b.cljsMountOrder}
if("undefined"===typeof Xv||"undefined"===typeof bw||"undefined"===typeof hw||"undefined"===typeof mw)var mw=function(){return null};function nw(){this.Td=!1}function ow(a,b){var c=a[b];if(null==c)return null;a[b]=null;a=c.length;for(b=0;;)if(b<a){var d=c[b];d.G?d.G():d.call(null);b+=1}else return null}
function pw(a){if(a.Td)return null;a.Td=!0;a=function(a){return function(){a.Td=!1;ow(a,"beforeFlush");mw();var b=a.componentQueue;if(null!=b){a.componentQueue=null;b.sort(lw);for(var d=b.length,e=0;;)if(e<d){var f=b[e];!0===f.cljsIsDirty&&f.forceUpdate();e+=1}else break}return ow(a,"afterRender")}}(a);return kw.h?kw.h(a):kw.call(null,a)}nw.prototype.enqueue=function(a,b){if(!v(b))throw Error("Assert failed: Enqueued function must not be nil\nf");null==this[a]&&(this[a]=[]);this[a].push(b);return pw(this)};
function qw(a){return rw.enqueue("afterRender",a)}if("undefined"===typeof Xv||"undefined"===typeof bw||"undefined"===typeof hw||"undefined"===typeof rw){var rw;rw=new nw}function sw(a){if(v(a.cljsIsDirty))return null;a.cljsIsDirty=!0;return rw.enqueue("componentQueue",a)};function tw(a,b){a=Uf(Vi,a,b);return qe(a,Mg(function(a){return function(b){return a===b}}(a),b))}function uw(a,b){return R(a)<R(b)?gc.l(ve,b,a):gc.l(ve,a,b)}var vw=function vw(a){switch(arguments.length){case 1:return vw.h(arguments[0]);case 2:return vw.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return vw.w(arguments[0],arguments[1],new I(c.slice(2),0,null))}};vw.h=function(a){return a};
vw.j=function(a,b){for(;;)if(R(b)<R(a)){var c=a;a=b;b=c}else return gc.l(function(a,b){return function(a,c){return Xe(b,c)?a:Ie.j(a,c)}}(a,b),a,a)};vw.w=function(a,b,c){a=tw(function(a){return-R(a)},ve.w(c,b,T([a])));return gc.l(vw,J(a),Qd(a))};vw.K=function(a){var b=J(a),c=M(a);a=J(c);c=M(c);return this.w(b,a,c)};vw.H=2;
var ww=function ww(a){switch(arguments.length){case 1:return ww.h(arguments[0]);case 2:return ww.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return ww.w(arguments[0],arguments[1],new I(c.slice(2),0,null))}};ww.h=function(a){return a};ww.j=function(a,b){return R(a)<R(b)?gc.l(function(a,d){return Xe(b,d)?Ie.j(a,d):a},a,a):gc.l(Ie,a,b)};ww.w=function(a,b,c){return gc.l(ww,a,ve.j(c,b))};
ww.K=function(a){var b=J(a),c=M(a);a=J(c);c=M(c);return this.w(b,a,c)};ww.H=2;var xw={},yw;if("undefined"===typeof Xv||"undefined"===typeof xw||"undefined"===typeof zw)var zw=!1;if("undefined"===typeof Xv||"undefined"===typeof xw||"undefined"===typeof Aw)var Aw=0;if("undefined"===typeof Xv||"undefined"===typeof xw||"undefined"===typeof Bw)var Bw=zg(0);function Cw(a,b){var c=yw;yw=a;try{return b.G?b.G():b.call(null)}finally{yw=c}}
function Dw(a,b){b.captured=null;b.Eg=Aw+=1;a=Cw(b,a);var c=b.captured;b.ic=!1;a:{var d=b.zc;var e=null==c?0:c.length,f=e===(null==d?0:d.length);if(f)for(f=0;;){var h=f===e;if(h){d=h;break a}if(c[f]===d[f])f+=1;else{d=!1;break a}}else d=f}if(!d)a:{d=Si(c);e=Si(b.zc);b.zc=c;c=H(ww.j(d,e));f=null;for(var k=h=0;;)if(k<h){var l=f.O(null,k);gd(l,b,Ew);k+=1}else if(c=H(c))f=c,Re(f)?(c=qd(f),k=sd(f),f=c,h=R(c),c=k):(c=J(f),gd(c,b,Ew),c=M(f),f=null,h=0),k=0;else break;d=H(ww.j(e,d));e=null;for(h=f=0;;)if(h<
f)c=e.O(null,h),hd(c,b),h+=1;else if(d=H(d))e=d,Re(e)?(d=qd(e),f=sd(e),e=d,c=R(d),d=f,f=c):(c=J(e),hd(c,b),d=M(e),e=null,f=0),h=0;else break a}return a}function Fw(a){var b=yw;if(null!=b){var c=b.captured;null==c?b.captured=[a]:c.push(a)}}function Gw(a,b){zw&&Bg.l(Bw,hf,R(b)-R(a));return b}function Hw(a,b,c){var d=a.Ja;a.Ja=Gw(d,V.l(d,b,c));return a.Re=null}function Iw(a,b){var c=a.Ja;a.Ja=Gw(c,Be.j(c,b));return a.Re=null}
function Jw(a,b,c){var d=a.Re;d=null==d?a.Re=df(function(){return function(a,b,c){a.push(b);a.push(c);return a}}(d),[],a.Ja):d;for(var e=d.length,f=0;;)if(f<e){var h=d[f],k=d[f+1];k.I?k.I(h,a,b,c):k.call(null,h,a,b,c);f=2+f}else break}function Kw(a,b,c,d){dd(b,["#\x3c",z.h(d)," "].join(""));a:{d=yw;yw=null;try{var e=A(a);break a}finally{yw=d}e=void 0}oj(e,b,c);return dd(b,"\x3e")}if("undefined"===typeof Xv||"undefined"===typeof xw||"undefined"===typeof Lw)var Lw=null;
function Mw(){for(;;){var a=Lw;if(null==a)return null;Lw=null;for(var b=a.length,c=0;;)if(c<b){var d=a[c];d.ic&&null!=d.zc&&Nw(d,!0);c+=1}else break}}mw=Mw;function Ow(a,b,c,d){this.state=a;this.meta=b;this.yc=c;this.Ja=d;this.v=2154201088;this.M=114690}g=Ow.prototype;g.Rd=p;g.S=function(a,b,c){return Kw(this,b,c,"Atom:")};g.U=function(){return this.meta};g.T=function(){return ka(this)};g.J=function(a,b){return this===b};
g.jb=function(a,b){if(null!=this.yc&&!v(this.yc.h?this.yc.h(b):this.yc.call(null,b)))throw Error("Assert failed: Validator rejected reference state\n(validator new-value)");a=this.state;this.state=b;null!=this.Ja&&Jw(this,a,b);return b};g.Bd=function(a,b){return this.jb(null,b.h?b.h(this.state):b.call(null,this.state))};g.Cd=function(a,b,c){return this.jb(null,b.j?b.j(this.state,c):b.call(null,this.state,c))};
g.Dd=function(a,b,c,d){return this.jb(null,b.l?b.l(this.state,c,d):b.call(null,this.state,c,d))};g.Ed=function(a,b,c,d,e){return this.jb(null,Vf(b,this.state,c,d,e))};g.Fd=function(a,b){Jw(this,a,b)};g.Zc=function(a,b,c){return Hw(this,b,c)};g.$c=function(a,b){return Iw(this,b)};g.V=function(a,b){return new Ow(this.state,b,this.yc,this.Ja)};g.eb=function(){Fw(this);return this.state};
var Pw=function Pw(a){switch(arguments.length){case 1:return Pw.h(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Pw.w(arguments[0],new I(c.slice(1),0,null))}};Pw.h=function(a){return new Ow(a,null,null,null)};Pw.w=function(a,b){var c=null!=b&&(b.v&64||p===b.P)?W(Ci,b):b;b=D.j(c,Sb);c=D.j(c,Wl);return new Ow(a,b,c,null)};Pw.K=function(a){var b=J(a);a=M(a);return this.w(b,a)};Pw.H=1;
function Qw(a,b,c,d){var e=b.reagReactionCache,f=null==e?Zf:e,h=f.j?f.j(c,null):f.call(null,c,null);if(null!=h)return A(h);if(null==yw)return a.G?a.G():a.call(null);var k=function(){var k=function(){return function(){zw&&Bg.j(Bw,jf);var a=Be.j(b.reagReactionCache,c);b.reagReactionCache=a;null!=d&&(d.pd=null);return null}}(a,Np,e,f,h);return Rw.l?Rw.l(a,Np,k):Rw.call(null,a,Np,k)}(),l=A(k);b.reagReactionCache=V.l(f,c,k);zw&&Bg.j(Bw,Zd);null!=d&&(d.pd=k);return l}
function Sw(a,b,c){this.Ga=a;this.Uc=b;this.pd=c;this.v=2153807872;this.M=0}g=Sw.prototype;g.Rd=p;g.eb=function(){var a=this,b=a.pd;return null==b?Qw(function(){return function(){return W(a.Ga,a.Uc)}}(b,this),a.Ga,a.Uc,this):A(b)};g.J=function(a,b){return b instanceof Sw&&P.j(this.Ga,b.Ga)&&P.j(this.Uc,b.Uc)};g.T=function(){return Kd(new X(null,2,5,Y,[this.Ga,this.Uc],null))};g.S=function(a,b,c){return Kw(this,b,c,"Track:")};
function Tw(a,b,c,d,e){this.ua=a;this.path=b;this.pd=c;this.state=d;this.Ja=e;this.v=2153807872;this.M=114690}function Uw(a){var b=yw;yw=null;try{return a.eb(null)}finally{yw=b}}function Vw(a,b,c){b!==c&&(a.state=c,null!=a.Ja&&Jw(a,b,c))}g=Tw.prototype;g.Rd=p;g.S=function(a,b,c){return Kw(this,b,c,["Cursor: ",z.h(this.path)].join(""))};g.T=function(){return Kd(new X(null,2,5,Y,[this.ua,this.path],null))};g.J=function(a,b){return b instanceof Tw&&P.j(this.path,b.path)&&P.j(this.ua,b.ua)};
g.jb=function(a,b){Vw(this,this.state,b);(null!=this.ua?this.ua.v&32768||p===this.ua.cf||(this.ua.v?0:w(Nc,this.ua)):w(Nc,this.ua))?P.j(this.path,we)?Ag(this.ua,b):Bg.I(this.ua,Sg,this.path,b):this.ua.j?this.ua.j(this.path,b):this.ua.call(null,this.path,b);return b};g.Bd=function(a,b){var c=this;return c.jb(null,function(){var a=Uw(c);return b.h?b.h(a):b.call(null,a)}())};g.Cd=function(a,b,c){var d=this;return d.jb(null,function(){var a=Uw(d);return b.j?b.j(a,c):b.call(null,a,c)}())};
g.Dd=function(a,b,c,d){var e=this;return e.jb(null,function(){var a=Uw(e);return b.l?b.l(a,c,d):b.call(null,a,c,d)}())};g.Ed=function(a,b,c,d,e){return this.jb(null,Vf(b,Uw(this),c,d,e))};g.Fd=function(a,b){Jw(this,a,b)};g.Zc=function(a,b,c){return Hw(this,b,c)};g.$c=function(a,b){return Iw(this,b)};
g.eb=function(){var a=this,b=this,c=a.state,d=function(){var d=a.pd;return null==d?(d=(null!=a.ua?a.ua.v&32768||p===a.ua.cf||(a.ua.v?0:w(Nc,a.ua)):w(Nc,a.ua))?function(){return function(){return Rg(A(a.ua),a.path)}}(d,c,b):function(){return function(){return a.ua.h?a.ua.h(a.path):a.ua.call(null,a.path)}}(d,c,b),Qw(d,a.ua,a.path,b)):A(d)}();Vw(b,c,d);return d};
var Ww=function Ww(a){if(null!=a&&null!=a.Me)return a.Me(a);var c=Ww[n(null==a?null:a)];if(null!=c)return c.h?c.h(a):c.call(null,a);c=Ww._;if(null!=c)return c.h?c.h(a):c.call(null,a);throw y("IDisposable.dispose!",a);},Xw=function Xw(a,b){if(null!=a&&null!=a.vf)return a.vf(a,b);var d=Xw[n(null==a?null:a)];if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);d=Xw._;if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);throw y("IDisposable.add-on-dispose!",a);};
function Ew(a,b,c,d){c===d||a.ic?a=null:null==a.Gb?(a.ic=!0,null==Lw&&(Lw=[],!1===rw.Td&&pw(rw)),a=Lw.push(a)):a=!0===a.Gb?Nw(a,!1):a.Gb.h?a.Gb.h(a):a.Gb.call(null,a);return a}function Yw(a,b,c,d,e,f,h,k){this.Ga=a;this.state=b;this.ic=c;this.lf=d;this.zc=e;this.Ja=f;this.Gb=h;this.je=k;this.v=2153807872;this.M=114690}function Zw(a){var b=yw;yw=null;try{return a.eb(null)}finally{yw=b}}
function Nw(a,b){var c=a.state;if(v(b)){b=a.Ga;try{a.je=null;var d=Dw(b,a)}catch(e){d=e,a.state=d,a.je=d,d=a.ic=!1}}else d=Dw(a.Ga,a);a.lf||(a.state=d,null==a.Ja||P.j(c,d)||Jw(a,c,d));return d}function $w(a,b){var c=null!=b&&(b.v&64||p===b.P)?W(Ci,b):b;b=D.j(c,bp);var d=D.j(c,Jk),e=D.j(c,Np);c=D.j(c,vo);null!=b&&(a.Gb=b);null!=d&&(a.sf=d);null!=e&&(a.qf=e);null!=c&&(a.lf=c)}g=Yw.prototype;g.Rd=p;g.S=function(a,b,c){return Kw(this,b,c,["Reaction ",z.h(Kd(this)),":"].join(""))};g.T=function(){return ka(this)};
g.J=function(a,b){return this===b};g.Me=function(){var a=this.state,b=this.zc;this.Gb=this.state=this.zc=null;this.ic=!0;b=H(Si(b));for(var c=null,d=0,e=0;;)if(e<d){var f=c.O(null,e);hd(f,this);e+=1}else if(b=H(b))c=b,Re(c)?(b=qd(c),e=sd(c),c=b,d=R(b),b=e):(b=J(c),hd(b,this),b=M(c),c=null,d=0),e=0;else break;null!=this.qf&&this.qf(a);a=this.rf;if(null==a)return null;b=a.length;for(c=0;;)if(c<b)d=a[c],d.h?d.h(this):d.call(null,this),c+=1;else return null};
g.vf=function(a,b){a=this.rf;return null==a?this.rf=[b]:a.push(b)};g.jb=function(a,b){if(!Ce(this.sf))throw Error("Assert failed: Reaction is read only; on-set is not allowed\n(fn? (.-on-set a))");a=this.state;this.state=b;this.sf(a,b);Jw(this,a,b);return b};g.Bd=function(a,b){var c=this;return c.jb(null,function(){var a=Zw(c);return b.h?b.h(a):b.call(null,a)}())};g.Cd=function(a,b,c){var d=this;return d.jb(null,function(){var a=Zw(d);return b.j?b.j(a,c):b.call(null,a,c)}())};
g.Dd=function(a,b,c,d){var e=this;return e.jb(null,function(){var a=Zw(e);return b.l?b.l(a,c,d):b.call(null,a,c,d)}())};g.Ed=function(a,b,c,d,e){return this.jb(null,Vf(b,Zw(this),c,d,e))};g.Fd=function(a,b){Jw(this,a,b)};g.Zc=function(a,b,c){return Hw(this,b,c)};g.$c=function(a,b){a=Je(this.Ja);Iw(this,b);return!a&&Je(this.Ja)&&null==this.Gb?this.Me(null):null};
g.eb=function(){var a=this.je;if(null!=a)throw a;(a=null==yw)&&Mw();a&&null==this.Gb?this.ic&&(a=this.state,this.state=this.Ga.G?this.Ga.G():this.Ga.call(null),null==this.Ja||P.j(a,this.state)||Jw(this,a,this.state)):(Fw(this),this.ic&&Nw(this,!1));return this.state};
function Rw(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;c=arguments[0];b=1<b.length?new I(b.slice(1),0,null):null;var e=null!=b&&(b.v&64||p===b.P)?W(Ci,b):b;b=D.j(e,bp);d=D.j(e,Jk);e=D.j(e,Np);c=new Yw(c,null,!0,!1,null,null,null,null);$w(c,new t(null,3,[bp,b,Jk,d,Np,e],null));return c}var ax=Rw(null);
function bx(a,b){var c=cx,d=ax,e=Dw(a,d);null!=d.zc&&(ax=Rw(null),$w(d,c),d.Ga=a,d.Gb=function(){return function(){return sw.h?sw.h(b):sw.call(null,b)}}(d,e),b.cljsRatom=d);return e}function dx(a){var b={};a=Cw(b,a);return new X(null,2,5,Y,[a,null!=b.captured],null)};var ex={},fx,gx=ca.createReactClass;function hx(a,b){var c=b.argv;if(null==c){c=Y;a=a.constructor;a:for(var d=Ma(b),e=d.length,f=Zf,h=0;;)if(h<e){var k=d[h];f=V.l(f,zf.h(k),b[k]);h+=1}else break a;b=new X(null,2,5,c,[a,f],null)}else b=c;return b}function ix(a){var b;if(b=Ce(a))a=null==a?null:a.prototype,b=null!=(null==a?null:a.reagentRender);return b}function jx(a){var b;if(b=Ce(a))a=null==a?null:a.prototype,b=null!=(null==a?null:a.render);return b}
if("undefined"===typeof Xv||"undefined"===typeof bw||"undefined"===typeof ex||"undefined"===typeof kx)var kx=null;
function lx(a){for(;;){var b=a.reagentRender;if(We(b))var c=null;else throw Error(["Assert failed: ",["Expected something callable, not ",uj(T([b]))].join(""),"\n(clojure.core/ifn? f)"].join(""));var d=!0===a.cljsLegacyRender?b.call(a,a):function(){var c=hx(a,a.props);switch(R(c)){case 1:return b.call(a);case 2:return b.call(a,le(c,1));case 3:return b.call(a,le(c,1),le(c,2));case 4:return b.call(a,le(c,1),le(c,2),le(c,3));case 5:return b.call(a,le(c,1),le(c,2),le(c,3),le(c,4));default:return b.apply(a,
fc(c).slice(1))}}();if(Qe(d))return kx.h?kx.h(d):kx.call(null,d);if(We(d))c=ix(d)?function(a,b,c,d){return function(){function a(a){var c=null;if(0<arguments.length){c=0;for(var d=Array(arguments.length-0);c<d.length;)d[c]=arguments[c+0],++c;c=new I(d,0,null)}return b.call(this,c)}function b(a){a=Uf(ph,d,a);return kx.h?kx.h(a):kx.call(null,a)}a.H=0;a.K=function(a){a=H(a);return b(a)};a.w=b;return a}()}(a,b,c,d):d,a.reagentRender=c;else return d}}
var cx=new t(null,1,[vo,!0],null),nx=new t(null,1,[Ji,function(){var a=this.cljsRatom;this.cljsIsDirty=!1;return null==a?bx(function(a,c){return function(){a:{var a=fx;fx=c;try{var b=[!1];try{var f=lx(c);b[0]=!0;var h=f;break a}finally{v(b[0])||v(Zv)&&(v(!1)?aw:console).error(["Error rendering component",z.h(mx.G?mx.G():mx.call(null))].join(""))}}finally{fx=a}h=void 0}return h}}(a,this),this):Nw(a,!1)}],null);
function ox(a,b){var c=a instanceof F?a.La:null;switch(c){case "getDefaultProps":throw Error("getDefaultProps not supported");case "getInitialState":return function(){return function(){var a=this.cljsState;a=null!=a?a:this.cljsState=Pw.h(null);return Ag(a,b.call(this,this))}}(a,c);case "componentWillReceiveProps":return function(){return function(a){return b.call(this,this,hx(this,a))}}(a,c);case "shouldComponentUpdate":return function(){return function(a){var c=gw;if(c)return c;c=this.props.argv;
var d=a.argv,h=null==c||null==d;if(null==b){if(h)return h;try{return!P.j(c,d)}catch(k){return a=k,v(Zv)&&(v(!1)?aw:console).warn(["Warning: Exception thrown while comparing argv's in shouldComponentUpdate: ",z.h(c)," ",z.h(d)," ",z.h(a)].join("")),!1}}else return h?b.call(this,this,hx(this,this.props),hx(this,a)):b.call(this,this,c,d)}}(a,c);case "componentWillUpdate":return function(){return function(a){return b.call(this,this,hx(this,a))}}(a,c);case "componentDidUpdate":return function(){return function(a){return b.call(this,
this,hx(this,a))}}(a,c);case "componentWillMount":return function(){return function(){this.cljsMountOrder=iw+=1;return null==b?null:b.call(this,this)}}(a,c);case "componentDidMount":return function(){return function(){return b.call(this,this)}}(a,c);case "componentWillUnmount":return function(){return function(){var a=this.cljsRatom;null!=a&&Ww(a);this.cljsIsDirty=!1;return null==b?null:b.call(this,this)}}(a,c);case "componentDidCatch":return function(){return function(a,c){return b.call(this,this,
a,c)}}(a,c);default:return null}}function px(a,b){a=ox(a,b);if(v(v(a)?b:a)&&!We(b))throw Error(["Assert failed: ",["Expected something callable, not ",uj(T([b]))].join(""),"\n(clojure.core/ifn? f)"].join(""));return v(a)?a:b}var qx=new t(null,3,[Zn,null,Uq,null,vn,null],null),rx=function(a){return function(b){return function(c){var d=D.j(A(b),c);if(null!=d)return d;d=a.h?a.h(c):a.call(null,c);Bg.I(b,V,c,d);return d}}(zg(Zf))}(ew);
function sx(a){return df(function(a,c,d){return V.l(a,zf.h(rx.h?rx.h(c):rx.call(null,c)),d)},Zf,a)}
function tx(a){var b=Ii(a),c=J(Kh(b));if(!(0<R(b)))throw Error("Assert failed: Missing reagent-render\n(pos? (count renders))");if(1!==R(b))throw Error("Assert failed: Too many render functions supplied\n(\x3d\x3d 1 (count renders))");if(!We(c))throw Error(["Assert failed: ",["Expected something callable, not ",uj(T([c]))].join(""),"\n(clojure.core/ifn? render-fun)"].join(""));var d=function(){var b=Ki.h(a);return v(b)?b:Li.h(a)}();b=null==d;var e=v(d)?d:Ji.h(a),f=z.h(function(){var b=Vl.h(a);return v(b)?
b:fw(e)}());a:switch(f){case "":c=z.h(zj());break a;default:c=f}d=df(function(){return function(a,b,c){return V.l(a,b,px(b,c))}}(d,b,e,f,c),Zf,a);return V.w(d,Vl,c,T([vq,!1,$k,b,Ki,e,Ji,Ji.h(nx)]))}function ux(a){return df(function(a,c,d){a[Af(c)]=d;return a},{},a)}function vx(a){if(!Ne(a))throw Error("Assert failed: (map? body)");a=ux(tx(Hi.w(T([qx,sx(a)]))));return gx.h?gx.h(a):gx.call(null,a)}
var wx=function wx(a){var c=function(){var c=null==a?null:a.type;return null==c?null:c.displayName}(),d=null==a?null:a["return"];c=[function(){var a=null==d?null:wx.h?wx.h(d):wx.call(null,d);return null==a?null:[z.h(a)," \x3e "].join("")}(),z.h(c)].join("");return Je(c)?null:c},xx=function xx(a){var c=function(){var c=null==a?null:a._reactInternalFiber;return v(c)?c:null==a?null:a.rg}();if(v(c))return wx(c);var d=function(){var c=null==a?null:a._reactInternalInstance;if(v(c))return c;c=null==a?null:
a.sg;return v(c)?c:a}(),e=function(){var a=null==d?null:d._currentElement;return v(a)?a:null==d?null:d.pg}();c=function(){var a=null==e?null:e.type;return null==a?null:a.displayName}();var f=function(){var a=null==e?null:e._owner;return v(a)?a:null==e?null:e.qg}();c=[function(){var a=null==f?null:xx.h?xx.h(f):xx.call(null,f);return null==a?null:[z.h(a)," \x3e "].join("")}(),z.h(c)].join("");return Je(c)?null:c};
function mx(){var a=fx;var b=xx(a);v(b)?a=b:(a=null==a?null:a.constructor,a=null==a?null:fw(a));return Je(a)?"":[" (in ",z.h(a),")"].join("")}
function yx(a){if(!We(a))throw Error(["Assert failed: ",["Expected something callable, not ",uj(T([a]))].join(""),"\n(clojure.core/ifn? f)"].join(""));jx(a)&&!ix(a)&&v(Zv)&&(v(!1)?aw:console).warn(["Warning: Using native React classes directly in Hiccup forms is not supported. Use create-element or adapt-react-class instead: ",z.h(function(){var b=fw(a);return Je(b)?a:b}()),mx()].join(""));if(ix(a))return a.cljsReactClass=a;var b=Ge(a);b=V.l(b,Do,a);b=vx(b);return a.cljsReactClass=b};var zx={},Ax=ca.React,Bx=/([^\s\.#]+)(?:#([^\s\.#]+))?(?:\.([^\s#]+))?/;function Cx(a){return a instanceof F||a instanceof B}var Dx={"class":"className","for":"htmlFor",charset:"charSet"};function Ex(a,b){return a.hasOwnProperty(b)?a[b]:null}function Fx(a,b,c){if(Cx(b)){var d=Ex(Dx,Af(b));b=null==d?Dx[Af(b)]=ew(b):d}a[b]=Gx.h?Gx.h(c):Gx.call(null,c);return a}
function Gx(a){return"object"!==n(a)?a:Cx(a)?Af(a):Ne(a)?df(Fx,{},a):Ke(a)?Ij(a):We(a)?function(){function b(a){var b=null;if(0<arguments.length){b=0;for(var d=Array(arguments.length-0);b<d.length;)d[b]=arguments[b+0],++b;b=new I(d,0,null)}return c.call(this,b)}function c(b){return W(a,b)}b.H=0;b.K=function(a){a=H(a);return c(a)};b.w=c;return b}():Ij(a)}var Hx={};function Ix(a,b,c){if(Cx(b)){var d=Ex(Hx,Af(b));b=null==d?Hx[Af(b)]=ew(b):d}a[b]=Gx(c);return a}
function Jx(a){return"object"!==n(a)?a:Cx(a)?Af(a):Ne(a)?df(Ix,{},a):Ke(a)?Ij(a):We(a)?function(){function b(a){var b=null;if(0<arguments.length){b=0;for(var d=Array(arguments.length-0);b<d.length;)d[b]=arguments[b+0],++b;b=new I(d,0,null)}return c.call(this,b)}function c(b){return W(a,b)}b.H=0;b.K=function(a){a=H(a);return c(a)};b.w=c;return b}():Ij(a)}function Kx(a,b){a=null==a?{}:a;a.key=b;return a}
function Lx(a,b){var c=b.id,d=b["class"];b=null!=c&&null==Uo.h(a)?V.l(a,Uo,c):a;return v(d)?V.l(b,Wo,function(){var b=Wo.h(a);return null==b?d:[z.h(d)," ",z.h(Cx(b)?Af(b):b)].join("")}()):b}function Mx(a){var b=null!=a&&(a.v&64||p===a.P)?W(Ci,a):a,c=D.j(b,Wo);return Ke(c)?V.l(b,Wo,Dr(" ",xg(function(){return function(a){return v(a)?Cx(a)?Af(a):a:null}}(a,b,b,c),c))):b}if("undefined"===typeof Xv||"undefined"===typeof bw||"undefined"===typeof zx||"undefined"===typeof Nx)var Nx=null;
var Ox=new Oi(null,new t(null,6,["url",null,"tel",null,"text",null,"textarea",null,"password",null,"search",null],null),null);
function Px(a,b,c,d){var e=Zf,f=null!=e&&(e.v&64||p===e.P)?W(Ci,e):e,h=D.j(f,Io);if(a===document.activeElement&&Xe(Ox,a.type)&&"string"===typeof b&&"string"===typeof c){var k=a.value;if(!P.j(k,c))return qw(function(){return function(){return Qx.h?Qx.h(d):Qx.call(null,d)}}(k,e,f,h));c=R(k)-a.selectionStart;c=R(b)-c;d.cljsDOMValue=b;a.value=b;Ce(h)&&(h.h?h.h(b):h.call(null,b));a.selectionStart=c;return a.selectionEnd=c}d.cljsDOMValue=b;a.value=b;return Ce(h)?h.h?h.h(b):h.call(null,b):null}
function Qx(a){if(v(a.cljsInputLive)){a.cljsInputDirty=!1;var b=a.cljsRenderedValue,c=a.cljsDOMValue,d=Nx.h?Nx.h(a):Nx.call(null,a);return P.j(b,c)?null:Px(d,b,c,a)}return null}function Rx(a,b,c){a.cljsDOMValue=c.target.value;v(a.cljsInputDirty)||(a.cljsInputDirty=!0,qw(function(){return Qx(a)}));return b.h?b.h(c):b.call(null,c)}
function Sx(a){var b=fx;if(v(function(){var b=null!=a;return b?(b=a.hasOwnProperty("onChange"),v(b)?a.hasOwnProperty("value"):b):b}())){if(!v(Nx))throw Error("Assert failed: reagent.dom needs to be loaded for controlled input to work\nfind-dom-node");var c=a.value,d=null==c?"":c,e=a.onChange;v(b.cljsInputLive)||(b.cljsInputLive=!0,b.cljsDOMValue=d);b.cljsRenderedValue=d;delete a.value;a.defaultValue=d;a.onChange=function(a,c,d,e){return function(a){return Rx(b,e,a)}}(a,c,d,e)}}
var Tx=null,Vx=new t(null,4,[Bp,"ReagentInput",Ym,Qx,jp,function(a){return a.cljsInputLive=null},Do,function(a,b,c,d){Sx(c);return Ux.I?Ux.I(a,b,c,d):Ux.call(null,a,b,c,d)}],null);function Wx(a){if(Ne(a))try{var b=D.j(a,xl)}catch(c){b=null}else b=null;return b}function Xx(a){var b=Wx(Ge(a));return null==b?Wx(U(a,1)):b}var Yx={};
function Zx(a,b,c){var d=a.name,e=U(b,c),f=null==e||Ne(e);e=Lx(Mx(f?e:null),a);a=v(a.custom)?Jx(e):Gx(e);c+=f?1:0;a:switch(d){case "input":case "textarea":f=!0;break a;default:f=!1}if(f)return f=Y,null==Tx&&(Tx=vx(Vx)),b=Fe(new X(null,5,5,f,[Tx,b,d,a,c],null),Ge(b)),$x.h?$x.h(b):$x.call(null,b);f=Wx(Ge(b));a=null==f?a:Kx(a,f);return Ux.I?Ux.I(b,d,a,c):Ux.call(null,b,d,a,c)}
function ay(a){return z.h(fu(function(a){if(Ce(a)){var b=fw(a);switch(b){case "":return a;default:return Od.h(b)}}else return a},a))}function by(a,b){return[z.h(W(z,b)),": ",ay(a),"\n",mx()].join("")}
function cy(a){for(;;){if(!(0<R(a)))throw Error(["Assert failed: ",by(a,T(["Hiccup form should not be empty"])),"\n(pos? (count v))"].join(""));var b=U(a,0);if(!Cx(b)&&"string"!==typeof b&&!We(b))throw Error(["Assert failed: ",by(a,T(["Invalid Hiccup form"])),"\n(valid-tag? tag)"].join(""));if(wf(uo,b)){b=U(a,1);var c=null==b||Ne(b);b=Gx(c?b:null);c=1+(c?1:0);var d=Xx(a);null!=d&&Kx(b,d);return Ux.I?Ux.I(a,Ax.Fragment,b,c):Ux.call(null,a,Ax.Fragment,b,c)}if(Cx(b)||"string"===typeof b)switch(b=Af(b),
c=b.indexOf("\x3e"),c){case -1:c=b;b=Ex(Yx,c);if(null==b){var e=b=c,f=M(dj(Bx,Af(e)));c=U(f,0);d=U(f,1);f=U(f,2);f=null==f?null:Cr(f,/\./," ");if(!v(c))throw Error(["Assert failed: ",["Invalid tag: '",z.h(e),"'",mx()].join(""),"\ntag"].join(""));e=c.indexOf("-");e=!P.j(-1,e);b=Yx[b]={name:c,id:d,"class":f,custom:e}}return Zx(b,a,1);case 0:c=U(a,1);if(!P.j("\x3e",b))throw Error(["Assert failed: ",by(a,T(["Invalid Hiccup tag"])),'\n(\x3d "\x3e" n)'].join(""));return Zx({name:c},a,2);default:a=Fe(new X(null,
2,5,Y,[b.substring(0,c),V.l(Fe(a,null),0,b.substring(c+1))],null),Ge(a))}else return c=b.cljsReactClass,b=null==c?yx(b):c,c={argv:a},a=Xx(a),null!=a&&(c.key=a),Ax.createElement.j?Ax.createElement.j(b,c):Ax.createElement.call(null,b,c)}}function $x(a){return"object"!==n(a)?a:Qe(a)?cy(a):Ue(a)?dy.h?dy.h(a):dy.call(null,a):Cx(a)?Af(a):(null!=a?a.v&2147483648||p===a.ea||(a.v?0:w(ed,a)):w(ed,a))?uj(T([a])):a}kx=$x;
function dy(a){var b={},c=dx(function(b){return function(){for(var c=fc(a),d=c.length,e=0;;)if(e<d){var l=c[e];Qe(l)&&null==Xx(l)&&(b["no-key"]=!0);c[e]=$x(l);e+=1}else break;return c}}(b)),d=U(c,0);c=U(c,1);v(c)&&v(Zv)&&(v(!1)?aw:console).warn(["Warning: ",by(a,T(["Reactive deref not supported in lazy seq, ","it should be wrapped in doall"]))].join(""));v(b["no-key"])&&v(Zv)&&(v(!1)?aw:console).warn(["Warning: ",by(a,T(["Every element in a seq should have a unique :key"]))].join(""));return d}
function Ux(a,b,c,d){var e=R(a)-d;switch(e){case 0:return Ax.createElement.j?Ax.createElement.j(b,c):Ax.createElement.call(null,b,c);case 1:return a=$x(U(a,d)),Ax.createElement.l?Ax.createElement.l(b,c,a):Ax.createElement.call(null,b,c,a);default:return Ax.createElement.apply(null,df(function(){return function(a,b,c){b>=d&&a.push($x(c));return a}}(e),[b,c],a))}};var ey={},fy=ca.ReactDOM;if("undefined"===typeof Xv||"undefined"===typeof ey||"undefined"===typeof gy)var gy=null;if("undefined"===typeof Xv||"undefined"===typeof ey||"undefined"===typeof hy)var hy=zg(Zf);function iy(a,b){var c=gw;gw=!0;try{var d=a.G?a.G():a.call(null),e=function(){return function(){var c=gw;gw=!1;try{return Bg.I(hy,V,b,new X(null,2,5,Y,[a,b],null)),ow(rw,"afterRender"),null}finally{gw=c}}}(d,b,c,!0);return fy.render.l?fy.render.l(d,b,e):fy.render.call(null,d,b,e)}finally{gw=c}}
function jy(a,b){return iy(a,b)}
function ky(){var a=new X(null,4,5,Y,[io,new X(null,2,5,Y,[jq,"Dashboard"],null),new X(null,2,5,Y,[Qp,"Distribution of nests:"],null),new X(null,9,5,Y,[io,new X(null,1,5,Y,[ly],null),new X(null,1,5,Y,[my],null),new X(null,2,5,Y,[Qp,"Nest height by species:"],null),new X(null,1,5,Y,[ny],null),new X(null,2,5,Y,[Qp,"Height / Latitude / Species:"],null),new X(null,1,5,Y,[oy],null),new X(null,2,5,Y,[Qp,"Address / Number of nests"],null),new X(null,1,5,Y,[py],null)],null)],null),b=document.getElementById("app");
Mw();return iy(function(){return $x(Ce(a)?a.G?a.G():a.call(null):a)},b)}function qy(a){return fy.findDOMNode.h?fy.findDOMNode.h(a):fy.findDOMNode.call(null,a)}Nx=qy;ea("reagent.core.force_update_all",function(){Mw();Mw();for(var a=H(Kh(A(hy))),b=null,c=0,d=0;;)if(d<c){var e=b.O(null,d);W(jy,e);d+=1}else if(a=H(a))b=a,Re(b)?(a=qd(b),d=sd(b),b=a,c=R(a),a=d):(a=J(b),W(jy,a),a=M(b),b=null,c=0),d=0;else break;return ow(rw,"afterRender")});function ry(a){return qw(a)};var sy={},ty,uy={};var vy={};if("undefined"===typeof Gb||"undefined"===typeof Ib||"undefined"===typeof sy||"undefined"===typeof uy||"undefined"===typeof vy||"undefined"===typeof wy)var wy={};(function(a){if("undefined"===typeof Gb||"undefined"===typeof Ib||"undefined"===typeof sy||"undefined"===typeof ty)ty=function(a,c,d){this.Ga=a;this.Ef=c;this.$f=d;this.v=393216;this.M=0},ty.prototype.V=function(a,c){return new ty(this.Ga,this.Ef,c)},ty.prototype.U=function(){return this.$f},ty.Lc=function(){return new X(null,3,5,Y,[or,rl,kr],null)},ty.hc=!0,ty.Jb="cljs.core.async/t_cljs$core$async42621",ty.pc=function(a,c){return dd(c,"cljs.core.async/t_cljs$core$async42621")};return new ty(a,!0,
Zf)})(function(){return null});var xy={},yy={},zy={};var Ay={};function By(a,b,c,d){var e=R(b);a=v(a)?0:10<e?10:e;b=Dg.j(sg.j(Cy,!0),Eg.j(a,b));b=W(z,Fg(1,Jg.j(new Hg(null,-1," ",null,null),b)));e=a<e?"...":null;return[z.h(c),z.h(b),e,z.h(d)].join("")}function Dy(a,b){return null==b?$o:"string"===typeof b?xn:b instanceof F?Mn:"number"===typeof b?Mn:b instanceof B?Mn:Qe(b)?An:qf(b)?Go:Ne(b)?Pq:Le(b)?gq:P.j(b,!0)?Mn:P.j(b,!1)?Mn:$b(b)}
if("undefined"===typeof Gb||"undefined"===typeof xy||"undefined"===typeof yy||"undefined"===typeof zy||"undefined"===typeof Ay||"undefined"===typeof Cy){var Cy,Ey=zg(Zf),Fy=zg(Zf),Gy=zg(Zf),Hy=zg(Zf),Iy=D.l(Zf,wq,Pj.G?Pj.G():Pj.call(null));Cy=new ak(Od.j("cljs.tools.reader.impl.inspect","inspect*"),Dy,Iy,Ey,Fy,Gy,Hy)}dk(Cy,xn,function(a,b){a=v(a)?5:20;var c=b.length>a?'..."':'"',d=b.length;return['"',z.h(b.substring(0,a<d?a:d)),c].join("")});dk(Cy,Mn,function(a,b){return z.h(b)});dk(Cy,I,function(){return"\x3cindexed seq\x3e"});
dk(Cy,Hh,function(){return"\x3cmap seq\x3e"});dk(Cy,fi,function(){return"\x3cmap seq\x3e"});dk(Cy,uf,function(){return"\x3ccons\x3e"});dk(Cy,Bf,function(){return"\x3clazy seq\x3e"});dk(Cy,$o,function(){return"nil"});dk(Cy,Go,function(a,b){return By(a,b,"(",")")});dk(Cy,Pq,function(a,b){var c=R(b),d=v(a)?0:c;b=W(Mf,Eg.j(d,b));return By(a,b,"{",c>d?"...}":"}")});dk(Cy,gq,function(a,b){return By(a,b,"#{","}")});dk(Cy,An,function(a,b){return By(a,b,"[","]")});dk(Cy,bk,function(a,b){return uj(T([$b(b)]))});new kb;if("undefined"===typeof Gb||"undefined"===typeof xy||"undefined"===typeof yy||"undefined"===typeof Jy)var Jy={};if("undefined"===typeof Gb||"undefined"===typeof xy||"undefined"===typeof yy||"undefined"===typeof Ky)var Ky={};if("undefined"===typeof Gb||"undefined"===typeof xy||"undefined"===typeof yy||"undefined"===typeof Ly)var Ly={};var My={};function Ny(a,b){gc.l(function(b,d){return v(a.h?a.h(d):a.call(null,d))?!0:ae(null)},!0,b)}function Oy(a){a=A(a);throw ik(A(gm.h(a)),Be.j(a,gm));}var Py={};
function Qy(a,b,c,d){if(v(Oy)){var e=new Aj(function(e,h){return function(){var f=new Date,l=v(a)?a:"?",m=z.h(b),q=null==c?"\x3ctruss/nil\x3e":uj(T([c])),r=Py===d?null:d;l=new Aj(function(a,b,c,d,e,f){return function(){var a=v(f)?z.h(f):null;var h=["Invariant violation in `",z.h("taoensso.encore"),":",z.h(b),"`. Test form `",z.h(c),"` failed against input val `",z.h(e),"`."].join("");return Yb(f)?h:d?[h," An error was thrown while evaluating input val: [",a,"]."].join(""):[h," An error was thrown while evaluating test form: [",
a,"]."].join("")}}(f,l,m,!1,q,r,e,h));q=function(){if(v(null))try{return null.G?null.G():null.call(null)}catch(u){if(u instanceof Error)return new t(null,1,[No,u],null);throw u;}else return null}();return ki([Mk,gm,lm,pm,xj,pn,Co,Jo,Mo,Ep,Ip,yq],[null,l,!0,f,c,"taoensso.encore",$b(c),r,!0,q,a,m])}}(Oy,Oy));return Oy.h?Oy.h(e):Oy.call(null,e)}return null};function Ry(a,b){var c=Array.prototype.slice.call(arguments),d=c.shift();if("undefined"==typeof d)throw Error("[goog.string.format] Template required");return d.replace(/%([0\- \+]*)(\d+)?(\.(\d+))?([%sfdiu])/g,function(a,b,d,k,l,m,q,r){if("%"==m)return"%";var e=c.shift();if("undefined"==typeof e)throw Error("[goog.string.format] Not enough arguments");arguments[0]=e;return Ry.Yb[m].apply(null,arguments)})}Ry.Yb={};
Ry.Yb.s=function(a,b,c){return isNaN(c)||""==c||a.length>=Number(c)?a:a=-1<b.indexOf("-",0)?a+ua(" ",Number(c)-a.length):ua(" ",Number(c)-a.length)+a};
Ry.Yb.f=function(a,b,c,d,e){d=a.toString();isNaN(e)||""==e||(d=parseFloat(a).toFixed(e));var f=0>Number(a)?"-":0<=b.indexOf("+")?"+":0<=b.indexOf(" ")?" ":"";0<=Number(a)&&(d=f+d);if(isNaN(c)||d.length>=Number(c))return d;d=isNaN(e)?Math.abs(Number(a)).toString():Math.abs(Number(a)).toFixed(e);a=Number(c)-d.length-f.length;0<=b.indexOf("-",0)?d=f+d+ua(" ",a):(b=0<=b.indexOf("0",0)?"0":" ",d=f+ua(b,a)+d);return d};Ry.Yb.d=function(a,b,c,d,e,f,h,k){return Ry.Yb.f(parseInt(a,10),b,c,d,0,f,h,k)};
Ry.Yb.i=Ry.Yb.d;Ry.Yb.u=Ry.Yb.d;var Sy=function(a,b){return function(c,d){return D.j(v(d)?b:a,c)}}(new X(null,13,5,Y,[null,31,28,31,30,31,30,31,31,30,31,30,31],null),new X(null,13,5,Y,[null,31,29,31,30,31,30,31,31,30,31,30,31],null)),Ty=/(\d\d\d\d)(?:-(\d\d)(?:-(\d\d)(?:[T](\d\d)(?::(\d\d)(?::(\d\d)(?:[.](\d+))?)?)?)?)?)?(?:[Z]|([-+])(\d\d):(\d\d))?/;function Uy(a){a=parseInt(a,10);return Yb(isNaN(a))?a:null}
function Vy(a,b,c,d){if(!(a<=b&&b<=c))throw Error([z.h(d)," Failed:  ",z.h(a),"\x3c\x3d",z.h(b),"\x3c\x3d",z.h(c)].join(""));return b}
function Wy(a){var b=dj(Ty,a);U(b,0);var c=U(b,1),d=U(b,2),e=U(b,3),f=U(b,4),h=U(b,5),k=U(b,6),l=U(b,7),m=U(b,8),q=U(b,9),r=U(b,10);if(Yb(b))throw Error(["Unrecognized date/time syntax: ",z.h(a)].join(""));var u=Uy(c),x=function(){var a=Uy(d);return v(a)?a:1}();a=function(){var a=Uy(e);return v(a)?a:1}();b=function(){var a=Uy(f);return v(a)?a:0}();c=function(){var a=Uy(h);return v(a)?a:0}();var C=function(){var a=Uy(k);return v(a)?a:0}(),E=function(){a:if(P.j(3,R(l)))var a=l;else if(3<R(l))a=l.substring(0,
3);else for(a=new kb(l);;)if(3>a.ec.length)a=a.append("0");else{a=a.toString();break a}a=Uy(a);return v(a)?a:0}();m=(P.j(m,"-")?-1:1)*(60*function(){var a=Uy(q);return v(a)?a:0}()+function(){var a=Uy(r);return v(a)?a:0}());return new X(null,8,5,Y,[u,Vy(1,x,12,"timestamp month field must be in range 1..12"),Vy(1,a,function(){var a=0===(u%4+4)%4&&(0!==(u%100+100)%100||0===(u%400+400)%400);return Sy.j?Sy.j(x,a):Sy.call(null,x,a)}(),"timestamp day field must be in range 1..last day in month"),Vy(0,b,
23,"timestamp hour field must be in range 0..23"),Vy(0,c,59,"timestamp minute field must be in range 0..59"),Vy(0,C,P.j(c,59)?60:59,"timestamp second field must be in range 0..60"),Vy(0,E,999,"timestamp millisecond field must be in range 0..999"),m],null)}
Hi.w(T([new t(null,4,[bn,function(a){if("string"===typeof a){var b=Wy(a);if(v(b)){a=U(b,0);var c=U(b,1),d=U(b,2),e=U(b,3),f=U(b,4),h=U(b,5),k=U(b,6);b=U(b,7);b=new Date(Date.UTC(a,c-1,d,e,f,h,k)-6E4*b)}else throw Error(["Unrecognized date/time syntax: ",z.h(a)].join(""));return b}throw Error("Instance literal expects a string for its timestamp.");},vk,function(a){if("string"===typeof a)return fk(a);throw Error("UUID literal expects a string as its representation.");},yn,function(a){if(Qe(a))return ug.j(zh,
a);throw Error("Queue literal expects a vector for its elements.");},Em,function(a){if(Qe(a)){var b=[];a=H(a);for(var c=null,d=0,e=0;;)if(e<d){var f=c.O(null,e);b.push(f);e+=1}else if(a=H(a))c=a,Re(c)?(a=qd(c),e=sd(c),c=a,d=R(a),a=e):(a=J(c),b.push(a),a=M(c),c=null,d=0),e=0;else break;return b}if(Ne(a)){b={};a=H(a);c=null;for(e=d=0;;)if(e<d){var h=c.O(null,e);f=U(h,0);h=U(h,1);var k=b;f=Af(f);k[f]=h;e+=1}else if(a=H(a))Re(a)?(d=qd(a),a=sd(a),c=d,d=R(d)):(d=J(a),c=U(d,0),d=U(d,1),e=b,c=Af(c),e[c]=
d,a=M(a),c=null,d=0),e=0;else break;return b}throw Error("JS literal expects a vector or map containing only string or unqualified keyword keys");}],null),Zf]));var Xy={},Yy=new X(null,3,5,Y,[2,96,0],null);function Zy(a){return"number"===typeof a&&!isNaN(a)&&Infinity!==a&&parseFloat(a)===parseInt(a,10)}function $y(a){return"string"===typeof a?P.j(a,"")?null:a:null}function az(a){return"number"===typeof a?lf(a):"string"===typeof a?(a=parseInt(a,10),v(isNaN(a))?null:a):null}var bz=function(a){return function(){return function(a,c){return function(){return a.gc(null,c(a.eb(null)))}}(new Cg(-1),a)}}(function(a){return a+1});P.j("default","nodejs");
function cz(a){a=Fr(z.h(a),/-/,2);var b=U(a,0);a=U(a,1);var c=/\d+/;if("string"===typeof b)b=fj(c,b);else throw new TypeError("re-seq must match against a string.");b=v(b)?Pg(az,b):null;return new t(null,2,[kq,b,wm,v(a)?a.toLowerCase():null],null)}
function dz(a){var b=U(Yy,0),c=U(Yy,1),d=U(Yy,2);a=Qe(a)?a:kq.h(cz(a));var e=U(a,0),f=U(a,1),h=U(a,2);f=Pg(function(){return function(a){return v(a)?a:0}}(Yy,b,c,d,a,e,f,h),new X(null,3,5,Y,[e,f,h],null));a=U(f,0);e=U(f,1);f=U(f,2);if(!(b>a||P.j(b,a)&&(c>e||P.j(c,e)&&d>=f)))throw ik("Insufficient `com.taoensso/encore` version, you may have a dependency conflict: see http://goo.gl/qBbLvC for solutions.",new t(null,2,[lq,Dr(".",new X(null,3,5,Y,[a,e,f],null)),qq,Dr(".",new X(null,3,5,Y,[b,c,d],null))],
null));}var ez=function ez(a){switch(arguments.length){case 2:return ez.j(arguments[0],arguments[1]);case 3:return ez.l(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.h(arguments.length)].join(""));}};ez.j=function(a,b){b=0>b?0:b;var c=R(a);return b>=c?we:sh.l(a,b,c)};ez.l=function(a,b,c){b=0>b?0:b;var d=lf(R(a));c=c>d?d:c;return b>=c?we:sh.l(a,b,c)};ez.H=3;
var fz=function fz(a){switch(arguments.length){case 2:return fz.j(arguments[0],arguments[1]);case 3:return fz.l(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.h(arguments.length)].join(""));}};fz.j=function(a,b){var c=R(a);return 0>b?(b+=c,sh.l(a,0>b?0:b,c)):b>=c?we:sh.l(a,b,c)};fz.l=function(a,b,c){if(0>=c)return we;var d=lf(R(a));if(0>b)return b+=d,b=0>b?0:b,c=b+c,sh.l(a,b,c>d?d:c);c=b+c;d=c>d?d:c;return b>=d?we:sh.l(a,b,d)};fz.H=3;sg.j(gc,Mf);
function gz(a){return function(b,c){return function(){function d(a){var b=null;if(0<arguments.length){b=0;for(var c=Array(arguments.length-0);b<c.length;)c[b]=arguments[b+0],++b;b=new I(c,0,null)}return e.call(this,b)}function e(d){var e=J(d);if(v(wf.j?wf.j(e,Lm):wf.call(null,e,Lm)))return d=M(d),e=J(d),v(wf.j?wf.j(e,Yk):wf.call(null,e,Yk))?xd(b,Zf):b.gc(null,Be.j(b.eb(null),d)),null;if(v(wf.j?wf.j(e,Lo):wf.call(null,e,Lo)))return d=M(d),e=W(a,d),b.gc(null,V.l(b.eb(null),d,e)),e;e=D.l(A(b),d,c);e===
c&&(e=W(a,d),b.gc(null,V.l(b.eb(null),d,e)));return e}d.H=0;d.K=function(a){a=H(a);return e(a)};d.w=e;return d}()}(new Cg(Zf),{})}function hz(a,b){this.n=a;this.Ie=b}function iz(a,b){this.n=a;this.Pe=b}function jz(a,b,c){this.He=a;this.Cf=b;this.Te=c}
var kz=function(a){return function(b){if(Ne(b))return df(function(a){return function(b,c,f){var d=U(f,0);f=U(f,1);return V.l(b,c,a(d,f))}}(a),Zf,b);if(Qe(b))return gc.l(function(a,b){return function(c,d){var e=U(d,0),f=U(d,1),l=U(d,2);return V.l(c,function(){return v(l)?l:a.gc(null,function(){var c=a.eb(null);return function(){return function(a){return a+1}}(c,l,d,e,f,l,a,b)(c)}())}(),b(e,f))}}(new Cg(-1),a),Zf,b);throw new hk("No matching `encore/cond!` clause",Zf);}}(function(a,b){(function(){try{var b=
Zy(a)&&0<a?null:Py}catch(d){if(d instanceof Error)b=d;else throw d;}return null==b?!0:Qy(1891,"(pos-int? n)",a,b)})();(function(){try{var a=Zy(b)&&0<b?null:Py}catch(d){if(d instanceof Error)a=d;else throw d;}return null==a?!0:Qy(1891,"(pos-int? ms)",b,a)})();return new hz(a,b)});
function lz(a){if(Je(a))return new X(null,2,5,Y,[null,qg()],null);var b=zg(null),c=zg(null);a=kz(a);return new X(null,2,5,Y,[c,function(a,b,c,h){return function(){function a(a,c){if(v(wf.j?wf.j(a,kl):wf.call(null,a,kl)))return v(wf.j?wf.j(c,Yl):wf.call(null,c,Yl))?Ag(b,null):Bg.l(b,Be,c),null;if(v(wf.j?wf.j(a,yl):wf.call(null,a,yl)))return h(c,!0);throw ik("Unrecognized rate limiter command",new t(null,2,[Pk,a,um,c],null));}function c(a){return h(a,!1)}function d(){return h(null,!1)}var e=null;e=
function(b,e){switch(arguments.length){case 0:return d.call(this);case 1:return c.call(this,b);case 2:return a.call(this,b,e)}throw Error("Invalid arity: "+arguments.length);};e.G=d;e.h=c;e.j=a;return e}()}(b,c,a,function(a,b,c){return function(d,e){var f=(new Date).getTime();Yb(e)&&6.25E-5>=Math.random()&&(Ag(a,null),Bg.j(b,function(a,b,c,d,e){return function(f){return kd(df(function(a,b,c,d,e){return function(f,h,k){k=df(function(a,b,c,d,e){return function(a,c,d){var f=D.j(e,c);return v(f)?b>=d.Pe+
f.Ie?Be.j(a,c):a:Be.j(a,c)}}(a,b,c,d,e),k,k);return Je(k)?md(f,h):ld(f,h,k)}}(a,b,c,d,e),id(v(f)?f:Zf),f))}}(null,f,a,b,c)));for(;;){var h=A(b),k=D.j(h,d),r=null==k?null:df(function(a,b,c,d,e,f){return function(a,b,d){var e=D.j(f,b);if(v(e)){if(d.n<e.n)return a;d=d.Pe+e.Ie-c;return 0>=d?a:null==a?new jz(Ae([b,d]),b,d):d>a.Te?new jz(V.l(a.He,b,d),b,d):new jz(V.l(a.He,b,d),a.Cf,a.Te)}return a}}(h,k,f,a,b,c),null,k);if(v(v(e)?e:r))return e=r,v(e)?(d=e,new X(null,3,5,Y,[d.Cf,d.Te,d.He],null)):null;e=
A(a);if(v(e))return null;f=df(function(a,b,c,d,e){return function(a,b,d){return V.l(a,b,function(){var a=D.j(c,b);if(v(a)){var f=a.Pe;return e>=f+d.Ie?new iz(1,e):new iz(a.n+1,f)}return new iz(1,e)}())}}(e,h,k,r,f,a,b,c),k,c);Ag(b,V.l(h,d,f));return null}}}(b,c,a))],null)}var mz=function mz(a){switch(arguments.length){case 2:return mz.j(arguments[0],arguments[1]);case 3:return mz.l(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.h(arguments.length)].join(""));}};
mz.j=function(a,b){return a.substring(b)};mz.l=function(a,b,c){return b>=c?"":a.substring(b,c)};mz.H=3;var nz=function nz(a){switch(arguments.length){case 2:return nz.j(arguments[0],arguments[1]);case 3:return nz.l(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.h(arguments.length)].join(""));}};nz.j=function(a,b){return $y(a.substr(b))};nz.l=function(a,b,c){return $y(a.substr(b,c))};nz.H=3;
var oz=function oz(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return oz.w(0<c.length?new I(c.slice(0),0,null):null)};
oz.w=function(a){var b=null!=a&&(a.v&64||p===a.P)?W(Ci,a):a,c=D.j(b,Cq),d=D.j(b,Oq),e=D.j(b,jm),f=D.j(b,Rm),h=D.j(b,Jm),k=D.j(b,hn),l=D.j(b,Zm),m=D.j(b,Dp),q=D.j(b,Kp);Ny(function(){return function(a){var b=new Oi(null,new t(null,9,[jm,null,Jm,null,Rm,null,Zm,null,hn,null,Dp,null,Kp,null,Cq,null,Oq,null],null),null);b=b.h?b.h(a):b.call(null,a);return v(b)?!0:Qy(2394,"(#{:msecs :secs :months :days :mins :hours :years :ms :weeks} __in)",a,null)}}(a,b,b,c,d,e,f,h,k,l,m,q),Jh(b));return Math.round((v(q)?
31536E6*q:0)+(v(f)?2551392E3*f:0)+(v(d)?6048E5*d:0)+(v(l)?864E5*l:0)+(v(m)?36E5*m:0)+(v(k)?6E4*k:0)+(v(h)?1E3*h:0)+(v(e)?e:0)+(v(c)?c:0))};oz.H=0;oz.K=function(a){return this.w(H(a))};rg.j(function(a){return mf(lf(a),1E3)},oz);
(function(a){return function(b){if(!Ce(b))throw ik("Unstub value must be a fn",new t(null,2,[Pk,b,en,$b(b)],null));return xd(a,b)}})(function(a){return new Cg(function(){function b(a){var b=null;if(0<arguments.length){b=0;for(var d=Array(arguments.length-0);b<d.length;)d[b]=arguments[b+0],++b;b=new I(d,0,null)}return c.call(this,b)}function c(b){throw ik(["Attempting to call uninitialized stub fn (",z.h(a),")"].join(""),new t(null,2,[Sn,a,rk,b],null));}b.H=0;b.K=function(a){a=H(a);return c(a)};b.w=
c;return b}())}("stub-test"))(ef);function pz(){}if("undefined"===typeof My||"undefined"===typeof Xy||"undefined"===typeof qz)var qz=new Aj(function(){return new pz});rg.j(Wf,ez);rg.j(Wf,fz);rg.j($y,mz);rg.j($y,nz);if("undefined"===typeof My||"undefined"===typeof Xy||"undefined"===typeof rz)var rz=nn;var sz={};var tz={};function uz(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;return vz(0<b.length?new I(b.slice(0),0,null):null)}
function vz(a){var b=U(a,0);return new t(null,6,[Tn,!0,Xq,!1,Mp,null,Fl,null,Eo,Rk,el,"undefined"!==typeof console?function(){return function(a){return function(b){var c=a(ho.h(b));if(v(c)){if(v(function(){var a=oq.h(b);return v(a)?a:Rg(b,new X(null,2,5,Y,[tq,oq],null))}())){var d=function(){var a=V.w(b,gm,"",T([Jo,null])),c=Eo.h(b);return c.h?c.h(a):c.call(null,a)}(),h=function(){var a=Ol.h(b),c=Jo.h(b);return v(c)?qe(d,qe(c,a)):qe(d,a)}();return c.apply(console,fc(h))}return c.call(console,Ej(em.h(b)))}return null}}(function(){return function(a){var b=
function(){var b=a instanceof F?a.La:null;switch(b){case "trace":return console.trace;case "debug":return console.debug;case "info":return console.info;case "warn":return console.warn;case "error":return console.error;case "fatal":return console.error;case "report":return console.info;default:throw Error(["No matching clause: ",z.h(b)].join(""));}}();return v(b)?b:console.log}}(a,b),a,b)}():function(){return function(){return null}}(a,b)],null)};Qe(Yy)?dz(new X(null,3,5,Y,[2,87,0],null)):dz(2.87);var wz=function wz(a){switch(arguments.length){case 1:return wz.h(arguments[0]);case 2:return wz.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",z.h(arguments.length)].join(""));}};wz.h=function(a){return wz.j(null,a)};
wz.j=function(a,b){var c=null!=a&&(a.v&64||p===a.P)?W(Ci,a):a,d=D.j(c,up);D.j(c,tp);var e=null!=b&&(b.v&64||p===b.P)?W(Ci,b):b;b=D.j(e,ho);c=D.j(e,Jo);var f=D.j(e,gm),h=D.j(e,Cn),k=D.j(e,Xm);D.j(e,tn);D.j(e,Ap);e=D.j(e,Ip);return[z.h(Af(b).toUpperCase())," [",z.h(v(h)?h:v(k)?k:"?"),":",z.h(v(e)?e:"?"),"] - ",z.h(Ej(f)),v(d)?null:v(c)?["\n",z.h(xz?xz(c,a):yz.call(null,c,a))].join(""):null].join("")};wz.H=2;var zz=we,Az=we,Bz=we,Cz,Dz=Zf;Cz=uz.h?uz.h(Dz):uz.call(null,Dz);
var Ez=new t(null,6,[ho,nn,Qk,zz,Dl,Az,bo,Bz,Eo,wz,cr,new t(null,1,[Vp,Cz],null)],null);if("undefined"===typeof My||"undefined"===typeof tz||"undefined"===typeof Fz)var Fz=Ez;function Gz(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;return Fz=Uf(arguments[0],Fz,1<b.length?new I(b.slice(1),0,null):null)}Si(new X(null,7,5,Y,[om,nn,qp,im,Pp,co,Tk],null));Ui(new X(null,7,5,Y,[om,nn,qp,im,Pp,co,Tk],null),M(aj(Number.MAX_VALUE)));
if("undefined"===typeof My||"undefined"===typeof tz||"undefined"===typeof Hz)var Hz=gz(function(a,b){a=lz(b);U(a,0);return U(a,1)});function yz(a){switch(arguments.length){case 1:return xz(arguments[0],null);case 2:return xz(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",z.h(arguments.length)].join(""));}}function xz(a){return z.h(a)};Qe(Yy)?dz(new X(null,3,5,Y,[2,79,1],null)):dz(2.79);P.j("default","nodejs");if("undefined"===typeof My||"undefined"===typeof sz||"undefined"===typeof Iz)var Iz=zg(!1);bz();oz.w(T([Jm,60]));(function(a){return Gz(function(b){return V.l(b,ho,a)})})(qp);Vb();function Jz(a,b){if(v(a)){a=Ij(a);var c=new t(null,2,[Nn,"canvas",Km,"vega"],null);return vegaEmbed(b,a,Ij(c)).then(function(a){return function(b){return vegaTooltip.vega(b.view,a)}}(a,c)).catch(function(){return function(a){return console.log(a)}}(a,c))}return null}
function Kz(a){return vx(new t(null,4,[Bp,"vega",zm,function(b){return Jz(a,qy(b))},wn,function(a,c){U(c,0);c=U(c,1);return Jz(c,qy(a))},Do,function(){return new X(null,1,5,Y,[Om],null)}],null))};var Lz=Pw.h(null),Mz=new t(null,3,[km,"nests",nr,A(Lz),Fp,Sl],null);ki([ml,nm,ln,In,Xn,wo,rp,xp,yp,Jp,iq,pq,Iq,Vq,ir],[im,Vp,!0,Gp,Pp,Pp,Im,Pp,im,!0,Pp,Pp,im,Pp,Pp]);function Nz(a){return["Oops, ",z.h(a)].join("")}if("undefined"===typeof Oz)var Oz=function(){var a=zg(Zf),b=zg(Zf),c=zg(Zf),d=zg(Zf),e=D.l(Zf,wq,Pj.G?Pj.G():Pj.call(null));return new ak(Od.j("oops.messages","runtime-message"),function(){return function(){function a(a,b){if(1<arguments.length)for(var c=0,d=Array(arguments.length-1);c<d.length;)d[c]=arguments[c+1],++c;return a}a.H=1;a.K=function(a){var b=J(a);Qd(a);return b};a.w=function(a){return a};return a}()}(a,b,c,d,e),e,a,b,c,d)}();
dk(Oz,pq,function(a,b){b=null!=b&&(b.v&64||p===b.P)?W(Ci,b):b;a=D.j(b,ll);b=D.j(b,wk);return Nz.h?Nz.h(["Unexpected object value (",z.h(a),")",Je(b)?null:[" on key path '",z.h(b),"'"].join("")].join("")):Nz.call(null,["Unexpected object value (",z.h(a),")",Je(b)?null:[" on key path '",z.h(b),"'"].join("")].join(""))});
dk(Oz,wo,function(a,b){var c=null!=b&&(b.v&64||p===b.P)?W(Ci,b):b;a=D.j(c,Xk);b=D.j(c,wk);c=D.j(c,el);return Nz.h?Nz.h(["Expected a function",v(a)?" or nil":null,Je(b)?null:[" on key path '",z.h(b),"'"].join(""),", got \x3c",z.h(n(c)),"\x3e instead"].join("")):Nz.call(null,["Expected a function",v(a)?" or nil":null,Je(b)?null:[" on key path '",z.h(b),"'"].join(""),", got \x3c",z.h(n(c)),"\x3e instead"].join(""))});
dk(Oz,Vq,function(a,b){b=null!=b&&(b.v&64||p===b.P)?W(Ci,b):b;a=D.j(b,xl);b=D.j(b,wk);return Nz.h?Nz.h(["Missing expected object key '",z.h(a),"'",Je(b)||P.j(b,a)?null:[" on key path '",z.h(b),"'"].join("")].join("")):Nz.call(null,["Missing expected object key '",z.h(a),"'",Je(b)||P.j(b,a)?null:[" on key path '",z.h(b),"'"].join("")].join(""))});
dk(Oz,ir,function(a,b){var c=null!=b&&(b.v&64||p===b.P)?W(Ci,b):b;a=D.j(c,xl);b=D.j(c,wk);c=D.j(c,fm);return Nz.h?Nz.h(["Object key '",z.h(a),"' is not writable",Je(b)||P.j(b,a)?null:[" on key path '",z.h(b),"'"].join(""),v(c)?" because the object is frozen":null].join("")):Nz.call(null,["Object key '",z.h(a),"' is not writable",Je(b)||P.j(b,a)?null:[" on key path '",z.h(b),"'"].join(""),v(c)?" because the object is frozen":null].join(""))});
dk(Oz,iq,function(a,b){b=null!=b&&(b.v&64||p===b.P)?W(Ci,b):b;a=D.j(b,xl);b=D.j(b,wk);return Nz.h?Nz.h(["Cannot create object key '",z.h(a),"'",Je(b)||P.j(b,a)?null:[" on key path '",z.h(b),"'"].join("")," because the object is sealed"].join("")):Nz.call(null,["Cannot create object key '",z.h(a),"'",Je(b)||P.j(b,a)?null:[" on key path '",z.h(b),"'"].join("")," because the object is sealed"].join(""))});
dk(Oz,Xn,function(a,b){b=null!=b&&(b.v&64||p===b.P)?W(Ci,b):b;a=D.j(b,xl);b=D.j(b,wk);return Nz.h?Nz.h(["Cannot create object key '",z.h(a),"'",Je(b)||P.j(b,a)?null:[" on key path '",z.h(b),"'"].join("")," because the object is frozen"].join("")):Nz.call(null,["Cannot create object key '",z.h(a),"'",Je(b)||P.j(b,a)?null:[" on key path '",z.h(b),"'"].join("")," because the object is frozen"].join(""))});dk(Oz,xp,function(){return Nz.h?Nz.h("Invalid selector"):Nz.call(null,"Invalid selector")});
dk(Oz,ml,function(){return Nz.h?Nz.h("Unexpected empty selector"):Nz.call(null,"Unexpected empty selector")});dk(Oz,yp,function(){return Nz.h?Nz.h('Unexpected punching selector ("!" makes sense only with oset!)'):Nz.call(null,'Unexpected punching selector ("!" makes sense only with oset!)')});dk(Oz,Iq,function(){return Nz.h?Nz.h('Unexpected soft selector ("?" does not make sense with oset!)'):Nz.call(null,'Unexpected soft selector ("?" does not make sense with oset!)')});var Pz={};var Qz={},Rz,Sz,Tz,Uz,Vz,Wz=function Wz(a,b){if(null!=a&&null!=a.Ic)return a.Ic(a,b);var d=Wz[n(null==a?null:a)];if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);d=Wz._;if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);throw y("Spec.conform*",a);},Xz=function Xz(a,b){if(null!=a&&null!=a.Jc)return a.Jc(a,b);var d=Xz[n(null==a?null:a)];if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);d=Xz._;if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);throw y("Spec.with-gen*",a);};
if("undefined"===typeof Gb||"undefined"===typeof Pz||"undefined"===typeof Qz||"undefined"===typeof Yz)var Yz=zg(Zf);function Zz(a){if(yf(a)){var b=A(Yz);a=D.j(b,a);if(yf(a))a:for(;;)if(yf(a))a=D.j(b,a);else{b=a;break a}else b=a;return b}return a}function $z(a){if(yf(a)){var b=Zz(a);if(v(b))return b;throw Error(["Unable to resolve spec: ",z.h(a)].join(""));}return a}function aA(a){return null!=a&&p===a.ad?a:null}function bA(a){var b=$m.h(a);return v(b)?a:b}
function cA(a,b){return yf(a)?a:v(bA(a))?V.l(a,Ok,b):null!=a&&(a.v&131072||p===a.re)?Fe(a,V.l(Ge(a),Ok,b)):null}function dA(a){return yf(a)?a:v(bA(a))?Ok.h(a):null!=a&&(a.v&131072||p===a.re)?Ok.h(Ge(a)):null}function eA(a){var b=function(){var b=(b=yf(a))?Zz(a):b;if(v(b))return b;b=aA(a);if(v(b))return b;b=bA(a);return v(b)?b:null}();return v(bA(b))?cA(fA(b,null),dA(b)):b}function gA(a){var b=eA(a);if(v(b))return b;if(yf(a))throw Error(["Unable to resolve spec: ",z.h(a)].join(""));return null}
function hA(a){if(sa(null==a?"":String(a)))return null;var b=Dg.j(kk,Fr(a,"$",0));if(2<=R(b)&&ng(function(){return function(a){return!sa(null==a?"":String(a))}}(b),b)){var c=function(){var a=bj();return a.h?a.h(b):a.call(null,b)}();a=U(c,0);c=U(c,1);return Od.h([z.h(Dr(".",a)),"/",z.h(c)].join(""))}return null}
var iA=function iA(a){switch(arguments.length){case 1:return iA.h(arguments[0]);case 2:return iA.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",z.h(arguments.length)].join(""));}};iA.h=function(a){if(null!=a&&null!=a.Kb)return a.Kb(a);var b=iA[n(null==a?null:a)];if(null!=b)return b.h?b.h(a):b.call(null,a);b=iA._;if(null!=b)return b.h?b.h(a):b.call(null,a);throw y("Specize.specize*",a);};
iA.j=function(a,b){if(null!=a&&null!=a.Lb)return a.Lb(a,b);var c=iA[n(null==a?null:a)];if(null!=c)return c.j?c.j(a,b):c.call(null,a,b);c=iA._;if(null!=c)return c.j?c.j(a,b):c.call(null,a,b);throw y("Specize.specize*",a);};iA.H=2;F.prototype.Kb=function(){return iA.h($z(this))};F.prototype.Lb=function(){return iA.h($z(this))};B.prototype.Kb=function(){return iA.h($z(this))};B.prototype.Lb=function(){return iA.h($z(this))};Oi.prototype.Kb=function(){return jA(this,this)};
Oi.prototype.Lb=function(a,b){return jA(b,this)};Ri.prototype.Kb=function(){return jA(this,this)};Ri.prototype.Lb=function(a,b){return jA(b,this)};iA._=function(){function a(a){var b=(b=Ce(a))?hA(a.name):b;return v(b)?jA(b,a):jA(Lk,a)}var b=null;b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return jA(d,b)}throw Error("Invalid arity: "+arguments.length);};b.h=a;b.j=function(a,b){return jA(b,a)};return b}();
var kA=function kA(a){switch(arguments.length){case 1:return kA.h(arguments[0]);case 2:return kA.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",z.h(arguments.length)].join(""));}};kA.h=function(a){var b=aA(a);return v(b)?b:iA.h(a)};kA.j=function(a,b){var c=aA(a);return v(c)?c:iA.j(a,b)};kA.H=2;function lA(a){return wf(po,a)}function mA(a,b){a=Zz(a);return v(bA(a))?V.l(a,tm,b):Xz(kA.h(a),b)}
function nA(a,b,c){if(!v(function(){var b=yf(a);return b?xf(a):b}()))throw Error("Assert failed: k must be namespaced keyword or resolveable symbol\n(c/and (ident? k) (namespace k))");null==c?Bg.l(Yz,Be,a):(b=v(function(){var a=aA(c);if(v(a))return a;a=bA(c);return v(a)?a:D.j(A(Yz),c)}())?c:jA(b,c),Bg.I(Yz,V,a,cA(b,a)))}
function oA(a,b,c){if(v(a)){var d=gA(a);if(v(d))return Wz(kA.h(d),b);if(We(a))return v(null)?a.h?a.h(b):a.call(null,b):v(a.h?a.h(b):a.call(null,b))?b:po;throw Error([uj(T([c]))," is not a fn, expected predicate fn"].join(""));}return b}var pA=function pA(a){switch(arguments.length){case 2:return pA.j(arguments[0],arguments[1]);case 3:return pA.l(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.h(arguments.length)].join(""));}};
pA.j=function(a,b){a=kA.h(a);return!lA(Wz(a,b))};pA.l=function(a,b,c){a=kA.j(a,c);return!lA(Wz(a,b))};pA.H=3;function jA(a,b){return qA(a,b,null,null,null)}
function qA(a,b,c,d,e){if(v(aA(b)))return v(c)?mA(b,c):b;if(v(bA(b)))return fA(b,c);if(yf(b))return a=gA(b),v(c)?mA(a,c):a;if("undefined"===typeof Gb||"undefined"===typeof Pz||"undefined"===typeof Qz||"undefined"===typeof Rz)Rz=function(a,b,c,d,e,q){this.form=a;this.od=b;this.$b=c;this.xe=d;this.Bf=e;this.ag=q;this.v=393216;this.M=0},Rz.prototype.V=function(a,b){return new Rz(this.form,this.od,this.$b,this.xe,this.Bf,b)},Rz.prototype.U=function(){return this.ag},Rz.prototype.Kb=function(){return this},
Rz.prototype.Lb=function(){return this},Rz.prototype.ad=p,Rz.prototype.Ic=function(a,b){a=this.od.h?this.od.h(b):this.od.call(null,b);return v(this.xe)?a:v(a)?b:po},Rz.prototype.Jc=function(a,b){return qA(this.form,this.od,b,this.xe,this.Bf)},Rz.Lc=function(){return new X(null,6,5,Y,[qk,on,sm,Pm,Dk,np],null)},Rz.hc=!0,Rz.Jb="cljs.spec.alpha/t_cljs$spec$alpha51505",Rz.pc=function(a,b){return dd(b,"cljs.spec.alpha/t_cljs$spec$alpha51505")};return new Rz(a,b,c,d,e,Zf)}
function rA(a,b,c){var d=new Aj(function(){return ug.j(we,Dg.l(kA,b,a))}),e=R(b);if("undefined"===typeof Gb||"undefined"===typeof Pz||"undefined"===typeof Qz||"undefined"===typeof Sz)Sz=function(a,b,c,d,e,q){this.forms=a;this.Pb=b;this.$b=c;this.Pc=d;this.A=e;this.bg=q;this.v=393216;this.M=0},Sz.prototype.V=function(){return function(a,b){return new Sz(this.forms,this.Pb,this.$b,this.Pc,this.A,b)}}(d,e),Sz.prototype.U=function(){return function(){return this.bg}}(d,e),Sz.prototype.Kb=function(){return function(){return this}}(d,
e),Sz.prototype.Lb=function(){return function(){return this}}(d,e),Sz.prototype.ad=p,Sz.prototype.Ic=function(){return function(a,b){a=A(this.Pc);if(Qe(b)&&P.j(R(b),this.A))for(var c=b,d=0;;){if(P.j(d,this.A))return c;var e=b.h?b.h(d):b.call(null,d),f=Wz(a.h?a.h(d):a.call(null,d),e);if(lA(f))return po;c=f===e?c:V.l(c,d,f);d+=1}else return po}}(d,e),Sz.prototype.Jc=function(){return function(a,b){return rA(this.forms,this.Pb,b)}}(d,e),Sz.Lc=function(){return function(){return new X(null,6,5,Y,[Bl,
qo,sm,Eq,dp,zp],null)}}(d,e),Sz.hc=!0,Sz.Jb="cljs.spec.alpha/t_cljs$spec$alpha51533",Sz.pc=function(){return function(a,b){return dd(b,"cljs.spec.alpha/t_cljs$spec$alpha51533")}}(d,e);return new Sz(a,b,c,d,e,Zf)}function sA(a,b){return new jh(a,b,null)}
var tA=function tA(a,b,c,d){var f=gk(),h=Ui(a,c),k=new Aj(function(){return function(){return ug.j(we,Dg.l(kA,c,b))}}(f,h)),l=function(){var b=R(c);switch(b){case 2:return function(b,c,d,f){return function(b){var c=A(f),d=Wz(c.h?c.h(0):c.call(null,0),b);return lA(d)?(b=Wz(c.h?c.h(1):c.call(null,1),b),lA(b)?po:sA(a.h?a.h(1):a.call(null,1),b)):sA(a.h?a.h(0):a.call(null,0),d)}}(b,f,h,k);case 3:return function(b,c,d,f){return function(b){var c=A(f),d=Wz(c.h?c.h(0):c.call(null,0),b);return lA(d)?(d=Wz(c.h?
c.h(1):c.call(null,1),b),lA(d)?(b=Wz(c.h?c.h(2):c.call(null,2),b),lA(b)?po:sA(a.h?a.h(2):a.call(null,2),b)):sA(a.h?a.h(1):a.call(null,1),d)):sA(a.h?a.h(0):a.call(null,0),d)}}(b,f,h,k);default:return function(b,c,d,f){return function(b){for(var c=A(f),d=0;;)if(d<R(c)){var h=c.h?c.h(d):c.call(null,d);h=Wz(h,b);if(lA(h))d+=1;else return sA(a.h?a.h(d):a.call(null,d),h)}else return po}}(b,f,h,k)}}();if("undefined"===typeof Gb||"undefined"===typeof Pz||"undefined"===typeof Qz||"undefined"===typeof Tz)Tz=
function(a,b,c,d,f,h,k,l,K){this.keys=a;this.forms=b;this.Pb=c;this.$b=d;this.id=f;this.Xf=h;this.Pc=k;this.Rb=l;this.cg=K;this.v=393216;this.M=0},Tz.prototype.V=function(){return function(a,b){return new Tz(this.keys,this.forms,this.Pb,this.$b,this.id,this.Xf,this.Pc,this.Rb,b)}}(f,h,k,l),Tz.prototype.U=function(){return function(){return this.cg}}(f,h,k,l),Tz.prototype.Kb=function(){return function(){return this}}(f,h,k,l),Tz.prototype.Lb=function(){return function(){return this}}(f,h,k,l),Tz.prototype.ad=
p,Tz.prototype.Ic=function(){return function(a,b){return this.Rb.h?this.Rb.h(b):this.Rb.call(null,b)}}(f,h,k,l),Tz.prototype.Jc=function(){return function(a,b){return tA.I?tA.I(this.keys,this.forms,this.Pb,b):tA.call(null,this.keys,this.forms,this.Pb,b)}}(f,h,k,l),Tz.Lc=function(){return function(){return new X(null,9,5,Y,[Up,Bl,qo,sm,rq,oo,Eq,Jq,sl],null)}}(f,h,k,l),Tz.hc=!0,Tz.Jb="cljs.spec.alpha/t_cljs$spec$alpha51542",Tz.pc=function(){return function(a,b){return dd(b,"cljs.spec.alpha/t_cljs$spec$alpha51542")}}(f,
h,k,l);return new Tz(a,b,c,d,f,h,k,l,Zf)};function uA(a,b,c){var d=H(b);J(d);M(d);d=H(c);J(d);M(d);for(d=c;;){c=a;b=H(b);a=J(b);b=M(b);var e=H(d);d=J(e);e=M(e);var f=d;d=e;if(v(a)){c=oA(a,c,f);if(lA(c))return po;a=c}else return c}}function vA(a){return new t(null,2,[$m,El,Kk,a],null)}function wA(a){a=null!=a&&(a.v&64||p===a.P)?W(Ci,a):a;a=D.j(a,$m);return P.j(El,a)}
var xA=function xA(a){var c=null!=a&&(a.v&64||p===a.P)?W(Ci,a):a,d=D.j(c,fr);a=H(d);var e=J(a);a=M(a);var f=D.j(c,Kl),h=H(f),k=J(h);h=M(h);var l=D.j(c,ar),m=H(l);J(m);m=M(m);var q=D.j(c,Kk);c=D.j(c,hl);return ng(ef,d)?wA(e)?(d=Kk.h(e),d=ve.j(q,v(f)?Ae([k,d]):d),a?(a=new t(null,4,[fr,a,Kl,h,ar,m,Kk,d],null),xA.h?xA.h(a):xA.call(null,a)):vA(d)):new t(null,6,[$m,mr,fr,d,Kk,q,Kl,f,ar,l,hl,c],null):null};
function yA(a,b,c,d,e){return v(a)?(d=new t(null,5,[$m,tl,Gk,b,Al,d,ar,e,Uo,gk()],null),wA(a)?V.w(d,zn,b,T([Kk,ve.j(c,Kk.h(a))])):V.w(d,zn,a,T([Kk,c]))):null}
function zA(a,b,c,d){return v(v(b)?b:c)?(a=Lg(function(a){a=J(a);return d.h?d.h(a):d.call(null,a)},Dg.I(ph,a,function(){var a=H(b);return a?a:new Hg(null,-1,null,null,null)}(),function(){var a=H(c);return a?a:new Hg(null,-1,null,null,null)}())),new X(null,3,5,Y,[H(Dg.j(J,a)),v(b)?H(Dg.j(te,a)):null,v(c)?H(Dg.j(function(){return function(a){return le(a,2)}}(a),a)):null],null)):new X(null,3,5,Y,[H(Lg(d,a)),b,c],null)}
function AA(a,b,c){var d=zA(a,b,c,ef);b=U(d,0);c=H(b);a=J(c);c=M(c);var e=U(d,1),f=U(e,0);d=U(d,2);return v(b)?(b=new t(null,4,[$m,Sq,fr,b,Kl,e,ar,d],null),null==c?v(f)?wA(a)?vA(sA(f,Kk.h(a))):b:a:b):null}function BA(a,b){return v(v(a)?b:a)?AA(T([a,b]),null,null):v(a)?a:b}
var CA=function CA(a){a=$z(a);var c=null!=a&&(a.v&64||p===a.P)?W(Ci,a):a,d=D.j(c,$m),e=D.j(c,fr);a=D.j(c,zn);var f=D.j(c,Gk);c=D.j(c,ar);if(P.j(El,d))return!0;if(P.j(null,d))return null;if(P.j(So,d))return d=CA.h?CA.h(a):CA.call(null,a),v(d)?(a=uA(DA(a),e,M(c)),!lA(a)):d;if(P.j(tl,d))return(e=a===f)?e:CA.h?CA.h(a):CA.call(null,a);if(P.j(mr,d))return ng(CA,e);if(P.j(Sq,d))return og(CA,e);throw Error(["No matching clause: ",z.h(d)].join(""));},DA=function DA(a){a=$z(a);var c=null!=a&&(a.v&64||p===a.P)?
W(Ci,a):a;a=D.j(c,fr);var d=H(a),e=J(d);M(d);var f=D.j(c,Kl),h=U(f,0),k=D.j(c,$m);d=D.j(c,zn);var l=D.j(c,Kk);c=D.j(c,ar);if(P.j(El,k))return l;if(P.j(null,k))return null;if(P.j(So,k))return e=DA.h?DA.h(d):DA.call(null,d),(f=P.j(e,dr))?d=f:(d=$m.h($z(d)),f=new Oi(null,new t(null,2,[tl,null,mr,null],null),null),d=f.h?f.h(d):f.call(null,d),d=v(d)?Je(e):d,d=v(d)?d:null),v(d)?dr:uA(e,a,c);if(P.j(tl,k))return EA(d,l,h);if(P.j(mr,k))return EA(e,l,h);if(P.j(Sq,k))return c=zA(a,f,c,CA),a=U(c,0),a=U(a,0),
c=U(c,1),c=U(c,0),a=null==a?dr:DA.h?DA.h(a):DA.call(null,a),v(c)?sA(c,a):a;throw Error(["No matching clause: ",z.h(k)].join(""));};
function EA(a,b,c){var d=$z(a);a=null!=d&&(d.v&64||p===d.P)?W(Ci,d):d;var e=D.j(a,$m),f=D.j(a,fr),h=D.j(a,Al);d=function(a,d,e,f,h,u){return function(){var a=DA(e);if(Je(a))return b;a=v(c)?Ae([c,a]):a;var d=v(u)?ug:ve;return d.j?d.j(b,a):d.call(null,b,a)}}(d,a,a,e,f,h);if(P.j(null,e))return b;if(P.j(Sq,e)||P.j(El,e)||P.j(So,e))return a=DA(a),P.j(a,dr)?b:ve.j(b,v(c)?Ae([c,a]):a);if(P.j(tl,e)||P.j(mr,e))return d();throw Error(["No matching clause: ",z.h(e)].join(""));}
var FA=function FA(a,b){var d=$z(a),e=null!=d&&(d.v&64||p===d.P)?W(Ci,d):d,f=D.j(e,ar),h=D.j(e,Gk);a=D.j(e,fr);var k=H(a),l=J(k),m=M(k),q=D.j(e,Kk),r=D.j(e,$m),u=D.j(e,Al),x=D.j(e,Kl),C=H(x),E=J(C),G=M(C),K=D.j(e,Wm),O=D.j(e,zn);if(v(e)){if(P.j(El,r))return null;if(P.j(null,r))return a=oA(e,b,e),lA(a)?null:vA(a);if(P.j(So,r))return d=FA.j?FA.j(O,b):FA.call(null,O,b),v(d)?P.j(El,$m.h(d))?(a=uA(DA(d),a,M(f)),lA(a)?null:vA(a)):new t(null,5,[$m,So,zn,d,Wm,K,fr,a,ar,f],null):null;if(P.j(mr,r))return BA(xA(new t(null,
4,[fr,qe(FA.j?FA.j(l,b):FA.call(null,l,b),m),Kl,x,ar,f,Kk,q],null)),v(CA(l))?function(){var a=xA(new t(null,4,[fr,m,Kl,G,ar,M(f),Kk,EA(l,q,E)],null));return FA.j?FA.j(a,b):FA.call(null,a,b)}():null);if(P.j(Sq,r))return AA(Dg.j(function(){return function(a){return FA.j?FA.j(a,b):FA.call(null,a,b)}}(r,d,e,e,f,h,a,k,l,m,l,m,a,q,r,u,x,C,E,G,E,G,x,K,O),a),x,f);if(P.j(tl,r))return BA(yA(FA.j?FA.j(O,b):FA.call(null,O,b),h,q,u,f),v(CA(O))?function(){var a=yA(h,h,EA(O,q,null),u,f);return FA.j?FA.j(a,b):FA.call(null,
a,b)}():null);throw Error(["No matching clause: ",z.h(r)].join(""));}return null};function GA(a,b){for(;;){var c=H(b),d=J(c);c=M(c);if(Je(b))return v(CA(a))?(a=DA(a),P.j(a,dr)?null:a):po;a=FA(a,d);if(v(a))b=c;else return po}}
var fA=function fA(a,b){if("undefined"===typeof Gb||"undefined"===typeof Pz||"undefined"===typeof Qz||"undefined"===typeof Vz)Vz=function(a,b,f){this.Qd=a;this.$b=b;this.eg=f;this.v=393216;this.M=0},Vz.prototype.V=function(a,b){return new Vz(this.Qd,this.$b,b)},Vz.prototype.U=function(){return this.eg},Vz.prototype.Kb=function(){return this},Vz.prototype.Lb=function(){return this},Vz.prototype.ad=p,Vz.prototype.Ic=function(a,b){return null==b||Me(b)?GA(this.Qd,H(b)):po},Vz.prototype.Jc=function(a,
b){return fA.j?fA.j(this.Qd,b):fA.call(null,this.Qd,b)},Vz.Lc=function(){return new X(null,3,5,Y,[mo,sm,cn],null)},Vz.hc=!0,Vz.Jb="cljs.spec.alpha/t_cljs$spec$alpha51864",Vz.pc=function(a,b){return dd(b,"cljs.spec.alpha/t_cljs$spec$alpha51864")};return new Vz(a,b,Zf)};
nA(On,tf(jr,tf(Ho,new X(null,1,5,Y,[Hm],null),tf(Bn,tf(Ln,kp,Hm),tf(Ln,gn,Hm))),tf(Ho,new X(null,1,5,Y,[bl],null),tf(Ln,tf(pp,new X(null,1,5,Y,[new X(null,2,5,Y,[ip,Am],null)],null),new t(null,2,[kp,ip,gn,Am],null)),bl))),qA(tf(jr,tf(pp,new X(null,1,5,Y,[Jn],null),tf(Bn,tf(Ln,kp,Jn),tf(Ln,gn,Jn))),tf(pp,new X(null,1,5,Y,[Jn],null),tf(Ln,tf(pp,new X(null,1,5,Y,[new X(null,2,5,Y,[ip,Am],null)],null),new t(null,2,[kp,ip,gn,Am],null)),Jn))),function(a){return Ui(Dg.j(kp,a),Dg.j(gn,a))},null,!0,function(a){return Dg.j(function(a){var b=
U(a,0);a=U(a,1);return new t(null,2,[kp,b,gn,a],null)},a)}));if("undefined"===typeof Gb||"undefined"===typeof Pz||"undefined"===typeof Qz||"undefined"===typeof HA)var HA=!0;if("undefined"===typeof Gb||"undefined"===typeof Pz||"undefined"===typeof Qz||"undefined"===typeof IA)var IA=!1;nA(il,tf(rm,xn,mm,Ko,Uk),tA(new X(null,2,5,Y,[xn,Ko],null),new X(null,2,5,Y,[mm,Uk],null),new X(null,2,5,Y,[Zb,function(a){return a instanceof F}],null),null));
nA(Ek,tf(rm,xl,il,Ik,tf(Yn,Ek)),tA(new X(null,2,5,Y,[xl,Ik],null),new X(null,2,5,Y,[il,tf(Yn,Ek)],null),new X(null,2,5,Y,[il,tA(new X(null,2,5,Y,[Rp,Bm],null),new X(null,2,5,Y,[tf(sk,Ek),tf(pp,new X(null,1,5,Y,[Jn],null),tf(uq,tf(ok,Jn),tf(Wq,tf(wl,hp,Ek),Jn)))],null),new X(null,2,5,Y,[yA(Ek,Ek,we,!1,Ek),function(a){return Xb(a)&&ng(sg.j(pA,Ek),a)}],null),null)],null),null));
nA(Hn,new Oi(null,new t(null,3,[tf(so),"null",tf(xk),"null",tf($n),"null"],null),null),new Oi(null,new t(null,3,[1,null,2,null,0,null],null),null));nA(Cl,mm,Zb);var JA=tf(jn,Hn,Cl),KA;KA=rA(new X(null,2,5,Y,[Hn,Cl],null),new X(null,2,5,Y,[Hn,Cl],null),null);nA(wp,JA,KA);
nA(Il,tf(Ll,ok,tf(pp,new X(null,1,5,Y,[Kn],null),tf(ko,new X(null,2,5,Y,[fq,tf(Ln,Hp,tf(hm,2,Kn))],null),tf(hp,tf(sk,wp),fq)))),function LA(a,b,c){var e=new Aj(function(){return ug.j(we,Dg.l(kA,b,a))}),f=function(){var a=R(b);switch(a){case 2:return function(a,b){return function(a){var c=A(b);a=Wz(c.h?c.h(0):c.call(null,0),a);return lA(a)?po:Wz(c.h?c.h(1):c.call(null,1),a)}}(a,e);case 3:return function(a,b){return function(a){var c=A(b);a=Wz(c.h?c.h(0):c.call(null,0),a);if(lA(a))return po;a=Wz(c.h?
c.h(1):c.call(null,1),a);return lA(a)?po:Wz(c.h?c.h(2):c.call(null,2),a)}}(a,e);default:return function(a,b){return function(a){for(var c=A(b),e=0;;)if(e<R(c)){a=Wz(c.h?c.h(e):c.call(null,e),a);if(lA(a))return po;e+=1}else return a}}(a,e)}}();if("undefined"===typeof Gb||"undefined"===typeof Pz||"undefined"===typeof Qz||"undefined"===typeof Uz)Uz=function(a,b,c,e,f,r){this.forms=a;this.Pb=b;this.$b=c;this.Pc=e;this.Rb=f;this.dg=r;this.v=393216;this.M=0},Uz.prototype.V=function(){return function(a,
b){return new Uz(this.forms,this.Pb,this.$b,this.Pc,this.Rb,b)}}(e,f),Uz.prototype.U=function(){return function(){return this.dg}}(e,f),Uz.prototype.Kb=function(){return function(){return this}}(e,f),Uz.prototype.Lb=function(){return function(){return this}}(e,f),Uz.prototype.ad=p,Uz.prototype.Ic=function(){return function(a,b){return this.Rb.h?this.Rb.h(b):this.Rb.call(null,b)}}(e,f),Uz.prototype.Jc=function(){return function(a,b){return LA.l?LA.l(this.forms,this.Pb,b):LA.call(null,this.forms,this.Pb,
b)}}(e,f),Uz.Lc=function(){return function(){return new X(null,6,5,Y,[Bl,qo,sm,Eq,Jq,to],null)}}(e,f),Uz.hc=!0,Uz.Jb="cljs.spec.alpha/t_cljs$spec$alpha51600",Uz.pc=function(){return function(a,b){return dd(b,"cljs.spec.alpha/t_cljs$spec$alpha51600")}}(e,f);return new Uz(a,b,c,e,f,Zf)}(new X(null,2,5,Y,[ok,tf(pp,new X(null,1,5,Y,[Kn],null),tf(ko,new X(null,2,5,Y,[fq,tf(Ln,Hp,tf(hm,2,Kn))],null),tf(hp,tf(sk,wp),fq)))],null),new X(null,2,5,Y,[Xb,function(a){a=Dg.j(nh,Wi(2,2,a));return pA.j(yA(wp,wp,
we,!1,wp),a)}],null),null));var MA={},vg=ug.j(zh,we);function NA(a){return null!=a?a.v&32768||p===a.cf?!0:a.v?!1:w(Nc,a):w(Nc,a)}function OA(a,b){Xw(a,b)}function PA(a,b){setTimeout(a,b)}function QA(a){return null!=a&&p===a.Rd?[v(Md.j?Md.j(Ow,a):Md.call(null,Ow,a))?"ra":v(Md.j?Md.j(Tw,a):Md.call(null,Tw,a))?"rc":v(Md.j?Md.j(Yw,a):Md.call(null,Yw,a))?"rx":v(Md.j?Md.j(Sw,a):Md.call(null,Sw,a))?"tr":"other",z.h(Kd(a))].join(""):null};var RA=zg(new t(null,5,[Lq,console.log.bind(console),im,console.warn.bind(console),Pp,console.error.bind(console),jl,v(console.group)?console.group.bind(console):console.log.bind(console),mq,v(console.groupEnd)?console.groupEnd.bind(console):function(){return Rd}],null));function SA(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;TA(arguments[0],1<b.length?new I(b.slice(1),0,null):null)}
function TA(a,b){if(!Xe(A(RA),a))throw Error(["Assert failed: ",["re-frame: log called with unknown level: ",z.h(a)].join(""),"\n(contains? (clojure.core/deref loggers) level)"].join(""));var c=A(RA);a=a.h?a.h(c):a.call(null,c);return W(a,b)};var UA={};if("undefined"===typeof MA||"undefined"===typeof UA||"undefined"===typeof VA)var VA=zg(we);if("undefined"===typeof MA||"undefined"===typeof UA||"undefined"===typeof WA)var WA=zg(0);function XA(a){var b=null!=a&&(a.v&64||p===a.P)?W(Ci,a):a;a=D.j(b,Uo);var c=D.j(b,Gq);b=D.j(b,Ao);return new t(null,3,[Uo,v(a)?a:uk,Gq,c,Ao,b],null)}function YA(a,b){return Rg(a,new X(null,2,5,Y,[Wp,b],null))}function ZA(a,b){for(var c=a;;){var d=Ul.h(c);if(Je(d))return c;a=He(d);var e=sp.h(c);c=V.w(c,Ul,null==d?null:Jc(d),T([sp,ve.j(e,a)]));a=D.j(a,b);c=v(a)?a.h?a.h(c):a.call(null,c):c}};var $A=new Oi(null,new t(null,4,[Rl,null,yo,null,xq,null,Dq,null],null),null),aB=zg(Zf);function bB(a,b){return D.j(D.j(A(aB),a),b)}function cB(a,b,c){Bg.I(aB,Sg,new X(null,2,5,Y,[a,b],null),c);return c}var dB=function dB(a){switch(arguments.length){case 0:return dB.G();case 1:return dB.h(arguments[0]);case 2:return dB.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",z.h(arguments.length)].join(""));}};dB.G=function(){return Ag(aB,Zf)};
dB.h=function(a){if(!v($A.h?$A.h(a):$A.call(null,a)))throw Error("Assert failed: (kinds kind)");return Bg.l(aB,Be,a)};dB.j=function(a,b){if(!v($A.h?$A.h(a):$A.call(null,a)))throw Error("Assert failed: (kinds kind)");return v(bB(a,b))?Bg.w(aB,Tg,new X(null,1,5,Y,[a],null),Be,T([b])):TA(im,T(["re-frame: can't clear",z.h(a),"handler for",[z.h(b),". Handler not found."].join("")]))};dB.H=2;var eB=function eB(a,b){var d=H(b);b=J(d);if(d=M(d)){var e=D.j(a,b);return v(e)?(d=eB.j?eB.j(e,d):eB.call(null,e,d),H(d)?V.l(a,b,d):Be.j(a,b)):a}return Be.j(a,b)};function fB(a){return Qe(a)?J(a):TA(Pp,T(["re-frame: expected a vector, but got:",a]))};var gB=Pw.h(Zf);if(!v($A.h?$A.h(yo):$A.call(null,yo)))throw Error("Assert failed: (re-frame.registrar/kinds kind)");var hB=null;var iB=new t(null,2,[eo,function(a){function b(){return nu.h?nu.h(a):nu.call(null,a)}return ry.h?ry.h(b):ry.call(null,b)},Bk,nu],null);function jB(a){for(var b=R(a.ab);;){if(0===b)return kB(a,Rq,null);var c=og(iB,Jh(Ge(He(a.ab))));if(v(c))return kB(a,Op,c);lB(a);--b}}function mB(a){a=function(a){return function(){return kB(a,gp,null)}}(a);return nu.h?nu.h(a):nu.call(null,a)}
function kB(a,b,c){var d=function(){var d=new X(null,2,5,Y,[a.Hd,b],null);if(P.j(new X(null,2,5,Y,[cl,yk],null),d))return new X(null,2,5,Y,[Cp,function(a,b){return function(){b.ab=ve.j(b.ab,c);return mB(b)}}(d,a)],null);if(P.j(new X(null,2,5,Y,[Qn,Sp],null),d))return new X(null,2,5,Y,[cl,function(a,b){return function(){b.ab=vg;throw c;}}(d,a)],null);if(P.j(new X(null,2,5,Y,[Qn,Rq],null),d))return Je(a.ab)?new X(null,1,5,Y,[cl],null):new X(null,2,5,Y,[Cp,function(a,b){return function(){return mB(b)}}(d,
a)],null);if(P.j(new X(null,2,5,Y,[Qn,Op],null),d))return new X(null,2,5,Y,[Fk,function(a,b){return function(){return nB(b,c)}}(d,a)],null);if(P.j(new X(null,2,5,Y,[Fk,Bq],null),d))return new X(null,2,5,Y,[Qn,function(a,b){return function(){lB(b);return jB(b)}}(d,a)],null);if(P.j(new X(null,2,5,Y,[Cp,gp],null),d))return new X(null,2,5,Y,[Qn,function(a,b){return function(){return jB(b)}}(d,a)],null);if(P.j(new X(null,2,5,Y,[Fk,yk],null),d))return new X(null,2,5,Y,[Fk,function(a,b){return function(){return b.ab=
ve.j(b.ab,c)}}(d,a)],null);if(P.j(new X(null,2,5,Y,[Qn,yk],null),d))return new X(null,2,5,Y,[Qn,function(a,b){return function(){return b.ab=ve.j(b.ab,c)}}(d,a)],null);if(P.j(new X(null,2,5,Y,[Cp,yk],null),d))return new X(null,2,5,Y,[Cp,function(a,b){return function(){return b.ab=ve.j(b.ab,c)}}(d,a)],null);throw ik(["re-frame: router state transition not found. ",z.h(a.Hd)," ",z.h(b)].join(""),new t(null,2,[zl,a.Hd,sq,b],null));}();var e=U(d,0);d=U(d,1);a.Hd=e;return v(d)?d.G?d.G():d.call(null):null}
function nB(a,b){a=function(a){return function(){return kB(a,Bq,null)}}(a);return b.h?b.h(a):b.call(null,a)}
function lB(a){var b=He(a.ab);try{var c=fB(b),d=bB(yo,c);if(v(d))if(v(hB))TA(Pp,T(["re-frame: while handling",hB,", dispatch-sync was called for",b,". You can't call dispatch-sync within an event handler."]));else{c=hB;hB=b;try{var e=Sg(Zf,new X(null,2,5,Y,[Wp,yo],null),b);var f=Vg(e,Ul,tg(),d);var h=ZA(f,Gq),k=Be.j(h,Ul),l=sp.h(h);var m=Vg(k,Ul,tg(),l);ZA(m,Ao)}finally{hB=c}}var q=a.ab;var r=null==q?null:Jc(q);a.ab=r;a:{var u=H(Kh(a.hg));d=null;for(e=f=0;;)if(e<f){var x=d.O(null,e);x.j?x.j(b,a.ab):
x.call(null,b,a.ab);e+=1}else{var C=H(u);if(C){m=C;if(Re(m)){var E=qd(m),G=sd(m);m=E;var K=R(E);u=G;d=m;f=K}else x=J(m),x.j?x.j(b,a.ab):x.call(null,b,a.ab),u=M(m),d=null,f=0;e=0}else break a}}}catch(O){kB(a,Sp,O)}}var oB=new function(a,b,c){this.Hd=a;this.ab=b;this.hg=c}(cl,vg,Zf);function pB(a){if(null==a)throw new hk('re-frame: you called "dispatch" without an event vector.',Zf);kB(oB,yk,a);return null};if(!v($A.h?$A.h(Dq):$A.call(null,Dq)))throw Error("Assert failed: (re-frame.registrar/kinds kind)");function qB(a,b){return cB(Dq,a,b)}
var rB=XA(T([Uo,Gm,Ao,function(a){for(var b,c=H(Xo.h(a)),d=null,e=0,f=0;;)if(f<e){a=d.O(null,f);b=U(a,0);a=U(a,1);var h=bB(Dq,b);v(h)?(b=h,b.h?b.h(a):b.call(null,a)):TA(Pp,T(["re-frame: no handler registered for effect:",b,". Ignoring."]));f+=1}else if(a=H(c))c=a,Re(c)?(b=qd(c),c=sd(c),a=b,b=R(b),d=a,e=b):(a=J(c),b=U(a,0),a=U(a,1),d=bB(Dq,b),v(d)?(b=d,b.h?b.h(a):b.call(null,a)):TA(Pp,T(["re-frame: no handler registered for effect:",b,". Ignoring."])),c=M(c),d=null,e=0),f=0;else return null}]));
qB(er,function(a){a=H(Mg(Wb,a));for(var b=null,c=0,d=0;;)if(d<c){var e=b.O(null,d),f=null!=e&&(e.v&64||p===e.P)?W(Ci,e):e,h=f,k=D.j(f,Cq),l=D.j(f,lo);Je(l)||"number"!==typeof k?TA(Pp,T(["re-frame: ignoring bad :dispatch-later value:",h])):PA(function(a,b,c,d,e,f,h,k,l){return function(){return pB(l)}}(a,b,c,d,e,f,h,k,l),k);d+=1}else if(f=H(a)){e=f;if(Re(e))a=qd(e),d=sd(e),b=a,c=R(a),a=d;else{var m=J(e),q=null!=m&&(m.v&64||p===m.P)?W(Ci,m):m;h=q;k=D.j(q,Cq);l=D.j(q,lo);Je(l)||"number"!==typeof k?TA(Pp,
T(["re-frame: ignoring bad :dispatch-later value:",h])):PA(function(a,b,c,d,e,f,h,k,l){return function(){return pB(l)}}(a,b,c,d,m,q,h,k,l,e,f),k);a=M(e);b=null;c=0}d=0}else return null});qB(lo,function(a){return Qe(a)?pB(a):TA(Pp,T(["re-frame: ignoring bad :dispatch value. Expected a vector, but got:",a]))});
qB(an,function(a){if(Me(a)){a=H(Mg(Wb,a));for(var b=null,c=0,d=0;;)if(d<c){var e=b.O(null,d);pB(e);d+=1}else if(a=H(a))b=a,Re(b)?(a=qd(b),c=sd(b),b=a,e=R(a),a=c,c=e):(e=J(b),pB(e),a=M(b),b=null,c=0),d=0;else return null}else return TA(Pp,T(["re-frame: ignoring bad :dispatch-n value. Expected a collection, got got:",a]))});
qB(Fn,function(a){var b=sg.j(dB,yo);if(Me(a)){a=H(a);for(var c=null,d=0,e=0;;)if(e<d){var f=c.O(null,e);b.h?b.h(f):b.call(null,f);e+=1}else if(a=H(a))c=a,Re(c)?(a=qd(c),d=sd(c),c=a,f=R(a),a=d,d=f):(f=J(c),b.h?b.h(f):b.call(null,f),a=M(c),c=null,d=0),e=0;else return null}else return b.h?b.h(a):b.call(null,a)});qB(Pl,function(a){return A(gB)!==a?Ag(gB,a):null});if(!v($A.h?$A.h(xq):$A.call(null,xq)))throw Error("Assert failed: (re-frame.registrar/kinds kind)");cB(xq,Pl,function(a){return V.l(a,Pl,A(gB))});var sB=function(a){return XA(T([Uo,Wp,Gq,function(b){var c=bB(xq,a);return v(c)?Ug(b,Wp,c):TA(Pp,T(["No cofx handler registered for",a]))}]))}(Pl);function tB(a,b){return P.j(a,b)?new X(null,3,5,Y,[null,null,a],null):new X(null,3,5,Y,[a,b,null],null)}function uB(a){return H(a)?gc.l(function(a,c){var b=U(c,0);c=U(c,1);return V.l(a,b,c)},nh(Ig(W(kf,Jh(a)))),a):null}function vB(a,b,c){var d=D.j(a,c),e=D.j(b,c),f=wB(d,e),h=U(f,0),k=U(f,1);f=U(f,2);a=Xe(a,c);b=Xe(b,c);d=a&&b&&(null!=f||null==d&&null==e);return new X(null,3,5,Y,[!a||null==h&&d?null:Ae([c,h]),!b||null==k&&d?null:Ae([c,k]),d?Ae([c,f]):null],null)}
var xB=function xB(a){switch(arguments.length){case 2:return xB.j(arguments[0],arguments[1]);case 3:return xB.l(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.h(arguments.length)].join(""));}};xB.j=function(a,b){return xB.l(a,b,uw(Jh(a),Jh(b)))};xB.l=function(a,b,c){return gc.l(function(a,b){return cj(Dg.l(Hi,a,b))},new X(null,3,5,Y,[null,null,null],null),Dg.j(sg.l(vB,a,b),c))};xB.H=3;
function yB(a,b){return nh(Dg.j(uB,xB.l(Qe(a)?a:nh(a),Qe(b)?b:nh(b),aj(function(){var c=R(a),d=R(b);return c>d?c:d}()))))}function zB(a,b){return new X(null,3,5,Y,[Wf(ww.j(a,b)),Wf(ww.j(b,a)),Wf(vw.j(a,b))],null)}
var AB=function AB(a){if(null!=a&&null!=a.Tf)return a.Tf(a);var c=AB[n(null==a?null:a)];if(null!=c)return c.h?c.h(a):c.call(null,a);c=AB._;if(null!=c)return c.h?c.h(a):c.call(null,a);throw y("EqualityPartition.equality-partition",a);},BB=function BB(a,b){if(null!=a&&null!=a.Sf)return a.Sf(a,b);var d=BB[n(null==a?null:a)];if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);d=BB._;if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);throw y("Diff.diff-similar",a);};AB["null"]=function(){return nq};
AB.string=function(){return nq};AB.number=function(){return nq};AB.array=function(){return dm};AB["function"]=function(){return nq};AB["boolean"]=function(){return nq};AB._=function(a){return(null!=a?a.v&1024||p===a.Pf||(a.v?0:w(Cc,a)):w(Cc,a))?Pq:(null!=a?a.v&4096||p===a.Rf||(a.v?0:w(Gc,a)):w(Gc,a))?gq:(null!=a?a.v&16777216||p===a.se||(a.v?0:w(Zc,a)):w(Zc,a))?dm:nq};BB["null"]=function(a,b){return tB(a,b)};BB.string=function(a,b){return tB(a,b)};BB.number=function(a,b){return tB(a,b)};
BB.array=function(a,b){return yB(a,b)};BB["function"]=function(a,b){return tB(a,b)};BB["boolean"]=function(a,b){return tB(a,b)};BB._=function(a,b){var c=function(){var b=AB(a);b=b instanceof F?b.La:null;switch(b){case "atom":return tB;case "set":return zB;case "sequential":return yB;case "map":return xB;default:throw Error(["No matching clause: ",z.h(b)].join(""));}}();return c.j?c.j(a,b):c.call(null,a,b)};
function wB(a,b){return P.j(a,b)?new X(null,3,5,Y,[null,null,a],null):P.j(AB(a),AB(b))?BB(a,b):tB(a,b)};XA(T([Uo,nn,Gq,function(a){TA(Lq,T(["Handling re-frame event:",YA(a,yo)]));return a},Ao,function(a){var b=YA(a,yo),c=YA(a,Pl);a:{var d=Te;for(var e=a,f=H(new X(null,2,5,Y,[Xo,Pl],null));;)if(null!=f){e=D.l(e,J(f),d);if(d===e){d=Tl;break a}f=M(f)}else{d=e;break a}}P.j(d,Tl)?TA(Lq,T(["No :db changes caused by:",b])):(d=wB(c,d),c=U(d,0),d=U(d,1),null!=c||null!=d?(TA(jl,T(["db clojure.data/diff for:",b])),TA(Lq,T(["only before:",c])),TA(Lq,T(["only after :",d])),SA(mq)):TA(Lq,T(["no app-db changes caused by:",
b])));return a}]));XA(T([Uo,jo,Gq,function(a){return Sg(Tg.I(a,new X(null,2,5,Y,[Wp,yo],null),sh,1),new X(null,2,5,Y,[Wp,Nq],null),YA(a,yo))},Ao,function(a){return Sg(eB(a,new X(null,2,5,Y,[Wp,Nq],null)),new X(null,2,5,Y,[Wp,yo],null),YA(a,Nq))}]));function CB(a){return XA(T([Uo,xo,Gq,function(b){var c=Wp.h(b),d=null!=c&&(c.v&64||p===c.P)?W(Ci,c):c;c=D.j(d,Pl);d=D.j(d,yo);c=a.j?a.j(c,d):a.call(null,c,d);return Sg(b,new X(null,2,5,Y,[Xo,Pl],null),c)}]))};if(!v($A.h?$A.h(Rl):$A.call(null,Rl)))throw Error("Assert failed: (re-frame.registrar/kinds kind)");var DB=zg(Zf);function EB(a,b,c){a=new X(null,2,5,Y,[a,b],null);OA(c,function(a){return function(){return Bg.j(DB,function(a){return function(b){return Xe(b,a)&&c===D.j(b,a)?Be.j(b,a):b}}(a))}}(a));Bg.j(DB,function(a){return function(b){return V.l(b,a,c)}}(a));return c}function FB(a,b){return D.j(A(DB),new X(null,2,5,Y,[a,b],null))}
var GB=function GB(a){switch(arguments.length){case 1:return GB.h(arguments[0]);case 2:return GB.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",z.h(arguments.length)].join(""));}};GB.h=function(a){var b=FB(a,we);if(v(b))return b;var c=fB(a);b=bB(Rl,c);return null==b?TA(Pp,T([["re-frame: no subscription handler registered for: ",z.h(c),". Returning a nil subscription."].join("")])):EB(a,we,b.j?b.j(gB,a):b.call(null,gB,a))};
GB.j=function(a,b){var c=FB(a,b);if(v(c))return c;var d=fB(a);var e=bB(Rl,d);if(null==e)return TA(Pp,T([["re-frame: no subscription handler registered for: ",z.h(d),". Returning a nil subscription."].join("")]));var f=Rw(function(){return function(){return Pg(de,b)}}(d,e,c));var h=Rw(function(b,c,d){return function(){var c=A(b);return d.l?d.l(gB,a,c):d.call(null,gB,a,c)}}(f,d,e,c));return EB(a,b,Rw(function(a,b){return function(){return A(A(b))}}(f,h,d,e,c)))};GB.H=2;
function HB(a){return ug.l(ye(a),Dg.h(function(a){var b=U(a,0);a=U(a,1);return new X(null,2,5,Y,[b,de.h?de.h(a):de.call(null,a)],null)}),a)}function IB(a,b){var c=Me(a)?Dg.j(de,a):Ne(a)?HB(a):NA(a)?de.h?de.h(a):de.call(null,a):Rd;Me(a)?Dg.j(de,a):Ne(a)?HB(a):NA(a)?A(a):TA(Pp,T(["re-frame: in the reg-sub for",b,", the input-signals function returns:",a]));return c}
function JB(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;return KB(arguments[0],1<b.length?new I(b.slice(1),0,null):null)}
function KB(a,b){var c=ue(b),d=Ti(b),e=["re-frame: reg-sub for ",z.h(a),", "].join("");b=function(){var a=R(d);switch(a){case 0:return function(){return function(){var a=null;a=function(a,b){switch(arguments.length){case 1:return gB;case 2:return gB}throw Error("Invalid arity: "+arguments.length);};a.h=function(){return gB};a.j=function(){return gB};return a}()}(a,c,d,e);case 1:return a=J(d),Ce(a)||TA(Pp,T([e,"2nd argument expected to be an inputs function, got:",a])),a;case 2:var b=U(d,0),k=U(d,
1);P.j(Jl,b)||TA(Pp,T([e,"expected :\x3c-, got:",b]));return function(a,b,c){return function(){function a(){return GB.h(c)}function b(){return GB.h(c)}var d=null;d=function(c,d){switch(arguments.length){case 1:return b.call(this,c);case 2:return a.call(this,c,d)}throw Error("Invalid arity: "+arguments.length);};d.h=b;d.j=a;return d}()}(d,b,k,a,c,d,e);default:b=Qg(2,2,d);k=Dg.j(J,b);var l=Dg.j(ue,b);ng(new Oi(null,new t(null,1,[Jl,null],null),null),k)&&ng(Qe,l)||TA(Pp,T([e,"expected pairs of :\x3c- and vectors, got:",
b]));return function(a,b,c){return function(){function a(){return Dg.j(GB,c)}function b(){return Dg.j(GB,c)}var d=null;d=function(c,d){switch(arguments.length){case 1:return b.call(this,c);case 2:return a.call(this,c,d)}throw Error("Invalid arity: "+arguments.length);};d.h=b;d.j=a;return d}()}(b,k,l,a,c,d,e)}}();return cB(Rl,a,function(b,c,d,e){return function(){function f(f,h,k){var l=e.j?e.j(h,k):e.call(null,h,k);f=zg(null);l=Rw(function(b,c,d){return function(){var c=IB(b,a);return d.l?d.l(c,h,
k):d.call(null,c,h,k)}}(l,f,b,c,d,e));Ag(f,QA(l));return l}function h(f,h){var k=e.h?e.h(h):e.call(null,h);f=zg(null);k=Rw(function(b,c,d){return function(){var c=IB(b,a);return d.j?d.j(c,h):d.call(null,c,h)}}(k,f,b,c,d,e));Ag(f,QA(k));return k}var k=null;k=function(a,b,c){switch(arguments.length){case 2:return h.call(this,a,b);case 3:return f.call(this,a,b,c)}throw Error("Invalid arity: "+arguments.length);};k.j=h;k.l=f;return k}()}(c,d,e,b))};sg.j(dB,Rl);sg.j(dB,Dq);sg.j(dB,xq);var LB=function LB(a){switch(arguments.length){case 2:return LB.j(arguments[0],arguments[1]);case 3:return LB.l(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.h(arguments.length)].join(""));}};LB.j=function(a,b){return LB.l(a,null,b)};LB.l=function(a,b,c){b=new X(null,4,5,Y,[sB,rB,b,CB(c)],null);return cB(yo,a,Mg(Wb,Og(b)))};LB.H=3;sg.j(dB,yo);LB.j(Qm,function(){return Mz});LB.j(zo,function(a,b){U(b,0);b=U(b,1);return V.l(a,Fp,b)});
var MB=new X(null,4,5,Y,[sB,rB,null,function(a){return XA(T([Uo,Ql,Gq,function(b){var c=Wp.h(b);c=null!=c&&(c.v&64||p===c.P)?W(Ci,c):c;var d=D.j(c,yo);return V.l(b,Xo,a.j?a.j(c,d):a.call(null,c,d))}]))}(function(a,b){U(b,0);U(b,1);a=hu.G?hu.G():hu.call(null);b=new t(null,1,[ql,!0],null);b=gu.h?gu.h(b):gu.call(null,b);return new t(null,1,[bq,new t(null,7,[Zl,Zk,Yp,"/transit",hq,5E3,Nk,a,xm,b,sn,new X(null,1,5,Y,[Wk],null),Zo,new X(null,1,5,Y,[Mq],null)],null)],null)})],null);cB(yo,dl,Mg(Wb,Og(MB)));function NB(a){return km.h(a)}JB.j?JB.j(aq,NB):JB.call(null,aq,NB);function OB(a){return nr.h(a)}JB.j?JB.j(Bo,OB):JB.call(null,Bo,OB);function PB(a){return Fp.h(a)}JB.j?JB.j(bm,PB):JB.call(null,bm,PB);function QB(a,b,c,d){var e=U(d,0);d=U(d,1);if(v(e))return a.h?a.h(d):a.call(null,d);a=Hi.w(T([new t(null,5,[Yp,String(c.Md),Ak,c.kf,ol,da(c.wc)?c.wc:String(c.wc),$q,c.kc,dq,lv(c.kc)],null),d]));return b.h?b.h(a):b.call(null,a)}
function RB(a){var b=null!=a&&(a.v&64||p===a.P)?W(Ci,a):a,c=D.l(b,sn,new X(null,1,5,Y,[vm],null)),d=D.l(b,Zo,new X(null,1,5,Y,[Ro],null)),e=new sv;return Be.w(V.w(b,fl,e,T([Hq,sg.I(QB,function(a,b,c,d,e){return function(a){a=ve.j(e,a);return pB.h?pB.h(a):pB.call(null,a)}}(e,a,b,b,c,d),function(a,b,c,d,e,q){return function(a){a=ve.j(q,a);return pB.h?pB.h(a):pB.call(null,a)}}(e,a,b,b,c,d),e)])),sn,T([Zo]))}
function SB(a){a=Me(a)?a:new X(null,1,5,Y,[a],null);a=H(a);for(var b=null,c=0,d=0;;)if(d<c){var e=b.O(null,d);e=RB(e);Ov.h?Ov.h(e):Ov.call(null,e);d+=1}else if(a=H(a))Re(a)?(c=qd(a),a=sd(a),b=c,c=R(c)):(e=J(a),b=RB(e),Ov.h?Ov.h(b):Ov.call(null,b),a=M(a),b=null,c=0),d=0;else return null}qB.j?qB.j(bq,SB):qB.call(null,bq,SB);function TB(a){a=Sl.h(a);var b=Fr(a,/[(),]/,0);a=parseFloat(te(b));b=parseFloat(ue(b));return new t(null,2,[Lp,a,mn,b],null)}
function UB(a){return nh(function(){return function d(a){return new Bf(null,function(){for(;;){var c=H(a);if(c){if(Re(c)){var f=qd(c),h=R(f),k=Gf(h);a:for(var l=0;;)if(l<h){var m=sc.j(f,l);m=Be.j(V.l(V.l(ve.j(m,TB(m)),Sk,new Date(Sk.h(m))),Tp,Wb?null:new Date(Tp.h(m))),Sl);k.add(m);l+=1}else{f=!0;break a}return f?If(k.Da(),d(sd(c))):If(k.Da(),null)}k=J(c);return qe(Be.j(V.l(V.l(ve.j(k,TB(k)),Sk,new Date(Sk.h(k))),Tp,Wb?null:new Date(Tp.h(k))),Sl),d(Qd(c)))}return null}},null,null)}(a)}())}
function VB(a){Wv(T([new t(null,3,[xm,cq,ql,!0,Hq,function(b){return Ag(a,UB(b))}],null)]))}function WB(a){var b=W(Math.max,Dg.j(Lp,a));a=W(Math.min,Dg.j(Lp,a));return new t(null,2,[Hk,a,Qo,b],null)}
function ny(){var a=Pw.h(null);VB(a);return function(a){return function(){return new X(null,2,5,Y,[io,new X(null,2,5,Y,[Kz,new t(null,5,[Mm,600,nr,new t(null,1,[Vo,A(a)],null),zk,new t(null,3,[Xp,new t(null,2,[dn,"species",en,"nominal"],null),pk,new t(null,3,[eq,"count",en,"quantitative",sp,"normalize"],null),nl,new t(null,3,[dn,"height",en,"nominal",Nl,new t(null,2,[$p,new X(null,12,5,Y,"12 11 10 9 8 7 6 5 4 3 2 1".split(" "),null),gr,new X(null,12,5,Y,"#D5D8DD #BECDE0 #AEC7E5 #99B9E1 #6098DC #4B8AD8 #2D75CD #1D6FD3 #0F5DBD #0C4B97 #063F84 #04254E".split(" "),
null)],null)],null)],null),Vm,new t(null,1,[Pn,"height by species"],null),Xl,"bar"],null)],null)],null)}}(a)}
function oy(){var a=Pw.h(null);VB(a);return function(a){return function(){var b=Y,d=Y;var e=A(a);e=new t(null,5,[Mm,500,tk,"A scatter plot to show height in relation to latitude",nr,new t(null,1,[Vo,e],null),Xl,"point",zk,new t(null,4,[Xp,new t(null,2,[dn,"height",en,"quantitative"],null),pk,new t(null,3,[dn,"latitude",en,"quantitative",Nl,new t(null,1,[$p,new X(null,2,5,Y,[Hk.h(WB(e)),Qo.h(WB(e))],null)],null)],null),nl,new t(null,2,[dn,"species",en,"nominal"],null),lp,new t(null,2,[dn,"species",
en,"nominal"],null)],null)],null);return new X(null,2,5,b,[io,new X(null,2,5,d,[Kz,e],null)],null)}}(a)}
function py(){var a=Pw.h(null);VB(a);return function(a){return function(){return new X(null,2,5,Y,[io,new X(null,2,5,Y,[Kz,new t(null,5,[Mm,500,tk,"A plot showing addresses ordered by number of nests",nr,new t(null,1,[Vo,Dg.j(function(){return function(a){return V.l(a,Sl,new X(null,2,5,Y,[Lp.h(a),mn.h(a)],null))}}(a),A(a))],null),Xl,new t(null,2,[en,"bar",Zq,new t(null,1,[$l,new X(null,1,5,Y,[new t(null,2,[dn,"address",en,"nominal"],null)],null)],null)],null),zk,new t(null,3,[Xp,new t(null,2,[dn,
"gps",en,"nominal"],null),pk,new t(null,3,[eq,"count",en,"quantitative",sp,"normalize"],null),Zq,new X(null,2,5,Y,[new t(null,2,[dn,"street",en,"nominal"],null),new t(null,2,[dn,"house_number_name",en,"nominal"],null)],null)],null)],null)],null)],null)}}(a)}
function XB(a){var b=mn.h(a),c=Lp.h(a),d=Cm.h(a);return L.circle([c,b],Ij(new t(null,4,[nl,function(){switch(d){case "swallow":return"crimson";case "martin":return"steelblue";case "swift":return"seagreen";default:throw Error(["No matching clause: ",z.h(d)].join(""));}}(),Fq,function(){switch(d){case "swallow":return"red";case "martin":return"dodgerblue";case "swift":return"green";default:throw Error(["No matching clause: ",z.h(d)].join(""));}}(),qn,.2,Dn,5],null)))}
function YB(a){var b=Vn.h(a),c=fp.h(a),d=hr.h(a),e=Um.h(a),f=en.h(a);a=Sk.h(a).toDateString();return["\x3ctable\x3e\n\x3ctr\x3e\x3ctd\x3e\x3cb\x3eAddress: \x3c/b\x3e",z.h(b)," ",z.h(c),"\x3c/td\x3e\x3c/tr\x3e\n\x3ctr\x3e\x3ctd\x3e\x3cb\x3eHeight: \x3c/b\x3e",z.h(d)," m\x3c/td\x3e\x3c/tr\x3e\n\x3ctr\x3e\x3ctd\x3e\x3cb\x3eAspect: \x3c/b\x3e",z.h(e),"\x3c/td\x3e\x3c/tr\x3e\n\x3ctr\x3e\x3ctd\x3e\x3cb\x3eType of nest: \x3c/b\x3e",z.h(f),"\x3c/td\x3e\x3c/tr\x3e\n\x3ctr\x3e\x3ctd\x3e\x3cb\x3eFirst recorded: \x3c/b\x3e",
z.h(a),"\x3c/td\x3e\x3c/tr\x3e\n\x3c/table\x3e"].join("")}function ZB(a){var b=Lp.h(a);a=mn.h(a);return["gps -\x3e ",["(",z.h(b),", ",z.h(a),")"].join("")].join("")}
function my(){return function(){return new X(null,2,5,Y,[kn,new X(null,3,5,Y,[mp,new t(null,3,[rn,"0 0 100 20",Xp,200,Mm,500],null),new X(null,7,5,Y,[no,new X(null,3,5,Y,[lr,new t(null,3,[Xp,12,pk,12,Hl,5],null),"Swallow"],null),new X(null,2,5,Y,[Fm,new t(null,5,[Vk,1.5,fo,new t(null,3,[qm,"crimson",Yq,.5,al,"red"],null),Fo,.5,To,10,Yo,10],null)],null),new X(null,3,5,Y,[lr,new t(null,3,[Xp,38,pk,12,Hl,5],null),"martin"],null),new X(null,2,5,Y,[Fm,new t(null,5,[Vk,1.5,fo,new t(null,3,[qm,"steelblue",
Yq,.5,al,"dodgerblue"],null),Fo,.5,To,35,Yo,10],null)],null),new X(null,3,5,Y,[lr,new t(null,3,[Xp,62,pk,12,Hl,5],null),"swift"],null),new X(null,2,5,Y,[Fm,new t(null,5,[Vk,1.5,fo,new t(null,3,[qm,"seagreen",Yq,.5,al,"green"],null),Fo,.5,To,60,Yo,10],null)],null)],null)],null)],null)}}
function $B(a){return Wv(T([new t(null,4,[xm,cq,ql,!0,ao,function(){return console.log("problem boss..")},Hq,function(b){b=H(UB(b));for(var c=null,d=0,e=0;;)if(e<d){var f=c.O(null,e);XB(f).bindPopup(YB(f)).bindTooltip(ZB(f)).addTo(a);e+=1}else if(b=H(b))c=b,Re(c)?(b=qd(c),d=sd(c),c=b,f=R(b),b=d,d=f):(f=J(c),XB(f).bindPopup(YB(f)).bindTooltip(ZB(f)).addTo(a),b=M(c),c=null,d=0),e=0;else return null}],null)]))}
function aC(){return function(){Pw.h(null);var a=L.map("map").setView([36.253,-5.965],17);L.tileLayer("http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",Ij(new t(null,2,[op,'\x26copy; \x3ca href\x3d"https://www.openstreetmap.org/copyright"\x3eOpenStreetMap\x3c/a\x3e contributors',Rn,19],null))).addTo(a);return $B(a)}}
function ly(){return function(){return vx(new t(null,3,[Bp,"reactive-map",zm,aC(),Do,function(){return new X(null,2,5,Y,[cm,new t(null,1,[fo,new t(null,2,[hr,"640px",Mm,"1024px"],null)],null)],null)}],null))}}function bC(){console.log("production");return ky()}ea("hirundia.core.main",bC);bC();
})();
